/*! For license information please see main.a15ae036.js.LICENSE.txt */
!function(){var e={761:function(e,t,n){"use strict";n.d(t,{kZ:function(){return y}});var r=n(5652),a=n(4801),g=n(3265),o=n(9265);var i=n(3120),l=n(7902),s=n(881),c=n(543),I=n(3676);function u(e,t,n){void 0===n&&(n=!1);var u=(0,o.Re)(t),C=(0,o.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,I.NM)(t.width)/e.offsetWidth||1,r=(0,I.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),d=(0,s.Z)(t),A=(0,r.Z)(e,C,n),h={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(u||!u&&!n)&&(("body"!==(0,i.Z)(t)||(0,c.Z)(d))&&(h=function(e){return e!==(0,g.Z)(e)&&(0,o.Re)(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:(0,a.Z)(e);var t}(t)),(0,o.Re)(t)?((m=(0,r.Z)(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):d&&(m.x=(0,l.Z)(d))),{x:A.left+h.scrollLeft-m.x,y:A.top+h.scrollTop-m.y,width:A.width,height:A.height}}var C=n(9818),d=n(7467),A=n(5411),h=n(2570);function m(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function p(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var b={placement:"bottom",modifiers:[],strategy:"absolute"};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function y(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,g=void 0===a?b:a;return function(e,t,n){void 0===n&&(n=g);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},b,g),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],l=!1,s={state:a,setOptions:function(n){var l="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},g,a.options,l),a.scrollParents={reference:(0,o.kK)(e)?(0,d.Z)(e):e.contextElement?(0,d.Z)(e.contextElement):[],popper:(0,d.Z)(t)};var I=function(e){var t=m(e);return h.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=I.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,g=e.effect;if("function"===typeof g){var o=g({state:a,name:t,instance:s,options:r}),l=function(){};i.push(o||l)}})),s.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(f(t,n)){a.rects={reference:u(t,(0,A.Z)(n),"fixed"===a.options.strategy),popper:(0,C.Z)(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var g=a.orderedModifiers[r],o=g.fn,i=g.options,c=void 0===i?{}:i,I=g.name;"function"===typeof o&&(a=o({state:a,options:c,name:I,instance:s})||a)}else a.reset=!1,r=-1}}},update:p((function(){return new Promise((function(e){s.forceUpdate(),e(a)}))})),destroy:function(){c(),l=!0}};if(!f(e,t))return s;function c(){i.forEach((function(e){return e()})),i=[]}return s.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}},1942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9265);function a(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}},5652:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9265),a=n(3676),g=n(3265),o=n(8044);function i(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),l=1,s=1;t&&(0,r.Re)(e)&&(l=e.offsetWidth>0&&(0,a.NM)(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&(0,a.NM)(i.height)/e.offsetHeight||1);var c=((0,r.kK)(e)?(0,g.Z)(e):window).visualViewport,I=!(0,o.Z)()&&n,u=(i.left+(I&&c?c.offsetLeft:0))/l,C=(i.top+(I&&c?c.offsetTop:0))/s,d=i.width/l,A=i.height/s;return{width:d,height:A,top:C,right:u+d,bottom:C+A,left:u,x:u,y:C}}},7427:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3265);function a(e){return(0,r.Z)(e).getComputedStyle(e)}},881:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9265);function a(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},9818:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5652);function a(e){var t=(0,r.Z)(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}},3120:function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:function(){return r}})},5411:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(3265),a=n(3120),g=n(7427),o=n(9265);function i(e){return["table","td","th"].indexOf((0,a.Z)(e))>=0}var l=n(8779),s=n(3118);function c(e){return(0,o.Re)(e)&&"fixed"!==(0,g.Z)(e).position?e.offsetParent:null}function I(e){for(var t=(0,r.Z)(e),n=c(e);n&&i(n)&&"static"===(0,g.Z)(n).position;)n=c(n);return n&&("html"===(0,a.Z)(n)||"body"===(0,a.Z)(n)&&"static"===(0,g.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,s.Z)());if(/Trident/i.test((0,s.Z)())&&(0,o.Re)(e)&&"fixed"===(0,g.Z)(e).position)return null;var n=(0,l.Z)(e);for((0,o.Zq)(n)&&(n=n.host);(0,o.Re)(n)&&["html","body"].indexOf((0,a.Z)(n))<0;){var r=(0,g.Z)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},8779:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3120),a=n(881),g=n(9265);function o(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,g.Zq)(e)?e.host:null)||(0,a.Z)(e)}},3265:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:function(){return r}})},4801:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3265);function a(e){var t=(0,r.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},7902:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5652),a=n(881),g=n(4801);function o(e){return(0,r.Z)((0,a.Z)(e)).left+(0,g.Z)(e).scrollLeft}},9265:function(e,t,n){"use strict";n.d(t,{Re:function(){return g},Zq:function(){return o},kK:function(){return a}});var r=n(3265);function a(e){return e instanceof(0,r.Z)(e).Element||e instanceof Element}function g(e){return e instanceof(0,r.Z)(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!==typeof ShadowRoot&&(e instanceof(0,r.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8044:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3118);function a(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},543:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7427);function a(e){var t=(0,r.Z)(e),n=t.overflow,a=t.overflowX,g=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+g+a)}},7467:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(8779),a=n(543),g=n(3120),o=n(9265);function i(e){return["html","body","#document"].indexOf((0,g.Z)(e))>=0?e.ownerDocument.body:(0,o.Re)(e)&&(0,a.Z)(e)?e:i((0,r.Z)(e))}var l=n(3265);function s(e,t){var n;void 0===t&&(t=[]);var g=i(e),o=g===(null==(n=e.ownerDocument)?void 0:n.body),c=(0,l.Z)(g),I=o?[c].concat(c.visualViewport||[],(0,a.Z)(g)?g:[]):g,u=t.concat(I);return o?u:u.concat(s((0,r.Z)(I)))}},2570:function(e,t,n){"use strict";n.d(t,{BL:function(){return s},Ct:function(){return h},F2:function(){return g},I:function(){return a},Pj:function(){return u},YP:function(){return d},bw:function(){return A},d7:function(){return i},k5:function(){return C},mv:function(){return l},t$:function(){return o},ut:function(){return c},we:function(){return r},xs:function(){return m},zV:function(){return I}});var r="top",a="bottom",g="right",o="left",i="auto",l=[r,a,g,o],s="start",c="end",I="clippingParents",u="viewport",C="popper",d="reference",A=l.reduce((function(e,t){return e.concat([t+"-"+s,t+"-"+c])}),[]),h=[].concat(l,[i]).reduce((function(e,t){return e.concat([t,t+"-"+s,t+"-"+c])}),[]),m=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},8702:function(e,t,n){"use strict";var r=n(5532),a=n(9818),g=n(1942),o=n(5411),i=n(5376),l=n(4666),s=n(1340),c=n(2031),I=n(2570);t.Z={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,g=e.name,u=e.options,C=n.elements.arrow,d=n.modifiersData.popperOffsets,A=(0,r.Z)(n.placement),h=(0,i.Z)(A),m=[I.t$,I.F2].indexOf(A)>=0?"height":"width";if(C&&d){var p=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,s.Z)("number"!==typeof e?e:(0,c.Z)(e,I.mv))}(u.padding,n),b=(0,a.Z)(C),f="y"===h?I.we:I.t$,y="y"===h?I.I:I.F2,Z=n.rects.reference[m]+n.rects.reference[h]-d[h]-n.rects.popper[m],v=d[h]-n.rects.reference[h],G=(0,o.Z)(C),B=G?"y"===h?G.clientHeight||0:G.clientWidth||0:0,S=Z/2-v/2,k=p[f],W=B-b[m]-p[y],V=B/2-b[m]/2+S,R=(0,l.u)(k,V,W),w=h;n.modifiersData[g]=((t={})[w]=R,t.centerOffset=R-V,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&(0,g.Z)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},9224:function(e,t,n){"use strict";var r=n(2570),a=n(5411),g=n(3265),o=n(881),i=n(7427),l=n(5532),s=n(5227),c=n(3676),I={top:"auto",right:"auto",bottom:"auto",left:"auto"};function u(e){var t,n=e.popper,l=e.popperRect,s=e.placement,u=e.variation,C=e.offsets,d=e.position,A=e.gpuAcceleration,h=e.adaptive,m=e.roundOffsets,p=e.isFixed,b=C.x,f=void 0===b?0:b,y=C.y,Z=void 0===y?0:y,v="function"===typeof m?m({x:f,y:Z}):{x:f,y:Z};f=v.x,Z=v.y;var G=C.hasOwnProperty("x"),B=C.hasOwnProperty("y"),S=r.t$,k=r.we,W=window;if(h){var V=(0,a.Z)(n),R="clientHeight",w="clientWidth";if(V===(0,g.Z)(n)&&(V=(0,o.Z)(n),"static"!==(0,i.Z)(V).position&&"absolute"===d&&(R="scrollHeight",w="scrollWidth")),s===r.we||(s===r.t$||s===r.F2)&&u===r.ut)k=r.I,Z-=(p&&V===W&&W.visualViewport?W.visualViewport.height:V[R])-l.height,Z*=A?1:-1;if(s===r.t$||(s===r.we||s===r.I)&&u===r.ut)S=r.F2,f-=(p&&V===W&&W.visualViewport?W.visualViewport.width:V[w])-l.width,f*=A?1:-1}var X,J=Object.assign({position:d},h&&I),Y=!0===m?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:(0,c.NM)(n*a)/a||0,y:(0,c.NM)(r*a)/a||0}}({x:f,y:Z},(0,g.Z)(n)):{x:f,y:Z};return f=Y.x,Z=Y.y,A?Object.assign({},J,((X={})[k]=B?"0":"",X[S]=G?"0":"",X.transform=(W.devicePixelRatio||1)<=1?"translate("+f+"px, "+Z+"px)":"translate3d("+f+"px, "+Z+"px, 0)",X)):Object.assign({},J,((t={})[k]=B?Z+"px":"",t[S]=G?f+"px":"",t.transform="",t))}t.Z={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,g=n.adaptive,o=void 0===g||g,i=n.roundOffsets,c=void 0===i||i,I={placement:(0,l.Z)(t.placement),variation:(0,s.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,u(Object.assign({},I,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,u(Object.assign({},I,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},1217:function(e,t,n){"use strict";var r=n(3265),a={passive:!0};t.Z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,g=e.options,o=g.scroll,i=void 0===o||o,l=g.resize,s=void 0===l||l,c=(0,r.Z)(t.elements.popper),I=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&I.forEach((function(e){e.addEventListener("scroll",n.update,a)})),s&&c.addEventListener("resize",n.update,a),function(){i&&I.forEach((function(e){e.removeEventListener("scroll",n.update,a)})),s&&c.removeEventListener("resize",n.update,a)}},data:{}}},5468:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r={left:"right",right:"left",bottom:"top",top:"bottom"};function a(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var g=n(5532),o={start:"end",end:"start"};function i(e){return e.replace(/start|end/g,(function(e){return o[e]}))}var l=n(9913),s=n(5227),c=n(2570);var I={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,I=void 0===o||o,u=n.altAxis,C=void 0===u||u,d=n.fallbackPlacements,A=n.padding,h=n.boundary,m=n.rootBoundary,p=n.altBoundary,b=n.flipVariations,f=void 0===b||b,y=n.allowedAutoPlacements,Z=t.options.placement,v=(0,g.Z)(Z),G=d||(v===Z||!f?[a(Z)]:function(e){if((0,g.Z)(e)===c.d7)return[];var t=a(e);return[i(e),t,i(t)]}(Z)),B=[Z].concat(G).reduce((function(e,n){return e.concat((0,g.Z)(n)===c.d7?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,I=n.flipVariations,u=n.allowedAutoPlacements,C=void 0===u?c.Ct:u,d=(0,s.Z)(r),A=d?I?c.bw:c.bw.filter((function(e){return(0,s.Z)(e)===d})):c.mv,h=A.filter((function(e){return C.indexOf(e)>=0}));0===h.length&&(h=A);var m=h.reduce((function(t,n){return t[n]=(0,l.Z)(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[(0,g.Z)(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:h,rootBoundary:m,padding:A,flipVariations:f,allowedAutoPlacements:y}):n)}),[]),S=t.rects.reference,k=t.rects.popper,W=new Map,V=!0,R=B[0],w=0;w<B.length;w++){var X=B[w],J=(0,g.Z)(X),Y=(0,s.Z)(X)===c.BL,x=[c.we,c.I].indexOf(J)>=0,H=x?"width":"height",N=(0,l.Z)(t,{placement:X,boundary:h,rootBoundary:m,altBoundary:p,padding:A}),F=x?Y?c.F2:c.t$:Y?c.I:c.we;S[H]>k[H]&&(F=a(F));var K=a(F),M=[];if(I&&M.push(N[J]<=0),C&&M.push(N[F]<=0,N[K]<=0),M.every((function(e){return e}))){R=X,V=!1;break}W.set(X,M)}if(V)for(var D=function(e){var t=B.find((function(t){var n=W.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},E=f?3:1;E>0;E--){if("break"===D(E))break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},1668:function(e,t,n){"use strict";var r=n(2570),a=n(9913);function g(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function o(e){return[r.we,r.F2,r.I,r.t$].some((function(t){return e[t]>=0}))}t.Z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,l=t.modifiersData.preventOverflow,s=(0,a.Z)(t,{elementContext:"reference"}),c=(0,a.Z)(t,{altBoundary:!0}),I=g(s,r),u=g(c,i,l),C=o(I),d=o(u);t.modifiersData[n]={referenceClippingOffsets:I,popperEscapeOffsets:u,isReferenceHidden:C,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":d})}}},5934:function(e,t,n){"use strict";var r=n(5532),a=n(2570);t.Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,g=e.name,o=n.offset,i=void 0===o?[0,0]:o,l=a.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var g=(0,r.Z)(e),o=[a.t$,a.we].indexOf(g)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,l=i[0],s=i[1];return l=l||0,s=(s||0)*o,[a.t$,a.F2].indexOf(g)>=0?{x:s,y:l}:{x:l,y:s}}(n,t.rects,i),e}),{}),s=l[t.placement],c=s.x,I=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=I),t.modifiersData[g]=l}}},545:function(e,t,n){"use strict";var r=n(6425);t.Z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,r.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},9790:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(2570),a=n(5532),g=n(5376);var o=n(4666),i=n(9818),l=n(5411),s=n(9913),c=n(5227),I=n(9139),u=n(3676);var C={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,C=e.name,d=n.mainAxis,A=void 0===d||d,h=n.altAxis,m=void 0!==h&&h,p=n.boundary,b=n.rootBoundary,f=n.altBoundary,y=n.padding,Z=n.tether,v=void 0===Z||Z,G=n.tetherOffset,B=void 0===G?0:G,S=(0,s.Z)(t,{boundary:p,rootBoundary:b,padding:y,altBoundary:f}),k=(0,a.Z)(t.placement),W=(0,c.Z)(t.placement),V=!W,R=(0,g.Z)(k),w="x"===R?"y":"x",X=t.modifiersData.popperOffsets,J=t.rects.reference,Y=t.rects.popper,x="function"===typeof B?B(Object.assign({},t.rects,{placement:t.placement})):B,H="number"===typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(X){if(A){var K,M="y"===R?r.we:r.t$,D="y"===R?r.I:r.F2,E="y"===R?"height":"width",z=X[R],T=z+S[M],L=z-S[D],U=v?-Y[E]/2:0,j=W===r.BL?J[E]:Y[E],Q=W===r.BL?-Y[E]:-J[E],_=t.elements.arrow,O=v&&_?(0,i.Z)(_):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,I.Z)(),q=P[M],$=P[D],ee=(0,o.u)(0,J[E],O[E]),te=V?J[E]/2-U-ee-q-H.mainAxis:j-ee-q-H.mainAxis,ne=V?-J[E]/2+U+ee+$+H.mainAxis:Q+ee+$+H.mainAxis,re=t.elements.arrow&&(0,l.Z)(t.elements.arrow),ae=re?"y"===R?re.clientTop||0:re.clientLeft||0:0,ge=null!=(K=null==N?void 0:N[R])?K:0,oe=z+te-ge-ae,ie=z+ne-ge,le=(0,o.u)(v?(0,u.VV)(T,oe):T,z,v?(0,u.Fp)(L,ie):L);X[R]=le,F[R]=le-z}if(m){var se,ce="x"===R?r.we:r.t$,Ie="x"===R?r.I:r.F2,ue=X[w],Ce="y"===w?"height":"width",de=ue+S[ce],Ae=ue-S[Ie],he=-1!==[r.we,r.t$].indexOf(k),me=null!=(se=null==N?void 0:N[w])?se:0,pe=he?de:ue-J[Ce]-Y[Ce]-me+H.altAxis,be=he?ue+J[Ce]+Y[Ce]-me-H.altAxis:Ae,fe=v&&he?(0,o.q)(pe,ue,be):(0,o.u)(v?pe:de,ue,v?be:Ae);X[w]=fe,F[w]=fe-ue}t.modifiersData[C]=F}},requiresIfExists:["offset"]}},6425:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5532),a=n(5227),g=n(5376),o=n(2570);function i(e){var t,n=e.reference,i=e.element,l=e.placement,s=l?(0,r.Z)(l):null,c=l?(0,a.Z)(l):null,I=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2;switch(s){case o.we:t={x:I,y:n.y-i.height};break;case o.I:t={x:I,y:n.y+n.height};break;case o.F2:t={x:n.x+n.width,y:u};break;case o.t$:t={x:n.x-i.width,y:u};break;default:t={x:n.x,y:n.y}}var C=s?(0,g.Z)(s):null;if(null!=C){var d="y"===C?"height":"width";switch(c){case o.BL:t[C]=t[C]-(n[d]/2-i[d]/2);break;case o.ut:t[C]=t[C]+(n[d]/2-i[d]/2)}}return t}},9913:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(2570),a=n(3265),g=n(881),o=n(7902),i=n(8044);var l=n(7427),s=n(4801),c=n(3676);var I=n(7467),u=n(5411),C=n(9265),d=n(5652),A=n(8779),h=n(1942),m=n(3120);function p(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b(e,t,n){return t===r.Pj?p(function(e,t){var n=(0,a.Z)(e),r=(0,g.Z)(e),l=n.visualViewport,s=r.clientWidth,c=r.clientHeight,I=0,u=0;if(l){s=l.width,c=l.height;var C=(0,i.Z)();(C||!C&&"fixed"===t)&&(I=l.offsetLeft,u=l.offsetTop)}return{width:s,height:c,x:I+(0,o.Z)(e),y:u}}(e,n)):(0,C.kK)(t)?function(e,t){var n=(0,d.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):p(function(e){var t,n=(0,g.Z)(e),r=(0,s.Z)(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=(0,c.Fp)(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),I=(0,c.Fp)(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+(0,o.Z)(e),C=-r.scrollTop;return"rtl"===(0,l.Z)(a||n).direction&&(u+=(0,c.Fp)(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:I,x:u,y:C}}((0,g.Z)(e)))}function f(e,t,n,r){var a="clippingParents"===t?function(e){var t=(0,I.Z)((0,A.Z)(e)),n=["absolute","fixed"].indexOf((0,l.Z)(e).position)>=0&&(0,C.Re)(e)?(0,u.Z)(e):e;return(0,C.kK)(n)?t.filter((function(e){return(0,C.kK)(e)&&(0,h.Z)(e,n)&&"body"!==(0,m.Z)(e)})):[]}(e):[].concat(t),g=[].concat(a,[n]),o=g[0],i=g.reduce((function(t,n){var a=b(e,n,r);return t.top=(0,c.Fp)(a.top,t.top),t.right=(0,c.VV)(a.right,t.right),t.bottom=(0,c.VV)(a.bottom,t.bottom),t.left=(0,c.Fp)(a.left,t.left),t}),b(e,o,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var y=n(6425),Z=n(1340),v=n(2031);function G(e,t){void 0===t&&(t={});var n=t,a=n.placement,o=void 0===a?e.placement:a,i=n.strategy,l=void 0===i?e.strategy:i,s=n.boundary,c=void 0===s?r.zV:s,I=n.rootBoundary,u=void 0===I?r.Pj:I,A=n.elementContext,h=void 0===A?r.k5:A,m=n.altBoundary,b=void 0!==m&&m,G=n.padding,B=void 0===G?0:G,S=(0,Z.Z)("number"!==typeof B?B:(0,v.Z)(B,r.mv)),k=h===r.k5?r.YP:r.k5,W=e.rects.popper,V=e.elements[b?k:h],R=f((0,C.kK)(V)?V:V.contextElement||(0,g.Z)(e.elements.popper),c,u,l),w=(0,d.Z)(e.elements.reference),X=(0,y.Z)({reference:w,element:W,strategy:"absolute",placement:o}),J=p(Object.assign({},W,X)),Y=h===r.k5?J:w,x={top:R.top-Y.top+S.top,bottom:Y.bottom-R.bottom+S.bottom,left:R.left-Y.left+S.left,right:Y.right-R.right+S.right},H=e.modifiersData.offset;if(h===r.k5&&H){var N=H[o];Object.keys(x).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";x[e]+=N[n]*t}))}return x}},2031:function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:function(){return r}})},5532:function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:function(){return r}})},5376:function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:function(){return r}})},5227:function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,{Z:function(){return r}})},3676:function(e,t,n){"use strict";n.d(t,{Fp:function(){return r},NM:function(){return g},VV:function(){return a}});var r=Math.max,a=Math.min,g=Math.round},1340:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9139);function a(e){return Object.assign({},(0,r.Z)(),e)}},3118:function(e,t,n){"use strict";function r(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:function(){return r}})},4666:function(e,t,n){"use strict";n.d(t,{q:function(){return g},u:function(){return a}});var r=n(3676);function a(e,t,n){return(0,r.Fp)(e,(0,r.VV)(t,n))}function g(e,t,n){var r=a(e,t,n);return r>n?n:r}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var g=typeof n;if("string"===g||"number"===g)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===g){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},4468:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a=function(e,t,n){var a,g=r[e];return a="string"===typeof g?g:1===t?g.one:g.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},g=n(6840),o={date:(0,g.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,g.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,g.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l=function(e,t,n,r){return i[e]},s=n(7325),c={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,s.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,s.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,s.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,s.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,s.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},I=n(6884),u={code:"en-US",formatDistance:a,formatLong:o,formatRelative:l,localize:c,match:{ordinalNumber:(0,n(586).Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,I.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,I.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,I.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,I.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,I.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},4408:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r={};function a(){return r}},3462:function(e,t){"use strict";var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a={p:r,P:function(e,t){var a,g=e.match(/(P+)(p+)?/)||[],o=g[1],i=g[2];if(!i)return n(e,t);switch(o){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",n(o,t)).replace("{{time}}",r(i,t))}};t.Z=a},4697:function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return r}})},5611:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(8527),a=n(4522),g=n(9853);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var i=(0,g.Z)(o),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var s=(0,g.Z)(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}},9153:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(8527),a=n(9853),g=n(5611),o=n(4522);var i=6048e5;function l(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=(0,a.Z)(t).getTime()-function(e){(0,o.Z)(1,arguments);var t=(0,g.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.Z)(n)}(t).getTime();return Math.round(n/i)+1}},9726:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(8527),a=n(4522),g=n(1230),o=n(9297),i=n(4408);function l(e,t){var n,l,s,c,I,u,C,d;(0,a.Z)(1,arguments);var A=(0,r.default)(e),h=A.getUTCFullYear(),m=(0,i.j)(),p=(0,o.Z)(null!==(n=null!==(l=null!==(s=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(I=t.locale)||void 0===I||null===(u=I.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:m.firstWeekContainsDate)&&void 0!==l?l:null===(C=m.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,p),b.setUTCHours(0,0,0,0);var f=(0,g.Z)(b,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var Z=(0,g.Z)(y,t);return A.getTime()>=f.getTime()?h+1:A.getTime()>=Z.getTime()?h:h-1}},9934:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(8527),a=n(1230),g=n(9726),o=n(4522),i=n(9297),l=n(4408);var s=6048e5;function c(e,t){(0,o.Z)(1,arguments);var n=(0,r.default)(e),c=(0,a.Z)(n,t).getTime()-function(e,t){var n,r,s,c,I,u,C,d;(0,o.Z)(1,arguments);var A=(0,l.j)(),h=(0,i.Z)(null!==(n=null!==(r=null!==(s=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(I=t.locale)||void 0===I||null===(u=I.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:A.firstWeekContainsDate)&&void 0!==r?r:null===(C=A.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),m=(0,g.Z)(e,t),p=new Date(0);return p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0),(0,a.Z)(p,t)}(n,t).getTime();return Math.round(c/s)+1}},8552:function(e,t,n){"use strict";n.d(t,{Do:function(){return o},Iu:function(){return g},qp:function(){return i}});var r=["D","DD"],a=["YY","YYYY"];function g(e){return-1!==r.indexOf(e)}function o(e){return-1!==a.indexOf(e)}function i(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},4522:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},9853:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getUTCDay(),g=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-g),t.setUTCHours(0,0,0,0),t}},1230:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8527),a=n(4522),g=n(9297),o=n(4408);function i(e,t){var n,i,l,s,c,I,u,C;(0,a.Z)(1,arguments);var d=(0,o.j)(),A=(0,g.Z)(null!==(n=null!==(i=null!==(l=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(I=c.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,r.default)(e),m=h.getUTCDay(),p=(m<A?7:0)+m-A;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}},9297:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},9040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}},2074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(4377),g=n(4522),o=36e5;function i(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.Z)(e,n*o)}},4377:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e).getTime(),o=(0,r.Z)(t);return new Date(n+o)}},1518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(4377),g=n(4522),o=6e4;function i(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.Z)(e,n*o)}},1104:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var i=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+o+1,0),i>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}},6689:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(1104),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=3*(0,r.Z)(t);return(0,a.default)(e,n)}},20:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(9040),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=7*(0,r.Z)(t);return(0,a.default)(e,n)}},5105:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(1104),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,12*n)}},2729:function(e,t,n){"use strict";n.d(t,{qk:function(){return g},vh:function(){return a},yJ:function(){return r}});Math.pow(10,8);var r=6e4,a=36e5,g=1e3},9759:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(4697),a=n(8347),g=n(4522),o=864e5;function i(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),i=(0,a.default)(t),l=n.getTime()-(0,r.Z)(n),s=i.getTime()-(0,r.Z)(i);return Math.round((l-s)/o)}},5951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return 12*(n.getFullYear()-g.getFullYear())+(n.getMonth()-g.getMonth())}},7415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getFullYear()-g.getFullYear()}},786:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},4888:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},4565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(4408),a=n(8527),g=n(9297),o=n(4522);function i(e,t){var n,i,l,s,c,I,u,C;(0,o.Z)(1,arguments);var d=(0,r.j)(),A=(0,g.Z)(null!==(n=null!==(i=null!==(l=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(I=c.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,a.default)(e),m=h.getDay(),p=6+(m<A?-7:0)-(m-A);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}},4675:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},1951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(9314),a=n(1633),g=n(8527),o=n(4522);var i=n(9153),l=n(5611),s=n(9934),c=n(9726);function I(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var u={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return I("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):I(n+1,2)},d:function(e,t){return I(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return I(e.getUTCHours()%12||12,t.length)},H:function(e,t){return I(e.getUTCHours(),t.length)},m:function(e,t){return I(e.getUTCMinutes(),t.length)},s:function(e,t){return I(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return I(Math.floor(r*Math.pow(10,n-3)),t.length)}},C="midnight",d="noon",A="morning",h="afternoon",m="evening",p="night",b={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return u.y(e,t)},Y:function(e,t,n,r){var a=(0,c.Z)(e,r),g=a>0?a:1-a;return"YY"===t?I(g%100,2):"Yo"===t?n.ordinalNumber(g,{unit:"year"}):I(g,t.length)},R:function(e,t){return I((0,l.Z)(e),t.length)},u:function(e,t){return I(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return I(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return I(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return I(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=(0,s.Z)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):I(a,t.length)},I:function(e,t,n){var r=(0,i.Z)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):I(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.d(e,t)},D:function(e,t,n){var r=function(e){(0,o.Z)(1,arguments);var t=(0,g.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):I(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),g=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(g);case"ee":return I(g,2);case"eo":return n.ordinalNumber(g,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),g=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(g);case"cc":return I(g,t.length);case"co":return n.ordinalNumber(g,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return I(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?d:0===a?C:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?m:a>=12?h:a>=4?A:p,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):I(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):I(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.s(e,t)},S:function(e,t){return u.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return y(a);case"XXXX":case"XX":return Z(a);default:return Z(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return y(a);case"xxxx":case"xx":return Z(a);default:return Z(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+f(a,":");default:return"GMT"+Z(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+f(a,":");default:return"GMT"+Z(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return I(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return I((r._originalDate||e).getTime(),t.length)}};function f(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),g=r%60;if(0===g)return n+String(a);var o=t||"";return n+String(a)+o+I(g,2)}function y(e,t){return e%60===0?(e>0?"-":"+")+I(Math.abs(e)/60,2):Z(e,t)}function Z(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+I(Math.floor(a/60),2)+n+I(a%60,2)}var v=b,G=n(3462),B=n(4697),S=n(8552),k=n(9297),W=n(4408),V=n(4468),R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X=/^'([^]*?)'?$/,J=/''/g,Y=/[a-zA-Z]/;function x(e,t,n){var i,l,s,c,I,u,C,d,A,h,m,p,b,f,y,Z,x,H;(0,o.Z)(2,arguments);var N=String(t),F=(0,W.j)(),K=null!==(i=null!==(l=null===n||void 0===n?void 0:n.locale)&&void 0!==l?l:F.locale)&&void 0!==i?i:V.Z,M=(0,k.Z)(null!==(s=null!==(c=null!==(I=null!==(u=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==u?u:null===n||void 0===n||null===(C=n.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==I?I:F.firstWeekContainsDate)&&void 0!==c?c:null===(A=F.locale)||void 0===A||null===(h=A.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==s?s:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=(0,k.Z)(null!==(m=null!==(p=null!==(b=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(Z=y.options)||void 0===Z?void 0:Z.weekStartsOn)&&void 0!==b?b:F.weekStartsOn)&&void 0!==p?p:null===(x=F.locale)||void 0===x||null===(H=x.options)||void 0===H?void 0:H.weekStartsOn)&&void 0!==m?m:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!K.localize)throw new RangeError("locale must contain localize property");if(!K.formatLong)throw new RangeError("locale must contain formatLong property");var E=(0,g.default)(e);if(!(0,r.default)(E))throw new RangeError("Invalid time value");var z=(0,B.Z)(E),T=(0,a.Z)(E,z),L={firstWeekContainsDate:M,weekStartsOn:D,locale:K,_originalDate:E};return N.match(w).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,G.Z[t])(e,K.formatLong):e})).join("").match(R).map((function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return function(e){var t=e.match(X);if(!t)return e;return t[1].replace(J,"'")}(r);var g=v[a];if(g)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,S.Do)(r)||(0,S.qp)(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,S.Iu)(r)||(0,S.qp)(r,t,String(e)),g(T,r,K.localize,L);if(a.match(Y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r})).join("")}},6114:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getDate()}},467:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getDay()}},1537:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getHours()}},6975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(8527),a=n(9254),g=n(4522);function o(e){return(0,g.Z)(1,arguments),(0,a.default)(e,{weekStartsOn:1})}function i(e){(0,g.Z)(1,arguments);var t=function(e){(0,g.Z)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var i=o(a),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var s=o(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}var l=6048e5;function s(e){(0,g.Z)(1,arguments);var t=(0,r.default)(e),n=o(t).getTime()-i(t).getTime();return Math.round(n/l)+1}},4424:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getMinutes()}},3747:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getMonth()}},639:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return Math.floor(t.getMonth()/3)+1}},2295:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getSeconds()}},4460:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getTime()}},2599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getFullYear()}},9420:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getTime()>g.getTime()}},9579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getTime()<g.getTime()}},6971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(1002),a=n(4522);function g(e){return(0,a.Z)(1,arguments),e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===Object.prototype.toString.call(e)}},7508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getTime()===g.getTime()}},4690:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8347),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getTime()===g.getTime()}},5375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getFullYear()===g.getFullYear()&&n.getMonth()===g.getMonth()}},4845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(3006),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getTime()===g.getTime()}},1750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),g=(0,r.default)(t);return n.getFullYear()===g.getFullYear()}},9314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(6971),a=n(8527),g=n(4522);function o(e){if((0,g.Z)(1,arguments),!(0,r.default)(e)&&"number"!==typeof e)return!1;var t=(0,a.default)(e);return!isNaN(Number(t))}},7262:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e).getTime(),g=(0,r.default)(t.start).getTime(),o=(0,r.default)(t.end).getTime();if(!(g<=o))throw new RangeError("Invalid interval");return n>=g&&n<=o}},6840:function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}n.d(t,{Z:function(){return r}})},7325:function(e,t,n){"use strict";function r(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,g=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[g]||e.formattingValues[a]}else{var o=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:function(){return r}})},6884:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],g=t.match(a);if(!g)return null;var o,i=g[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(i)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(i)}));return o=e.valueCallback?e.valueCallback(s):s,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(i.length)}}}n.d(t,{Z:function(){return r}})},586:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],g=t.match(e.parsePattern);if(!g)return null;var o=e.valueCallback?e.valueCallback(g[0]):g[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}n.d(t,{Z:function(){return r}})},9333:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(1002),a=n(8527),g=n(4522);function o(e){var t,n;if((0,g.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,r.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,a.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},1056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(1002),a=n(8527),g=n(4522);function o(e){var t,n;if((0,g.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,r.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,a.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},9831:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(2729),a=n(4522),g=n(9297);function o(e,t){var n;(0,a.Z)(1,arguments);var o=(0,g.Z)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var A,h=function(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=i.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}(e);if(h.date){var m=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,g=r[2]?parseInt(r[2]):null;return{year:null===g?a:100*g,restDateString:e.slice((r[1]||r[2]).length)}}(h.date,o);A=function(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var r=!!n[4],a=I(n[1]),g=I(n[2])-1,o=I(n[3]),i=I(n[4]),s=I(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,s)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,g=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+g),r}(t,i,s):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(C[t]||(d(e)?29:28))}(t,g,o)&&function(e,t){return t>=1&&t<=(d(e)?366:365)}(t,a)?(c.setUTCFullYear(t,g,Math.max(a,o)),c):new Date(NaN)}(m.restDateString,m.year)}if(!A||isNaN(A.getTime()))return new Date(NaN);var p,b=A.getTime(),f=0;if(h.time&&(f=function(e){var t=e.match(s);if(!t)return NaN;var n=u(t[1]),a=u(t[2]),g=u(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,g))return NaN;return n*r.vh+a*r.yJ+1e3*g}(h.time),isNaN(f)))return new Date(NaN);if(!h.timezone){var y=new Date(b+f),Z=new Date(0);return Z.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),Z.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),Z}return p=function(e){if("Z"===e)return 0;var t=e.match(c);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),g=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,g))return NaN;return n*(a*r.vh+g*r.yJ)}(h.timezone),isNaN(p)?new Date(NaN):new Date(b+f+p)}var i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I(e){return e?parseInt(e):1}function u(e){return e&&parseFloat(e.replace(",","."))||0}var C=[31,null,31,30,31,30,31,31,30,31,30,31];function d(e){return e%400===0||e%4===0&&e%100!==0}},3216:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pe}});var r=n(1002),a=n(7762),g=n(4468),o=n(1633),i=n(8527);function l(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var s=n(3462),c=n(4697),I=n(8552),u=n(9297),C=n(4522),d=n(7326),A=n(136),h=n(7277),m=n(5671),p=n(3144),b=n(4942),f=function(){function e(){(0,m.Z)(this,e),(0,b.Z)(this,"priority",void 0),(0,b.Z)(this,"subPriority",0)}return(0,p.Z)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),y=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(e,r,a,g,o){var i;return(0,m.Z)(this,n),(i=t.call(this)).value=e,i.validateValue=r,i.setValue=a,i.priority=g,o&&(i.subPriority=o),i}return(0,p.Z)(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(f),Z=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",10),(0,b.Z)((0,d.Z)(e),"subPriority",-1),e}return(0,p.Z)(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(f),v=function(){function e(){(0,m.Z)(this,e),(0,b.Z)(this,"incompatibleTokens",void 0),(0,b.Z)(this,"priority",void 0),(0,b.Z)(this,"subPriority",void 0)}return(0,p.Z)(e,[{key:"run",value:function(e,t,n,r){var a=this.parse(e,t,n,r);return a?{setter:new y(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),G=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",140),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["R","u","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(v),B=n(2729),S=/^(1[0-2]|0?\d)/,k=/^(3[0-1]|[0-2]?\d)/,W=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,V=/^(5[0-3]|[0-4]?\d)/,R=/^(2[0-3]|[0-1]?\d)/,w=/^(2[0-4]|[0-1]?\d)/,X=/^(1[0-1]|0?\d)/,J=/^(1[0-2]|0?\d)/,Y=/^[0-5]?\d/,x=/^[0-5]?\d/,H=/^\d/,N=/^\d{1,2}/,F=/^\d{1,3}/,K=/^\d{1,4}/,M=/^-?\d+/,D=/^-?\d/,E=/^-?\d{1,2}/,z=/^-?\d{1,3}/,T=/^-?\d{1,4}/,L=/^([+-])(\d{2})(\d{2})?|Z/,U=/^([+-])(\d{2})(\d{2})|Z/,j=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Q=/^([+-])(\d{2}):(\d{2})|Z/,_=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function O(e,t){return e?{value:t(e.value),rest:e.rest}:e}function P(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function q(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,g=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(a*B.vh+g*B.yJ+o*B.qk),rest:t.slice(n[0].length)}}function $(e){return P(M,e)}function ee(e,t){switch(e){case 1:return P(H,t);case 2:return P(N,t);case 3:return P(F,t);case 4:return P(K,t);default:return P(new RegExp("^\\d{1,"+e+"}"),t)}}function te(e,t){switch(e){case 1:return P(D,t);case 2:return P(E,t);case 3:return P(z,t);case 4:return P(T,t);default:return P(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ne(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function re(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var g=a+50;n=e+100*Math.floor(g/100)-(e>=g%100?100:0)}return r?n:1-n}function ae(e){return e%400===0||e%4===0&&e%100!==0}var ge=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",130),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return O(ee(4,e),r);case"yo":return O(n.ordinalNumber(e,{unit:"year"}),r);default:return O(ee(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var a=re(n.year,r);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var g="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(g,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(v),oe=n(9726),ie=n(1230),le=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",130),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return O(ee(4,e),r);case"Yo":return O(n.ordinalNumber(e,{unit:"year"}),r);default:return O(ee(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var a=(0,oe.Z)(e,r);if(n.isTwoDigitYear){var g=re(n.year,a);return e.setUTCFullYear(g,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ie.Z)(e,r)}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ie.Z)(e,r)}}]),n}(v),se=n(9853),ce=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",130),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t){return te("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,se.Z)(r)}}]),n}(v),Ie=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",130),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t){return te("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(v),ue=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",120),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ee(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(v),Ce=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",120),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ee(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(v),de=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,b.Z)((0,d.Z)(e),"priority",110),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return O(P(S,e),r);case"MM":return O(ee(2,e),r);case"Mo":return O(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(v),Ae=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",110),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return O(P(S,e),r);case"LL":return O(ee(2,e),r);case"Lo":return O(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(v),he=n(9934);var me=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",100),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return P(V,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,ie.Z)(function(e,t,n){(0,C.Z)(2,arguments);var r=(0,i.default)(e),a=(0,u.Z)(t),g=(0,he.Z)(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*g),r}(e,n,r),r)}}]),n}(v),pe=n(9153);var be=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",100),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return P(V,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,se.Z)(function(e,t){(0,C.Z)(2,arguments);var n=(0,i.default)(e),r=(0,u.Z)(t),a=(0,pe.Z)(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,n))}}]),n}(v),fe=[31,28,31,30,31,30,31,31,30,31,30,31],ye=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"subPriority",1),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return P(k,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){var n=ae(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=ye[r]:t>=1&&t<=fe[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(v),ve=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"subpriority",1),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return P(W,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return ae(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(v),Ge=n(4408);function Be(e,t,n){var r,a,g,o,l,s,c,I;(0,C.Z)(2,arguments);var d=(0,Ge.j)(),A=(0,u.Z)(null!==(r=null!==(a=null!==(g=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(l=n.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==g?g:d.weekStartsOn)&&void 0!==a?a:null===(c=d.locale)||void 0===c||null===(I=c.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==r?r:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,i.default)(e),m=(0,u.Z)(t),p=((m%7+7)%7<A?7:0)+m-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+p),h}var Se=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Be(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(v),ke=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return O(ee(t.length,e),a);case"eo":return O(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Be(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(v),We=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return O(ee(t.length,e),a);case"co":return O(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Be(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(v);var Ve=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",90),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ee(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return O(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return O(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return O(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return O(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,C.Z)(2,arguments);var n=(0,u.Z)(t);n%7===0&&(n-=7);var r=(0,i.default)(e),a=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+a),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(v),Re=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",80),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(v),we=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",80),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(v),Xe=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",80),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["a","b","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(v),Je=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",70),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return P(J,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(v),Ye=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",70),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return P(R,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(v),xe=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",70),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return P(X,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(v),He=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",70),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return P(w,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(v),Ne=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",60),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return P(Y,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(v),Fe=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",50),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return P(x,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(v),Ke=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",30),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t){return O(ee(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(v),Me=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",10),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["t","T","x"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return q(L,e);case"XX":return q(U,e);case"XXXX":return q(j,e);case"XXXXX":return q(_,e);default:return q(Q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(v),De=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",10),(0,b.Z)((0,d.Z)(e),"incompatibleTokens",["t","T","X"]),e}return(0,p.Z)(n,[{key:"parse",value:function(e,t){switch(t){case"x":return q(L,e);case"xx":return q(U,e);case"xxxx":return q(j,e);case"xxxxx":return q(_,e);default:return q(Q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(v),Ee=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",40),(0,b.Z)((0,d.Z)(e),"incompatibleTokens","*"),e}return(0,p.Z)(n,[{key:"parse",value:function(e){return $(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(v),ze=function(e){(0,A.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return e=t.call.apply(t,[this].concat(a)),(0,b.Z)((0,d.Z)(e),"priority",20),(0,b.Z)((0,d.Z)(e),"incompatibleTokens","*"),e}return(0,p.Z)(n,[{key:"parse",value:function(e){return $(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(v),Te={G:new G,y:new ge,Y:new le,R:new ce,u:new Ie,Q:new ue,q:new Ce,M:new de,L:new Ae,w:new me,I:new be,d:new Ze,D:new ve,E:new Se,e:new ke,c:new We,i:new Ve,a:new Re,b:new we,B:new Xe,h:new Je,H:new Ye,K:new xe,k:new He,m:new Ne,s:new Fe,S:new Ke,X:new Me,x:new De,t:new Ee,T:new ze},Le=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,je=/^'([^]*?)'?$/,Qe=/''/g,_e=/\S/,Oe=/[a-zA-Z]/;function Pe(e,t,n,d){var A,h,m,p,b,f,y,v,G,B,S,k,W,V,R,w,X,J;(0,C.Z)(3,arguments);var Y=String(e),x=String(t),H=(0,Ge.j)(),N=null!==(A=null!==(h=null===d||void 0===d?void 0:d.locale)&&void 0!==h?h:H.locale)&&void 0!==A?A:g.Z;if(!N.match)throw new RangeError("locale must contain match property");var F=(0,u.Z)(null!==(m=null!==(p=null!==(b=null!==(f=null===d||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==f?f:null===d||void 0===d||null===(y=d.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==b?b:H.firstWeekContainsDate)&&void 0!==p?p:null===(G=H.locale)||void 0===G||null===(B=G.options)||void 0===B?void 0:B.firstWeekContainsDate)&&void 0!==m?m:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=(0,u.Z)(null!==(S=null!==(k=null!==(W=null!==(V=null===d||void 0===d?void 0:d.weekStartsOn)&&void 0!==V?V:null===d||void 0===d||null===(R=d.locale)||void 0===R||null===(w=R.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==W?W:H.weekStartsOn)&&void 0!==k?k:null===(X=H.locale)||void 0===X||null===(J=X.options)||void 0===J?void 0:J.weekStartsOn)&&void 0!==S?S:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===x)return""===Y?(0,i.default)(n):new Date(NaN);var M,D={firstWeekContainsDate:F,weekStartsOn:K,locale:N},E=[new Z],z=x.match(Ue).map((function(e){var t=e[0];return t in s.Z?(0,s.Z[t])(e,N.formatLong):e})).join("").match(Le),T=[],L=(0,a.Z)(z);try{var U=function(){var t=M.value;null!==d&&void 0!==d&&d.useAdditionalWeekYearTokens||!(0,I.Do)(t)||(0,I.qp)(t,x,e),null!==d&&void 0!==d&&d.useAdditionalDayOfYearTokens||!(0,I.Iu)(t)||(0,I.qp)(t,x,e);var n=t[0],r=Te[n];if(r){var a=r.incompatibleTokens;if(Array.isArray(a)){var g=T.find((function(e){return a.includes(e.token)||e.token===n}));if(g)throw new RangeError("The format string mustn't contain `".concat(g.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&T.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));T.push({token:n,fullToken:t});var o=r.run(Y,t,N.match,D);if(!o)return{v:new Date(NaN)};E.push(o.setter),Y=o.rest}else{if(n.match(Oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(je)[1].replace(Qe,"'")),0!==Y.indexOf(t))return{v:new Date(NaN)};Y=Y.slice(t.length)}};for(L.s();!(M=L.n()).done;){var j=U();if("object"===(0,r.Z)(j))return j.v}}catch(ne){L.e(ne)}finally{L.f()}if(Y.length>0&&_e.test(Y))return new Date(NaN);var Q=E.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return E.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),_=(0,i.default)(n);if(isNaN(_.getTime()))return new Date(NaN);var O,P=(0,o.Z)(_,(0,c.Z)(_)),q={},$=(0,a.Z)(Q);try{for($.s();!(O=$.n()).done;){var ee=O.value;if(!ee.validate(P,D))return new Date(NaN);var te=ee.set(P,q,D);Array.isArray(te)?(P=te[0],l(q,te[1])):P=te}}catch(ne){$.e(ne)}finally{$.f()}return P}},2618:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);return n.setHours(o),n}},7227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);return n.setMinutes(o),n}},2363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t),i=n.getFullYear(),l=n.getDate(),s=new Date(0);s.setFullYear(i,o,15),s.setHours(0,0,0,0);var c=function(e){(0,g.Z)(1,arguments);var t=(0,a.default)(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}(s);return n.setMonth(o,Math.min(l,c)),n}},5765:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(8527),g=n(2363),o=n(4522);function i(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),i=(0,r.Z)(t)-(Math.floor(n.getMonth()/3)+1);return(0,g.default)(n,n.getMonth()+3*i)}},9292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);return n.setSeconds(o),n}},5617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(8527),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),o=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(o),n)}},7152:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(1002),a=n(8527),g=n(2363),o=n(9297),i=n(4522);function l(e,t){if((0,i.Z)(2,arguments),"object"!==(0,r.Z)(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,a.default)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,g.default)(n,t.month)),null!=t.date&&n.setDate((0,o.Z)(t.date)),null!=t.hours&&n.setHours((0,o.Z)(t.hours)),null!=t.minutes&&n.setMinutes((0,o.Z)(t.minutes)),null!=t.seconds&&n.setSeconds((0,o.Z)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,o.Z)(t.milliseconds)),n)}},8347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},5719:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},3006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),g=n-n%3;return t.setMonth(g,1),t.setHours(0,0,0,0),t}},9254:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(8527),a=n(9297),g=n(4522),o=n(4408);function i(e,t){var n,i,l,s,c,I,u,C;(0,g.Z)(1,arguments);var d=(0,o.j)(),A=(0,a.Z)(null!==(n=null!==(i=null!==(l=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(I=c.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,r.default)(e),m=h.getDay(),p=(m<A?7:0)+m-A;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}},7235:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},6753:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9040),a=n(4522),g=n(9297);function o(e,t){(0,a.Z)(2,arguments);var n=(0,g.Z)(t);return(0,r.default)(e,-n)}},1633:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4377),a=n(4522),g=n(9297);function o(e,t){(0,a.Z)(2,arguments);var n=(0,g.Z)(t);return(0,r.Z)(e,-n)}},8030:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(1104),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},6794:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(6689),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},7503:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(20),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},7602:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9297),a=n(5105),g=n(4522);function o(e,t){(0,g.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},8527:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(1002),a=n(4522);function g(e){(0,a.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},2176:function(e){"use strict";e.exports=function(e,t,n,r,a,g,o,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,a,g,o,i],c=0;(l=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},2095:function(e){e.exports=function(e,t,n,r){var a=-1,g=null==e?0:e.length;for(r&&g&&(n=e[++a]);++a<g;)n=t(n,e[a],a,e);return n}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},9066:function(e,t,n){var r=n(7197),a=n(1587),g=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):g(e)}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},7255:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,g){for(var o=-1,i=n(t((r-e)/(a||1)),0),l=Array(i);i--;)l[g?i:++o]=e,e+=a;return l}},2446:function(e,t,n){var r=n(7197),a=n(8950),g=n(3629),o=n(152),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(g(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7810:function(e,t,n){var r=n(2095),a=n(4857),g=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(g(a(t).replace(o,"")),e,"")}}},6381:function(e,t,n){var r=n(7255),a=n(3195),g=n(1495);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=g(t),void 0===n?(n=t,t=0):n=g(n),o=void 0===o?t<n?1:-1:g(o),r(t,n,o,e)}}},2658:function(e,t,n){var r=n(7009),a=n(9753),g=n(2582),o=n(3518),i=r.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=g(e),(n=null==n?0:l(a(n),292))&&i(e)){var r=(o(e)+"e").split("e"),s=t(r[0]+"e"+(+r[1]+n));return+((r=(o(s)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1587:function(e,t,n){var r=n(7197),a=Object.prototype,g=a.hasOwnProperty,o=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=g.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[i]=n:delete e[i]),a}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),a=n(1473),g=n(6800),o=n(8092);e.exports=function(e,t,n){if(!o(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&g(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var r=n(1032),a="object"==typeof self&&self&&self.Object===Object&&self,g=r||a||Function("return this")();e.exports=g},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1029:function(e){var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",a="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+g+"]",i="\\d+",l="["+n+"]",s="["+r+"]",c="[^"+t+g+i+n+r+a+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",C="["+a+"]",d="(?:"+s+"|"+c+")",A="(?:"+C+"|"+c+")",h="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",m="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",f=b+p+("(?:\\u200d(?:"+["[^"+t+"]",I,u].join("|")+")"+b+p+")*"),y="(?:"+[l,I,u].join("|")+")"+f,Z=RegExp([C+"?"+s+"+"+h+"(?="+[o,C,"$"].join("|")+")",A+"+"+m+"(?="+[o,C+d,"$"].join("|")+")",C+"?"+d+"+"+h,C+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,y].join("|"),"g");e.exports=function(e){return e.match(Z)||[]}},4857:function(e,t,n){var r=n(5868),a=n(3518),g=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(g,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),a=n(4635);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},4786:function(e,t,n){var r=n(9066),a=n(8092);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),a=n(3141);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var a,g="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",l=16,s=32,c=64,I=128,u=256,C=1/0,d=9007199254740991,A=NaN,h=4294967295,m=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",s],["partialRight",c],["rearg",u]],p="[object Arguments]",b="[object Array]",f="[object Boolean]",y="[object Date]",Z="[object Error]",v="[object Function]",G="[object GeneratorFunction]",B="[object Map]",S="[object Number]",k="[object Object]",W="[object Promise]",V="[object RegExp]",R="[object Set]",w="[object String]",X="[object Symbol]",J="[object WeakMap]",Y="[object ArrayBuffer]",x="[object DataView]",H="[object Float32Array]",N="[object Float64Array]",F="[object Int8Array]",K="[object Int16Array]",M="[object Int32Array]",D="[object Uint8Array]",E="[object Uint8ClampedArray]",z="[object Uint16Array]",T="[object Uint32Array]",L=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,_=/[&<>"']/g,O=RegExp(Q.source),P=RegExp(_.source),q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,ge=RegExp(ae.source),oe=/^\s+/,ie=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,Ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,Ce=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,fe=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Ge="\\ud800-\\udfff",Be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",We="A-Z\\xc0-\\xd6\\xd8-\\xde",Ve="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",we="['\u2019]",Xe="["+Ge+"]",Je="["+Re+"]",Ye="["+Be+"]",xe="\\d+",He="["+Se+"]",Ne="["+ke+"]",Fe="[^"+Ge+Re+xe+Se+ke+We+"]",Ke="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ge+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+We+"]",Te="\\u200d",Le="(?:"+Ne+"|"+Fe+")",Ue="(?:"+ze+"|"+Fe+")",je="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",_e="(?:"+Ye+"|"+Ke+")"+"?",Oe="["+Ve+"]?",Pe=Oe+_e+("(?:"+Te+"(?:"+[Me,De,Ee].join("|")+")"+Oe+_e+")*"),qe="(?:"+[He,De,Ee].join("|")+")"+Pe,$e="(?:"+[Me+Ye+"?",Ye,De,Ee,Xe].join("|")+")",et=RegExp(we,"g"),tt=RegExp(Ye,"g"),nt=RegExp(Ke+"(?="+Ke+")|"+$e+Pe,"g"),rt=RegExp([ze+"?"+Ne+"+"+je+"(?="+[Je,ze,"$"].join("|")+")",Ue+"+"+Qe+"(?="+[Je,ze+Le,"$"].join("|")+")",ze+"?"+Le+"+"+je,ze+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,qe].join("|"),"g"),at=RegExp("["+Te+Ge+Be+Ve+"]"),gt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,lt={};lt[H]=lt[N]=lt[F]=lt[K]=lt[M]=lt[D]=lt[E]=lt[z]=lt[T]=!0,lt[p]=lt[b]=lt[Y]=lt[f]=lt[x]=lt[y]=lt[Z]=lt[v]=lt[B]=lt[S]=lt[k]=lt[V]=lt[R]=lt[w]=lt[J]=!1;var st={};st[p]=st[b]=st[Y]=st[x]=st[f]=st[y]=st[H]=st[N]=st[F]=st[K]=st[M]=st[B]=st[S]=st[k]=st[V]=st[R]=st[w]=st[X]=st[D]=st[E]=st[z]=st[T]=!0,st[Z]=st[v]=st[J]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=parseFloat,ut=parseInt,Ct="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,At=Ct||dt||Function("return this")(),ht=t&&!t.nodeType&&t,mt=ht&&e&&!e.nodeType&&e,pt=mt&&mt.exports===ht,bt=pt&&Ct.process,ft=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),yt=ft&&ft.isArrayBuffer,Zt=ft&&ft.isDate,vt=ft&&ft.isMap,Gt=ft&&ft.isRegExp,Bt=ft&&ft.isSet,St=ft&&ft.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Wt(e,t,n,r){for(var a=-1,g=null==e?0:e.length;++a<g;){var o=e[a];t(r,o,n(o),e)}return r}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,g=[];++n<r;){var o=e[n];t(o,n,e)&&(g[a++]=o)}return g}function Jt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Yt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Ht(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Nt(e,t,n,r){var a=-1,g=null==e?0:e.length;for(r&&g&&(n=e[++a]);++a<g;)n=t(n,e[a],a,e);return n}function Ft(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=jt("length");function Dt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function Et(e,t,n,r){for(var a=e.length,g=n+(r?1:-1);r?g--:++g<a;)if(t(e[g],g,e))return g;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Et(e,Lt,n)}function Tt(e,t,n,r){for(var a=n-1,g=e.length;++a<g;)if(r(e[a],t))return a;return-1}function Lt(e){return e!==e}function Ut(e,t){var n=null==e?0:e.length;return n?Ot(e,t)/n:A}function jt(e){return function(t){return null==t?a:t[e]}}function Qt(e){return function(t){return null==e?a:e[t]}}function _t(e,t,n,r,a){return a(e,(function(e,a,g){n=r?(r=!1,e):t(n,e,a,g)})),n}function Ot(e,t){for(var n,r=-1,g=e.length;++r<g;){var o=t(e[r]);o!==a&&(n=n===a?o:n+o)}return n}function Pt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function qt(e){return e?e.slice(0,hn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return xt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var an=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),gn=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function ln(e){return at.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function In(e,t){for(var n=-1,r=e.length,a=0,g=[];++n<r;){var o=e[n];o!==t&&o!==i||(e[n]=i,g[a++]=n)}return g}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Mt(e)}function An(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var mn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pn=function e(t){var n=(t=null==t?At:pn.defaults(At.Object(),t,pn.pick(At,ot))).Array,r=t.Date,ie=t.Error,Ge=t.Function,Be=t.Math,Se=t.Object,ke=t.RegExp,We=t.String,Ve=t.TypeError,Re=n.prototype,we=Ge.prototype,Xe=Se.prototype,Je=t["__core-js_shared__"],Ye=we.toString,xe=Xe.hasOwnProperty,He=0,Ne=function(){var e=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Xe.toString,Ke=Ye.call(Se),Me=At._,De=ke("^"+Ye.call(xe).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=pt?t.Buffer:a,ze=t.Symbol,Te=t.Uint8Array,Le=Ee?Ee.allocUnsafe:a,Ue=cn(Se.getPrototypeOf,Se),je=Se.create,Qe=Xe.propertyIsEnumerable,_e=Re.splice,Oe=ze?ze.isConcatSpreadable:a,Pe=ze?ze.iterator:a,qe=ze?ze.toStringTag:a,$e=function(){try{var e=Ig(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,at=r&&r.now!==At.Date.now&&r.now,ct=t.setTimeout!==At.setTimeout&&t.setTimeout,Ct=Be.ceil,dt=Be.floor,ht=Se.getOwnPropertySymbols,mt=Ee?Ee.isBuffer:a,bt=t.isFinite,ft=Re.join,Mt=cn(Se.keys,Se),Qt=Be.max,bn=Be.min,fn=r.now,yn=t.parseInt,Zn=Be.random,vn=Re.reverse,Gn=Ig(t,"DataView"),Bn=Ig(t,"Map"),Sn=Ig(t,"Promise"),kn=Ig(t,"Set"),Wn=Ig(t,"WeakMap"),Vn=Ig(Se,"create"),Rn=Wn&&new Wn,wn={},Xn=Ng(Gn),Jn=Ng(Bn),Yn=Ng(Sn),xn=Ng(kn),Hn=Ng(Wn),Nn=ze?ze.prototype:a,Fn=Nn?Nn.valueOf:a,Kn=Nn?Nn.toString:a;function Mn(e){if(ti(e)&&!To(e)&&!(e instanceof Tn)){if(e instanceof zn)return e;if(xe.call(e,"__wrapped__"))return Fg(e)}return new zn(e)}var Dn=function(){function e(){}return function(t){if(!ei(t))return{};if(je)return je(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function En(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}function _n(e){var t=this.__data__=new Un(e);this.size=t.size}function On(e,t){var n=To(e),r=!n&&zo(e),a=!n&&!r&&Qo(e),g=!n&&!r&&!a&&si(e),o=n||r||a||g,i=o?Pt(e.length,We):[],l=i.length;for(var s in e)!t&&!xe.call(e,s)||o&&("length"==s||a&&("offset"==s||"parent"==s)||g&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||pg(s,l))||i.push(s);return i}function Pn(e){var t=e.length;return t?e[Qr(0,t-1)]:a}function qn(e,t){return Yg(Va(e),ir(t,0,e.length))}function $n(e){return Yg(Va(e))}function er(e,t,n){(n!==a&&!Mo(e[t],n)||n===a&&!(t in e))&&gr(e,t,n)}function tr(e,t,n){var r=e[t];xe.call(e,t)&&Mo(r,n)&&(n!==a||t in e)||gr(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Mo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return ur(e,(function(e,a,g){t(r,e,n(e),g)})),r}function ar(e,t){return e&&Ra(t,wi(t),e)}function gr(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,g=t.length,o=n(g),i=null==e;++r<g;)o[r]=i?a:Si(e,t[r]);return o}function ir(e,t,n){return e===e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function lr(e,t,n,r,g,o){var i,l=1&t,s=2&t,c=4&t;if(n&&(i=g?n(e,r,g,o):n(e)),i!==a)return i;if(!ei(e))return e;var I=To(e);if(I){if(i=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Va(e,i)}else{var u=dg(e),C=u==v||u==G;if(Qo(e))return va(e,l);if(u==k||u==p||C&&!g){if(i=s||C?{}:hg(e),!l)return s?function(e,t){return Ra(e,Cg(e),t)}(e,function(e,t){return e&&Ra(t,Xi(t),e)}(i,e)):function(e,t){return Ra(e,ug(e),t)}(e,ar(i,e))}else{if(!st[u])return g?e:{};i=function(e,t,n){var r=e.constructor;switch(t){case Y:return Ga(e);case f:case y:return new r(+e);case x:return function(e,t){var n=t?Ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case H:case N:case F:case K:case M:case D:case E:case z:case T:return Ba(e,n);case B:return new r;case S:case w:return new r(e);case V:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case X:return a=e,Fn?Se(Fn.call(a)):{}}var a}(e,u,l)}}o||(o=new _n);var d=o.get(e);if(d)return d;o.set(e,i),oi(e)?e.forEach((function(r){i.add(lr(r,t,n,r,e,o))})):ni(e)&&e.forEach((function(r,a){i.set(a,lr(r,t,n,a,e,o))}));var A=I?a:(c?s?ag:rg:s?Xi:wi)(e);return Vt(A||e,(function(r,a){A&&(r=e[a=r]),tr(i,a,lr(r,t,n,a,e,o))})),i}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var g=n[r],o=t[g],i=e[g];if(i===a&&!(g in e)||!o(i))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ve(g);return Rg((function(){e.apply(a,n)}),t)}function Ir(e,t,n,r){var a=-1,g=Jt,o=!0,i=e.length,l=[],s=t.length;if(!i)return l;n&&(t=xt(t,$t(n))),r?(g=Yt,o=!1):t.length>=200&&(g=tn,o=!1,t=new Qn(t));e:for(;++a<i;){var c=e[a],I=null==n?c:n(c);if(c=r||0!==c?c:0,o&&I===I){for(var u=s;u--;)if(t[u]===I)continue e;l.push(c)}else g(t,I,r)||l.push(c)}return l}Mn.templateSettings={escape:q,evaluate:$,interpolate:ee,variable:"",imports:{_:Mn}},Mn.prototype=En.prototype,Mn.prototype.constructor=Mn,zn.prototype=Dn(En.prototype),zn.prototype.constructor=zn,Tn.prototype=Dn(En.prototype),Tn.prototype.constructor=Tn,Ln.prototype.clear=function(){this.__data__=Vn?Vn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(Vn){var n=t[e];return n===o?a:n}return xe.call(t,e)?t[e]:a},Ln.prototype.has=function(e){var t=this.__data__;return Vn?t[e]!==a:xe.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Vn&&t===a?o:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,!0)},Un.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?a:t[n][1]},Un.prototype.has=function(e){return nr(this.__data__,e)>-1},Un.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(Bn||Un),string:new Ln}},jn.prototype.delete=function(e){var t=sg(this,e).delete(e);return this.size-=t?1:0,t},jn.prototype.get=function(e){return sg(this,e).get(e)},jn.prototype.has=function(e){return sg(this,e).has(e)},jn.prototype.set=function(e,t){var n=sg(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,o),this},Qn.prototype.has=function(e){return this.__data__.has(e)},_n.prototype.clear=function(){this.__data__=new Un,this.size=0},_n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_n.prototype.get=function(e){return this.__data__.get(e)},_n.prototype.has=function(e){return this.__data__.has(e)},_n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!Bn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(e,t),this.size=n.size,this};var ur=Ja(fr),Cr=Ja(yr,!0);function dr(e,t){var n=!0;return ur(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function Ar(e,t,n){for(var r=-1,g=e.length;++r<g;){var o=e[r],i=t(o);if(null!=i&&(l===a?i===i&&!li(i):n(i,l)))var l=i,s=o}return s}function hr(e,t){var n=[];return ur(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function mr(e,t,n,r,a){var g=-1,o=e.length;for(n||(n=mg),a||(a=[]);++g<o;){var i=e[g];t>0&&n(i)?t>1?mr(i,t-1,n,r,a):Ht(a,i):r||(a[a.length]=i)}return a}var pr=Ya(),br=Ya(!0);function fr(e,t){return e&&pr(e,t,wi)}function yr(e,t){return e&&br(e,t,wi)}function Zr(e,t){return Xt(t,(function(t){return Po(e[t])}))}function vr(e,t){for(var n=0,r=(t=ba(t,e)).length;null!=e&&n<r;)e=e[Hg(t[n++])];return n&&n==r?e:a}function Gr(e,t,n){var r=t(e);return To(e)?r:Ht(r,n(e))}function Br(e){return null==e?e===a?"[object Undefined]":"[object Null]":qe&&qe in Se(e)?function(e){var t=xe.call(e,qe),n=e[qe];try{e[qe]=a;var r=!0}catch(o){}var g=Fe.call(e);r&&(t?e[qe]=n:delete e[qe]);return g}(e):function(e){return Fe.call(e)}(e)}function Sr(e,t){return e>t}function kr(e,t){return null!=e&&xe.call(e,t)}function Wr(e,t){return null!=e&&t in Se(e)}function Vr(e,t,r){for(var g=r?Yt:Jt,o=e[0].length,i=e.length,l=i,s=n(i),c=1/0,I=[];l--;){var u=e[l];l&&t&&(u=xt(u,$t(t))),c=bn(u.length,c),s[l]=!r&&(t||o>=120&&u.length>=120)?new Qn(l&&u):a}u=e[0];var C=-1,d=s[0];e:for(;++C<o&&I.length<c;){var A=u[C],h=t?t(A):A;if(A=r||0!==A?A:0,!(d?tn(d,h):g(I,h,r))){for(l=i;--l;){var m=s[l];if(!(m?tn(m,h):g(e[l],h,r)))continue e}d&&d.push(h),I.push(A)}}return I}function Rr(e,t,n){var r=null==(e=kg(e,t=ba(t,e)))?e:e[Hg(_g(t))];return null==r?a:kt(r,e,n)}function wr(e){return ti(e)&&Br(e)==p}function Xr(e,t,n,r,g){return e===t||(null==e||null==t||!ti(e)&&!ti(t)?e!==e&&t!==t:function(e,t,n,r,g,o){var i=To(e),l=To(t),s=i?b:dg(e),c=l?b:dg(t),I=(s=s==p?k:s)==k,u=(c=c==p?k:c)==k,C=s==c;if(C&&Qo(e)){if(!Qo(t))return!1;i=!0,I=!1}if(C&&!I)return o||(o=new _n),i||si(e)?tg(e,t,n,r,g,o):function(e,t,n,r,a,g,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Y:return!(e.byteLength!=t.byteLength||!g(new Te(e),new Te(t)));case f:case y:case S:return Mo(+e,+t);case Z:return e.name==t.name&&e.message==t.message;case V:case w:return e==t+"";case B:var i=sn;case R:var l=1&r;if(i||(i=un),e.size!=t.size&&!l)return!1;var s=o.get(e);if(s)return s==t;r|=2,o.set(e,t);var c=tg(i(e),i(t),r,a,g,o);return o.delete(e),c;case X:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,s,n,r,g,o);if(!(1&n)){var d=I&&xe.call(e,"__wrapped__"),A=u&&xe.call(t,"__wrapped__");if(d||A){var h=d?e.value():e,m=A?t.value():t;return o||(o=new _n),g(h,m,n,r,o)}}if(!C)return!1;return o||(o=new _n),function(e,t,n,r,g,o){var i=1&n,l=rg(e),s=l.length,c=rg(t),I=c.length;if(s!=I&&!i)return!1;var u=s;for(;u--;){var C=l[u];if(!(i?C in t:xe.call(t,C)))return!1}var d=o.get(e),A=o.get(t);if(d&&A)return d==t&&A==e;var h=!0;o.set(e,t),o.set(t,e);var m=i;for(;++u<s;){var p=e[C=l[u]],b=t[C];if(r)var f=i?r(b,p,C,t,e,o):r(p,b,C,e,t,o);if(!(f===a?p===b||g(p,b,n,r,o):f)){h=!1;break}m||(m="constructor"==C)}if(h&&!m){var y=e.constructor,Z=t.constructor;y==Z||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof Z&&Z instanceof Z||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,g,o)}(e,t,n,r,Xr,g))}function Jr(e,t,n,r){var g=n.length,o=g,i=!r;if(null==e)return!o;for(e=Se(e);g--;){var l=n[g];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++g<o;){var s=(l=n[g])[0],c=e[s],I=l[1];if(i&&l[2]){if(c===a&&!(s in e))return!1}else{var u=new _n;if(r)var C=r(c,I,s,e,t,u);if(!(C===a?Xr(I,c,3,r,u):C))return!1}}return!0}function Yr(e){return!(!ei(e)||(t=e,Ne&&Ne in t))&&(Po(e)?De:pe).test(Ng(e));var t}function xr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?To(e)?Dr(e[0],e[1]):Mr(e):ul(e)}function Hr(e){if(!vg(e))return Mt(e);var t=[];for(var n in Se(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!ei(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=vg(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Kr(e,t){var r=-1,a=Uo(e)?n(e.length):[];return ur(e,(function(e,n,g){a[++r]=t(e,n,g)})),a}function Mr(e){var t=cg(e);return 1==t.length&&t[0][2]?Bg(t[0][0],t[0][1]):function(n){return n===e||Jr(n,e,t)}}function Dr(e,t){return fg(e)&&Gg(t)?Bg(Hg(e),t):function(n){var r=Si(n,e);return r===a&&r===t?ki(n,e):Xr(t,r,3)}}function Er(e,t,n,r,g){e!==t&&pr(t,(function(o,i){if(g||(g=new _n),ei(o))!function(e,t,n,r,g,o,i){var l=Wg(e,n),s=Wg(t,n),c=i.get(s);if(c)return void er(e,n,c);var I=o?o(l,s,n+"",e,t,i):a,u=I===a;if(u){var C=To(s),d=!C&&Qo(s),A=!C&&!d&&si(s);I=s,C||d||A?To(l)?I=l:jo(l)?I=Va(l):d?(u=!1,I=va(s,!0)):A?(u=!1,I=Ba(s,!0)):I=[]:ai(s)||zo(s)?(I=l,zo(l)?I=mi(l):ei(l)&&!Po(l)||(I=hg(s))):u=!1}u&&(i.set(s,I),g(I,s,r,o,i),i.delete(s));er(e,n,I)}(e,t,i,n,Er,r,g);else{var l=r?r(Wg(e,i),o,i+"",e,t,g):a;l===a&&(l=o),er(e,i,l)}}),Xi)}function zr(e,t){var n=e.length;if(n)return pg(t+=t<0?n:0,n)?e[t]:a}function Tr(e,t,n){t=t.length?xt(t,(function(e){return To(e)?function(t){return vr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=xt(t,$t(lg()));var a=Kr(e,(function(e,n,a){var g=xt(t,(function(t){return t(e)}));return{criteria:g,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,g=t.criteria,o=a.length,i=n.length;for(;++r<o;){var l=Sa(a[r],g[r]);if(l)return r>=i?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Lr(e,t,n){for(var r=-1,a=t.length,g={};++r<a;){var o=t[r],i=vr(e,o);n(i,o)&&$r(g,ba(o,e),i)}return g}function Ur(e,t,n,r){var a=r?Tt:zt,g=-1,o=t.length,i=e;for(e===t&&(t=Va(t)),n&&(i=xt(e,$t(n)));++g<o;)for(var l=0,s=t[g],c=n?n(s):s;(l=a(i,c,l,r))>-1;)i!==e&&_e.call(i,l,1),_e.call(e,l,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==g){var g=a;pg(a)?_e.call(e,a,1):Ia(e,a)}}return e}function Qr(e,t){return e+dt(Zn()*(t-e+1))}function _r(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Or(e,t){return wg(Sg(e,t,rl),e+"")}function Pr(e){return Pn(Mi(e))}function qr(e,t){var n=Mi(e);return Yg(n,ir(t,0,n.length))}function $r(e,t,n,r){if(!ei(e))return e;for(var g=-1,o=(t=ba(t,e)).length,i=o-1,l=e;null!=l&&++g<o;){var s=Hg(t[g]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(g!=i){var I=l[s];(c=r?r(I,s,l):a)===a&&(c=ei(I)?I:pg(t[g+1])?[]:{})}tr(l,s,c),l=l[s]}return e}var ea=Rn?function(e,t){return Rn.set(e,t),e}:rl,ta=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function na(e){return Yg(Mi(e))}function ra(e,t,r){var a=-1,g=e.length;t<0&&(t=-t>g?0:g+t),(r=r>g?g:r)<0&&(r+=g),g=t>r?0:r-t>>>0,t>>>=0;for(var o=n(g);++a<g;)o[a]=e[a+t];return o}function aa(e,t){var n;return ur(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function ga(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var g=r+a>>>1,o=e[g];null!==o&&!li(o)&&(n?o<=t:o<t)?r=g+1:a=g}return a}return oa(e,t,rl,n)}function oa(e,t,n,r){var g=0,o=null==e?0:e.length;if(0===o)return 0;for(var i=(t=n(t))!==t,l=null===t,s=li(t),c=t===a;g<o;){var I=dt((g+o)/2),u=n(e[I]),C=u!==a,d=null===u,A=u===u,h=li(u);if(i)var m=r||A;else m=c?A&&(r||C):l?A&&C&&(r||!d):s?A&&C&&!d&&(r||!h):!d&&!h&&(r?u<=t:u<t);m?g=I+1:o=I}return bn(o,4294967294)}function ia(e,t){for(var n=-1,r=e.length,a=0,g=[];++n<r;){var o=e[n],i=t?t(o):o;if(!n||!Mo(i,l)){var l=i;g[a++]=0===o?0:o}}return g}function la(e){return"number"==typeof e?e:li(e)?A:+e}function sa(e){if("string"==typeof e)return e;if(To(e))return xt(e,sa)+"";if(li(e))return Kn?Kn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ca(e,t,n){var r=-1,a=Jt,g=e.length,o=!0,i=[],l=i;if(n)o=!1,a=Yt;else if(g>=200){var s=t?null:_a(e);if(s)return un(s);o=!1,a=tn,l=new Qn}else l=t?[]:i;e:for(;++r<g;){var c=e[r],I=t?t(c):c;if(c=n||0!==c?c:0,o&&I===I){for(var u=l.length;u--;)if(l[u]===I)continue e;t&&l.push(I),i.push(c)}else a(l,I,n)||(l!==i&&l.push(I),i.push(c))}return i}function Ia(e,t){return null==(e=kg(e,t=ba(t,e)))||delete e[Hg(_g(t))]}function ua(e,t,n,r){return $r(e,t,n(vr(e,t)),r)}function Ca(e,t,n,r){for(var a=e.length,g=r?a:-1;(r?g--:++g<a)&&t(e[g],g,e););return n?ra(e,r?0:g,r?g+1:a):ra(e,r?g+1:0,r?a:g)}function da(e,t){var n=e;return n instanceof Tn&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,Ht([e],t.args))}),n)}function Aa(e,t,r){var a=e.length;if(a<2)return a?ca(e[0]):[];for(var g=-1,o=n(a);++g<a;)for(var i=e[g],l=-1;++l<a;)l!=g&&(o[g]=Ir(o[g]||i,e[l],t,r));return ca(mr(o,1),t,r)}function ha(e,t,n){for(var r=-1,g=e.length,o=t.length,i={};++r<g;){var l=r<o?t[r]:a;n(i,e[r],l)}return i}function ma(e){return jo(e)?e:[]}function pa(e){return"function"==typeof e?e:rl}function ba(e,t){return To(e)?e:fg(e,t)?[e]:xg(pi(e))}var fa=Or;function ya(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:ra(e,t,n)}var Za=nt||function(e){return At.clearTimeout(e)};function va(e,t){if(t)return e.slice();var n=e.length,r=Le?Le(n):new e.constructor(n);return e.copy(r),r}function Ga(e){var t=new e.constructor(e.byteLength);return new Te(t).set(new Te(e)),t}function Ba(e,t){var n=t?Ga(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Sa(e,t){if(e!==t){var n=e!==a,r=null===e,g=e===e,o=li(e),i=t!==a,l=null===t,s=t===t,c=li(t);if(!l&&!c&&!o&&e>t||o&&i&&s&&!l&&!c||r&&i&&s||!n&&s||!g)return 1;if(!r&&!o&&!c&&e<t||c&&n&&g&&!r&&!o||l&&n&&g||!i&&g||!s)return-1}return 0}function ka(e,t,r,a){for(var g=-1,o=e.length,i=r.length,l=-1,s=t.length,c=Qt(o-i,0),I=n(s+c),u=!a;++l<s;)I[l]=t[l];for(;++g<i;)(u||g<o)&&(I[r[g]]=e[g]);for(;c--;)I[l++]=e[g++];return I}function Wa(e,t,r,a){for(var g=-1,o=e.length,i=-1,l=r.length,s=-1,c=t.length,I=Qt(o-l,0),u=n(I+c),C=!a;++g<I;)u[g]=e[g];for(var d=g;++s<c;)u[d+s]=t[s];for(;++i<l;)(C||g<o)&&(u[d+r[i]]=e[g++]);return u}function Va(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Ra(e,t,n,r){var g=!n;n||(n={});for(var o=-1,i=t.length;++o<i;){var l=t[o],s=r?r(n[l],e[l],l,n,e):a;s===a&&(s=e[l]),g?gr(n,l,s):tr(n,l,s)}return n}function wa(e,t){return function(n,r){var a=To(n)?Wt:rr,g=t?t():{};return a(n,e,lg(r,2),g)}}function Xa(e){return Or((function(t,n){var r=-1,g=n.length,o=g>1?n[g-1]:a,i=g>2?n[2]:a;for(o=e.length>3&&"function"==typeof o?(g--,o):a,i&&bg(n[0],n[1],i)&&(o=g<3?a:o,g=1),t=Se(t);++r<g;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ja(e,t){return function(n,r){if(null==n)return n;if(!Uo(n))return e(n,r);for(var a=n.length,g=t?a:-1,o=Se(n);(t?g--:++g<a)&&!1!==r(o[g],g,o););return n}}function Ya(e){return function(t,n,r){for(var a=-1,g=Se(t),o=r(t),i=o.length;i--;){var l=o[e?i:++a];if(!1===n(g[l],l,g))break}return t}}function xa(e){return function(t){var n=ln(t=pi(t))?An(t):a,r=n?n[0]:t.charAt(0),g=n?ya(n,1).join(""):t.slice(1);return r[e]()+g}}function Ha(e){return function(t){return Nt(Pi(zi(t).replace(et,"")),e,"")}}function Na(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Dn(e.prototype),r=e.apply(n,t);return ei(r)?r:n}}function Fa(e){return function(t,n,r){var g=Se(t);if(!Uo(t)){var o=lg(n,3);t=wi(t),n=function(e){return o(g[e],e,g)}}var i=e(t,n,r);return i>-1?g[o?t[i]:i]:a}}function Ka(e){return ng((function(t){var n=t.length,r=n,o=zn.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new Ve(g);if(o&&!l&&"wrapper"==og(i))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var s=og(i=t[r]),c="wrapper"==s?gg(i):a;l=c&&yg(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[og(c[0])].apply(l,c[3]):1==i.length&&yg(i)?l[s]():l.thru(i)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&To(r))return l.plant(r).value();for(var a=0,g=n?t[a].apply(this,e):r;++a<n;)g=t[a].call(this,g);return g}}))}function Ma(e,t,r,g,o,i,l,s,c,u){var C=t&I,d=1&t,A=2&t,h=24&t,m=512&t,p=A?a:Na(e);return function I(){for(var b=arguments.length,f=n(b),y=b;y--;)f[y]=arguments[y];if(h)var Z=ig(I),v=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(f,Z);if(g&&(f=ka(f,g,o,h)),i&&(f=Wa(f,i,l,h)),b-=v,h&&b<u){var G=In(f,Z);return ja(e,t,Ma,I.placeholder,r,f,G,s,c,u-b)}var B=d?r:this,S=A?B[e]:e;return b=f.length,s?f=function(e,t){var n=e.length,r=bn(t.length,n),g=Va(e);for(;r--;){var o=t[r];e[r]=pg(o,n)?g[o]:a}return e}(f,s):m&&b>1&&f.reverse(),C&&c<b&&(f.length=c),this&&this!==At&&this instanceof I&&(S=p||Na(S)),S.apply(B,f)}}function Da(e,t){return function(n,r){return function(e,t,n,r){return fr(e,(function(e,a,g){t(r,n(e),a,g)})),r}(n,e,t(r),{})}}function Ea(e,t){return function(n,r){var g;if(n===a&&r===a)return t;if(n!==a&&(g=n),r!==a){if(g===a)return r;"string"==typeof n||"string"==typeof r?(n=sa(n),r=sa(r)):(n=la(n),r=la(r)),g=e(n,r)}return g}}function za(e){return ng((function(t){return t=xt(t,$t(lg())),Or((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Ta(e,t){var n=(t=t===a?" ":sa(t)).length;if(n<2)return n?_r(t,e):t;var r=_r(t,Ct(e/dn(t)));return ln(t)?ya(An(r),0,e).join(""):r.slice(0,e)}function La(e){return function(t,r,g){return g&&"number"!=typeof g&&bg(t,r,g)&&(r=g=a),t=Ci(t),r===a?(r=t,t=0):r=Ci(r),function(e,t,r,a){for(var g=-1,o=Qt(Ct((t-e)/(r||1)),0),i=n(o);o--;)i[a?o:++g]=e,e+=r;return i}(t,r,g=g===a?t<r?1:-1:Ci(g),e)}}function Ua(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=hi(t),n=hi(n)),e(t,n)}}function ja(e,t,n,r,g,o,i,l,I,u){var C=8&t;t|=C?s:c,4&(t&=~(C?c:s))||(t&=-4);var d=[e,t,g,C?o:a,C?i:a,C?a:o,C?a:i,l,I,u],A=n.apply(a,d);return yg(e)&&Vg(A,d),A.placeholder=r,Xg(A,e,t)}function Qa(e){var t=Be[e];return function(e,n){if(e=hi(e),(n=null==n?0:bn(di(n),292))&&bt(e)){var r=(pi(e)+"e").split("e");return+((r=(pi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var _a=kn&&1/un(new kn([,-0]))[1]==C?function(e){return new kn(e)}:ll;function Oa(e){return function(t){var n=dg(t);return n==B?sn(t):n==R?Cn(t):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Pa(e,t,r,o,C,d,A,h){var m=2&t;if(!m&&"function"!=typeof e)throw new Ve(g);var p=o?o.length:0;if(p||(t&=-97,o=C=a),A=A===a?A:Qt(di(A),0),h=h===a?h:di(h),p-=C?C.length:0,t&c){var b=o,f=C;o=C=a}var y=m?a:gg(e),Z=[e,t,r,o,C,b,f,d,A,h];if(y&&function(e,t){var n=e[1],r=t[1],a=n|r,g=a<131,o=r==I&&8==n||r==I&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!g&&!o)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var s=e[3];e[3]=s?ka(s,l,t[4]):l,e[4]=s?In(e[3],i):t[4]}(l=t[5])&&(s=e[5],e[5]=s?Wa(s,l,t[6]):l,e[6]=s?In(e[5],i):t[6]);(l=t[7])&&(e[7]=l);r&I&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(Z,y),e=Z[0],t=Z[1],r=Z[2],o=Z[3],C=Z[4],!(h=Z[9]=Z[9]===a?m?0:e.length:Qt(Z[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||t==l?function(e,t,r){var g=Na(e);return function o(){for(var i=arguments.length,l=n(i),s=i,c=ig(o);s--;)l[s]=arguments[s];var I=i<3&&l[0]!==c&&l[i-1]!==c?[]:In(l,c);return(i-=I.length)<r?ja(e,t,Ma,o.placeholder,a,l,I,a,a,r-i):kt(this&&this!==At&&this instanceof o?g:e,this,l)}}(e,t,h):t!=s&&33!=t||C.length?Ma.apply(a,Z):function(e,t,r,a){var g=1&t,o=Na(e);return function t(){for(var i=-1,l=arguments.length,s=-1,c=a.length,I=n(c+l),u=this&&this!==At&&this instanceof t?o:e;++s<c;)I[s]=a[s];for(;l--;)I[s++]=arguments[++i];return kt(u,g?r:this,I)}}(e,t,r,o);else var v=function(e,t,n){var r=1&t,a=Na(e);return function t(){return(this&&this!==At&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return Xg((y?ea:Vg)(v,Z),e,t)}function qa(e,t,n,r){return e===a||Mo(e,Xe[n])&&!xe.call(r,n)?t:e}function $a(e,t,n,r,g,o){return ei(e)&&ei(t)&&(o.set(t,e),Er(e,t,a,$a,o),o.delete(t)),e}function eg(e){return ai(e)?a:e}function tg(e,t,n,r,g,o){var i=1&n,l=e.length,s=t.length;if(l!=s&&!(i&&s>l))return!1;var c=o.get(e),I=o.get(t);if(c&&I)return c==t&&I==e;var u=-1,C=!0,d=2&n?new Qn:a;for(o.set(e,t),o.set(t,e);++u<l;){var A=e[u],h=t[u];if(r)var m=i?r(h,A,u,t,e,o):r(A,h,u,e,t,o);if(m!==a){if(m)continue;C=!1;break}if(d){if(!Kt(t,(function(e,t){if(!tn(d,t)&&(A===e||g(A,e,n,r,o)))return d.push(t)}))){C=!1;break}}else if(A!==h&&!g(A,h,n,r,o)){C=!1;break}}return o.delete(e),o.delete(t),C}function ng(e){return wg(Sg(e,a,Tg),e+"")}function rg(e){return Gr(e,wi,ug)}function ag(e){return Gr(e,Xi,Cg)}var gg=Rn?function(e){return Rn.get(e)}:ll;function og(e){for(var t=e.name+"",n=wn[t],r=xe.call(wn,t)?n.length:0;r--;){var a=n[r],g=a.func;if(null==g||g==e)return a.name}return t}function ig(e){return(xe.call(Mn,"placeholder")?Mn:e).placeholder}function lg(){var e=Mn.iteratee||al;return e=e===al?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function sg(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function cg(e){for(var t=wi(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Gg(a)]}return t}function Ig(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return Yr(n)?n:a}var ug=ht?function(e){return null==e?[]:(e=Se(e),Xt(ht(e),(function(t){return Qe.call(e,t)})))}:Al,Cg=ht?function(e){for(var t=[];e;)Ht(t,ug(e)),e=Ue(e);return t}:Al,dg=Br;function Ag(e,t,n){for(var r=-1,a=(t=ba(t,e)).length,g=!1;++r<a;){var o=Hg(t[r]);if(!(g=null!=e&&n(e,o)))break;e=e[o]}return g||++r!=a?g:!!(a=null==e?0:e.length)&&$o(a)&&pg(o,a)&&(To(e)||zo(e))}function hg(e){return"function"!=typeof e.constructor||vg(e)?{}:Dn(Ue(e))}function mg(e){return To(e)||zo(e)||!!(Oe&&e&&e[Oe])}function pg(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&fe.test(e))&&e>-1&&e%1==0&&e<t}function bg(e,t,n){if(!ei(n))return!1;var r=typeof t;return!!("number"==r?Uo(n)&&pg(t,n.length):"string"==r&&t in n)&&Mo(n[t],e)}function fg(e,t){if(To(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!li(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Se(t))}function yg(e){var t=og(e),n=Mn[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var r=gg(n);return!!r&&e===r[0]}(Gn&&dg(new Gn(new ArrayBuffer(1)))!=x||Bn&&dg(new Bn)!=B||Sn&&dg(Sn.resolve())!=W||kn&&dg(new kn)!=R||Wn&&dg(new Wn)!=J)&&(dg=function(e){var t=Br(e),n=t==k?e.constructor:a,r=n?Ng(n):"";if(r)switch(r){case Xn:return x;case Jn:return B;case Yn:return W;case xn:return R;case Hn:return J}return t});var Zg=Je?Po:hl;function vg(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xe)}function Gg(e){return e===e&&!ei(e)}function Bg(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in Se(n)))}}function Sg(e,t,r){return t=Qt(t===a?e.length-1:t,0),function(){for(var a=arguments,g=-1,o=Qt(a.length-t,0),i=n(o);++g<o;)i[g]=a[t+g];g=-1;for(var l=n(t+1);++g<t;)l[g]=a[g];return l[t]=r(i),kt(e,this,l)}}function kg(e,t){return t.length<2?e:vr(e,ra(t,0,-1))}function Wg(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Vg=Jg(ea),Rg=ct||function(e,t){return At.setTimeout(e,t)},wg=Jg(ta);function Xg(e,t,n){var r=t+"";return wg(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Vt(m,(function(n){var r="_."+n[0];t&n[1]&&!Jt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ce):[]}(r),n)))}function Jg(e){var t=0,n=0;return function(){var r=fn(),g=16-(r-n);if(n=r,g>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Yg(e,t){var n=-1,r=e.length,g=r-1;for(t=t===a?r:t;++n<t;){var o=Qr(n,g),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}var xg=function(e){var t=Yo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,a){t.push(r?a.replace(Ce,"$1"):n||e)})),t}));function Hg(e){if("string"==typeof e||li(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ng(e){if(null!=e){try{return Ye.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fg(e){if(e instanceof Tn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Va(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Kg=Or((function(e,t){return jo(e)?Ir(e,mr(t,1,jo,!0)):[]})),Mg=Or((function(e,t){var n=_g(t);return jo(n)&&(n=a),jo(e)?Ir(e,mr(t,1,jo,!0),lg(n,2)):[]})),Dg=Or((function(e,t){var n=_g(t);return jo(n)&&(n=a),jo(e)?Ir(e,mr(t,1,jo,!0),a,n):[]}));function Eg(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:di(n);return a<0&&(a=Qt(r+a,0)),Et(e,lg(t,3),a)}function zg(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var g=r-1;return n!==a&&(g=di(n),g=n<0?Qt(r+g,0):bn(g,r-1)),Et(e,lg(t,3),g,!0)}function Tg(e){return(null==e?0:e.length)?mr(e,1):[]}function Lg(e){return e&&e.length?e[0]:a}var Ug=Or((function(e){var t=xt(e,ma);return t.length&&t[0]===e[0]?Vr(t):[]})),jg=Or((function(e){var t=_g(e),n=xt(e,ma);return t===_g(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Vr(n,lg(t,2)):[]})),Qg=Or((function(e){var t=_g(e),n=xt(e,ma);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Vr(n,a,t):[]}));function _g(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Og=Or(Pg);function Pg(e,t){return e&&e.length&&t&&t.length?Ur(e,t):e}var qg=ng((function(e,t){var n=null==e?0:e.length,r=or(e,t);return jr(e,xt(t,(function(e){return pg(e,n)?+e:e})).sort(Sa)),r}));function $g(e){return null==e?e:vn.call(e)}var eo=Or((function(e){return ca(mr(e,1,jo,!0))})),to=Or((function(e){var t=_g(e);return jo(t)&&(t=a),ca(mr(e,1,jo,!0),lg(t,2))})),no=Or((function(e){var t=_g(e);return t="function"==typeof t?t:a,ca(mr(e,1,jo,!0),a,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,(function(e){if(jo(e))return t=Qt(e.length,t),!0})),Pt(t,(function(t){return xt(e,jt(t))}))}function ao(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:xt(n,(function(e){return kt(t,a,e)}))}var go=Or((function(e,t){return jo(e)?Ir(e,t):[]})),oo=Or((function(e){return Aa(Xt(e,jo))})),io=Or((function(e){var t=_g(e);return jo(t)&&(t=a),Aa(Xt(e,jo),lg(t,2))})),lo=Or((function(e){var t=_g(e);return t="function"==typeof t?t:a,Aa(Xt(e,jo),a,t)})),so=Or(ro);var co=Or((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,ao(e,n)}));function Io(e){var t=Mn(e);return t.__chain__=!0,t}function uo(e,t){return t(e)}var Co=ng((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,g=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Tn&&pg(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:uo,args:[g],thisArg:a}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(g)}));var Ao=wa((function(e,t,n){xe.call(e,n)?++e[n]:gr(e,n,1)}));var ho=Fa(Eg),mo=Fa(zg);function po(e,t){return(To(e)?Vt:ur)(e,lg(t,3))}function bo(e,t){return(To(e)?Rt:Cr)(e,lg(t,3))}var fo=wa((function(e,t,n){xe.call(e,n)?e[n].push(t):gr(e,n,[t])}));var yo=Or((function(e,t,r){var a=-1,g="function"==typeof t,o=Uo(e)?n(e.length):[];return ur(e,(function(e){o[++a]=g?kt(t,e,r):Rr(e,t,r)})),o})),Zo=wa((function(e,t,n){gr(e,n,t)}));function vo(e,t){return(To(e)?xt:Kr)(e,lg(t,3))}var Go=wa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Bo=Or((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bg(e,t[0],t[1])?t=[]:n>2&&bg(t[0],t[1],t[2])&&(t=[t[0]]),Tr(e,mr(t,1),[])})),So=at||function(){return At.Date.now()};function ko(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Pa(e,I,a,a,a,a,t)}function Wo(e,t){var n;if("function"!=typeof t)throw new Ve(g);return e=di(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var Vo=Or((function(e,t,n){var r=1;if(n.length){var a=In(n,ig(Vo));r|=s}return Pa(e,r,t,n,a)})),Ro=Or((function(e,t,n){var r=3;if(n.length){var a=In(n,ig(Ro));r|=s}return Pa(t,r,e,n,a)}));function wo(e,t,n){var r,o,i,l,s,c,I=0,u=!1,C=!1,d=!0;if("function"!=typeof e)throw new Ve(g);function A(t){var n=r,g=o;return r=o=a,I=t,l=e.apply(g,n)}function h(e){var n=e-c;return c===a||n>=t||n<0||C&&e-I>=i}function m(){var e=So();if(h(e))return p(e);s=Rg(m,function(e){var n=t-(e-c);return C?bn(n,i-(e-I)):n}(e))}function p(e){return s=a,d&&r?A(e):(r=o=a,l)}function b(){var e=So(),n=h(e);if(r=arguments,o=this,c=e,n){if(s===a)return function(e){return I=e,s=Rg(m,t),u?A(e):l}(c);if(C)return Za(s),s=Rg(m,t),A(c)}return s===a&&(s=Rg(m,t)),l}return t=hi(t)||0,ei(n)&&(u=!!n.leading,i=(C="maxWait"in n)?Qt(hi(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),b.cancel=function(){s!==a&&Za(s),I=0,r=c=o=s=a},b.flush=function(){return s===a?l:p(So())},b}var Xo=Or((function(e,t){return cr(e,1,t)})),Jo=Or((function(e,t,n){return cr(e,hi(t)||0,n)}));function Yo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ve(g);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],g=n.cache;if(g.has(a))return g.get(a);var o=e.apply(this,r);return n.cache=g.set(a,o)||g,o};return n.cache=new(Yo.Cache||jn),n}function xo(e){if("function"!=typeof e)throw new Ve(g);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Yo.Cache=jn;var Ho=fa((function(e,t){var n=(t=1==t.length&&To(t[0])?xt(t[0],$t(lg())):xt(mr(t,1),$t(lg()))).length;return Or((function(r){for(var a=-1,g=bn(r.length,n);++a<g;)r[a]=t[a].call(this,r[a]);return kt(e,this,r)}))})),No=Or((function(e,t){var n=In(t,ig(No));return Pa(e,s,a,t,n)})),Fo=Or((function(e,t){var n=In(t,ig(Fo));return Pa(e,c,a,t,n)})),Ko=ng((function(e,t){return Pa(e,u,a,a,a,t)}));function Mo(e,t){return e===t||e!==e&&t!==t}var Do=Ua(Sr),Eo=Ua((function(e,t){return e>=t})),zo=wr(function(){return arguments}())?wr:function(e){return ti(e)&&xe.call(e,"callee")&&!Qe.call(e,"callee")},To=n.isArray,Lo=yt?$t(yt):function(e){return ti(e)&&Br(e)==Y};function Uo(e){return null!=e&&$o(e.length)&&!Po(e)}function jo(e){return ti(e)&&Uo(e)}var Qo=mt||hl,_o=Zt?$t(Zt):function(e){return ti(e)&&Br(e)==y};function Oo(e){if(!ti(e))return!1;var t=Br(e);return t==Z||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ai(e)}function Po(e){if(!ei(e))return!1;var t=Br(e);return t==v||t==G||"[object AsyncFunction]"==t||"[object Proxy]"==t}function qo(e){return"number"==typeof e&&e==di(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ei(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ti(e){return null!=e&&"object"==typeof e}var ni=vt?$t(vt):function(e){return ti(e)&&dg(e)==B};function ri(e){return"number"==typeof e||ti(e)&&Br(e)==S}function ai(e){if(!ti(e)||Br(e)!=k)return!1;var t=Ue(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ye.call(n)==Ke}var gi=Gt?$t(Gt):function(e){return ti(e)&&Br(e)==V};var oi=Bt?$t(Bt):function(e){return ti(e)&&dg(e)==R};function ii(e){return"string"==typeof e||!To(e)&&ti(e)&&Br(e)==w}function li(e){return"symbol"==typeof e||ti(e)&&Br(e)==X}var si=St?$t(St):function(e){return ti(e)&&$o(e.length)&&!!lt[Br(e)]};var ci=Ua(Fr),Ii=Ua((function(e,t){return e<=t}));function ui(e){if(!e)return[];if(Uo(e))return ii(e)?An(e):Va(e);if(Pe&&e[Pe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Pe]());var t=dg(e);return(t==B?sn:t==R?un:Mi)(e)}function Ci(e){return e?(e=hi(e))===C||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function di(e){var t=Ci(e),n=t%1;return t===t?n?t-n:t:0}function Ai(e){return e?ir(di(e),0,h):0}function hi(e){if("number"==typeof e)return e;if(li(e))return A;if(ei(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ei(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var n=me.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):he.test(e)?A:+e}function mi(e){return Ra(e,Xi(e))}function pi(e){return null==e?"":sa(e)}var bi=Xa((function(e,t){if(vg(t)||Uo(t))Ra(t,wi(t),e);else for(var n in t)xe.call(t,n)&&tr(e,n,t[n])})),fi=Xa((function(e,t){Ra(t,Xi(t),e)})),yi=Xa((function(e,t,n,r){Ra(t,Xi(t),e,r)})),Zi=Xa((function(e,t,n,r){Ra(t,wi(t),e,r)})),vi=ng(or);var Gi=Or((function(e,t){e=Se(e);var n=-1,r=t.length,g=r>2?t[2]:a;for(g&&bg(t[0],t[1],g)&&(r=1);++n<r;)for(var o=t[n],i=Xi(o),l=-1,s=i.length;++l<s;){var c=i[l],I=e[c];(I===a||Mo(I,Xe[c])&&!xe.call(e,c))&&(e[c]=o[c])}return e})),Bi=Or((function(e){return e.push(a,$a),kt(Yi,a,e)}));function Si(e,t,n){var r=null==e?a:vr(e,t);return r===a?n:r}function ki(e,t){return null!=e&&Ag(e,t,Wr)}var Wi=Da((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(rl)),Vi=Da((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]}),lg),Ri=Or(Rr);function wi(e){return Uo(e)?On(e):Hr(e)}function Xi(e){return Uo(e)?On(e,!0):Nr(e)}var Ji=Xa((function(e,t,n){Er(e,t,n)})),Yi=Xa((function(e,t,n,r){Er(e,t,n,r)})),xi=ng((function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,(function(t){return t=ba(t,e),r||(r=t.length>1),t})),Ra(e,ag(e),n),r&&(n=lr(n,7,eg));for(var a=t.length;a--;)Ia(n,t[a]);return n}));var Hi=ng((function(e,t){return null==e?{}:function(e,t){return Lr(e,t,(function(t,n){return ki(e,n)}))}(e,t)}));function Ni(e,t){if(null==e)return{};var n=xt(ag(e),(function(e){return[e]}));return t=lg(t),Lr(e,n,(function(e,n){return t(e,n[0])}))}var Fi=Oa(wi),Ki=Oa(Xi);function Mi(e){return null==e?[]:en(e,wi(e))}var Di=Ha((function(e,t,n){return t=t.toLowerCase(),e+(n?Ei(t):t)}));function Ei(e){return Oi(pi(e).toLowerCase())}function zi(e){return(e=pi(e))&&e.replace(ye,an).replace(tt,"")}var Ti=Ha((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Li=Ha((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ui=xa("toLowerCase");var ji=Ha((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qi=Ha((function(e,t,n){return e+(n?" ":"")+Oi(t)}));var _i=Ha((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Oi=xa("toUpperCase");function Pi(e,t,n){return e=pi(e),(t=n?a:t)===a?function(e){return gt.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(Ie)||[]}(e):e.match(t)||[]}var qi=Or((function(e,t){try{return kt(e,a,t)}catch(n){return Oo(n)?n:new ie(n)}})),$i=ng((function(e,t){return Vt(t,(function(t){t=Hg(t),gr(e,t,Vo(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Ka(),nl=Ka(!0);function rl(e){return e}function al(e){return xr("function"==typeof e?e:lr(e,1))}var gl=Or((function(e,t){return function(n){return Rr(n,e,t)}})),ol=Or((function(e,t){return function(n){return Rr(e,n,t)}}));function il(e,t,n){var r=wi(t),a=Zr(t,r);null!=n||ei(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Zr(t,wi(t)));var g=!(ei(n)&&"chain"in n)||!!n.chain,o=Po(e);return Vt(a,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(g||t){var n=e(this.__wrapped__);return(n.__actions__=Va(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ht([this.value()],arguments))})})),e}function ll(){}var sl=za(xt),cl=za(wt),Il=za(Kt);function ul(e){return fg(e)?jt(Hg(e)):function(e){return function(t){return vr(t,e)}}(e)}var Cl=La(),dl=La(!0);function Al(){return[]}function hl(){return!1}var ml=Ea((function(e,t){return e+t}),0),pl=Qa("ceil"),bl=Ea((function(e,t){return e/t}),1),fl=Qa("floor");var yl=Ea((function(e,t){return e*t}),1),Zl=Qa("round"),vl=Ea((function(e,t){return e-t}),0);return Mn.after=function(e,t){if("function"!=typeof t)throw new Ve(g);return e=di(e),function(){if(--e<1)return t.apply(this,arguments)}},Mn.ary=ko,Mn.assign=bi,Mn.assignIn=fi,Mn.assignInWith=yi,Mn.assignWith=Zi,Mn.at=vi,Mn.before=Wo,Mn.bind=Vo,Mn.bindAll=$i,Mn.bindKey=Ro,Mn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return To(e)?e:[e]},Mn.chain=Io,Mn.chunk=function(e,t,r){t=(r?bg(e,t,r):t===a)?1:Qt(di(t),0);var g=null==e?0:e.length;if(!g||t<1)return[];for(var o=0,i=0,l=n(Ct(g/t));o<g;)l[i++]=ra(e,o,o+=t);return l},Mn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var g=e[t];g&&(a[r++]=g)}return a},Mn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Ht(To(r)?Va(r):[r],mr(t,1))},Mn.cond=function(e){var t=null==e?0:e.length,n=lg();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Ve(g);return[n(e[0]),e[1]]})):[],Or((function(n){for(var r=-1;++r<t;){var a=e[r];if(kt(a[0],this,n))return kt(a[1],this,n)}}))},Mn.conforms=function(e){return function(e){var t=wi(e);return function(n){return sr(n,e,t)}}(lr(e,1))},Mn.constant=el,Mn.countBy=Ao,Mn.create=function(e,t){var n=Dn(e);return null==t?n:ar(n,t)},Mn.curry=function e(t,n,r){var g=Pa(t,8,a,a,a,a,a,n=r?a:n);return g.placeholder=e.placeholder,g},Mn.curryRight=function e(t,n,r){var g=Pa(t,l,a,a,a,a,a,n=r?a:n);return g.placeholder=e.placeholder,g},Mn.debounce=wo,Mn.defaults=Gi,Mn.defaultsDeep=Bi,Mn.defer=Xo,Mn.delay=Jo,Mn.difference=Kg,Mn.differenceBy=Mg,Mn.differenceWith=Dg,Mn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=n||t===a?1:di(t))<0?0:t,r):[]},Mn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,0,(t=r-(t=n||t===a?1:di(t)))<0?0:t):[]},Mn.dropRightWhile=function(e,t){return e&&e.length?Ca(e,lg(t,3),!0,!0):[]},Mn.dropWhile=function(e,t){return e&&e.length?Ca(e,lg(t,3),!0):[]},Mn.fill=function(e,t,n,r){var g=null==e?0:e.length;return g?(n&&"number"!=typeof n&&bg(e,t,n)&&(n=0,r=g),function(e,t,n,r){var g=e.length;for((n=di(n))<0&&(n=-n>g?0:g+n),(r=r===a||r>g?g:di(r))<0&&(r+=g),r=n>r?0:Ai(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Mn.filter=function(e,t){return(To(e)?Xt:hr)(e,lg(t,3))},Mn.flatMap=function(e,t){return mr(vo(e,t),1)},Mn.flatMapDeep=function(e,t){return mr(vo(e,t),C)},Mn.flatMapDepth=function(e,t,n){return n=n===a?1:di(n),mr(vo(e,t),n)},Mn.flatten=Tg,Mn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,C):[]},Mn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===a?1:di(t)):[]},Mn.flip=function(e){return Pa(e,512)},Mn.flow=tl,Mn.flowRight=nl,Mn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},Mn.functions=function(e){return null==e?[]:Zr(e,wi(e))},Mn.functionsIn=function(e){return null==e?[]:Zr(e,Xi(e))},Mn.groupBy=fo,Mn.initial=function(e){return(null==e?0:e.length)?ra(e,0,-1):[]},Mn.intersection=Ug,Mn.intersectionBy=jg,Mn.intersectionWith=Qg,Mn.invert=Wi,Mn.invertBy=Vi,Mn.invokeMap=yo,Mn.iteratee=al,Mn.keyBy=Zo,Mn.keys=wi,Mn.keysIn=Xi,Mn.map=vo,Mn.mapKeys=function(e,t){var n={};return t=lg(t,3),fr(e,(function(e,r,a){gr(n,t(e,r,a),e)})),n},Mn.mapValues=function(e,t){var n={};return t=lg(t,3),fr(e,(function(e,r,a){gr(n,r,t(e,r,a))})),n},Mn.matches=function(e){return Mr(lr(e,1))},Mn.matchesProperty=function(e,t){return Dr(e,lr(t,1))},Mn.memoize=Yo,Mn.merge=Ji,Mn.mergeWith=Yi,Mn.method=gl,Mn.methodOf=ol,Mn.mixin=il,Mn.negate=xo,Mn.nthArg=function(e){return e=di(e),Or((function(t){return zr(t,e)}))},Mn.omit=xi,Mn.omitBy=function(e,t){return Ni(e,xo(lg(t)))},Mn.once=function(e){return Wo(2,e)},Mn.orderBy=function(e,t,n,r){return null==e?[]:(To(t)||(t=null==t?[]:[t]),To(n=r?a:n)||(n=null==n?[]:[n]),Tr(e,t,n))},Mn.over=sl,Mn.overArgs=Ho,Mn.overEvery=cl,Mn.overSome=Il,Mn.partial=No,Mn.partialRight=Fo,Mn.partition=Go,Mn.pick=Hi,Mn.pickBy=Ni,Mn.property=ul,Mn.propertyOf=function(e){return function(t){return null==e?a:vr(e,t)}},Mn.pull=Og,Mn.pullAll=Pg,Mn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,lg(n,2)):e},Mn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,a,n):e},Mn.pullAt=qg,Mn.range=Cl,Mn.rangeRight=dl,Mn.rearg=Ko,Mn.reject=function(e,t){return(To(e)?Xt:hr)(e,xo(lg(t,3)))},Mn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],g=e.length;for(t=lg(t,3);++r<g;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return jr(e,a),n},Mn.rest=function(e,t){if("function"!=typeof e)throw new Ve(g);return Or(e,t=t===a?t:di(t))},Mn.reverse=$g,Mn.sampleSize=function(e,t,n){return t=(n?bg(e,t,n):t===a)?1:di(t),(To(e)?qn:qr)(e,t)},Mn.set=function(e,t,n){return null==e?e:$r(e,t,n)},Mn.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:$r(e,t,n,r)},Mn.shuffle=function(e){return(To(e)?$n:na)(e)},Mn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bg(e,t,n)?(t=0,n=r):(t=null==t?0:di(t),n=n===a?r:di(n)),ra(e,t,n)):[]},Mn.sortBy=Bo,Mn.sortedUniq=function(e){return e&&e.length?ia(e):[]},Mn.sortedUniqBy=function(e,t){return e&&e.length?ia(e,lg(t,2)):[]},Mn.split=function(e,t,n){return n&&"number"!=typeof n&&bg(e,t,n)&&(t=n=a),(n=n===a?h:n>>>0)?(e=pi(e))&&("string"==typeof t||null!=t&&!gi(t))&&!(t=sa(t))&&ln(e)?ya(An(e),0,n):e.split(t,n):[]},Mn.spread=function(e,t){if("function"!=typeof e)throw new Ve(g);return t=null==t?0:Qt(di(t),0),Or((function(n){var r=n[t],a=ya(n,0,t);return r&&Ht(a,r),kt(e,this,a)}))},Mn.tail=function(e){var t=null==e?0:e.length;return t?ra(e,1,t):[]},Mn.take=function(e,t,n){return e&&e.length?ra(e,0,(t=n||t===a?1:di(t))<0?0:t):[]},Mn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ra(e,(t=r-(t=n||t===a?1:di(t)))<0?0:t,r):[]},Mn.takeRightWhile=function(e,t){return e&&e.length?Ca(e,lg(t,3),!1,!0):[]},Mn.takeWhile=function(e,t){return e&&e.length?Ca(e,lg(t,3)):[]},Mn.tap=function(e,t){return t(e),e},Mn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Ve(g);return ei(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),wo(e,t,{leading:r,maxWait:t,trailing:a})},Mn.thru=uo,Mn.toArray=ui,Mn.toPairs=Fi,Mn.toPairsIn=Ki,Mn.toPath=function(e){return To(e)?xt(e,Hg):li(e)?[e]:Va(xg(pi(e)))},Mn.toPlainObject=mi,Mn.transform=function(e,t,n){var r=To(e),a=r||Qo(e)||si(e);if(t=lg(t,4),null==n){var g=e&&e.constructor;n=a?r?new g:[]:ei(e)&&Po(g)?Dn(Ue(e)):{}}return(a?Vt:fr)(e,(function(e,r,a){return t(n,e,r,a)})),n},Mn.unary=function(e){return ko(e,1)},Mn.union=eo,Mn.unionBy=to,Mn.unionWith=no,Mn.uniq=function(e){return e&&e.length?ca(e):[]},Mn.uniqBy=function(e,t){return e&&e.length?ca(e,lg(t,2)):[]},Mn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?ca(e,a,t):[]},Mn.unset=function(e,t){return null==e||Ia(e,t)},Mn.unzip=ro,Mn.unzipWith=ao,Mn.update=function(e,t,n){return null==e?e:ua(e,t,pa(n))},Mn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:ua(e,t,pa(n),r)},Mn.values=Mi,Mn.valuesIn=function(e){return null==e?[]:en(e,Xi(e))},Mn.without=go,Mn.words=Pi,Mn.wrap=function(e,t){return No(pa(t),e)},Mn.xor=oo,Mn.xorBy=io,Mn.xorWith=lo,Mn.zip=so,Mn.zipObject=function(e,t){return ha(e||[],t||[],tr)},Mn.zipObjectDeep=function(e,t){return ha(e||[],t||[],$r)},Mn.zipWith=co,Mn.entries=Fi,Mn.entriesIn=Ki,Mn.extend=fi,Mn.extendWith=yi,il(Mn,Mn),Mn.add=ml,Mn.attempt=qi,Mn.camelCase=Di,Mn.capitalize=Ei,Mn.ceil=pl,Mn.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=hi(n))===n?n:0),t!==a&&(t=(t=hi(t))===t?t:0),ir(hi(e),t,n)},Mn.clone=function(e){return lr(e,4)},Mn.cloneDeep=function(e){return lr(e,5)},Mn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:a)},Mn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:a)},Mn.conformsTo=function(e,t){return null==t||sr(e,t,wi(t))},Mn.deburr=zi,Mn.defaultTo=function(e,t){return null==e||e!==e?t:e},Mn.divide=bl,Mn.endsWith=function(e,t,n){e=pi(e),t=sa(t);var r=e.length,g=n=n===a?r:ir(di(n),0,r);return(n-=t.length)>=0&&e.slice(n,g)==t},Mn.eq=Mo,Mn.escape=function(e){return(e=pi(e))&&P.test(e)?e.replace(_,gn):e},Mn.escapeRegExp=function(e){return(e=pi(e))&&ge.test(e)?e.replace(ae,"\\$&"):e},Mn.every=function(e,t,n){var r=To(e)?wt:dr;return n&&bg(e,t,n)&&(t=a),r(e,lg(t,3))},Mn.find=ho,Mn.findIndex=Eg,Mn.findKey=function(e,t){return Dt(e,lg(t,3),fr)},Mn.findLast=mo,Mn.findLastIndex=zg,Mn.findLastKey=function(e,t){return Dt(e,lg(t,3),yr)},Mn.floor=fl,Mn.forEach=po,Mn.forEachRight=bo,Mn.forIn=function(e,t){return null==e?e:pr(e,lg(t,3),Xi)},Mn.forInRight=function(e,t){return null==e?e:br(e,lg(t,3),Xi)},Mn.forOwn=function(e,t){return e&&fr(e,lg(t,3))},Mn.forOwnRight=function(e,t){return e&&yr(e,lg(t,3))},Mn.get=Si,Mn.gt=Do,Mn.gte=Eo,Mn.has=function(e,t){return null!=e&&Ag(e,t,kr)},Mn.hasIn=ki,Mn.head=Lg,Mn.identity=rl,Mn.includes=function(e,t,n,r){e=Uo(e)?e:Mi(e),n=n&&!r?di(n):0;var a=e.length;return n<0&&(n=Qt(a+n,0)),ii(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&zt(e,t,n)>-1},Mn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:di(n);return a<0&&(a=Qt(r+a,0)),zt(e,t,a)},Mn.inRange=function(e,t,n){return t=Ci(t),n===a?(n=t,t=0):n=Ci(n),function(e,t,n){return e>=bn(t,n)&&e<Qt(t,n)}(e=hi(e),t,n)},Mn.invoke=Ri,Mn.isArguments=zo,Mn.isArray=To,Mn.isArrayBuffer=Lo,Mn.isArrayLike=Uo,Mn.isArrayLikeObject=jo,Mn.isBoolean=function(e){return!0===e||!1===e||ti(e)&&Br(e)==f},Mn.isBuffer=Qo,Mn.isDate=_o,Mn.isElement=function(e){return ti(e)&&1===e.nodeType&&!ai(e)},Mn.isEmpty=function(e){if(null==e)return!0;if(Uo(e)&&(To(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||si(e)||zo(e)))return!e.length;var t=dg(e);if(t==B||t==R)return!e.size;if(vg(e))return!Hr(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},Mn.isEqual=function(e,t){return Xr(e,t)},Mn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?Xr(e,t,a,n):!!r},Mn.isError=Oo,Mn.isFinite=function(e){return"number"==typeof e&&bt(e)},Mn.isFunction=Po,Mn.isInteger=qo,Mn.isLength=$o,Mn.isMap=ni,Mn.isMatch=function(e,t){return e===t||Jr(e,t,cg(t))},Mn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Jr(e,t,cg(t),n)},Mn.isNaN=function(e){return ri(e)&&e!=+e},Mn.isNative=function(e){if(Zg(e))throw new ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Yr(e)},Mn.isNil=function(e){return null==e},Mn.isNull=function(e){return null===e},Mn.isNumber=ri,Mn.isObject=ei,Mn.isObjectLike=ti,Mn.isPlainObject=ai,Mn.isRegExp=gi,Mn.isSafeInteger=function(e){return qo(e)&&e>=-9007199254740991&&e<=d},Mn.isSet=oi,Mn.isString=ii,Mn.isSymbol=li,Mn.isTypedArray=si,Mn.isUndefined=function(e){return e===a},Mn.isWeakMap=function(e){return ti(e)&&dg(e)==J},Mn.isWeakSet=function(e){return ti(e)&&"[object WeakSet]"==Br(e)},Mn.join=function(e,t){return null==e?"":ft.call(e,t)},Mn.kebabCase=Ti,Mn.last=_g,Mn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var g=r;return n!==a&&(g=(g=di(n))<0?Qt(r+g,0):bn(g,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,g):Et(e,Lt,g,!0)},Mn.lowerCase=Li,Mn.lowerFirst=Ui,Mn.lt=ci,Mn.lte=Ii,Mn.max=function(e){return e&&e.length?Ar(e,rl,Sr):a},Mn.maxBy=function(e,t){return e&&e.length?Ar(e,lg(t,2),Sr):a},Mn.mean=function(e){return Ut(e,rl)},Mn.meanBy=function(e,t){return Ut(e,lg(t,2))},Mn.min=function(e){return e&&e.length?Ar(e,rl,Fr):a},Mn.minBy=function(e,t){return e&&e.length?Ar(e,lg(t,2),Fr):a},Mn.stubArray=Al,Mn.stubFalse=hl,Mn.stubObject=function(){return{}},Mn.stubString=function(){return""},Mn.stubTrue=function(){return!0},Mn.multiply=yl,Mn.nth=function(e,t){return e&&e.length?zr(e,di(t)):a},Mn.noConflict=function(){return At._===this&&(At._=Me),this},Mn.noop=ll,Mn.now=So,Mn.pad=function(e,t,n){e=pi(e);var r=(t=di(t))?dn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Ta(dt(a),n)+e+Ta(Ct(a),n)},Mn.padEnd=function(e,t,n){e=pi(e);var r=(t=di(t))?dn(e):0;return t&&r<t?e+Ta(t-r,n):e},Mn.padStart=function(e,t,n){e=pi(e);var r=(t=di(t))?dn(e):0;return t&&r<t?Ta(t-r,n)+e:e},Mn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(pi(e).replace(oe,""),t||0)},Mn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bg(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=Ci(e),t===a?(t=e,e=0):t=Ci(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var g=Zn();return bn(e+g*(t-e+It("1e-"+((g+"").length-1))),t)}return Qr(e,t)},Mn.reduce=function(e,t,n){var r=To(e)?Nt:_t,a=arguments.length<3;return r(e,lg(t,4),n,a,ur)},Mn.reduceRight=function(e,t,n){var r=To(e)?Ft:_t,a=arguments.length<3;return r(e,lg(t,4),n,a,Cr)},Mn.repeat=function(e,t,n){return t=(n?bg(e,t,n):t===a)?1:di(t),_r(pi(e),t)},Mn.replace=function(){var e=arguments,t=pi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Mn.result=function(e,t,n){var r=-1,g=(t=ba(t,e)).length;for(g||(g=1,e=a);++r<g;){var o=null==e?a:e[Hg(t[r])];o===a&&(r=g,o=n),e=Po(o)?o.call(e):o}return e},Mn.round=Zl,Mn.runInContext=e,Mn.sample=function(e){return(To(e)?Pn:Pr)(e)},Mn.size=function(e){if(null==e)return 0;if(Uo(e))return ii(e)?dn(e):e.length;var t=dg(e);return t==B||t==R?e.size:Hr(e).length},Mn.snakeCase=ji,Mn.some=function(e,t,n){var r=To(e)?Kt:aa;return n&&bg(e,t,n)&&(t=a),r(e,lg(t,3))},Mn.sortedIndex=function(e,t){return ga(e,t)},Mn.sortedIndexBy=function(e,t,n){return oa(e,t,lg(n,2))},Mn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ga(e,t);if(r<n&&Mo(e[r],t))return r}return-1},Mn.sortedLastIndex=function(e,t){return ga(e,t,!0)},Mn.sortedLastIndexBy=function(e,t,n){return oa(e,t,lg(n,2),!0)},Mn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ga(e,t,!0)-1;if(Mo(e[n],t))return n}return-1},Mn.startCase=Qi,Mn.startsWith=function(e,t,n){return e=pi(e),n=null==n?0:ir(di(n),0,e.length),t=sa(t),e.slice(n,n+t.length)==t},Mn.subtract=vl,Mn.sum=function(e){return e&&e.length?Ot(e,rl):0},Mn.sumBy=function(e,t){return e&&e.length?Ot(e,lg(t,2)):0},Mn.template=function(e,t,n){var r=Mn.templateSettings;n&&bg(e,t,n)&&(t=a),e=pi(e),t=yi({},t,r,qa);var g,o,i=yi({},t.imports,r.imports,qa),l=wi(i),s=en(i,l),c=0,I=t.interpolate||Ze,u="__p += '",C=ke((t.escape||Ze).source+"|"+I.source+"|"+(I===ee?de:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),d="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(C,(function(t,n,r,a,i,l){return r||(r=a),u+=e.slice(c,l).replace(ve,on),n&&(g=!0,u+="' +\n__e("+n+") +\n'"),i&&(o=!0,u+="';\n"+i+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),u+="';\n";var A=xe.call(t,"variable")&&t.variable;if(A){if(ue.test(A))throw new ie("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(o?u.replace(L,""):u).replace(U,"$1").replace(j,"$1;"),u="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(g?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var h=qi((function(){return Ge(l,d+"return "+u).apply(a,s)}));if(h.source=u,Oo(h))throw h;return h},Mn.times=function(e,t){if((e=di(e))<1||e>d)return[];var n=h,r=bn(e,h);t=lg(t),e-=h;for(var a=Pt(r,t);++n<e;)t(n);return a},Mn.toFinite=Ci,Mn.toInteger=di,Mn.toLength=Ai,Mn.toLower=function(e){return pi(e).toLowerCase()},Mn.toNumber=hi,Mn.toSafeInteger=function(e){return e?ir(di(e),-9007199254740991,d):0===e?e:0},Mn.toString=pi,Mn.toUpper=function(e){return pi(e).toUpperCase()},Mn.trim=function(e,t,n){if((e=pi(e))&&(n||t===a))return qt(e);if(!e||!(t=sa(t)))return e;var r=An(e),g=An(t);return ya(r,nn(r,g),rn(r,g)+1).join("")},Mn.trimEnd=function(e,t,n){if((e=pi(e))&&(n||t===a))return e.slice(0,hn(e)+1);if(!e||!(t=sa(t)))return e;var r=An(e);return ya(r,0,rn(r,An(t))+1).join("")},Mn.trimStart=function(e,t,n){if((e=pi(e))&&(n||t===a))return e.replace(oe,"");if(!e||!(t=sa(t)))return e;var r=An(e);return ya(r,nn(r,An(t))).join("")},Mn.truncate=function(e,t){var n=30,r="...";if(ei(t)){var g="separator"in t?t.separator:g;n="length"in t?di(t.length):n,r="omission"in t?sa(t.omission):r}var o=(e=pi(e)).length;if(ln(e)){var i=An(e);o=i.length}if(n>=o)return e;var l=n-dn(r);if(l<1)return r;var s=i?ya(i,0,l).join(""):e.slice(0,l);if(g===a)return s+r;if(i&&(l+=s.length-l),gi(g)){if(e.slice(l).search(g)){var c,I=s;for(g.global||(g=ke(g.source,pi(Ae.exec(g))+"g")),g.lastIndex=0;c=g.exec(I);)var u=c.index;s=s.slice(0,u===a?l:u)}}else if(e.indexOf(sa(g),l)!=l){var C=s.lastIndexOf(g);C>-1&&(s=s.slice(0,C))}return s+r},Mn.unescape=function(e){return(e=pi(e))&&O.test(e)?e.replace(Q,mn):e},Mn.uniqueId=function(e){var t=++He;return pi(e)+t},Mn.upperCase=_i,Mn.upperFirst=Oi,Mn.each=po,Mn.eachRight=bo,Mn.first=Lg,il(Mn,function(){var e={};return fr(Mn,(function(t,n){xe.call(Mn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Mn.VERSION="4.17.21",Vt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Mn[e].placeholder=Mn})),Vt(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=n===a?1:Qt(di(n),0);var r=this.__filtered__&&!t?new Tn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Vt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lg(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Vt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),Vt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(rl)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=Or((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return Rr(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(xo(lg(e)))},Tn.prototype.slice=function(e,t){e=di(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=di(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(h)},fr(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),g=Mn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);g&&(Mn.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,l=t instanceof Tn,s=i[0],c=l||To(t),I=function(e){var t=g.apply(Mn,Ht([e],i));return r&&u?t[0]:t};c&&n&&"function"==typeof s&&1!=s.length&&(l=c=!1);var u=this.__chain__,C=!!this.__actions__.length,d=o&&!u,A=l&&!C;if(!o&&c){t=A?t:new Tn(this);var h=e.apply(t,i);return h.__actions__.push({func:uo,args:[I],thisArg:a}),new zn(h,u)}return d&&A?e.apply(this,i):(h=this.thru(I),d?r?h.value()[0]:h.value():h)})})),Vt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Mn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(To(a)?a:[],e)}return this[n]((function(n){return t.apply(To(n)?n:[],e)}))}})),fr(Tn.prototype,(function(e,t){var n=Mn[t];if(n){var r=n.name+"";xe.call(wn,r)||(wn[r]=[]),wn[r].push({name:t,func:n})}})),wn[Ma(a,2).name]=[{name:"wrapper",func:a}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=Va(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Va(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Va(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=To(e),r=t<0,a=n?e.length:0,g=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var g=n[r],o=g.size;switch(g.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=Qt(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=g.start,i=g.end,l=i-o,s=r?i:o-1,c=this.__iteratees__,I=c.length,u=0,C=bn(l,this.__takeCount__);if(!n||!r&&a==l&&C==l)return da(e,this.__actions__);var d=[];e:for(;l--&&u<C;){for(var A=-1,h=e[s+=t];++A<I;){var m=c[A],p=m.iteratee,b=m.type,f=p(h);if(2==b)h=f;else if(!f){if(1==b)continue e;break e}}d[u++]=h}return d},Mn.prototype.at=Co,Mn.prototype.chain=function(){return Io(this)},Mn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Mn.prototype.next=function(){this.__values__===a&&(this.__values__=ui(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Mn.prototype.plant=function(e){for(var t,n=this;n instanceof En;){var r=Fg(n);r.__index__=0,r.__values__=a,t?g.__wrapped__=r:t=r;var g=r;n=n.__wrapped__}return g.__wrapped__=e,t},Mn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:uo,args:[$g],thisArg:a}),new zn(t,this.__chain__)}return this.thru($g)},Mn.prototype.toJSON=Mn.prototype.valueOf=Mn.prototype.value=function(){return da(this.__wrapped__,this.__actions__)},Mn.prototype.first=Mn.prototype.head,Pe&&(Mn.prototype[Pe]=function(){return this}),Mn}();At._=pn,(r=function(){return pn}.call(t,n,t,e))===a||(e.exports=r)}.call(this)},6222:function(e,t,n){var r=n(6381)();e.exports=r},871:function(e,t,n){var r=n(2658)("round");e.exports=r},1495:function(e,t,n){var r=n(2582),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),a=n(8092),g=n(152),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},4627:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));e.exports=r},5660:function(e,t,n){var r=n(240),a=n(7137),g=n(3518),o=n(1029);e.exports=function(e,t,n){return e=g(e),void 0===(t=n?void 0:t)?a(e)?o(e):r(e):e.match(t)||[]}},8015:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,n){return e<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(2426))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){t=e}function g(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function s(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function I(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[],a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function C(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return Qn(e,t,n,r,!0).utc()}function A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=A()),e._pf}function m(e){if(null==e._isValid){var t=h(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function p(e){var t=d(NaN);return null!=e?C(h(t),e):h(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],f=!1;function y(e,t){var n,r,a,g=b.length;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),g>0)for(n=0;n<g;n++)s(a=t[r=b[n]])||(e[r]=a);return e}function Z(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===f&&(f=!0,r.updateOffset(this),f=!1)}function v(e){return e instanceof Z||null!=e&&null!=e._isAMomentObject}function G(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function B(e,t){var n=!0;return C((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,g,o,l=[],s=arguments.length;for(g=0;g<s;g++){if(a="","object"===typeof arguments[g]){for(o in a+="\n["+g+"] ",arguments[0])i(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[g];l.push(a)}G(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,k={};function W(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),k[e]||(G(t),k[e]=!0)}function V(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)i(e,n)&&(V(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function w(e,t){var n,r=C({},e);for(n in t)i(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},C(r[n],e[n]),C(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)i(e,n)&&!i(t,n)&&o(e[n])&&(r[n]=C({},r[n]));return r}function X(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var J={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Y(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return V(r)?r.call(t,n):r}function x(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},K={};function M(e,t,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),e&&(K[e]=a),t&&(K[t[0]]=function(){return x(a.apply(this,arguments),t[1],t[2])}),n&&(K[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function D(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function E(e){var t,n,r=e.match(H);for(t=0,n=r.length;t<n;t++)K[r[t]]?r[t]=K[r[t]]:r[t]=D(r[t]);return function(t){var a,g="";for(a=0;a<n;a++)g+=V(r[a])?r[a].call(t,e):r[a];return g}}function z(e,t){return e.isValid()?(t=T(t,e.localeData()),F[t]=F[t]||E(t),F[t](e)):e.localeData().invalidDate()}function T(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var L={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function U(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(H).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var j="Invalid date";function Q(){return this._invalidDate}var _="%d",O=/\d{1,2}/;function P(e){return this._ordinal.replace("%d",e)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var a=this._relativeTime[n];return V(a)?a(e,t,n,r):a.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return V(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ae(e){var t,n,r={};for(n in e)i(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ge={};function oe(e,t){ge[e]=t}function ie(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:ge[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function se(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=se(t)),n}function Ie(e,t){return function(n){return null!=n?(Ce(this,e,n),r.updateOffset(this,t),this):ue(this,e)}}function ue(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ce(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function de(e){return V(this[e=re(e)])?this[e]():this}function Ae(e,t){if("object"===typeof e){var n,r=ie(e=ae(e)),a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(V(this[e=re(e)]))return this[e](t);return this}var he,me=/\d/,pe=/\d\d/,be=/\d{3}/,fe=/\d{4}/,ye=/[+-]?\d{6}/,Ze=/\d\d?/,ve=/\d\d\d\d?/,Ge=/\d\d\d\d\d\d?/,Be=/\d{1,3}/,Se=/\d{1,4}/,ke=/[+-]?\d{1,6}/,We=/\d+/,Ve=/[+-]?\d+/,Re=/Z|[+-]\d\d:?\d\d/gi,we=/Z|[+-]\d\d(?::?\d\d)?/gi,Xe=/[+-]?\d+(\.\d{1,3})?/,Je=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ye(e,t,n){he[e]=V(t)?t:function(e,r){return e&&n?n:t}}function xe(e,t){return i(he,e)?he[e](t._strict,t._locale):new RegExp(He(e))}function He(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,a){return t||n||r||a})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}he={};var Fe={};function Ke(e,t){var n,r,a=t;for("string"===typeof e&&(e=[e]),c(t)&&(a=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=a}function Me(e,t){Ke(e,(function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)}))}function De(e,t,n){null!=t&&i(Fe,e)&&Fe[e](t,n._a,n,e)}var Ee,ze=0,Te=1,Le=2,Ue=3,je=4,Qe=5,_e=6,Oe=7,Pe=8;function qe(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=qe(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},M("M",["MM",2],"Mo",(function(){return this.month()+1})),M("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),M("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Ye("M",Ze),Ye("MM",Ze,pe),Ye("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ye("MMMM",(function(e,t){return t.monthsRegex(e)})),Ke(["M","MM"],(function(e,t){t[Te]=ce(e)-1})),Ke(["MMM","MMMM"],(function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[Te]=a:h(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Je,at=Je;function gt(e,t){return e?g(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:g(this._months)?this._months:this._months.standalone}function ot(e,t){return e?g(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:g(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function it(e,t,n){var r,a,g,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)g=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(g,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(g,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ee.call(this._shortMonthsParse,o))?a:null:-1!==(a=Ee.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=Ee.call(this._shortMonthsParse,o))||-1!==(a=Ee.call(this._longMonthsParse,o))?a:null:-1!==(a=Ee.call(this._longMonthsParse,o))||-1!==(a=Ee.call(this._shortMonthsParse,o))?a:null}function lt(e,t,n){var r,a,g;if(this._monthsParseExact)return it.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(g="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(g.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function st(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(st(this,e),r.updateOffset(this,!0),this):ue(this,"Month")}function It(){return $e(this.year(),this.month())}function ut(e){return this._monthsParseExact?(i(this,"_monthsRegex")||dt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ct(e){return this._monthsParseExact?(i(this,"_monthsRegex")||dt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dt(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],g=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),g.push(this.months(n,"")),g.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),g.sort(e),t=0;t<12;t++)r[t]=Ne(r[t]),a[t]=Ne(a[t]);for(t=0;t<24;t++)g[t]=Ne(g[t]);this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function At(e){return le(e)?366:365}M("Y",0,0,(function(){var e=this.year();return e<=9999?x(e,4):"+"+e})),M(0,["YY",2],0,(function(){return this.year()%100})),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Ye("Y",Ve),Ye("YY",Ze,pe),Ye("YYYY",Se,fe),Ye("YYYYY",ke,ye),Ye("YYYYYY",ke,ye),Ke(["YYYYY","YYYYYY"],ze),Ke("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Ke("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),Ke("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var ht=Ie("FullYear",!0);function mt(){return le(this.year())}function pt(e,t,n,r,a,g,o){var i;return e<100&&e>=0?(i=new Date(e+400,t,n,r,a,g,o),isFinite(i.getFullYear())&&i.setFullYear(e)):i=new Date(e,t,n,r,a,g,o),i}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ft(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function yt(e,t,n,r,a){var g,o,i=1+7*(t-1)+(7+n-r)%7+ft(e,r,a);return i<=0?o=At(g=e-1)+i:i>At(e)?(g=e+1,o=i-At(e)):(g=e,o=i),{year:g,dayOfYear:o}}function Zt(e,t,n){var r,a,g=ft(e.year(),t,n),o=Math.floor((e.dayOfYear()-g-1)/7)+1;return o<1?r=o+vt(a=e.year()-1,t,n):o>vt(e.year(),t,n)?(r=o-vt(e.year(),t,n),a=e.year()+1):(a=e.year(),r=o),{week:r,year:a}}function vt(e,t,n){var r=ft(e,t,n),a=ft(e+1,t,n);return(At(e)-r+a)/7}function Gt(e){return Zt(e,this._week.dow,this._week.doy).week}M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Ye("w",Ze),Ye("ww",Ze,pe),Ye("W",Ze),Ye("WW",Ze,pe),Me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var Bt={dow:0,doy:6};function St(){return this._week.dow}function kt(){return this._week.doy}function Wt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Vt(e){var t=Zt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Rt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function wt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Xt(e,t){return e.slice(t,7).concat(e.slice(0,t))}M("d",0,"do","day"),M("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),M("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),M("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Ye("d",Ze),Ye("e",Ze),Ye("E",Ze),Ye("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ye("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ye("dddd",(function(e,t){return t.weekdaysRegex(e)})),Me(["dd","ddd","dddd"],(function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:h(n).invalidWeekday=e})),Me(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=Je,Nt=Je,Ft=Je;function Kt(e,t){var n=g(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Xt(n,this._week.dow):e?n[e.day()]:n}function Mt(e){return!0===e?Xt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Dt(e){return!0===e?Xt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Et(e,t,n){var r,a,g,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)g=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(g,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(g,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(g,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ee.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ee.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=Ee.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=Ee.call(this._weekdaysParse,o))||-1!==(a=Ee.call(this._shortWeekdaysParse,o))||-1!==(a=Ee.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Ee.call(this._shortWeekdaysParse,o))||-1!==(a=Ee.call(this._weekdaysParse,o))||-1!==(a=Ee.call(this._minWeekdaysParse,o))?a:null:-1!==(a=Ee.call(this._minWeekdaysParse,o))||-1!==(a=Ee.call(this._weekdaysParse,o))||-1!==(a=Ee.call(this._shortWeekdaysParse,o))?a:null}function zt(e,t,n){var r,a,g;if(this._weekdaysParseExact)return Et.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(g="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(g.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Tt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Lt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ut(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=wt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function jt(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qt(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function _t(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ot(){function e(e,t){return t.length-e.length}var t,n,r,a,g,o=[],i=[],l=[],s=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),a=Ne(this.weekdaysShort(n,"")),g=Ne(this.weekdays(n,"")),o.push(r),i.push(a),l.push(g),s.push(r),s.push(a),s.push(g);o.sort(e),i.sort(e),l.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Pt(){return this.hours()%12||12}function qt(){return this.hours()||24}function $t(e,t){M(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}M("H",["HH",2],0,"hour"),M("h",["hh",2],0,Pt),M("k",["kk",2],0,qt),M("hmm",0,0,(function(){return""+Pt.apply(this)+x(this.minutes(),2)})),M("hmmss",0,0,(function(){return""+Pt.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)})),M("Hmm",0,0,(function(){return""+this.hours()+x(this.minutes(),2)})),M("Hmmss",0,0,(function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),oe("hour",13),Ye("a",en),Ye("A",en),Ye("H",Ze),Ye("h",Ze),Ye("k",Ze),Ye("HH",Ze,pe),Ye("hh",Ze,pe),Ye("kk",Ze,pe),Ye("hmm",ve),Ye("hmmss",Ge),Ye("Hmm",ve),Ye("Hmmss",Ge),Ke(["H","HH"],Ue),Ke(["k","kk"],(function(e,t,n){var r=ce(e);t[Ue]=24===r?0:r})),Ke(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ke(["h","hh"],(function(e,t,n){t[Ue]=ce(e),h(n).bigHour=!0})),Ke("hmm",(function(e,t,n){var r=e.length-2;t[Ue]=ce(e.substr(0,r)),t[je]=ce(e.substr(r)),h(n).bigHour=!0})),Ke("hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[Ue]=ce(e.substr(0,r)),t[je]=ce(e.substr(r,2)),t[Qe]=ce(e.substr(a)),h(n).bigHour=!0})),Ke("Hmm",(function(e,t,n){var r=e.length-2;t[Ue]=ce(e.substr(0,r)),t[je]=ce(e.substr(r))})),Ke("Hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[Ue]=ce(e.substr(0,r)),t[je]=ce(e.substr(r,2)),t[Qe]=ce(e.substr(a))}));var nn=/[ap]\.?m?\.?/i,rn=Ie("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var gn,on={calendar:J,longDateFormat:L,invalidDate:j,ordinal:_,dayOfMonthOrdinalParse:O,relativeTime:q,months:et,monthsShort:tt,week:Bt,weekdays:Jt,weekdaysMin:xt,weekdaysShort:Yt,meridiemParse:nn},ln={},sn={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function In(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){for(var t,n,r,a,g=0;g<e.length;){for(t=(a=In(e[g]).split("-")).length,n=(n=In(e[g+1]))?n.split("-"):null;t>0;){if(r=dn(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(a,n)>=t-1)break;t--}g++}return gn}function Cn(e){return null!=e.match("^[^/\\\\]*$")}function dn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&Cn(t))try{n=gn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),An(n)}catch(r){ln[t]=null}return ln[t]}function An(e,t){var n;return e&&((n=s(t)?pn(e):hn(e,t))?gn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),gn._abbr}function hn(e,t){if(null!==t){var n,r=on;if(t.abbr=e,null!=ln[e])W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return sn[t.parentLocale]||(sn[t.parentLocale]=[]),sn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new X(w(r,t)),sn[e]&&sn[e].forEach((function(e){hn(e.name,e.config)})),An(e),ln[e]}return delete ln[e],null}function mn(e,t){if(null!=t){var n,r,a=on;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(w(ln[e]._config,t)):(null!=(r=dn(e))&&(a=r._config),t=w(a,t),null==r&&(t.abbr=e),(n=new X(t)).parentLocale=ln[e],ln[e]=n),An(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===An()&&An(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function pn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return gn;if(!g(e)){if(t=dn(e))return t;e=[e]}return un(e)}function bn(){return S(ln)}function fn(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[Te]<0||n[Te]>11?Te:n[Le]<1||n[Le]>$e(n[ze],n[Te])?Le:n[Ue]<0||n[Ue]>24||24===n[Ue]&&(0!==n[je]||0!==n[Qe]||0!==n[_e])?Ue:n[je]<0||n[je]>59?je:n[Qe]<0||n[Qe]>59?Qe:n[_e]<0||n[_e]>999?_e:-1,h(e)._overflowDayOfYear&&(t<ze||t>Le)&&(t=Le),h(e)._overflowWeeks&&-1===t&&(t=Oe),h(e)._overflowWeekday&&-1===t&&(t=Pe),h(e).overflow=t),e}var yn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vn=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Bn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vn(e){var t,n,r,a,g,o,i=e._i,l=yn.exec(i)||Zn.exec(i),s=Gn.length,c=Bn.length;if(l){for(h(e).iso=!0,t=0,n=s;t<n;t++)if(Gn[t][1].exec(l[1])){a=Gn[t][0],r=!1!==Gn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(Bn[t][1].exec(l[3])){g=(l[2]||" ")+Bn[t][0];break}if(null==g)return void(e._isValid=!1)}if(!r&&null!=g)return void(e._isValid=!1);if(l[4]){if(!vn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=a+(g||"")+(o||""),Dn(e)}else e._isValid=!1}function Rn(e,t,n,r,a,g){var o=[wn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return g&&o.push(parseInt(g,10)),o}function wn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Xn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jn(e,t,n){return!e||Yt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Yn(e,t,n){if(e)return Wn[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}function xn(e){var t,n=kn.exec(Xn(e._i));if(n){if(t=Rn(n[4],n[3],n[2],n[5],n[6],n[7]),!Jn(n[1],t,e))return;e._a=t,e._tzm=Yn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Hn(e){var t=Sn.exec(e._i);null===t?(Vn(e),!1===e._isValid&&(delete e._isValid,xn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Kn(e){var t,n,r,a,g,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Le]&&null==e._a[Te]&&Mn(e),null!=e._dayOfYear&&(g=Nn(e._a[ze],r[ze]),(e._dayOfYear>At(g)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=bt(g,0,e._dayOfYear),e._a[Te]=n.getUTCMonth(),e._a[Le]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ue]&&0===e._a[je]&&0===e._a[Qe]&&0===e._a[_e]&&(e._nextDay=!0,e._a[Ue]=0),e._d=(e._useUTC?bt:pt).apply(null,o),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ue]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==a&&(h(e).weekdayMismatch=!0)}}function Mn(e){var t,n,r,a,g,o,i,l,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(g=1,o=4,n=Nn(t.GG,e._a[ze],Zt(_n(),1,4).year),r=Nn(t.W,1),((a=Nn(t.E,1))<1||a>7)&&(l=!0)):(g=e._locale._week.dow,o=e._locale._week.doy,s=Zt(_n(),g,o),n=Nn(t.gg,e._a[ze],s.year),r=Nn(t.w,s.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+g,(t.e<0||t.e>6)&&(l=!0)):a=g),r<1||r>vt(n,g,o)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(i=yt(n,r,a,g,o),e._a[ze]=i.year,e._dayOfYear=i.dayOfYear)}function Dn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],h(e).empty=!0;var t,n,a,g,o,i,l,s=""+e._i,c=s.length,I=0;for(l=(a=T(e._f,e._locale).match(H)||[]).length,t=0;t<l;t++)g=a[t],(n=(s.match(xe(g,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),I+=n.length),K[g]?(n?h(e).empty=!1:h(e).unusedTokens.push(g),De(g,n,e)):e._strict&&!n&&h(e).unusedTokens.push(g);h(e).charsLeftOver=c-I,s.length>0&&h(e).unusedInput.push(s),e._a[Ue]<=12&&!0===h(e).bigHour&&e._a[Ue]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Ue]=En(e._locale,e._a[Ue],e._meridiem),null!==(i=h(e).era)&&(e._a[ze]=e._locale.erasConvertYear(i,e._a[ze])),Kn(e),fn(e)}else xn(e);else Vn(e)}function En(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function zn(e){var t,n,r,a,g,o,i=!1,l=e._f.length;if(0===l)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)g=0,o=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Dn(t),m(t)&&(o=!0),g+=h(t).charsLeftOver,g+=10*h(t).unusedTokens.length,h(t).score=g,i?g<r&&(r=g,n=t):(null==r||g<r||o)&&(r=g,n=t,o&&(i=!0));C(e,n||t)}function Tn(e){if(!e._d){var t=ae(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Kn(e)}}function Ln(e){var t=new Z(fn(Un(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Un(e){var t=e._i,n=e._f;return e._locale=e._locale||pn(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new Z(fn(t)):(I(t)?e._d=t:g(n)?zn(e):n?Dn(e):jn(e),m(e)||(e._d=null),e))}function jn(e){var t=e._i;s(t)?e._d=new Date(r.now()):I(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Hn(e):g(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),Kn(e)):o(t)?Tn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Qn(e,t,n,r,a){var i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&l(e)||g(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,Ln(i)}function _n(e,t,n,r){return Qn(e,t,n,r,!1)}r.createFromInputFallback=B("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var On=B("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),Pn=B("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}));function qn(e,t){var n,r;if(1===t.length&&g(t[0])&&(t=t[0]),!t.length)return _n();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return qn("isBefore",[].slice.call(arguments,0))}function er(){return qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,a=nr.length;for(t in e)if(i(e,t)&&(-1===Ee.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ar(){return this._isValid}function gr(){return Wr(NaN)}function or(e){var t=ae(e),n=t.year||0,r=t.quarter||0,a=t.month||0,g=t.week||t.isoWeek||0,o=t.day||0,i=t.hour||0,l=t.minute||0,s=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*s+6e4*l+1e3*i*60*60,this._days=+o+7*g,this._months=+a+3*r+12*n,this._data={},this._locale=pn(),this._bubble()}function ir(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function sr(e,t,n){var r,a=Math.min(e.length,t.length),g=Math.abs(e.length-t.length),o=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&o++;return o+g}function cr(e,t){M(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Ye("Z",we),Ye("ZZ",we),Ke(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=ur(we,e)}));var Ir=/([\+\-]|\d\d)/gi;function ur(e,t){var n,r,a=(t||"").match(e);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(Ir)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function Cr(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(v(e)||I(e)?e.valueOf():_n(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):_n(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function Ar(e,t,n){var a,g=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=ur(we,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=dr(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),g!==e&&(!t||this._changeInProgress?Jr(this,Wr(e-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?g:dr(this)}function hr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function pr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=ur(Re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function fr(e){return!!this.isValid()&&(e=e?_n(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function yr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zr(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=Un(t))._a?(e=t._isUTC?d(t._a):_n(t._a),this._isDSTShifted=this.isValid()&&sr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vr(){return!!this.isValid()&&!this._isUTC}function Gr(){return!!this.isValid()&&this._isUTC}function Br(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wr(e,t){var n,r,a,g=e,o=null;return ir(e)?g={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(g={},t?g[t]=+e:g.milliseconds=+e):(o=Sr.exec(e))?(n="-"===o[1]?-1:1,g={y:0,d:ce(o[Le])*n,h:ce(o[Ue])*n,m:ce(o[je])*n,s:ce(o[Qe])*n,ms:ce(lr(1e3*o[_e]))*n}):(o=kr.exec(e))?(n="-"===o[1]?-1:1,g={y:Vr(o[2],n),M:Vr(o[3],n),w:Vr(o[4],n),d:Vr(o[5],n),h:Vr(o[6],n),m:Vr(o[7],n),s:Vr(o[8],n)}):null==g?g={}:"object"===typeof g&&("from"in g||"to"in g)&&(a=wr(_n(g.from),_n(g.to)),(g={}).ms=a.milliseconds,g.M=a.months),r=new or(g),ir(e)&&i(e,"_locale")&&(r._locale=e._locale),ir(e)&&i(e,"_isValid")&&(r._isValid=e._isValid),r}function Vr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Rr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function wr(e,t){var n;return e.isValid()&&t.isValid()?(t=Cr(t,e),e.isBefore(t)?n=Rr(e,t):((n=Rr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xr(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(W(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Jr(this,Wr(n,r),e),this}}function Jr(e,t,n,a){var g=t._milliseconds,o=lr(t._days),i=lr(t._months);e.isValid()&&(a=null==a||a,i&&st(e,ue(e,"Month")+i*n),o&&Ce(e,"Date",ue(e,"Date")+o*n),g&&e._d.setTime(e._d.valueOf()+g*n),a&&r.updateOffset(e,o||i))}Wr.fn=or.prototype,Wr.invalid=gr;var Yr=Xr(1,"add"),xr=Xr(-1,"subtract");function Hr(e){return"string"===typeof e||e instanceof String}function Nr(e){return v(e)||I(e)||Hr(e)||c(e)||Kr(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!l(e),a=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=g.length;for(t=0;t<s;t+=1)n=g[t],a=a||i(e,n);return r&&a}function Kr(e){var t=g(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Hr(e)})).length),t&&n}function Mr(e){var t,n,r=o(e)&&!l(e),a=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<g.length;t+=1)n=g[t],a=a||i(e,n);return r&&a}function Dr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Er(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Mr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||_n(),a=Cr(n,this).startOf("day"),g=r.calendarFormat(this,a)||"sameElse",o=t&&(V(t[g])?t[g].call(this,n):t[g]);return this.format(o||this.localeData().calendar(g,this,_n(n)))}function zr(){return new Z(this)}function Tr(e,t){var n=v(e)?e:_n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Lr(e,t){var n=v(e)?e:_n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Ur(e,t,n,r){var a=v(e)?e:_n(e),g=v(t)?t:_n(t);return!!(this.isValid()&&a.isValid()&&g.isValid())&&("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(g,n):!this.isAfter(g,n))}function jr(e,t){var n,r=v(e)?e:_n(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function _r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Or(e,t,n){var r,a,g;if(!this.isValid())return NaN;if(!(r=Cr(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":g=Pr(this,r)/12;break;case"month":g=Pr(this,r);break;case"quarter":g=Pr(this,r)/3;break;case"second":g=(this-r)/1e3;break;case"minute":g=(this-r)/6e4;break;case"hour":g=(this-r)/36e5;break;case"day":g=(this-r-a)/864e5;break;case"week":g=(this-r-a)/6048e5;break;default:g=this-r}return n?g:se(g)}function Pr(e,t){if(e.date()<t.date())return-Pr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ea(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,a="moment",g="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",g="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=g+'[")]',this.format(e+t+n+r)}function ta(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function na(e,t){return this.isValid()&&(v(e)&&e.isValid()||_n(e).isValid())?Wr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ra(e){return this.from(_n(),e)}function aa(e,t){return this.isValid()&&(v(e)&&e.isValid()||_n(e).isValid())?Wr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ga(e){return this.to(_n(),e)}function oa(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ia=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function la(){return this._locale}var sa=1e3,ca=60*sa,Ia=60*ca,ua=3506328*Ia;function Ca(e,t){return(e%t+t)%t}function da(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ua:new Date(e,t,n).valueOf()}function Aa(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ua:Date.UTC(e,t,n)}function ha(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Aa:da,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ca(t+(this._isUTC?0:this.utcOffset()*ca),Ia);break;case"minute":t=this._d.valueOf(),t-=Ca(t,ca);break;case"second":t=this._d.valueOf(),t-=Ca(t,sa)}return this._d.setTime(t),r.updateOffset(this,!0),this}function ma(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Aa:da,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ia-Ca(t+(this._isUTC?0:this.utcOffset()*ca),Ia)-1;break;case"minute":t=this._d.valueOf(),t+=ca-Ca(t,ca)-1;break;case"second":t=this._d.valueOf(),t+=sa-Ca(t,sa)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function pa(){return this._d.valueOf()-6e4*(this._offset||0)}function ba(){return Math.floor(this.valueOf()/1e3)}function fa(){return new Date(this.valueOf())}function ya(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Za(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function va(){return this.isValid()?this.toISOString():null}function Ga(){return m(this)}function Ba(){return C({},h(this))}function Sa(){return h(this).overflow}function ka(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Wa(e,t){var n,a,g,o=this._eras||pn("en")._eras;for(n=0,a=o.length;n<a;++n)switch("string"===typeof o[n].since&&(g=r(o[n].since).startOf("day"),o[n].since=g.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":g=r(o[n].until).startOf("day").valueOf(),o[n].until=g.valueOf()}return o}function Va(e,t,n){var r,a,g,o,i,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(g=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),i=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(g===e)return l[r];break;case"NNNNN":if(i===e)return l[r]}else if([g,o,i].indexOf(e)>=0)return l[r]}function Ra(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function wa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Xa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ja(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ya(){var e,t,n,a,g=this.localeData().eras();for(e=0,t=g.length;e<t;++e)if(n=g[e].since<=g[e].until?1:-1,a=this.clone().startOf("day").valueOf(),g[e].since<=a&&a<=g[e].until||g[e].until<=a&&a<=g[e].since)return(this.year()-r(g[e].since).year())*n+g[e].offset;return this.year()}function xa(e){return i(this,"_erasNameRegex")||Ea.call(this),e?this._erasNameRegex:this._erasRegex}function Ha(e){return i(this,"_erasAbbrRegex")||Ea.call(this),e?this._erasAbbrRegex:this._erasRegex}function Na(e){return i(this,"_erasNarrowRegex")||Ea.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fa(e,t){return t.erasAbbrRegex(e)}function Ka(e,t){return t.erasNameRegex(e)}function Ma(e,t){return t.erasNarrowRegex(e)}function Da(e,t){return t._eraYearOrdinalRegex||We}function Ea(){var e,t,n=[],r=[],a=[],g=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Ne(o[e].name)),n.push(Ne(o[e].abbr)),a.push(Ne(o[e].narrow)),g.push(Ne(o[e].name)),g.push(Ne(o[e].abbr)),g.push(Ne(o[e].narrow));this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function za(e,t){M(0,[e,e.length],0,t)}function Ta(e){return Oa.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function La(e){return Oa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ua(){return vt(this.year(),1,4)}function ja(){return vt(this.isoWeekYear(),1,4)}function Qa(){var e=this.localeData()._week;return vt(this.year(),e.dow,e.doy)}function _a(){var e=this.localeData()._week;return vt(this.weekYear(),e.dow,e.doy)}function Oa(e,t,n,r,a){var g;return null==e?Zt(this,r,a).year:(t>(g=vt(e,r,a))&&(t=g),Pa.call(this,e,t,n,r,a))}function Pa(e,t,n,r,a){var g=yt(e,t,n,r,a),o=bt(g.year,0,g.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function qa(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),Ye("N",Fa),Ye("NN",Fa),Ye("NNN",Fa),Ye("NNNN",Ka),Ye("NNNNN",Ma),Ke(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?h(n).era=a:h(n).invalidEra=e})),Ye("y",We),Ye("yy",We),Ye("yyy",We),Ye("yyyy",We),Ye("yo",Da),Ke(["y","yy","yyy","yyyy"],ze),Ke(["yo"],(function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,a):t[ze]=parseInt(e,10)})),M(0,["gg",2],0,(function(){return this.weekYear()%100})),M(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),za("gggg","weekYear"),za("ggggg","weekYear"),za("GGGG","isoWeekYear"),za("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Ye("G",Ve),Ye("g",Ve),Ye("GG",Ze,pe),Ye("gg",Ze,pe),Ye("GGGG",Se,fe),Ye("gggg",Se,fe),Ye("GGGGG",ke,ye),Ye("ggggg",ke,ye),Me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Me(["gg","GG"],(function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)})),M("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Ye("Q",me),Ke("Q",(function(e,t){t[Te]=3*(ce(e)-1)})),M("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Ye("D",Ze),Ye("DD",Ze,pe),Ye("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ke(["D","DD"],Le),Ke("Do",(function(e,t){t[Le]=ce(e.match(Ze)[0])}));var $a=Ie("Date",!0);function eg(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}M("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Ye("DDD",Be),Ye("DDDD",be),Ke(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),M("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Ye("m",Ze),Ye("mm",Ze,pe),Ke(["m","mm"],je);var tg=Ie("Minutes",!1);M("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Ye("s",Ze),Ye("ss",Ze,pe),Ke(["s","ss"],Qe);var ng,rg,ag=Ie("Seconds",!1);for(M("S",0,0,(function(){return~~(this.millisecond()/100)})),M(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),M(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),M(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),M(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),M(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),M(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Ye("S",Be,me),Ye("SS",Be,pe),Ye("SSS",Be,be),ng="SSSS";ng.length<=9;ng+="S")Ye(ng,We);function gg(e,t){t[_e]=ce(1e3*("0."+e))}for(ng="S";ng.length<=9;ng+="S")Ke(ng,gg);function og(){return this._isUTC?"UTC":""}function ig(){return this._isUTC?"Coordinated Universal Time":""}rg=Ie("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var lg=Z.prototype;function sg(e){return _n(1e3*e)}function cg(){return _n.apply(null,arguments).parseZone()}function Ig(e){return e}lg.add=Yr,lg.calendar=Er,lg.clone=zr,lg.diff=Or,lg.endOf=ma,lg.format=ta,lg.from=na,lg.fromNow=ra,lg.to=aa,lg.toNow=ga,lg.get=de,lg.invalidAt=Sa,lg.isAfter=Tr,lg.isBefore=Lr,lg.isBetween=Ur,lg.isSame=jr,lg.isSameOrAfter=Qr,lg.isSameOrBefore=_r,lg.isValid=Ga,lg.lang=ia,lg.locale=oa,lg.localeData=la,lg.max=Pn,lg.min=On,lg.parsingFlags=Ba,lg.set=Ae,lg.startOf=ha,lg.subtract=xr,lg.toArray=ya,lg.toObject=Za,lg.toDate=fa,lg.toISOString=$r,lg.inspect=ea,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lg[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lg.toJSON=va,lg.toString=qr,lg.unix=ba,lg.valueOf=pa,lg.creationData=ka,lg.eraName=wa,lg.eraNarrow=Xa,lg.eraAbbr=Ja,lg.eraYear=Ya,lg.year=ht,lg.isLeapYear=mt,lg.weekYear=Ta,lg.isoWeekYear=La,lg.quarter=lg.quarters=qa,lg.month=ct,lg.daysInMonth=It,lg.week=lg.weeks=Wt,lg.isoWeek=lg.isoWeeks=Vt,lg.weeksInYear=Qa,lg.weeksInWeekYear=_a,lg.isoWeeksInYear=Ua,lg.isoWeeksInISOWeekYear=ja,lg.date=$a,lg.day=lg.days=Tt,lg.weekday=Lt,lg.isoWeekday=Ut,lg.dayOfYear=eg,lg.hour=lg.hours=rn,lg.minute=lg.minutes=tg,lg.second=lg.seconds=ag,lg.millisecond=lg.milliseconds=rg,lg.utcOffset=Ar,lg.utc=mr,lg.local=pr,lg.parseZone=br,lg.hasAlignedHourOffset=fr,lg.isDST=yr,lg.isLocal=vr,lg.isUtcOffset=Gr,lg.isUtc=Br,lg.isUTC=Br,lg.zoneAbbr=og,lg.zoneName=ig,lg.dates=B("dates accessor is deprecated. Use date instead.",$a),lg.months=B("months accessor is deprecated. Use month instead",ct),lg.years=B("years accessor is deprecated. Use year instead",ht),lg.zone=B("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hr),lg.isDSTShifted=B("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Zr);var ug=X.prototype;function Cg(e,t,n,r){var a=pn(),g=d().set(r,t);return a[n](g,e)}function dg(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Cg(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Cg(e,r,n,"month");return a}function Ag(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var a,g=pn(),o=e?g._week.dow:0,i=[];if(null!=n)return Cg(t,(n+o)%7,r,"day");for(a=0;a<7;a++)i[a]=Cg(t,(a+o)%7,r,"day");return i}function hg(e,t){return dg(e,t,"months")}function mg(e,t){return dg(e,t,"monthsShort")}function pg(e,t,n){return Ag(e,t,n,"weekdays")}function bg(e,t,n){return Ag(e,t,n,"weekdaysShort")}function fg(e,t,n){return Ag(e,t,n,"weekdaysMin")}ug.calendar=Y,ug.longDateFormat=U,ug.invalidDate=Q,ug.ordinal=P,ug.preparse=Ig,ug.postformat=Ig,ug.relativeTime=$,ug.pastFuture=ee,ug.set=R,ug.eras=Wa,ug.erasParse=Va,ug.erasConvertYear=Ra,ug.erasAbbrRegex=Ha,ug.erasNameRegex=xa,ug.erasNarrowRegex=Na,ug.months=gt,ug.monthsShort=ot,ug.monthsParse=lt,ug.monthsRegex=Ct,ug.monthsShortRegex=ut,ug.week=Gt,ug.firstDayOfYear=kt,ug.firstDayOfWeek=St,ug.weekdays=Kt,ug.weekdaysMin=Dt,ug.weekdaysShort=Mt,ug.weekdaysParse=zt,ug.weekdaysRegex=jt,ug.weekdaysShortRegex=Qt,ug.weekdaysMinRegex=_t,ug.isPM=tn,ug.meridiem=an,An("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=B("moment.lang is deprecated. Use moment.locale instead.",An),r.langData=B("moment.langData is deprecated. Use moment.localeData instead.",pn);var yg=Math.abs;function Zg(){var e=this._data;return this._milliseconds=yg(this._milliseconds),this._days=yg(this._days),this._months=yg(this._months),e.milliseconds=yg(e.milliseconds),e.seconds=yg(e.seconds),e.minutes=yg(e.minutes),e.hours=yg(e.hours),e.months=yg(e.months),e.years=yg(e.years),this}function vg(e,t,n,r){var a=Wr(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function Gg(e,t){return vg(this,e,t,1)}function Bg(e,t){return vg(this,e,t,-1)}function Sg(e){return e<0?Math.floor(e):Math.ceil(e)}function kg(){var e,t,n,r,a,g=this._milliseconds,o=this._days,i=this._months,l=this._data;return g>=0&&o>=0&&i>=0||g<=0&&o<=0&&i<=0||(g+=864e5*Sg(Vg(i)+o),o=0,i=0),l.milliseconds=g%1e3,e=se(g/1e3),l.seconds=e%60,t=se(e/60),l.minutes=t%60,n=se(t/60),l.hours=n%24,o+=se(n/24),i+=a=se(Wg(o)),o-=Sg(Vg(a)),r=se(i/12),i%=12,l.days=o,l.months=i,l.years=r,this}function Wg(e){return 4800*e/146097}function Vg(e){return 146097*e/4800}function Rg(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Wg(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Vg(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function wg(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Xg(e){return function(){return this.as(e)}}var Jg=Xg("ms"),Yg=Xg("s"),xg=Xg("m"),Hg=Xg("h"),Ng=Xg("d"),Fg=Xg("w"),Kg=Xg("M"),Mg=Xg("Q"),Dg=Xg("y");function Eg(){return Wr(this)}function zg(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Tg(e){return function(){return this.isValid()?this._data[e]:NaN}}var Lg=Tg("milliseconds"),Ug=Tg("seconds"),jg=Tg("minutes"),Qg=Tg("hours"),_g=Tg("days"),Og=Tg("months"),Pg=Tg("years");function qg(){return se(this.days()/7)}var $g=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var a=Wr(e).abs(),g=$g(a.as("s")),o=$g(a.as("m")),i=$g(a.as("h")),l=$g(a.as("d")),s=$g(a.as("M")),c=$g(a.as("w")),I=$g(a.as("y")),u=g<=n.ss&&["s",g]||g<n.s&&["ss",g]||o<=1&&["m"]||o<n.m&&["mm",o]||i<=1&&["h"]||i<n.h&&["hh",i]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(u=u||c<=1&&["w"]||c<n.w&&["ww",c]),(u=u||s<=1&&["M"]||s<n.M&&["MM",s]||I<=1&&["y"]||["yy",I])[2]=t,u[3]=+e>0,u[4]=r,to.apply(null,u)}function ro(e){return void 0===e?$g:"function"===typeof e&&($g=e,!0)}function ao(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function go(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,g=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(a=e),"object"===typeof t&&(g=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(g.ss=t.s-1)),r=no(this,!a,g,n=this.localeData()),a&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function io(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,g,o,i,l=oo(this._milliseconds)/1e3,s=oo(this._days),c=oo(this._months),I=this.asSeconds();return I?(e=se(l/60),t=se(e/60),l%=60,e%=60,n=se(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=I<0?"-":"",g=io(this._months)!==io(I)?"-":"",o=io(this._days)!==io(I)?"-":"",i=io(this._milliseconds)!==io(I)?"-":"",a+"P"+(n?g+n+"Y":"")+(c?g+c+"M":"")+(s?o+s+"D":"")+(t||e||l?"T":"")+(t?i+t+"H":"")+(e?i+e+"M":"")+(l?i+r+"S":"")):"P0D"}var so=or.prototype;return so.isValid=ar,so.abs=Zg,so.add=Gg,so.subtract=Bg,so.as=Rg,so.asMilliseconds=Jg,so.asSeconds=Yg,so.asMinutes=xg,so.asHours=Hg,so.asDays=Ng,so.asWeeks=Fg,so.asMonths=Kg,so.asQuarters=Mg,so.asYears=Dg,so.valueOf=wg,so._bubble=kg,so.clone=Eg,so.get=zg,so.milliseconds=Lg,so.seconds=Ug,so.minutes=jg,so.hours=Qg,so.days=_g,so.weeks=qg,so.months=Og,so.years=Pg,so.humanize=go,so.toISOString=lo,so.toString=lo,so.toJSON=lo,so.locale=oa,so.localeData=la,so.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),so.lang=ia,M("X",0,0,"unix"),M("x",0,0,"valueOf"),Ye("x",Ve),Ye("X",Xe),Ke("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ke("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.4",a(_n),r.fn=lg,r.min=$n,r.max=er,r.now=tr,r.utc=d,r.unix=sg,r.months=hg,r.isDate=I,r.locale=An,r.invalid=p,r.duration=Wr,r.isMoment=v,r.weekdays=pg,r.parseZone=cg,r.localeData=pn,r.isDuration=ir,r.monthsShort=mg,r.weekdaysMin=fg,r.defineLocale=hn,r.updateLocale=mn,r.locales=bn,r.weekdaysShort=bg,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=ao,r.calendarFormat=Dr,r.prototype=lg,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,g.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}))};var r,a=n(6054),g=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,g,o){var i=a||"<<anonymous>>",l=o||r;if(null==n[r])return t?new Error("Required "+g+" `"+l+"` was not specified in `"+i+"`."):null;for(var s=arguments.length,c=Array(s>6?s-6:0),I=6;I<s;I++)c[I-6]=arguments[I];return e.apply(void 0,[n,r,i,g,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function g(){}g.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,g,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:g,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3513:function(e,t,n){"use strict";var r,a,g,o,i,l,s,c,I,u,C,d,A,h,m,p,b,f,y,Z,v,G,B,S,k,W,V,R,w,X,J,Y,x,H,N,F,K,M,D,E,z,T,L,U,j,Q,_,O,P,q,$,ee,te,ne,re,ae,ge=n(7424).default,oe=n(8416).default,ie=n(9400).default,le=n(861).default;var se=n(2791),ce=n(5867);function Ie(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ue,Ce=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(se),de=Ie(se),Ae=Ie(ce);function he(e,t){return e[t]}function me(e,t){return t.split(".").reduce((function(e,t){var n=t.match(/[^\]\\[.]+/g);if(n&&n.length>1)for(var r=0;r<n.length;r++)return e[n[r]][n[r+1]];return e[t]}),e)}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[].concat(le(e.slice(0,n)),[t],le(e.slice(n)))}function be(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(),r=he(e,t);return r?n.splice(n.findIndex((function(e){return he(e,t)===r})),1):n.splice(n.findIndex((function(t){return t===e})),1),n}function fe(e){return e.map((function(e,t){var n=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(n.id=t+1),n}))}function ye(e,t){return Math.ceil(e/t)}function Ze(e,t){return Math.min(e,t)}!function(e){e.ASC="asc",e.DESC="desc"}(ue||(ue={}));var ve=function(){return null};function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},r=le(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return t.length&&t.forEach((function(t){if(!t.when||"function"!=typeof t.when)throw new Error('"when" must be defined in the conditional style object and must be function');t.when(e)&&(n=t.style||{},t.classNames&&(r=[].concat(le(r),le(t.classNames))),"function"==typeof t.style&&(n=t.style(e)||{}))})),{style:n,classNames:r.join(" ")}}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=he(e,n);return r?t.some((function(e){return he(e,n)===r})):t.some((function(t){return t===e}))}function Se(e,t){return t?e.findIndex((function(e){return ke(e.id,t)})):-1}function ke(e,t){return e==t}function We(e,t){var n=!e.toggleOnSelectedRowsChange;switch(t.type){case"SELECT_ALL_ROWS":var r=t.keyField,a=t.rows,g=t.rowCount,o=t.mergeSelections,i=!e.allSelected,l=!e.toggleOnSelectedRowsChange;if(o){var s=i?[].concat(le(e.selectedRows),le(a.filter((function(t){return!Be(t,e.selectedRows,r)})))):e.selectedRows.filter((function(e){return!Be(e,a,r)}));return Object.assign(Object.assign({},e),{allSelected:i,selectedCount:s.length,selectedRows:s,toggleOnSelectedRowsChange:l})}return Object.assign(Object.assign({},e),{allSelected:i,selectedCount:i?g:0,selectedRows:i?a:[],toggleOnSelectedRowsChange:l});case"SELECT_SINGLE_ROW":var c=t.keyField,I=t.row,u=t.isSelected,C=t.rowCount;return t.singleSelect?u?Object.assign(Object.assign({},e),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:1,allSelected:!1,selectedRows:[I],toggleOnSelectedRowsChange:n}):u?Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length>0?e.selectedRows.length-1:0,allSelected:!1,selectedRows:be(e.selectedRows,I,c),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length+1,allSelected:e.selectedRows.length+1===C,selectedRows:pe(e.selectedRows,I),toggleOnSelectedRowsChange:n});case"SELECT_MULTIPLE_ROWS":var d=t.keyField,A=t.selectedRows,h=t.totalRows;if(t.mergeSelections){var m=[].concat(le(e.selectedRows),le(A.filter((function(t){return!Be(t,e.selectedRows,d)}))));return Object.assign(Object.assign({},e),{selectedCount:m.length,allSelected:!1,selectedRows:m,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},e),{selectedCount:A.length,allSelected:A.length===h,selectedRows:A,toggleOnSelectedRowsChange:n});case"CLEAR_SELECTED_ROWS":var p=t.selectedRowsFlag;return Object.assign(Object.assign({},e),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:p});case"SORT_CHANGE":var b=t.sortDirection,f=t.selectedColumn,y=t.clearSelectedOnSort;return Object.assign(Object.assign(Object.assign({},e),{selectedColumn:f,sortDirection:b,currentPage:1}),y&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_PAGE":var Z=t.page,v=t.paginationServer,G=t.visibleOnly,B=t.persistSelectedOnPageChange,S=v&&B,k=v&&!B||G;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:Z}),S&&{allSelected:!1}),k&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_ROWS_PER_PAGE":var W=t.rowsPerPage,V=t.page;return Object.assign(Object.assign({},e),{currentPage:V,rowsPerPage:W})}}var Ve=ce.css(r||(r=ie(["\n\tpointer-events: none;\n\topacity: 0.4;\n"]))),Re=Ae.default.div(a||(a=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.disabled&&Ve}),(function(e){return e.theme.table.style})),we=ce.css(g||(g=ie(["\n\tposition: sticky;\n\tposition: -webkit-sticky; /* Safari */\n\ttop: 0;\n\tz-index: 1;\n"]))),Xe=Ae.default.div(o||(o=ie(["\n\tdisplay: flex;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.$fixedHeader&&we}),(function(e){return e.theme.head.style})),Je=Ae.default.div(i||(i=ie(["\n\tdisplay: flex;\n\talign-items: stretch;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.theme.headRow.style}),(function(e){var t=e.$dense,n=e.theme;return t&&n.headRow.denseStyle})),Ye=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ce.css(l||(l=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),599,ce.css.apply(ce,[e].concat(n)))},xe=Ae.default.div(u||(u=ie(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tline-height: normal;\n\t",";\n\t",";\n"])),(function(e){return e.theme[e.$headCell?"headCells":"cells"].style}),(function(e){return e.$noPadding&&"padding: 0"})),He=Ae.default(xe)(C||(C=ie(["\n\tflex-grow: ",";\n\tflex-shrink: 0;\n\tflex-basis: 0;\n\tmax-width: ",";\n\tmin-width: ",";\n\t",";\n\t",";\n\t",";\n\t",";\n\n\t/* handle hiding cells */\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){var t=e.button,n=e.grow;return 0===n||t?0:n||1}),(function(e){return e.maxWidth||"100%"}),(function(e){return e.minWidth||"100px"}),(function(e){var t=e.width;return t&&ce.css(d||(d=ie(["\n\t\t\tmin-width: ",";\n\t\t\tmax-width: ",";\n\t\t"])),t,t)}),(function(e){return e.right&&"justify-content: flex-end"}),(function(e){var t=e.button;return(e.center||t)&&"justify-content: center"}),(function(e){var t=e.compact,n=e.button;return(t||n)&&"padding: 0"}),(function(e){var t=e.hide;return t&&"sm"===t&&Ye(A||(A=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"md"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ce.css(s||(s=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),959,ce.css.apply(ce,[e].concat(n)))}(h||(h=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"lg"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ce.css(c||(c=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),1280,ce.css.apply(ce,[e].concat(n)))}(m||(m=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&Number.isInteger(t)&&function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return ce.css(I||(I=ie(["\n\t\t\t\t@media screen and (max-width: ","px) {\n\t\t\t\t\t","\n\t\t\t\t}\n\t\t\t"])),e,ce.css.apply(ce,[t].concat(r)))}}(t)(p||(p=ie(["\n    display: none;\n  "])))})),Ne=ce.css(b||(b=ie(["\n\tdiv:first-child {\n\t\twhite-space: ",";\n\t\toverflow: ",";\n\t\ttext-overflow: ellipsis;\n\t}\n"])),(function(e){return e.$wrapCell?"normal":"nowrap"}),(function(e){return e.$allowOverflow?"visible":"hidden"})),Fe=Ae.default(He).attrs((function(e){return{style:e.style}}))(f||(f=ie(["\n\t",";\n\t",";\n\t",";\n"])),(function(e){return!e.$renderAsCell&&Ne}),(function(e){var t=e.theme;return e.$isDragging&&t.cells.draggingStyle}),(function(e){return e.$cellStyle})),Ke=Ce.memo((function(e){var t=e.id,n=e.column,r=e.row,a=e.rowIndex,g=e.dataTag,o=e.isDragging,i=e.onDragStart,l=e.onDragOver,s=e.onDragEnd,c=e.onDragEnter,I=e.onDragLeave,u=Ge(r,n.conditionalCellStyles,["rdt_TableCell"]),C=u.style,d=u.classNames;return Ce.createElement(Fe,{id:t,"data-column-id":n.id,role:"cell",className:d,"data-tag":g,$cellStyle:n.style,$renderAsCell:!!n.cell,$allowOverflow:n.allowOverflow,button:n.button,center:n.center,compact:n.compact,grow:n.grow,hide:n.hide,maxWidth:n.maxWidth,minWidth:n.minWidth,right:n.right,width:n.width,$wrapCell:n.wrap,style:C,$isDragging:o,onDragStart:i,onDragOver:l,onDragEnd:s,onDragEnter:c,onDragLeave:I},!n.cell&&Ce.createElement("div",{"data-tag":g},function(e,t,n,r){if(!t)return null;if("string"!=typeof t&&"function"!=typeof t)throw new Error("selector must be a . delimited string eg (my.property) or function (e.g. row => row.field");return n&&"function"==typeof n?n(e,r):t&&"function"==typeof t?t(e,r):me(e,t)}(r,n.selector,n.format,a)),n.cell&&n.cell(r,a,n,t))})),Me=Ce.memo((function(e){var t=e.name,n=e.component,r=void 0===n?"input":n,a=e.componentOptions,g=void 0===a?{style:{}}:a,o=e.indeterminate,i=void 0!==o&&o,l=e.checked,s=void 0!==l&&l,c=e.disabled,I=void 0!==c&&c,u=e.onClick,C=void 0===u?ve:u,d=r,A="input"!==d?g.style:function(e){return Object.assign(Object.assign({fontSize:"18px"},!e&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"})}(I),h=Ce.useMemo((function(){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return Object.keys(e).map((function(t){return e[t]})).forEach((function(t,r){var g=e;"function"==typeof t&&(a=Object.assign(Object.assign({},g),oe({},Object.keys(e)[r],t.apply(void 0,n))))})),a||e}(g,i)}),[g,i]);return Ce.createElement(d,Object.assign({type:"checkbox",ref:function(e){e&&(e.indeterminate=i)},style:A,onClick:I?ve:C,name:t,"aria-label":t,checked:s,disabled:I},h,{onChange:ve}))})),De=Ae.default(xe)(y||(y=ie(["\n\tflex: 0 0 48px;\n\tmin-width: 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n"])));function Ee(e){var t=e.name,n=e.keyField,r=e.row,a=e.rowCount,g=e.selected,o=e.selectableRowsComponent,i=e.selectableRowsComponentProps,l=e.selectableRowsSingle,s=e.selectableRowDisabled,c=e.onSelectedRow,I=!(!s||!s(r));return Ce.createElement(De,{onClick:function(e){return e.stopPropagation()},className:"rdt_TableCell",$noPadding:!0},Ce.createElement(Me,{name:t,component:o,componentOptions:i,checked:g,"aria-checked":g,onClick:function(){c({type:"SELECT_SINGLE_ROW",row:r,isSelected:g,keyField:n,rowCount:a,singleSelect:l})},disabled:I}))}var ze=Ae.default.button(Z||(Z=ie(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tborder: none;\n\tbackground-color: transparent;\n\t",";\n"])),(function(e){return e.theme.expanderButton.style}));function Te(e){var t=e.disabled,n=void 0!==t&&t,r=e.expanded,a=void 0!==r&&r,g=e.expandableIcon,o=e.id,i=e.row,l=e.onToggled,s=a?g.expanded:g.collapsed;return Ce.createElement(ze,{"aria-disabled":n,onClick:function(){return l&&l(i)},"data-testid":"expander-button-".concat(o),disabled:n,"aria-label":a?"Collapse Row":"Expand Row",role:"button",type:"button"},s)}var Le=Ae.default(xe)(v||(v=ie(["\n\twhite-space: nowrap;\n\tfont-weight: 400;\n\tmin-width: 48px;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style}));function Ue(e){var t=e.row,n=e.expanded,r=void 0!==n&&n,a=e.expandableIcon,g=e.id,o=e.onToggled,i=e.disabled,l=void 0!==i&&i;return Ce.createElement(Le,{onClick:function(e){return e.stopPropagation()},$noPadding:!0},Ce.createElement(Te,{id:g,row:t,expanded:r,expandableIcon:a,disabled:l,onToggled:o}))}var je,Qe,_e,Oe=Ae.default.div(G||(G=ie(["\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n"])),(function(e){return e.theme.expanderRow.style}),(function(e){return e.$extendedRowStyle})),Pe=Ce.memo((function(e){var t=e.data,n=e.ExpanderComponent,r=e.expanderComponentProps,a=e.extendedRowStyle,g=e.extendedClassNames,o=["rdt_ExpanderRow"].concat(le(g.split(" ").filter((function(e){return"rdt_TableRow"!==e})))).join(" ");return Ce.createElement(Oe,{className:o,$extendedRowStyle:a},Ce.createElement(n,Object.assign({data:t},r)))}));t.Nm=void 0,(je=t.Nm||(t.Nm={})).LTR="ltr",je.RTL="rtl",je.AUTO="auto",t.v2=void 0,(Qe=t.v2||(t.v2={})).LEFT="left",Qe.RIGHT="right",Qe.CENTER="center",t.pU=void 0,(_e=t.pU||(t.pU={})).SM="sm",_e.MD="md",_e.LG="lg";var qe=ce.css(B||(B=ie(["\n\t&:hover {\n\t\t",";\n\t}\n"])),(function(e){var t=e.$highlightOnHover,n=e.theme;return t&&n.rows.highlightOnHoverStyle})),$e=ce.css(S||(S=ie(["\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]))),et=Ae.default.div.attrs((function(e){return{style:e.style}}))(k||(k=ie(["\n\tdisplay: flex;\n\talign-items: stretch;\n\talign-content: stretch;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.theme.rows.style}),(function(e){var t=e.$dense,n=e.theme;return t&&n.rows.denseStyle}),(function(e){var t=e.$striped,n=e.theme;return t&&n.rows.stripedStyle}),(function(e){return e.$highlightOnHover&&qe}),(function(e){return e.$pointerOnHover&&$e}),(function(e){var t=e.$selected,n=e.theme;return t&&n.rows.selectedHighlightStyle}));function tt(e){var t=e.columns,n=void 0===t?[]:t,r=e.conditionalRowStyles,a=void 0===r?[]:r,g=e.defaultExpanded,o=void 0!==g&&g,i=e.defaultExpanderDisabled,l=void 0!==i&&i,s=e.dense,c=void 0!==s&&s,I=e.expandableIcon,u=e.expandableRows,C=void 0!==u&&u,d=e.expandableRowsComponent,A=e.expandableRowsComponentProps,h=e.expandableRowsHideExpander,m=e.expandOnRowClicked,p=void 0!==m&&m,b=e.expandOnRowDoubleClicked,f=void 0!==b&&b,y=e.highlightOnHover,Z=void 0!==y&&y,v=e.id,G=e.expandableInheritConditionalStyles,B=e.keyField,S=e.onRowClicked,k=void 0===S?ve:S,W=e.onRowDoubleClicked,V=void 0===W?ve:W,R=e.onRowMouseEnter,w=void 0===R?ve:R,X=e.onRowMouseLeave,J=void 0===X?ve:X,Y=e.onRowExpandToggled,x=void 0===Y?ve:Y,H=e.onSelectedRow,N=void 0===H?ve:H,F=e.pointerOnHover,K=void 0!==F&&F,M=e.row,D=e.rowCount,E=e.rowIndex,z=e.selectableRowDisabled,T=void 0===z?null:z,L=e.selectableRows,U=void 0!==L&&L,j=e.selectableRowsComponent,Q=e.selectableRowsComponentProps,_=e.selectableRowsHighlight,O=void 0!==_&&_,P=e.selectableRowsSingle,q=void 0!==P&&P,$=e.selected,ee=e.striped,te=void 0!==ee&&ee,ne=e.draggingColumnId,re=e.onDragStart,ae=e.onDragOver,oe=e.onDragEnd,ie=e.onDragEnter,le=e.onDragLeave,se=Ce.useState(o),ce=ge(se,2),Ie=ce[0],ue=ce[1];Ce.useEffect((function(){ue(o)}),[o]);var de=Ce.useCallback((function(){ue(!Ie),x(!Ie,M)}),[Ie,x,M]),Ae=K||C&&(p||f),me=Ce.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(k(M,e),!l&&C&&p&&de())}),[l,p,C,de,k,M]),pe=Ce.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(V(M,e),!l&&C&&f&&de())}),[l,f,C,de,V,M]),be=Ce.useCallback((function(e){w(M,e)}),[w,M]),fe=Ce.useCallback((function(e){J(M,e)}),[J,M]),ye=he(M,B),Ze=Ge(M,a,["rdt_TableRow"]),Be=Ze.style,Se=Ze.classNames,We=O&&$,Ve=G?Be:{},Re=te&&E%2==0;return Ce.createElement(Ce.Fragment,null,Ce.createElement(et,{id:"row-".concat(v),role:"row",$striped:Re,$highlightOnHover:Z,$pointerOnHover:!l&&Ae,$dense:c,onClick:me,onDoubleClick:pe,onMouseEnter:be,onMouseLeave:fe,className:Se,$selected:We,style:Be},U&&Ce.createElement(Ee,{name:"select-row-".concat(ye),keyField:B,row:M,rowCount:D,selected:$,selectableRowsComponent:j,selectableRowsComponentProps:Q,selectableRowDisabled:T,selectableRowsSingle:q,onSelectedRow:N}),C&&!h&&Ce.createElement(Ue,{id:ye,expandableIcon:I,expanded:Ie,row:M,onToggled:de,disabled:l}),n.map((function(e){return e.omit?null:Ce.createElement(Ke,{id:"cell-".concat(e.id,"-").concat(ye),key:"cell-".concat(e.id,"-").concat(ye),dataTag:e.ignoreRowClick||e.button?null:"allowRowEvents",column:e,row:M,rowIndex:E,isDragging:ke(ne,e.id),onDragStart:re,onDragOver:ae,onDragEnd:oe,onDragEnter:ie,onDragLeave:le})}))),C&&Ie&&Ce.createElement(Pe,{key:"expander-".concat(ye),data:M,extendedRowStyle:Ve,extendedClassNames:Se,ExpanderComponent:d,expanderComponentProps:A}))}var nt=Ae.default.span(W||(W=ie(["\n\tpadding: 2px;\n\tcolor: inherit;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\t",";\n\t",";\n"])),(function(e){return e.$sortActive?"opacity: 1":"opacity: 0"}),(function(e){return"desc"===e.$sortDirection&&"transform: rotate(180deg)"})),rt=function(e){var t=e.sortActive,n=e.sortDirection;return de.default.createElement(nt,{$sortActive:t,$sortDirection:n},"\u25b2")},at=Ae.default(He)(V||(V=ie(["\n\t",";\n\t",";\n"])),(function(e){return e.button&&"text-align: center"}),(function(e){var t=e.theme;return e.$isDragging&&t.headCells.draggingStyle})),gt=ce.css(R||(R=ie(["\n\tcursor: pointer;\n\tspan.__rdt_custom_sort_icon__ {\n\t\ti,\n\t\tsvg {\n\t\t\ttransform: 'translate3d(0, 0, 0)';\n\t\t\t",";\n\t\t\tcolor: inherit;\n\t\t\tfont-size: 18px;\n\t\t\theight: 18px;\n\t\t\twidth: 18px;\n\t\t\tbackface-visibility: hidden;\n\t\t\ttransform-style: preserve-3d;\n\t\t\ttransition-duration: 95ms;\n\t\t\ttransition-property: transform;\n\t\t}\n\n\t\t&.asc i,\n\t\t&.asc svg {\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\t}\n\n\t",";\n"])),(function(e){return e.sortActive?"opacity: 1":"opacity: 0"}),(function(e){return!e.sortActive&&ce.css(w||(w=ie(["\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\topacity: 0.7;\n\n\t\t\t\tspan,\n\t\t\t\tspan.__rdt_custom_sort_icon__ * {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t"])))})),ot=Ae.default.div(X||(X=ie(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: inherit;\n\theight: 100%;\n\twidth: 100%;\n\toutline: none;\n\tuser-select: none;\n\toverflow: hidden;\n\t",";\n"])),(function(e){return!e.disabled&&gt})),it=Ae.default.div(J||(J=ie(["\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"]))),lt=Ce.memo((function(e){var t=e.column,n=e.disabled,r=e.draggingColumnId,a=e.selectedColumn,g=void 0===a?{}:a,o=e.sortDirection,i=e.sortIcon,l=e.sortServer,s=e.pagination,c=e.paginationServer,I=e.persistSelectedOnSort,u=e.selectableRowsVisibleOnly,C=e.onSort,d=e.onDragStart,A=e.onDragOver,h=e.onDragEnd,m=e.onDragEnter,p=e.onDragLeave;Ce.useEffect((function(){"string"==typeof t.selector&&console.error("Warning: ".concat(t.selector," is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]..."))}),[]);var b=Ce.useState(!1),f=ge(b,2),y=f[0],Z=f[1],v=Ce.useRef(null);if(Ce.useEffect((function(){v.current&&Z(v.current.scrollWidth>v.current.clientWidth)}),[y]),t.omit)return null;var G=function(){if(t.sortable||t.selector){var e=o;ke(g.id,t.id)&&(e=o===ue.ASC?ue.DESC:ue.ASC),C({type:"SORT_CHANGE",sortDirection:e,selectedColumn:t,clearSelectedOnSort:s&&c&&!I||l||u})}},B=function(e){return Ce.createElement(rt,{sortActive:e,sortDirection:o})},S=function(){return Ce.createElement("span",{className:[o,"__rdt_custom_sort_icon__"].join(" ")},i)},k=!(!t.sortable||!ke(g.id,t.id)),W=!t.sortable||n,V=t.sortable&&!i&&!t.right,R=t.sortable&&!i&&t.right,w=t.sortable&&i&&!t.right,X=t.sortable&&i&&t.right;return Ce.createElement(at,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:ke(t.id,r),onDragStart:d,onDragOver:A,onDragEnd:h,onDragEnter:m,onDragLeave:p},t.name&&Ce.createElement(ot,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:W?void 0:G,onKeyPress:W?void 0:function(e){"Enter"===e.key&&G()},sortActive:!W&&k,disabled:W},!W&&X&&S(),!W&&R&&B(k),"string"==typeof t.name?Ce.createElement(it,{title:y?t.name:void 0,ref:v,"data-column-id":t.id},t.name):t.name,!W&&w&&S(),!W&&V&&B(k)))})),st=Ae.default(xe)(Y||(Y=ie(["\n\tflex: 0 0 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tfont-size: unset;\n"])));function ct(e){var t=e.headCell,n=void 0===t||t,r=e.rowData,a=e.keyField,g=e.allSelected,o=e.mergeSelections,i=e.selectedRows,l=e.selectableRowsComponent,s=e.selectableRowsComponentProps,c=e.selectableRowDisabled,I=e.onSelectAllRows,u=i.length>0&&!g,C=c?r.filter((function(e){return!c(e)})):r,d=0===C.length,A=Math.min(r.length,C.length);return Ce.createElement(st,{className:"rdt_TableCol",$headCell:n,$noPadding:!0},Ce.createElement(Me,{name:"select-all-rows",component:l,componentOptions:s,onClick:function(){I({type:"SELECT_ALL_ROWS",rows:C,rowCount:A,mergeSelections:o,keyField:a})},checked:g,indeterminate:u,disabled:d}))}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Nm.AUTO,n="object"==typeof window,r=Ce.useState(!1),a=ge(r,2),g=a[0],o=a[1];return Ce.useEffect((function(){if(n)if("auto"!==e)o("rtl"===e);else{var t=!(!window.document||!window.document.createElement),r=document.getElementsByTagName("BODY")[0],a=document.getElementsByTagName("HTML")[0],g="rtl"===r.dir||"rtl"===a.dir;o(t&&g)}}),[e,n]),g}var ut=Ae.default.div(x||(x=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1 0 auto;\n\theight: 100%;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.contextMenu.fontColor}),(function(e){return e.theme.contextMenu.fontSize})),Ct=Ae.default.div(H||(H=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tflex-wrap: wrap;\n"]))),dt=Ae.default.div(N||(N=ie(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: inherit;\n\tz-index: 1;\n\talign-items: center;\n\tjustify-content: space-between;\n\tdisplay: flex;\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.$rtl&&"direction: rtl"}),(function(e){return e.theme.contextMenu.style}),(function(e){var t=e.theme;return e.$visible&&t.contextMenu.activeStyle}));function At(e){var t=e.contextMessage,n=e.contextActions,r=e.contextComponent,a=e.selectedCount,g=It(e.direction),o=a>0;return r?Ce.createElement(dt,{$visible:o},Ce.cloneElement(r,{selectedCount:a})):Ce.createElement(dt,{$visible:o,$rtl:g},Ce.createElement(ut,null,function(e,t,n){if(0===t)return null;var r=1===t?e.singular:e.plural;return n?"".concat(t," ").concat(e.message||""," ").concat(r):"".concat(t," ").concat(r," ").concat(e.message||"")}(t,a,g)),Ce.createElement(Ct,null,n))}var ht=Ae.default.div(F||(F=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tflex-wrap: wrap;\n\t","\n"])),(function(e){return e.theme.header.style})),mt=Ae.default.div(K||(K=ie(["\n\tflex: 1 0 auto;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.header.fontColor}),(function(e){return e.theme.header.fontSize})),pt=Ae.default.div(M||(M=ie(["\n\tflex: 1 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\n\t> * {\n\t\tmargin-left: 5px;\n\t}\n"]))),bt=function(e){var t=e.title,n=e.actions,r=void 0===n?null:n,a=e.contextMessage,g=e.contextActions,o=e.contextComponent,i=e.selectedCount,l=e.direction,s=e.showMenu,c=void 0===s||s;return Ce.createElement(ht,{className:"rdt_TableHeader",role:"heading","aria-level":1},Ce.createElement(mt,null,t),r&&Ce.createElement(pt,null,r),c&&Ce.createElement(At,{contextMessage:a,contextActions:g,contextComponent:o,direction:l,selectedCount:i}))};function ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var yt={left:"flex-start",right:"flex-end",center:"center"},Zt=Ae.default.header(D||(D=ie(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tpadding: 4px 16px 4px 24px;\n\twidth: 100%;\n\tjustify-content: ",";\n\tflex-wrap: ",";\n\t","\n"])),(function(e){var t=e.align;return yt[t]}),(function(e){return e.$wrapContent?"wrap":"nowrap"}),(function(e){return e.theme.subHeader.style})),vt=function(e){var t=e.align,n=void 0===t?"right":t,r=e.wrapContent,a=void 0===r||r,g=ft(e,["align","wrapContent"]);return Ce.createElement(Zt,Object.assign({align:n,$wrapContent:a},g))},Gt=Ae.default.div(E||(E=ie(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),Bt=Ae.default.div(z||(z=ie(["\n\tposition: relative;\n\twidth: 100%;\n\tborder-radius: inherit;\n\t",";\n\n\t",";\n\n\t",";\n"])),(function(e){var t=e.$responsive,n=e.$fixedHeader;return t&&ce.css(T||(T=ie(["\n\t\t\toverflow-x: auto;\n\n\t\t\t// hidden prevents vertical scrolling in firefox when fixedHeader is disabled\n\t\t\toverflow-y: ",";\n\t\t\tmin-height: 0;\n\t\t"])),n?"auto":"hidden")}),(function(e){var t=e.$fixedHeader,n=void 0!==t&&t,r=e.$fixedHeaderScrollHeight,a=void 0===r?"100vh":r;return n&&ce.css(L||(L=ie(["\n\t\t\tmax-height: ",";\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t"])),a)}),(function(e){return e.theme.responsiveWrapper.style})),St=Ae.default.div(U||(U=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.progress.style})),kt=Ae.default.div(j||(j=ie(["\n\tposition: relative;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.tableWrapper.style})),Wt=Ae.default(xe)(Q||(Q=ie(["\n\twhite-space: nowrap;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style})),Vt=Ae.default.div(_||(_=ie(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.noData.style})),Rt=function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},de.default.createElement("path",{d:"M7 10l5 5 5-5z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},wt=Ae.default.select(O||(O=ie(["\n\tcursor: pointer;\n\theight: 24px;\n\tmax-width: 100%;\n\tuser-select: none;\n\tpadding-left: 8px;\n\tpadding-right: 24px;\n\tbox-sizing: content-box;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tborder: none;\n\tbackground-color: transparent;\n\tappearance: none;\n\tdirection: ltr;\n\tflex-shrink: 0;\n\n\t&::-ms-expand {\n\t\tdisplay: none;\n\t}\n\n\t&:disabled::-ms-expand {\n\t\tbackground: #f60;\n\t}\n\n\toption {\n\t\tcolor: initial;\n\t}\n"]))),Xt=Ae.default.div(P||(P=ie(["\n\tposition: relative;\n\tflex-shrink: 0;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\ttop: 0;\n\t\tright: 0;\n\t\tcolor: inherit;\n\t\tposition: absolute;\n\t\tfill: currentColor;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tdisplay: inline-block;\n\t\tuser-select: none;\n\t\tpointer-events: none;\n\t}\n"]))),Jt=function(e){var t=e.defaultValue,n=e.onChange,r=ft(e,["defaultValue","onChange"]);return Ce.createElement(Xt,null,Ce.createElement(wt,Object.assign({onChange:n,defaultValue:t},r)),Ce.createElement(Rt,null))},Yt={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return de.default.createElement("div",null,"To add an expander pass in a component instance via ",de.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:de.default.createElement((function(){return de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),de.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))}),null),expanded:de.default.createElement((function(){return de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),de.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))}),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:de.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:de.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:t.v2.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),de.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))}),null),paginationIconLastPage:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),de.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),paginationIconNext:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),paginationIconPrevious:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:t.Nm.AUTO,onChangePage:ve,onChangeRowsPerPage:ve,onRowClicked:ve,onRowDoubleClicked:ve,onRowMouseEnter:ve,onRowMouseLeave:ve,onRowExpandToggled:ve,onSelectedRowsChange:ve,onSort:ve,onColumnOrderChange:ve},xt={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Ht=Ae.default.nav(q||(q=ie(["\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding-right: 8px;\n\tpadding-left: 8px;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.pagination.style})),Nt=Ae.default.button($||($=ie(["\n\tposition: relative;\n\tdisplay: block;\n\tuser-select: none;\n\tborder: none;\n\t",";\n\t",";\n"])),(function(e){return e.theme.pagination.pageButtonsStyle}),(function(e){return e.$isRTL&&"transform: scale(-1, -1)"})),Ft=Ae.default.div(ee||(ee=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 4px;\n\twhite-space: nowrap;\n\t",";\n"])),Ye(te||(te=ie(["\n    width: 100%;\n    justify-content: space-around;\n  "])))),Kt=Ae.default.span(ne||(ne=ie(["\n\tflex-shrink: 1;\n\tuser-select: none;\n"]))),Mt=Ae.default(Kt)(re||(re=ie(["\n\tmargin: 0 24px;\n"]))),Dt=Ae.default(Kt)(ae||(ae=ie(["\n\tmargin: 0 4px;\n"]))),Et=Ce.memo((function(e){var t=e.rowsPerPage,n=e.rowCount,r=e.currentPage,a=e.direction,g=void 0===a?Yt.direction:a,o=e.paginationRowsPerPageOptions,i=void 0===o?Yt.paginationRowsPerPageOptions:o,l=e.paginationIconLastPage,s=void 0===l?Yt.paginationIconLastPage:l,c=e.paginationIconFirstPage,I=void 0===c?Yt.paginationIconFirstPage:c,u=e.paginationIconNext,C=void 0===u?Yt.paginationIconNext:u,d=e.paginationIconPrevious,A=void 0===d?Yt.paginationIconPrevious:d,h=e.paginationComponentOptions,m=void 0===h?Yt.paginationComponentOptions:h,p=e.onChangeRowsPerPage,b=void 0===p?Yt.onChangeRowsPerPage:p,f=e.onChangePage,y=void 0===f?Yt.onChangePage:f,Z=function(){var e="object"==typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Ce.useState(t),r=ge(n,2),a=r[0],g=r[1];return Ce.useEffect((function(){if(!e)return function(){return null};function n(){g(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),a}(),v=It(g),G=Z.width&&Z.width>599,B=ye(n,t),S=r*t,k=S-t+1,W=1===r,V=r===B,R=Object.assign(Object.assign({},xt),m),w=r===B?"".concat(k,"-").concat(n," ").concat(R.rangeSeparatorText," ").concat(n):"".concat(k,"-").concat(S," ").concat(R.rangeSeparatorText," ").concat(n),X=Ce.useCallback((function(){return y(r-1)}),[r,y]),J=Ce.useCallback((function(){return y(r+1)}),[r,y]),Y=Ce.useCallback((function(){return y(1)}),[y]),x=Ce.useCallback((function(){return y(ye(n,t))}),[y,n,t]),H=Ce.useCallback((function(e){return b(Number(e.target.value),r)}),[r,b]),N=i.map((function(e){return Ce.createElement("option",{key:e,value:e},e)}));R.selectAllRowsItem&&N.push(Ce.createElement("option",{key:-1,value:n},R.selectAllRowsItemText));var F=Ce.createElement(Jt,{onChange:H,defaultValue:t,"aria-label":R.rowsPerPageText},N);return Ce.createElement(Ht,{className:"rdt_Pagination"},!R.noRowsPerPage&&G&&Ce.createElement(Ce.Fragment,null,Ce.createElement(Dt,null,R.rowsPerPageText),F),G&&Ce.createElement(Mt,null,w),Ce.createElement(Ft,null,Ce.createElement(Nt,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":W,onClick:Y,disabled:W,$isRTL:v},I),Ce.createElement(Nt,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":W,onClick:X,disabled:W,$isRTL:v},A),!R.noRowsPerPage&&!G&&F,Ce.createElement(Nt,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":V,onClick:J,disabled:V,$isRTL:v},C),Ce.createElement(Nt,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":V,onClick:x,disabled:V,$isRTL:v},s)))})),zt=function(e,t){var n=Ce.useRef(!0);Ce.useEffect((function(){n.current?n.current=!1:e()}),t)},Tt=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Lt}(e)}(e)},Lt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Ut(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Ot((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function jt(e,t,n){return e.concat(t).map((function(e){return Ut(e,n)}))}function Qt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function _t(e,t){try{return t in e}catch(e){return!1}}function Ot(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||jt,n.isMergeableObject=n.isMergeableObject||Tt,n.cloneUnlessOtherwiseSpecified=Ut;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Qt(e).forEach((function(t){r[t]=Ut(e[t],n)})),Qt(t).forEach((function(a){(function(e,t){return _t(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(_t(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return Ot;var n=t.customMerge(e);return"function"==typeof n?n:Ot}(a,n)(e[a],t[a],n):r[a]=Ut(t[a],n))})),r}(e,t,n):Ut(t,n)}Ot.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Ot(e,n,t)}),{})};var Pt=Ot,qt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},$t={default:qt,light:qt,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function en(e,t,n,r){var a=Ce.useState((function(){return fe(e)})),g=ge(a,2),o=g[0],i=g[1],l=Ce.useState(""),s=ge(l,2),c=s[0],I=s[1],u=Ce.useRef("");zt((function(){i(fe(e))}),[e]);var C=Ce.useCallback((function(e){var t,n,r,a=null===(t=e.target.attributes.getNamedItem("data-column-id"))||void 0===t?void 0:t.value;a&&(u.current=(null===(r=null===(n=o[Se(o,a)])||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())||"",I(u.current))}),[o]),d=Ce.useCallback((function(e){var n,r=null===(n=e.target.attributes.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(r&&u.current&&r!==u.current){var a=Se(o,u.current),g=Se(o,r),l=le(o);l[a]=o[g],l[g]=o[a],i(l),t(l)}}),[t,o]),A=Ce.useCallback((function(e){e.preventDefault()}),[]),h=Ce.useCallback((function(e){e.preventDefault()}),[]),m=Ce.useCallback((function(e){e.preventDefault(),u.current="",I("")}),[]),p=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?ue.ASC:ue.DESC}(r),b=Ce.useMemo((function(){return o[Se(o,null==n?void 0:n.toString())]||{}}),[n,o]);return{tableColumns:o,draggingColumnId:c,handleDragStart:C,handleDragEnter:d,handleDragOver:A,handleDragLeave:h,handleDragEnd:m,defaultSortDirection:p,defaultSortColumn:b}}var tn=Ce.memo((function(e){var t=e.data,n=void 0===t?Yt.data:t,r=e.columns,a=void 0===r?Yt.columns:r,g=e.title,o=void 0===g?Yt.title:g,i=e.actions,l=void 0===i?Yt.actions:i,s=e.keyField,c=void 0===s?Yt.keyField:s,I=e.striped,u=void 0===I?Yt.striped:I,C=e.highlightOnHover,d=void 0===C?Yt.highlightOnHover:C,A=e.pointerOnHover,h=void 0===A?Yt.pointerOnHover:A,m=e.dense,p=void 0===m?Yt.dense:m,b=e.selectableRows,f=void 0===b?Yt.selectableRows:b,y=e.selectableRowsSingle,Z=void 0===y?Yt.selectableRowsSingle:y,v=e.selectableRowsHighlight,G=void 0===v?Yt.selectableRowsHighlight:v,B=e.selectableRowsNoSelectAll,S=void 0===B?Yt.selectableRowsNoSelectAll:B,k=e.selectableRowsVisibleOnly,W=void 0===k?Yt.selectableRowsVisibleOnly:k,V=e.selectableRowSelected,R=void 0===V?Yt.selectableRowSelected:V,w=e.selectableRowDisabled,X=void 0===w?Yt.selectableRowDisabled:w,J=e.selectableRowsComponent,Y=void 0===J?Yt.selectableRowsComponent:J,x=e.selectableRowsComponentProps,H=void 0===x?Yt.selectableRowsComponentProps:x,N=e.onRowExpandToggled,F=void 0===N?Yt.onRowExpandToggled:N,K=e.onSelectedRowsChange,M=void 0===K?Yt.onSelectedRowsChange:K,D=e.expandableIcon,E=void 0===D?Yt.expandableIcon:D,z=e.onChangeRowsPerPage,T=void 0===z?Yt.onChangeRowsPerPage:z,L=e.onChangePage,U=void 0===L?Yt.onChangePage:L,j=e.paginationServer,Q=void 0===j?Yt.paginationServer:j,_=e.paginationServerOptions,O=void 0===_?Yt.paginationServerOptions:_,P=e.paginationTotalRows,q=void 0===P?Yt.paginationTotalRows:P,$=e.paginationDefaultPage,ee=void 0===$?Yt.paginationDefaultPage:$,te=e.paginationResetDefaultPage,ne=void 0===te?Yt.paginationResetDefaultPage:te,re=e.paginationPerPage,ae=void 0===re?Yt.paginationPerPage:re,oe=e.paginationRowsPerPageOptions,ie=void 0===oe?Yt.paginationRowsPerPageOptions:oe,se=e.paginationIconLastPage,Ie=void 0===se?Yt.paginationIconLastPage:se,de=e.paginationIconFirstPage,Ae=void 0===de?Yt.paginationIconFirstPage:de,pe=e.paginationIconNext,be=void 0===pe?Yt.paginationIconNext:pe,fe=e.paginationIconPrevious,ve=void 0===fe?Yt.paginationIconPrevious:fe,Ge=e.paginationComponent,Se=void 0===Ge?Yt.paginationComponent:Ge,ke=e.paginationComponentOptions,Ve=void 0===ke?Yt.paginationComponentOptions:ke,we=e.responsive,Ye=void 0===we?Yt.responsive:we,He=e.progressPending,Ne=void 0===He?Yt.progressPending:He,Fe=e.progressComponent,Ke=void 0===Fe?Yt.progressComponent:Fe,Me=e.persistTableHead,De=void 0===Me?Yt.persistTableHead:Me,Ee=e.noDataComponent,ze=void 0===Ee?Yt.noDataComponent:Ee,Te=e.disabled,Le=void 0===Te?Yt.disabled:Te,Ue=e.noTableHead,je=void 0===Ue?Yt.noTableHead:Ue,Qe=e.noHeader,_e=void 0===Qe?Yt.noHeader:Qe,Oe=e.fixedHeader,Pe=void 0===Oe?Yt.fixedHeader:Oe,qe=e.fixedHeaderScrollHeight,$e=void 0===qe?Yt.fixedHeaderScrollHeight:qe,et=e.pagination,nt=void 0===et?Yt.pagination:et,rt=e.subHeader,at=void 0===rt?Yt.subHeader:rt,gt=e.subHeaderAlign,ot=void 0===gt?Yt.subHeaderAlign:gt,it=e.subHeaderWrap,st=void 0===it?Yt.subHeaderWrap:it,It=e.subHeaderComponent,ut=void 0===It?Yt.subHeaderComponent:It,Ct=e.noContextMenu,dt=void 0===Ct?Yt.noContextMenu:Ct,At=e.contextMessage,ht=void 0===At?Yt.contextMessage:At,mt=e.contextActions,pt=void 0===mt?Yt.contextActions:mt,ft=e.contextComponent,yt=void 0===ft?Yt.contextComponent:ft,Zt=e.expandableRows,Rt=void 0===Zt?Yt.expandableRows:Zt,wt=e.onRowClicked,Xt=void 0===wt?Yt.onRowClicked:wt,Jt=e.onRowDoubleClicked,xt=void 0===Jt?Yt.onRowDoubleClicked:Jt,Ht=e.onRowMouseEnter,Nt=void 0===Ht?Yt.onRowMouseEnter:Ht,Ft=e.onRowMouseLeave,Kt=void 0===Ft?Yt.onRowMouseLeave:Ft,Mt=e.sortIcon,Dt=void 0===Mt?Yt.sortIcon:Mt,Tt=e.onSort,Lt=void 0===Tt?Yt.onSort:Tt,Ut=e.sortFunction,jt=void 0===Ut?Yt.sortFunction:Ut,Qt=e.sortServer,_t=void 0===Qt?Yt.sortServer:Qt,Ot=e.expandableRowsComponent,qt=void 0===Ot?Yt.expandableRowsComponent:Ot,tn=e.expandableRowsComponentProps,nn=void 0===tn?Yt.expandableRowsComponentProps:tn,rn=e.expandableRowDisabled,an=void 0===rn?Yt.expandableRowDisabled:rn,gn=e.expandableRowsHideExpander,on=void 0===gn?Yt.expandableRowsHideExpander:gn,ln=e.expandOnRowClicked,sn=void 0===ln?Yt.expandOnRowClicked:ln,cn=e.expandOnRowDoubleClicked,In=void 0===cn?Yt.expandOnRowDoubleClicked:cn,un=e.expandableRowExpanded,Cn=void 0===un?Yt.expandableRowExpanded:un,dn=e.expandableInheritConditionalStyles,An=void 0===dn?Yt.expandableInheritConditionalStyles:dn,hn=e.defaultSortFieldId,mn=void 0===hn?Yt.defaultSortFieldId:hn,pn=e.defaultSortAsc,bn=void 0===pn?Yt.defaultSortAsc:pn,fn=e.clearSelectedRows,yn=void 0===fn?Yt.clearSelectedRows:fn,Zn=e.conditionalRowStyles,vn=void 0===Zn?Yt.conditionalRowStyles:Zn,Gn=e.theme,Bn=void 0===Gn?Yt.theme:Gn,Sn=e.customStyles,kn=void 0===Sn?Yt.customStyles:Sn,Wn=e.direction,Vn=void 0===Wn?Yt.direction:Wn,Rn=e.onColumnOrderChange,wn=void 0===Rn?Yt.onColumnOrderChange:Rn,Xn=e.className,Jn=en(a,wn,mn,bn),Yn=Jn.tableColumns,xn=Jn.draggingColumnId,Hn=Jn.handleDragStart,Nn=Jn.handleDragEnter,Fn=Jn.handleDragOver,Kn=Jn.handleDragLeave,Mn=Jn.handleDragEnd,Dn=Jn.defaultSortDirection,En=Jn.defaultSortColumn,zn=Ce.useReducer(We,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:En,toggleOnSelectedRowsChange:!1,sortDirection:Dn,currentPage:ee,rowsPerPage:ae,selectedRowsFlag:!1,contextMessage:Yt.contextMessage}),Tn=ge(zn,2),Ln=Tn[0],Un=Ln.rowsPerPage,jn=Ln.currentPage,Qn=Ln.selectedRows,_n=Ln.allSelected,On=Ln.selectedCount,Pn=Ln.selectedColumn,qn=Ln.sortDirection,$n=Ln.toggleOnSelectedRowsChange,er=Tn[1],tr=O.persistSelectedOnSort,nr=void 0!==tr&&tr,rr=O.persistSelectedOnPageChange,ar=void 0!==rr&&rr,gr=!(!Q||!ar&&!nr),or=nt&&!Ne&&n.length>0,ir=Se||Et,lr=Ce.useMemo((function(){return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=$t[n]?n:r;return Pt({table:{style:{color:(e=$t[a]).text.primary,backgroundColor:e.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:e.text.primary,backgroundColor:e.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:e.background.default,minHeight:"52px"}},head:{style:{color:e.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:e.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:e.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:e.context.background,fontSize:"18px",fontWeight:400,color:e.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:e.text.primary,backgroundColor:e.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:e.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:e.selected.text,backgroundColor:e.selected.default,borderBottomColor:e.background.default}},highlightOnHoverStyle:{color:e.highlightOnHover.text,backgroundColor:e.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:e.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:e.background.default},stripedStyle:{color:e.striped.text,backgroundColor:e.striped.default}},expanderRow:{style:{color:e.text.primary,backgroundColor:e.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:e.button.default,fill:e.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:e.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:e.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:e.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:e.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:e.button.default,fill:e.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:e.button.disabled,fill:e.button.disabled},"&:hover:not(:disabled)":{backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}}},t)}(kn,Bn)}),[kn,Bn]),sr=Ce.useMemo((function(){return Object.assign({},"auto"!==Vn&&{dir:Vn})}),[Vn]),cr=Ce.useMemo((function(){if(_t)return n;if((null==Pn?void 0:Pn.sortFunction)&&"function"==typeof Pn.sortFunction){var e=Pn.sortFunction,t=qn===ue.ASC?e:function(t,n){return-1*e(t,n)};return le(n).sort(t)}return function(e,t,n,r){return t?r&&"function"==typeof r?r(e.slice(0),t,n):e.slice(0).sort((function(e,r){var a,g;if("string"==typeof t?(a=me(e,t),g=me(r,t)):(a=t(e),g=t(r)),"asc"===n){if(a<g)return-1;if(a>g)return 1}if("desc"===n){if(a>g)return-1;if(a<g)return 1}return 0})):e}(n,null==Pn?void 0:Pn.selector,qn,jt)}),[_t,Pn,qn,n,jt]),Ir=Ce.useMemo((function(){if(nt&&!Q){var e=jn*Un,t=e-Un;return cr.slice(t,e)}return cr}),[jn,nt,Q,Un,cr]),ur=Ce.useCallback((function(e){er(e)}),[]),Cr=Ce.useCallback((function(e){er(e)}),[]),dr=Ce.useCallback((function(e){er(e)}),[]),Ar=Ce.useCallback((function(e,t){return Xt(e,t)}),[Xt]),hr=Ce.useCallback((function(e,t){return xt(e,t)}),[xt]),mr=Ce.useCallback((function(e,t){return Nt(e,t)}),[Nt]),pr=Ce.useCallback((function(e,t){return Kt(e,t)}),[Kt]),br=Ce.useCallback((function(e){return er({type:"CHANGE_PAGE",page:e,paginationServer:Q,visibleOnly:W,persistSelectedOnPageChange:ar})}),[Q,ar,W]),fr=Ce.useCallback((function(e){var t=ye(q||Ir.length,e),n=Ze(jn,t);Q||br(n),er({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:e})}),[jn,br,Q,q,Ir.length]);if(nt&&!Q&&cr.length>0&&0===Ir.length){var yr=ye(cr.length,Un),Zr=Ze(jn,yr);br(Zr)}zt((function(){M({allSelected:_n,selectedCount:On,selectedRows:Qn.slice(0)})}),[$n]),zt((function(){Lt(Pn,qn,cr.slice(0))}),[Pn,qn]),zt((function(){U(jn,q||cr.length)}),[jn]),zt((function(){T(Un,jn)}),[Un]),zt((function(){br(ee)}),[ee,ne]),zt((function(){if(nt&&Q&&q>0){var e=ye(q,Un),t=Ze(jn,e);jn!==t&&br(t)}}),[q]),Ce.useEffect((function(){er({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:yn})}),[Z,yn]),Ce.useEffect((function(){if(R){var e=cr.filter((function(e){return R(e)})),t=Z?e.slice(0,1):e;er({type:"SELECT_MULTIPLE_ROWS",keyField:c,selectedRows:t,totalRows:cr.length,mergeSelections:gr})}}),[n,R]);var vr=W?Ir:cr,Gr=ar||Z||S;return Ce.createElement(ce.ThemeProvider,{theme:lr},!_e&&(!!o||!!l)&&Ce.createElement(bt,{title:o,actions:l,showMenu:!dt,selectedCount:On,direction:Vn,contextActions:pt,contextComponent:yt,contextMessage:ht}),at&&Ce.createElement(vt,{align:ot,wrapContent:st},ut),Ce.createElement(Bt,Object.assign({$responsive:Ye,$fixedHeader:Pe,$fixedHeaderScrollHeight:$e,className:Xn},sr),Ce.createElement(kt,null,Ne&&!De&&Ce.createElement(St,null,Ke),Ce.createElement(Re,{disabled:Le,className:"rdt_Table",role:"table"},!je&&(!!De||cr.length>0&&!Ne)&&Ce.createElement(Xe,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:Pe},Ce.createElement(Je,{className:"rdt_TableHeadRow",role:"row",$dense:p},f&&(Gr?Ce.createElement(xe,{style:{flex:"0 0 48px"}}):Ce.createElement(ct,{allSelected:_n,selectedRows:Qn,selectableRowsComponent:Y,selectableRowsComponentProps:H,selectableRowDisabled:X,rowData:vr,keyField:c,mergeSelections:gr,onSelectAllRows:Cr})),Rt&&!on&&Ce.createElement(Wt,null),Yn.map((function(e){return Ce.createElement(lt,{key:e.id,column:e,selectedColumn:Pn,disabled:Ne||0===cr.length,pagination:nt,paginationServer:Q,persistSelectedOnSort:nr,selectableRowsVisibleOnly:W,sortDirection:qn,sortIcon:Dt,sortServer:_t,onSort:ur,onDragStart:Hn,onDragOver:Fn,onDragEnd:Mn,onDragEnter:Nn,onDragLeave:Kn,draggingColumnId:xn})})))),!cr.length&&!Ne&&Ce.createElement(Vt,null,ze),Ne&&De&&Ce.createElement(St,null,Ke),!Ne&&cr.length>0&&Ce.createElement(Gt,{className:"rdt_TableBody",role:"rowgroup"},Ir.map((function(e,t){var n=he(e,c),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"number"!=typeof e&&(!e||0===e.length)}(n)?t:n,a=Be(e,Qn,c),g=!!(Rt&&Cn&&Cn(e)),o=!!(Rt&&an&&an(e));return Ce.createElement(tt,{id:r,key:r,keyField:c,"data-row-id":r,columns:Yn,row:e,rowCount:cr.length,rowIndex:t,selectableRows:f,expandableRows:Rt,expandableIcon:E,highlightOnHover:d,pointerOnHover:h,dense:p,expandOnRowClicked:sn,expandOnRowDoubleClicked:In,expandableRowsComponent:qt,expandableRowsComponentProps:nn,expandableRowsHideExpander:on,defaultExpanderDisabled:o,defaultExpanded:g,expandableInheritConditionalStyles:An,conditionalRowStyles:vn,selected:a,selectableRowsHighlight:G,selectableRowsComponent:Y,selectableRowsComponentProps:H,selectableRowDisabled:X,selectableRowsSingle:Z,striped:u,onRowExpandToggled:F,onRowClicked:Ar,onRowDoubleClicked:hr,onRowMouseEnter:mr,onRowMouseLeave:pr,onSelectedRow:dr,draggingColumnId:xn,onDragStart:Hn,onDragOver:Fn,onDragEnd:Mn,onDragEnter:Nn,onDragLeave:Kn})})))))),or&&Ce.createElement("div",null,Ce.createElement(ir,{onChangePage:br,onChangeRowsPerPage:fr,rowCount:q||cr.length,currentPage:jn,rowsPerPage:Un,direction:Vn,paginationRowsPerPageOptions:ie,paginationIconLastPage:Ie,paginationIconFirstPage:Ae,paginationIconNext:be,paginationIconPrevious:ve,paginationComponentOptions:Ve})))}));t.ZP=tn},9513:function(e,t,n){!function(e,t,n,r,a,g,o,i,l,s,c,I,u,C,d,A,h,m,p,b,f,y,Z,v,G,B,S,k,W,V,R,w,X,J,Y,x,H,N,F,K,M,D,E,z,T,L,U,j,Q,_,O,P,q,$,ee,te,ne,re,ae,ge,oe,ie,le,se){"use strict";function ce(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var Ie=ce(t),ue=ce(r),Ce=ce(a),de=ce(g),Ae=ce(o),he=ce(i),me=ce(l),pe=ce(s),be=ce(c),fe=ce(I),ye=ce(u),Ze=ce(C),ve=ce(d),Ge=ce(A),Be=ce(h),Se=ce(m),ke=ce(p),We=ce(b),Ve=ce(f),Re=ce(y),we=ce(Z),Xe=ce(v),Je=ce(G),Ye=ce(B),xe=ce(S),He=ce(k),Ne=ce(W),Fe=ce(V),Ke=ce(R),Me=ce(w),De=ce(X),Ee=ce(J),ze=ce(Y),Te=ce(x),Le=ce(H),Ue=ce(N),je=ce(F),Qe=ce(K),_e=ce(M),Oe=ce(D),Pe=ce(E),qe=ce(z),$e=ce(T),et=ce(L),tt=ce(j),nt=ce(Q),rt=ce(_),at=ce(O),gt=ce(P),ot=ce(q),it=ce($),lt=ce(ee),st=ce(te),ct=ce(ne),It=ce(re),ut=ce(ae),Ct=ce(ge),dt=ce(oe),At=ce(ie),ht=ce(se);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xt(r.key),r)}}function Zt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vt(e,t,n){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}function Bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}function St(e){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},St(e)}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=St(e);if(t){var a=St(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wt(e)}(this,n)}}function Rt(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Jt=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Yt=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},xt={p:Yt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],g=r[2];if(!g)return Jt(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Jt(a,t)).replace("{{time}}",Yt(g,t))}},Ht=12,Nt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ft(e){var t=e?"string"==typeof e||e instanceof String?Ct.default(e):It.default(e):new Date;return Kt(t)?t:null}function Kt(e,t){return t=t||new Date("1/1/1000"),de.default(e)&&!st.default(e,t)}function Mt(e,t,n){if("en"===n)return Ae.default(e,t,{awareOfUnicodeTokens:!0});var r=tn(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&en()&&tn(en())&&(r=tn(en())),Ae.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Dt(e,t){var n=t.dateFormat,r=t.locale;return e&&Mt(e,Array.isArray(n)?n[0]:n,r)||""}function Et(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,g=void 0===a?0:a,o=t.second,i=void 0===o?0:o;return Me.default(Ke.default(Fe.default(e,i),g),r)}function zt(e,t,n){var r=tn(t||en());return Oe.default(e,{locale:r,weekStartsOn:n})}function Tt(e){return Pe.default(e)}function Lt(e){return $e.default(e)}function Ut(e){return qe.default(e)}function jt(){return _e.default(Ft())}function Qt(e,t){return e&&t?ot.default(e,t):!e&&!t}function _t(e,t){return e&&t?gt.default(e,t):!e&&!t}function Ot(e,t){return e&&t?it.default(e,t):!e&&!t}function Pt(e,t){return e&&t?at.default(e,t):!e&&!t}function qt(e,t){return e&&t?rt.default(e,t):!e&&!t}function $t(e,t,n){var r,a=_e.default(t),g=et.default(n);try{r=ct.default(e,{start:a,end:g})}catch(e){r=!1}return r}function en(){return("undefined"!=typeof window?window:globalThis).__localeId__}function tn(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function nn(e,t){return Mt(De.default(Ft(),e),"LLLL",t)}function rn(e,t){return Mt(De.default(Ft(),e),"LLL",t)}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,g=t.excludeDateIntervals,o=t.includeDates,i=t.includeDateIntervals,l=t.filterDate;return Cn(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Pt(e,t)}))||g&&g.some((function(t){var n=t.start,r=t.end;return ct.default(e,{start:n,end:r})}))||o&&!o.some((function(t){return Pt(e,t)}))||i&&!i.some((function(t){var n=t.start,r=t.end;return ct.default(e,{start:n,end:r})}))||l&&!l(Ft(e))||!1}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some((function(t){var n=t.start,r=t.end;return ct.default(e,{start:n,end:r})})):n&&n.some((function(t){return Pt(e,t)}))||!1}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,g=t.includeDates,o=t.filterDate;return Cn(e,{minDate:Pe.default(n),maxDate:tt.default(r)})||a&&a.some((function(t){return _t(e,t)}))||g&&!g.some((function(t){return _t(e,t)}))||o&&!o(Ft(e))||!1}function ln(e,t,n,r){var a=He.default(e),g=Ye.default(e),o=He.default(t),i=Ye.default(t),l=He.default(r);return a===o&&a===l?g<=n&&n<=i:a<o?l===a&&g<=n||l===o&&i>=n||l<o&&l>a:void 0}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,g=t.includeDates,o=t.filterDate;return Cn(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Ot(e,t)}))||g&&!g.some((function(t){return Ot(e,t)}))||o&&!o(Ft(e))||!1}function cn(e,t,n){if(!de.default(t)||!de.default(n))return!1;var r=He.default(t),a=He.default(n);return r<=e&&a>=e}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,g=t.includeDates,o=t.filterDate,i=new Date(e,0,1);return Cn(i,{minDate:$e.default(n),maxDate:nt.default(r)})||a&&a.some((function(e){return Qt(i,e)}))||g&&!g.some((function(e){return Qt(i,e)}))||o&&!o(Ft(i))||!1}function un(e,t,n,r){var a=He.default(e),g=xe.default(e),o=He.default(t),i=xe.default(t),l=He.default(r);return a===o&&a===l?g<=n&&n<=i:a<o?l===a&&g<=n||l===o&&i>=n||l<o&&l>a:void 0}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&Ue.default(e,n)<0||r&&Ue.default(e,r)>0}function dn(e,t){return t.some((function(t){return Re.default(t)===Re.default(e)&&Ve.default(t)===Ve.default(e)}))}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return n&&dn(e,n)||r&&!dn(e,r)||a&&!a(e)||!1}function hn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a,g=Ft(),o=Me.default(Ke.default(g,Ve.default(e)),Re.default(e)),i=Me.default(Ke.default(g,Ve.default(n)),Re.default(n)),l=Me.default(Ke.default(g,Ve.default(r)),Re.default(r));try{a=!ct.default(o,{start:i,end:l})}catch(e){a=!1}return a}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Be.default(e,1);return n&&je.default(n,a)>0||r&&r.every((function(e){return je.default(e,a)>0}))||!1}function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=fe.default(e,1);return n&&je.default(a,n)>0||r&&r.every((function(e){return je.default(a,e)>0}))||!1}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=ke.default(e,1);return n&&Qe.default(n,a)>0||r&&r.every((function(e){return Qe.default(e,a)>0}))||!1}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=Ze.default(e,1);return n&&Qe.default(a,n)>0||r&&r.every((function(e){return Qe.default(a,e)>0}))||!1}function yn(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return Ue.default(e,t)>=0}));return Te.default(r)}return n?Te.default(n):t}function Zn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return Ue.default(e,t)<=0}));return Le.default(r)}return n?Le.default(n):t}function vn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var g=e[r];if(Ce.default(g)){var o=Mt(g,"MM.dd.yyyy"),i=n.get(o)||[];i.includes(t)||(i.push(t),n.set(o,i))}else if("object"===bt(g)){var l=Object.keys(g),s=l[0],c=g[l[0]];if("string"==typeof s&&c.constructor===Array)for(var I=0,u=c.length;I<u;I++){var C=Mt(c[I],"MM.dd.yyyy"),d=n.get(C)||[];d.includes(s)||(d.push(s),n.set(C,d))}}}return n}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",n=new Map;return e.forEach((function(e){var r=e.date,a=e.holidayName;if(Ce.default(r)){var g=Mt(r,"MM.dd.yyyy"),o=n.get(g)||{};if(!("className"in o)||o.className!==t||(i=o.holidayNames,l=[a],i.length!==l.length||!i.every((function(e,t){return e===l[t]})))){var i,l;o.className=t;var s=o.holidayNames;o.holidayNames=s?[].concat(Rt(s),[a]):[a],n.set(g,o)}}})),n}function Bn(e,t,n,r,a){for(var g=a.length,o=[],i=0;i<g;i++){var l=he.default(me.default(e,Re.default(a[i])),Ve.default(a[i])),s=he.default(e,(n+1)*r);lt.default(l,t)&&st.default(l,s)&&o.push(a[i])}return o}function Sn(e){return e<10?"0".concat(e):"".concat(e)}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht,n=Math.ceil(He.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Wn(e){var t=e.getSeconds(),n=e.getMilliseconds();return It.default(e.getTime()-1e3*t-n)}function Vn(e,t,n,r){for(var a=[],g=0;g<2*t+1;g++){var o=e+t-g,i=!0;n&&(i=He.default(n)<=o),r&&i&&(i=He.default(r)>=o),i&&a.push(o)}return a}var Rn=function(e){Bt(r,e);var n=Vt(r);function r(e){var a;ft(this,r),vt(Wt(a=n.call(this,e)),"renderOptions",(function(){var e=a.props.year,t=a.state.yearsList.map((function(t){return Ie.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:a.onChange.bind(Wt(a),t),"aria-selected":e===t?"true":void 0},e===t?Ie.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),n=a.props.minDate?He.default(a.props.minDate):null,r=a.props.maxDate?He.default(a.props.maxDate):null;return r&&a.state.yearsList.find((function(e){return e===r}))||t.unshift(Ie.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},Ie.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&a.state.yearsList.find((function(e){return e===n}))||t.push(Ie.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},Ie.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),vt(Wt(a),"onChange",(function(e){a.props.onChange(e)})),vt(Wt(a),"handleClickOutside",(function(){a.props.onCancel()})),vt(Wt(a),"shiftYears",(function(e){var t=a.state.yearsList.map((function(t){return t+e}));a.setState({yearsList:t})})),vt(Wt(a),"incrementYears",(function(){return a.shiftYears(1)})),vt(Wt(a),"decrementYears",(function(){return a.shiftYears(-1)}));var g=e.yearDropdownItemNumber,o=e.scrollableYearDropdown,i=g||(o?10:5);return a.state={yearsList:Vn(a.props.year,i,a.props.minDate,a.props.maxDate)},a.dropdownRef=t.createRef(),a}return Zt(r,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}}},{key:"render",value:function(){var e=ue.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Ie.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}]),r}(Ie.default.Component),wn=dt.default(Rn),Xn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),vt(Wt(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?He.default(e.props.minDate):1900,n=e.props.maxDate?He.default(e.props.maxDate):2100,r=[],a=t;a<=n;a++)r.push(Ie.default.createElement("option",{key:a,value:a},a));return r})),vt(Wt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),vt(Wt(e),"renderSelectMode",(function(){return Ie.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),vt(Wt(e),"renderReadView",(function(t){return Ie.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},Ie.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Ie.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),vt(Wt(e),"renderDropdown",(function(){return Ie.default.createElement(wn,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),vt(Wt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),vt(Wt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),vt(Wt(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),vt(Wt(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),vt(Wt(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),vt(Wt(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return Zt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return Ie.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(Ie.default.Component),Jn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"isSelectedMonth",(function(t){return e.props.month===t})),vt(Wt(e),"renderOptions",(function(){return e.props.monthNames.map((function(t,n){return Ie.default.createElement("div",{className:e.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(Wt(e),n),"aria-selected":e.isSelectedMonth(n)?"true":void 0},e.isSelectedMonth(n)?Ie.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))})),vt(Wt(e),"onChange",(function(t){return e.props.onChange(t)})),vt(Wt(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return Zt(n,[{key:"render",value:function(){return Ie.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(Ie.default.Component),Yn=dt.default(Jn),xn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),vt(Wt(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return Ie.default.createElement("option",{key:t,value:t},e)}))})),vt(Wt(e),"renderSelectMode",(function(t){return Ie.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),vt(Wt(e),"renderReadView",(function(t,n){return Ie.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},Ie.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Ie.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))})),vt(Wt(e),"renderDropdown",(function(t){return Ie.default.createElement(Yn,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),vt(Wt(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),vt(Wt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),vt(Wt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return Zt(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return rn(e,t.props.locale)}:function(e){return nn(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return Ie.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(Ie.default.Component);function Hn(e,t){for(var n=[],r=Tt(e),a=Tt(t);!lt.default(r,a);)n.push(Ft(r)),r=fe.default(r,1);return n}var Nn,Fn=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"renderOptions",(function(){return r.state.monthYearsList.map((function(e){var t=Ne.default(e),n=Qt(r.props.date,e)&&_t(r.props.date,e);return Ie.default.createElement("div",{className:n?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(Wt(r),t),"aria-selected":n?"true":void 0},n?Ie.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Mt(e,r.props.dateFormat,r.props.locale))}))})),vt(Wt(r),"onChange",(function(e){return r.props.onChange(e)})),vt(Wt(r),"handleClickOutside",(function(){r.props.onCancel()})),r.state={monthYearsList:Hn(r.props.minDate,r.props.maxDate)},r}return Zt(n,[{key:"render",value:function(){var e=ue.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Ie.default.createElement("div",{className:e},this.renderOptions())}}]),n}(Ie.default.Component),Kn=dt.default(Fn),Mn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),vt(Wt(e),"renderSelectOptions",(function(){for(var t=Tt(e.props.minDate),n=Tt(e.props.maxDate),r=[];!lt.default(t,n);){var a=Ne.default(t);r.push(Ie.default.createElement("option",{key:a,value:a},Mt(t,e.props.dateFormat,e.props.locale))),t=fe.default(t,1)}return r})),vt(Wt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),vt(Wt(e),"renderSelectMode",(function(){return Ie.default.createElement("select",{value:Ne.default(Tt(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),vt(Wt(e),"renderReadView",(function(t){var n=Mt(e.props.date,e.props.dateFormat,e.props.locale);return Ie.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},Ie.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Ie.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),vt(Wt(e),"renderDropdown",(function(){return Ie.default.createElement(Kn,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),vt(Wt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),vt(Wt(e),"onChange",(function(t){e.toggleDropdown();var n=Ft(parseInt(t));Qt(e.props.date,n)&&_t(e.props.date,n)||e.props.onChange(n)})),vt(Wt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return Zt(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return Ie.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(Ie.default.Component),Dn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"dayEl",Ie.default.createRef()),vt(Wt(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),vt(Wt(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),vt(Wt(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),vt(Wt(e),"isSameDay",(function(t){return Pt(e.props.day,t)})),vt(Wt(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),vt(Wt(e),"isDisabled",(function(){return an(e.props.day,e.props)})),vt(Wt(e),"isExcluded",(function(){return gn(e.props.day,e.props)})),vt(Wt(e),"getHighLightedClass",(function(){var t=e.props,n=t.day,r=t.highlightDates;if(!r)return!1;var a=Mt(n,"MM.dd.yyyy");return r.get(a)})),vt(Wt(e),"getHolidaysClass",(function(){var t=e.props,n=t.day,r=t.holidays;if(!r)return!1;var a=Mt(n,"MM.dd.yyyy");return r.has(a)?[r.get(a).className]:void 0})),vt(Wt(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&$t(n,r,a)})),vt(Wt(e),"isInSelectingRange",(function(){var t,n=e.props,r=n.day,a=n.selectsStart,g=n.selectsEnd,o=n.selectsRange,i=n.selectsDisabledDaysInRange,l=n.startDate,s=n.endDate,c=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(a||g||o)||!c||!i&&e.isDisabled())&&(a&&s&&(st.default(c,s)||qt(c,s))?$t(r,c,s):(g&&l&&(lt.default(c,l)||qt(c,l))||!(!o||!l||s||!lt.default(c,l)&&!qt(c,l)))&&$t(r,l,c))})),vt(Wt(e),"isSelectingRangeStart",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.startDate,g=n.selectsStart,o=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Pt(r,g?o:a)})),vt(Wt(e),"isSelectingRangeEnd",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.endDate,g=n.selectsEnd,o=n.selectsRange,i=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Pt(r,g||o?i:a)})),vt(Wt(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Pt(r,n)})),vt(Wt(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Pt(a,n)})),vt(Wt(e),"isWeekend",(function(){var t=we.default(e.props.day);return 0===t||6===t})),vt(Wt(e),"isAfterMonth",(function(){return void 0!==e.props.month&&(e.props.month+1)%12===Ye.default(e.props.day)})),vt(Wt(e),"isBeforeMonth",(function(){return void 0!==e.props.month&&(Ye.default(e.props.day)+1)%12===e.props.month})),vt(Wt(e),"isCurrentDay",(function(){return e.isSameDay(Ft())})),vt(Wt(e),"isSelected",(function(){return e.isSameDay(e.props.selected)})),vt(Wt(e),"getClassNames",(function(t){var n,r=e.props.dayClassName?e.props.dayClassName(t):void 0;return ue.default("react-datepicker__day",r,"react-datepicker__day--"+Mt(e.props.day,"ddd",n),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())})),vt(Wt(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,g=t.ariaLabelPrefixWhenDisabled,o=void 0===g?"Not available":g,i=e.isDisabled()||e.isExcluded()?o:a;return"".concat(i," ").concat(Mt(n,"PPPP",e.props.locale))})),vt(Wt(e),"getTitle",(function(){var t=e.props,n=t.day,r=t.holidays,a=void 0===r?new Map:r,g=Mt(n,"MM.dd.yyyy");return a.has(g)&&a.get(g).holidayNames.length>0?a.get(g).holidayNames.join(", "):""})),vt(Wt(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,a=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&Pt(a,r)?0:-1})),vt(Wt(e),"handleFocusDay",(function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!1;0===e.getTabIndex()&&!n.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(r=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(r=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(r=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(r=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(r=!1)),r&&(null===(t=e.dayEl.current)||void 0===t||t.focus({preventScroll:!0}))})),vt(Wt(e),"renderDayContents",(function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Xe.default(e.props.day),e.props.day):Xe.default(e.props.day)})),vt(Wt(e),"render",(function(){return Ie.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),""!==e.getTitle()&&Ie.default.createElement("span",{className:"holiday-overlay"},e.getTitle()))})),e}return Zt(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(Ie.default.Component),En=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return Zt(n,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return Ie.default.createElement("div",{className:ue.default(a),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick},t)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(Ie.default.Component),zn=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),vt(Wt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),vt(Wt(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),vt(Wt(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):function(e,t){var n=t&&tn(t)||en()&&tn(en());return Je.default(e,n?{locale:n}:null)}(t)})),vt(Wt(e),"renderDays",(function(){var t=zt(e.props.day,e.props.locale,e.props.calendarStartDay),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var a=e.props.onWeekSelect?e.handleWeekClick.bind(Wt(e),t,r):void 0;n.push(Ie.default.createElement(En,{key:"W",weekNumber:r,onClick:a,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var r=pe.default(t,n);return Ie.default.createElement(Dn,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(Wt(e),r),onMouseEnter:e.handleDayMouseEnter.bind(Wt(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})})))})),e}return Zt(n,[{key:"render",value:function(){return Ie.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(Ie.default.Component),Tn="two_columns",Ln="three_columns",Un="four_columns",jn=(vt(Nn={},Tn,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),vt(Nn,Ln,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),vt(Nn,Un,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),Nn);function Qn(e,t){return e?Un:t?Tn:Ln}var _n=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"MONTH_REFS",Rt(Array(12)).map((function(){return Ie.default.createRef()}))),vt(Wt(e),"QUARTER_REFS",Rt(Array(4)).map((function(){return Ie.default.createRef()}))),vt(Wt(e),"isDisabled",(function(t){return an(t,e.props)})),vt(Wt(e),"isExcluded",(function(t){return gn(t,e.props)})),vt(Wt(e),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),vt(Wt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),vt(Wt(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),vt(Wt(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate;return!(!a||!g)&&_t(De.default(r,t),a)})),vt(Wt(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate;return!(!a||!g)&&Ot(Ee.default(r,t),a)})),vt(Wt(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate;return!(!a||!g)&&_t(De.default(r,t),g)})),vt(Wt(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate;return!(!a||!g)&&Ot(Ee.default(r,t),g)})),vt(Wt(e),"isInSelectingRangeMonth",(function(t){var n,r=e.props,a=r.day,g=r.selectsStart,o=r.selectsEnd,i=r.selectsRange,l=r.startDate,s=r.endDate,c=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(g||o||i)||!c)&&(g&&s?ln(c,s,t,a):(o&&l||!(!i||!l||s))&&ln(l,c,t,a))})),vt(Wt(e),"isSelectingMonthRangeStart",(function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,a=r.day,g=r.startDate,o=r.selectsStart,i=De.default(a,t),l=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return _t(i,o?l:g)})),vt(Wt(e),"isSelectingMonthRangeEnd",(function(t){var n;if(!e.isInSelectingRangeMonth(t))return!1;var r=e.props,a=r.day,g=r.endDate,o=r.selectsEnd,i=r.selectsRange,l=De.default(a,t),s=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return _t(l,o||i?s:g)})),vt(Wt(e),"isInSelectingRangeQuarter",(function(t){var n,r=e.props,a=r.day,g=r.selectsStart,o=r.selectsEnd,i=r.selectsRange,l=r.startDate,s=r.endDate,c=null!==(n=e.props.selectingDate)&&void 0!==n?n:e.props.preSelection;return!(!(g||o||i)||!c)&&(g&&s?un(c,s,t,a):(o&&l||!(!i||!l||s))&&un(l,c,t,a))})),vt(Wt(e),"isWeekInMonth",(function(t){var n=e.props.day,r=pe.default(t,6);return _t(t,n)||_t(r,n)})),vt(Wt(e),"isCurrentMonth",(function(e,t){return He.default(e)===He.default(Ft())&&t===Ye.default(Ft())})),vt(Wt(e),"isCurrentQuarter",(function(e,t){return He.default(e)===He.default(Ft())&&t===xe.default(Ft())})),vt(Wt(e),"isSelectedMonth",(function(e,t,n){return Ye.default(n)===t&&He.default(e)===He.default(n)})),vt(Wt(e),"isSelectedQuarter",(function(e,t,n){return xe.default(e)===t&&He.default(e)===He.default(n)})),vt(Wt(e),"renderWeeks",(function(){for(var t=[],n=e.props.fixedHeight,r=0,a=!1,g=zt(Tt(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(Ie.default.createElement(zn,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:g,month:Ye.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!a;){r++,g=be.default(g,1);var o=n&&r>=6,i=!n&&!e.isWeekInMonth(g);if(o||i){if(!e.props.peekNextMonth)break;a=!0}}return t})),vt(Wt(e),"onMonthClick",(function(t,n){e.handleDayClick(Tt(De.default(e.props.day,n)),t)})),vt(Wt(e),"onMonthMouseEnter",(function(t){e.handleDayMouseEnter(Tt(De.default(e.props.day,t)))})),vt(Wt(e),"handleMonthNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),vt(Wt(e),"onMonthKeyDown",(function(t,n){var r=e.props,a=r.selected,g=r.preSelection,o=r.disabledKeyboardNavigation,i=r.showTwoColumnMonthYearPicker,l=r.showFourColumnMonthYearPicker,s=r.setPreSelection,c=t.key;if("Tab"!==c&&t.preventDefault(),!o){var I=Qn(l,i),u=jn[I].verticalNavigationOffset,C=jn[I].grid;switch(c){case"Enter":e.onMonthClick(t,n),s(a);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,fe.default(g,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,Be.default(g,1));break;case"ArrowUp":e.handleMonthNavigation(C[0].includes(n)?n+12-u:n-u,Be.default(g,u));break;case"ArrowDown":e.handleMonthNavigation(C[C.length-1].includes(n)?n-12+u:n+u,fe.default(g,u))}}})),vt(Wt(e),"onQuarterClick",(function(t,n){e.handleDayClick(Ut(Ee.default(e.props.day,n)),t)})),vt(Wt(e),"onQuarterMouseEnter",(function(t){e.handleDayMouseEnter(Ut(Ee.default(e.props.day,t)))})),vt(Wt(e),"handleQuarterNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.QUARTER_REFS[t-1].current&&e.QUARTER_REFS[t-1].current.focus())})),vt(Wt(e),"onQuarterKeyDown",(function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onQuarterClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(4===n?1:n+1,ye.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(1===n?4:n-1,Se.default(e.props.preSelection,1))}})),vt(Wt(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate,o=n.selected,i=n.minDate,l=n.maxDate,s=n.preSelection,c=n.monthClassName,I=n.excludeDates,u=n.includeDates,C=c?c(De.default(r,t)):void 0,d=De.default(r,t);return ue.default("react-datepicker__month-text","react-datepicker__month-".concat(t),C,{"react-datepicker__month-text--disabled":(i||l||I||u)&&on(d,e.props),"react-datepicker__month-text--selected":e.isSelectedMonth(r,t,o),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&Ye.default(s)===t,"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(t),"react-datepicker__month-text--in-range":ln(a,g,t,r),"react-datepicker__month-text--range-start":e.isRangeStartMonth(t),"react-datepicker__month-text--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(t),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(t),"react-datepicker__month-text--today":e.isCurrentMonth(r,t)})})),vt(Wt(e),"getTabIndex",(function(t){var n=Ye.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),vt(Wt(e),"getQuarterTabIndex",(function(t){var n=xe.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),vt(Wt(e),"getAriaLabel",(function(t){var n=e.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,g=n.disabledDayAriaLabelPrefix,o=void 0===g?"Not available":g,i=n.day,l=De.default(i,t),s=e.isDisabled(l)||e.isExcluded(l)?o:a;return"".concat(s," ").concat(Mt(l,"MMMM yyyy"))})),vt(Wt(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,a=n.startDate,g=n.endDate,o=n.selected,i=n.minDate,l=n.maxDate,s=n.preSelection;return ue.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter-text--disabled":(i||l)&&sn(Ee.default(r,t),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(r,t,o),"react-datepicker__quarter-text--keyboard-selected":xe.default(s)===t,"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(t),"react-datepicker__quarter-text--in-range":un(a,g,t,r),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(t)})})),vt(Wt(e),"getMonthContent",(function(t){var n=e.props,r=n.showFullMonthYearPicker,a=n.renderMonthContent,g=n.locale,o=rn(t,g),i=nn(t,g);return a?a(t,o,i):r?i:o})),vt(Wt(e),"getQuarterContent",(function(t){var n=e.props,r=n.renderQuarterContent,a=function(e,t){return Mt(Ee.default(Ft(),e),"QQQ",t)}(t,n.locale);return r?r(t,a):a})),vt(Wt(e),"renderMonths",(function(){var t=e.props,n=t.showTwoColumnMonthYearPicker,r=t.showFourColumnMonthYearPicker,a=t.day,g=t.selected;return jn[Qn(r,n)].grid.map((function(t,n){return Ie.default.createElement("div",{className:"react-datepicker__month-wrapper",key:n},t.map((function(t,n){return Ie.default.createElement("div",{ref:e.MONTH_REFS[t],key:n,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},onMouseEnter:function(){return e.onMonthMouseEnter(t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(a,t)?"date":void 0,"aria-selected":e.isSelectedMonth(a,t,g)},e.getMonthContent(t))})))}))})),vt(Wt(e),"renderQuarters",(function(){var t=e.props,n=t.day,r=t.selected;return Ie.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,a){return Ie.default.createElement("div",{key:a,ref:e.QUARTER_REFS[a],role:"option",onClick:function(n){e.onQuarterClick(n,t)},onKeyDown:function(n){e.onQuarterKeyDown(n,t)},onMouseEnter:function(){return e.onQuarterMouseEnter(t)},className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(n,t,r),tabIndex:e.getQuarterTabIndex(t),"aria-current":e.isCurrentQuarter(n,t)?"date":void 0},e.getQuarterContent(t))})))})),vt(Wt(e),"getClassNames",(function(){var t=e.props,n=t.selectingDate,r=t.selectsStart,a=t.selectsEnd,g=t.showMonthYearPicker,o=t.showQuarterYearPicker;return ue.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":g},{"react-datepicker__quarterPicker":o})})),e}return Zt(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,g=void 0===a?"month ":a;return Ie.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(g," ").concat(Mt(r,"yyyy-MM")),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(Ie.default.Component),On=function(e){Bt(n,e);var t=Vt(n);function n(){var e;ft(this,n);for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return vt(Wt(e=t.call.apply(t,[this].concat(a))),"state",{height:null}),vt(Wt(e),"scrollToTheSelectedTime",(function(){requestAnimationFrame((function(){e.list&&(e.list.scrollTop=e.centerLi&&n.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))}))})),vt(Wt(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&hn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&An(t,e.props)||e.props.onChange(t)})),vt(Wt(e),"isSelectedTime",(function(t){return e.props.selected&&(n=t,Wn(e.props.selected).getTime()===Wn(n).getTime());var n})),vt(Wt(e),"isDisabledTime",(function(t){return(e.props.minTime||e.props.maxTime)&&hn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&An(t,e.props)})),vt(Wt(e),"liClasses",(function(t){var n=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t):void 0];return e.isSelectedTime(t)&&n.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(t)&&n.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*Re.default(t)+Ve.default(t))%e.props.intervals!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")})),vt(Wt(e),"handleOnKeyDown",(function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||!t.target.previousSibling||(t.preventDefault(),t.target.previousSibling.focus()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||!t.target.nextSibling||(t.preventDefault(),t.target.nextSibling.focus()),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)})),vt(Wt(e),"renderTimes",(function(){for(var t,n=[],r=e.props.format?e.props.format:"p",a=e.props.intervals,g=e.props.selected||e.props.openToDate||Ft(),o=(t=g,_e.default(t)),i=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),l=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(g),s=l/a,c=0;c<s;c++){var I=he.default(o,c*a);if(n.push(I),i){var u=Bn(o,I,c,a,i);n=n.concat(u)}}var C=n.reduce((function(e,t){return t.getTime()<=g.getTime()?t:e}),n[0]);return n.map((function(t,n){return Ie.default.createElement("li",{key:n,onClick:e.handleClick.bind(Wt(e),t),className:e.liClasses(t),ref:function(n){t===C&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:t===C?0:-1,role:"option","aria-selected":e.isSelectedTime(t)?"true":void 0,"aria-disabled":e.isDisabledTime(t)?"true":void 0},Mt(t,r,e.props.locale))}))})),e}return Zt(n,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return Ie.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},Ie.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},Ie.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),Ie.default.createElement("div",{className:"react-datepicker__time"},Ie.default.createElement("div",{className:"react-datepicker__time-box"},Ie.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(Ie.default.Component);vt(On,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var Pn=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"YEAR_REFS",Rt(Array(r.props.yearItemNumber)).map((function(){return Ie.default.createRef()}))),vt(Wt(r),"isDisabled",(function(e){return an(e,r.props)})),vt(Wt(r),"isExcluded",(function(e){return gn(e,r.props)})),vt(Wt(r),"selectingDate",(function(){var e;return null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection})),vt(Wt(r),"updateFocusOnPaginate",(function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(Wt(r));window.requestAnimationFrame(t)})),vt(Wt(r),"handleYearClick",(function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)})),vt(Wt(r),"handleYearNavigation",(function(e,t){var n=r.props,a=n.date,g=n.yearItemNumber,o=kn(a,g).startPeriod;r.isDisabled(t)||r.isExcluded(t)||(r.props.setPreSelection(t),e-o==-1?r.updateFocusOnPaginate(g-1):e-o===g?r.updateFocusOnPaginate(0):r.YEAR_REFS[e-o].current.focus())})),vt(Wt(r),"isSameDay",(function(e,t){return Pt(e,t)})),vt(Wt(r),"isCurrentYear",(function(e){return e===He.default(Ft())})),vt(Wt(r),"isRangeStart",(function(e){return r.props.startDate&&r.props.endDate&&Qt(ze.default(Ft(),e),r.props.startDate)})),vt(Wt(r),"isRangeEnd",(function(e){return r.props.startDate&&r.props.endDate&&Qt(ze.default(Ft(),e),r.props.endDate)})),vt(Wt(r),"isInRange",(function(e){return cn(e,r.props.startDate,r.props.endDate)})),vt(Wt(r),"isInSelectingRange",(function(e){var t=r.props,n=t.selectsStart,a=t.selectsEnd,g=t.selectsRange,o=t.startDate,i=t.endDate;return!(!(n||a||g)||!r.selectingDate())&&(n&&i?cn(e,r.selectingDate(),i):(a&&o||!(!g||!o||i))&&cn(e,o,r.selectingDate()))})),vt(Wt(r),"isSelectingRangeStart",(function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.startDate,a=t.selectsStart;return Qt(ze.default(Ft(),e),a?r.selectingDate():n)})),vt(Wt(r),"isSelectingRangeEnd",(function(e){if(!r.isInSelectingRange(e))return!1;var t=r.props,n=t.endDate,a=t.selectsEnd,g=t.selectsRange;return Qt(ze.default(Ft(),e),a||g?r.selectingDate():n)})),vt(Wt(r),"isKeyboardSelected",(function(e){var t=Lt(ze.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Pt(t,Lt(r.props.selected))&&Pt(t,Lt(r.props.preSelection))})),vt(Wt(r),"onYearClick",(function(e,t){var n=r.props.date;r.handleYearClick(Lt(ze.default(n,t)),e)})),vt(Wt(r),"onYearKeyDown",(function(e,t){var n=e.key;if(!r.props.disabledKeyboardNavigation)switch(n){case"Enter":r.onYearClick(e,t),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(t+1,Ze.default(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(t-1,ke.default(r.props.preSelection,1))}})),vt(Wt(r),"getYearClassNames",(function(e){var t=r.props,n=t.minDate,a=t.maxDate,g=t.selected,o=t.excludeDates,i=t.includeDates,l=t.filterDate;return ue.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===He.default(g),"react-datepicker__year-text--disabled":(n||a||o||i||l)&&In(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--range-start":r.isRangeStart(e),"react-datepicker__year-text--range-end":r.isRangeEnd(e),"react-datepicker__year-text--in-range":r.isInRange(e),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(e),"react-datepicker__year-text--today":r.isCurrentYear(e)})})),vt(Wt(r),"getYearTabIndex",(function(e){return r.props.disabledKeyboardNavigation?"-1":e===He.default(r.props.preSelection)?"0":"-1"})),vt(Wt(r),"getYearContainerClassNames",(function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd,g=e.selectsRange;return ue.default("react-datepicker__year",{"react-datepicker__year--selecting-range":t&&(n||a||g)})})),vt(Wt(r),"getYearContent",(function(e){return r.props.renderYearContent?r.props.renderYearContent(e):e})),r}return Zt(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,g=n.onYearMouseEnter,o=n.onYearMouseLeave,i=kn(r,a),l=i.startPeriod,s=i.endPeriod,c=function(n){t.push(Ie.default.createElement("div",{ref:e.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){e.onYearKeyDown(t,n)},tabIndex:e.getYearTabIndex(n),className:e.getYearClassNames(n),onMouseEnter:function(e){return g(e,n)},onMouseLeave:function(e){return o(e,n)},key:n,"aria-current":e.isCurrentYear(n)?"date":void 0},e.getYearContent(n)))},I=l;I<=s;I++)c(I);return Ie.default.createElement("div",{className:this.getYearContainerClassNames()},Ie.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},t))}}]),n}(Ie.default.Component),qn=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"onTimeChange",(function(e){r.setState({time:e});var t=r.props.date,n=t instanceof Date&&!isNaN(t)?t:new Date;n.setHours(e.split(":")[0]),n.setMinutes(e.split(":")[1]),r.props.onChange(n)})),vt(Wt(r),"renderTimeInput",(function(){var e=r.state.time,t=r.props,n=t.date,a=t.timeString,g=t.customTimeInput;return g?Ie.default.cloneElement(g,{date:n,value:e,onChange:r.onTimeChange}):Ie.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||a)}})})),r.state={time:r.props.timeString},r}return Zt(n,[{key:"render",value:function(){return Ie.default.createElement("div",{className:"react-datepicker__input-time-container"},Ie.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Ie.default.createElement("div",{className:"react-datepicker-time__input-container"},Ie.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(Ie.default.Component);function $n(e){var t=e.className,n=e.children,r=e.showPopperArrow,a=e.arrowProps,g=void 0===a?{}:a;return Ie.default.createElement("div",{className:t},r&&Ie.default.createElement("div",Gt({className:"react-datepicker__triangle"},g)),n)}var er=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],tr=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"handleClickOutside",(function(e){r.props.onClickOutside(e)})),vt(Wt(r),"setClickOutsideRef",(function(){return r.containerRef.current})),vt(Wt(r),"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return er.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&r.props.onDropdownFocus()})),vt(Wt(r),"getDateInView",(function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,g=yn(r.props),o=Zn(r.props),i=Ft();return a||n||t||(g&&st.default(i,g)?g:o&&lt.default(i,o)?o:i)})),vt(Wt(r),"increaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:fe.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(Wt(r),"decreaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:Be.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(Wt(r),"handleDayClick",(function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(Wt(r),"handleDayMouseEnter",(function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)})),vt(Wt(r),"handleMonthMouseLeave",(function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()})),vt(Wt(r),"handleYearMouseEnter",(function(e,t){r.setState({selectingDate:ze.default(Ft(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)})),vt(Wt(r),"handleYearMouseLeave",(function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)})),vt(Wt(r),"handleYearChange",(function(e){r.props.onYearChange&&(r.props.onYearChange(e),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(Wt(r),"handleMonthChange",(function(e){r.handleCustomMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),vt(Wt(r),"handleCustomMonthChange",(function(e){r.props.onMonthChange&&(r.props.onMonthChange(e),r.setState({isRenderAriaLiveMessage:!0}))})),vt(Wt(r),"handleMonthYearChange",(function(e){r.handleYearChange(e),r.handleMonthChange(e)})),vt(Wt(r),"changeYear",(function(e){r.setState((function(t){var n=t.date;return{date:ze.default(n,e)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(Wt(r),"changeMonth",(function(e){r.setState((function(t){var n=t.date;return{date:De.default(n,e)}}),(function(){return r.handleMonthChange(r.state.date)}))})),vt(Wt(r),"changeMonthYear",(function(e){r.setState((function(t){var n=t.date;return{date:ze.default(De.default(n,Ye.default(e)),He.default(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))})),vt(Wt(r),"header",(function(){var e=zt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),t=[];return r.props.showWeekNumbers&&t.push(Ie.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var n=pe.default(e,t),a=r.formatWeekday(n,r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return Ie.default.createElement("div",{key:t,className:ue.default("react-datepicker__day-name",g)},a)})))})),vt(Wt(r),"formatWeekday",(function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Mt(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Mt(e,"EEE",t)}(e,t):function(e,t){return Mt(e,"EEEEEE",t)}(e,t)})),vt(Wt(r),"decreaseYear",(function(){r.setState((function(e){var t=e.date;return{date:ke.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(Wt(r),"clearSelectingDate",(function(){r.setState({selectingDate:null})})),vt(Wt(r),"renderPreviousButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=bn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,a=void 0===r?Ht:r,g=kn(Lt(ke.default(e,a)),a).endPeriod,o=n&&He.default(n);return o&&o>g||!1}(r.state.date,r.props);break;default:e=mn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,o=g.previousMonthButtonLabel,i=g.previousYearButtonLabel,l=r.props,s=l.previousMonthAriaLabel,c=void 0===s?"string"==typeof o?o:"Previous Month":s,I=l.previousYearAriaLabel,u=void 0===I?"string"==typeof i?i:"Previous Year":I;return Ie.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?u:c},Ie.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},a?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}})),vt(Wt(r),"increaseYear",(function(){r.setState((function(e){var t=e.date;return{date:Ze.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),vt(Wt(r),"renderNextButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=fn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,a=void 0===r?Ht:r,g=kn(Ze.default(e,a),a).startPeriod,o=n&&He.default(n);return o&&o<g||!1}(r.state.date,r.props);break;default:e=pn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,o=g.nextMonthButtonLabel,i=g.nextYearButtonLabel,l=r.props,s=l.nextMonthAriaLabel,c=void 0===s?"string"==typeof o?o:"Next Month":s,I=l.nextYearAriaLabel,u=void 0===I?"string"==typeof i?i:"Next Year":I;return Ie.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?u:c},Ie.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}})),vt(Wt(r),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),Ie.default.createElement("div",{className:t.join(" ")},Mt(e,r.props.dateFormat,r.props.locale))})),vt(Wt(r),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return Ie.default.createElement(Xn,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:He.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})})),vt(Wt(r),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return Ie.default.createElement(xn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ye.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})})),vt(Wt(r),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return Ie.default.createElement(Mn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})})),vt(Wt(r),"handleTodayButtonClick",(function(e){r.props.onSelect(jt(),e),r.props.setPreSelection&&r.props.setPreSelection(jt())})),vt(Wt(r),"renderTodayButton",(function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return Ie.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.handleTodayButtonClick(e)}},r.props.todayButton)})),vt(Wt(r),"renderDefaultHeader",(function(e){var t=e.monthDate,n=e.i;return Ie.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),Ie.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),Ie.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),vt(Wt(r),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=mn(r.state.date,r.props),g=pn(r.state.date,r.props),o=bn(r.state.date,r.props),i=fn(r.state.date,r.props),l=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return Ie.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(pt(pt({},r.state),{},{customHeaderCount:n,monthDate:t,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:g,prevYearButtonDisabled:o,nextYearButtonDisabled:i})),l&&Ie.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),vt(Wt(r),"renderYearHeader",(function(){var e=r.state.date,t=r.props,n=t.showYearPicker,a=kn(e,t.yearItemNumber),g=a.startPeriod,o=a.endPeriod;return Ie.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(g," - ").concat(o):He.default(e))})),vt(Wt(r),"renderHeader",(function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}})),vt(Wt(r),"renderMonths",(function(){var e;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var t=[],n=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=Be.default(r.state.date,n),g=null!==(e=r.props.monthSelectedIn)&&void 0!==e?e:n,o=0;o<r.props.monthsShown;++o){var i=o-g+n,l=fe.default(a,i),s="month-".concat(o),c=o<r.props.monthsShown-1,I=o>0;t.push(Ie.default.createElement("div",{key:s,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:l,i:o}),Ie.default.createElement(_n,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:l,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:o,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:c,monthShowsDuplicateDaysStart:I})))}return t}})),vt(Wt(r),"renderYears",(function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?Ie.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),Ie.default.createElement(Pn,Gt({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0})),vt(Wt(r),"renderTimeSection",(function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return Ie.default.createElement(On,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})})),vt(Wt(r),"renderInputTimeSection",(function(){var e=new Date(r.props.selected),t=Kt(e)&&Boolean(r.props.selected)?"".concat(Sn(e.getHours()),":").concat(Sn(e.getMinutes())):"";if(r.props.showTimeInput)return Ie.default.createElement(qn,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})})),vt(Wt(r),"renderAriaLiveRegion",(function(){var e,t=kn(r.state.date,r.props.yearItemNumber),n=t.startPeriod,a=t.endPeriod;return e=r.props.showYearPicker?"".concat(n," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?He.default(r.state.date):"".concat(nn(Ye.default(r.state.date),r.props.locale)," ").concat(He.default(r.state.date)),Ie.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&e)})),vt(Wt(r),"renderChildren",(function(){if(r.props.children)return Ie.default.createElement("div",{className:"react-datepicker__children-container"},r.props.children)})),r.containerRef=Ie.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return Zt(n,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(!this.props.preSelection||Pt(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Pt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!_t(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}}},{key:"render",value:function(){var e=this.props.container||$n;return Ie.default.createElement("div",{ref:this.containerRef},Ie.default.createElement(e,{className:ue.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Ht}}}]),n}(Ie.default.Component),nr=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a="react-datepicker__calendar-icon";return Ie.default.isValidElement(t)?Ie.default.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(a," ").concat(r)}):"string"==typeof t?Ie.default.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true"}):Ie.default.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ie.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},rr=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return Zt(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return At.default.createPortal(this.props.children,this.el)}}]),n}(Ie.default.Component),ar=function(e){return!e.disabled&&-1!==e.tabIndex},gr=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(ar)})),vt(Wt(r),"handleFocusStart",(function(){var e=r.getTabChildren();e&&e.length>1&&e[e.length-1].focus()})),vt(Wt(r),"handleFocusEnd",(function(){var e=r.getTabChildren();e&&e.length>1&&e[0].focus()})),r.tabLoopRef=Ie.default.createRef(),r}return Zt(n,[{key:"render",value:function(){return this.props.enableTabLoop?Ie.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Ie.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,Ie.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(Ie.default.Component),or=function(e){Bt(n,e);var t=Vt(n);function n(){return ft(this,n),t.apply(this,arguments)}return Zt(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,a=t.hidePopper,g=t.popperComponent,o=t.popperModifiers,i=t.popperPlacement,l=t.popperProps,s=t.targetComponent,c=t.enableTabLoop,I=t.popperOnKeyDown,u=t.portalId,C=t.portalHost;if(!a){var d=ue.default("react-datepicker-popper",n);e=Ie.default.createElement(le.Popper,Gt({modifiers:o,placement:i},l),(function(e){var t=e.ref,n=e.style,r=e.placement,a=e.arrowProps;return Ie.default.createElement(gr,{enableTabLoop:c},Ie.default.createElement("div",{ref:t,style:n,className:d,"data-placement":r,onKeyDown:I},Ie.default.cloneElement(g,{arrowProps:a})))}))}this.props.popperContainer&&(e=Ie.default.createElement(this.props.popperContainer,{},e)),u&&!a&&(e=Ie.default.createElement(rr,{portalId:u,portalHost:C},e));var A=ue.default("react-datepicker-wrapper",r);return Ie.default.createElement(le.Manager,{className:"react-datepicker-manager"},Ie.default.createElement(le.Reference,null,(function(e){var t=e.ref;return Ie.default.createElement("div",{ref:t,className:A},s)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(Ie.default.Component),ir="react-datepicker-ignore-onclickoutside",lr=dt.default(tr),sr="Date input not valid.",cr=function(e){Bt(n,e);var t=Vt(n);function n(e){var r;return ft(this,n),vt(Wt(r=t.call(this,e)),"getPreSelection",(function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ft()})),vt(Wt(r),"calcInitialState",(function(){var e,t,n=null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return de.default(n)?[].concat(Rt(e),[pt(pt({},t),{},{date:n})]):e}),[]),a=r.getPreSelection(),g=yn(r.props),o=Zn(r.props),i=g&&st.default(a,_e.default(g))?g:o&&lt.default(a,et.default(o))?o:a;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:null!==(t=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==t?t:i,highlightDates:vn(r.props.highlightDates),holidays:Gn(n),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}})),vt(Wt(r),"clearPreventFocusTimeout",(function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)})),vt(Wt(r),"setFocus",(function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})})),vt(Wt(r),"setBlur",(function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()})),vt(Wt(r),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ur},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))})),vt(Wt(r),"inputOk",(function(){return Ce.default(r.state.preSelection)})),vt(Wt(r),"isCalendarOpen",(function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open})),vt(Wt(r),"handleFocus",(function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})})),vt(Wt(r),"sendFocusBackToInput",(function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))})),vt(Wt(r),"cancelFocusInput",(function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null})),vt(Wt(r),"deferFocusInput",(function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)})),vt(Wt(r),"handleDropdownFocus",(function(){r.cancelFocusInput()})),vt(Wt(r),"handleBlur",(function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})})),vt(Wt(r),"handleCalendarClickOutside",(function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()})),vt(Wt(r),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(Wt(r),t),"function"==typeof a.isDefaultPrevented&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:Ir});var g,o,i,l,s,c,I,u,C=(g=a.target.value,o=r.props.dateFormat,i=r.props.locale,l=r.props.strictParsing,s=r.props.minDate,c=null,I=tn(i)||tn(en()),u=!0,Array.isArray(o)?(o.forEach((function(e){var t=ut.default(g,e,new Date,{locale:I});l&&(u=Kt(t,s)&&g===Mt(t,e,i)),Kt(t,s)&&u&&(c=t)})),c):(c=ut.default(g,o,new Date,{locale:I}),l?u=Kt(c)&&g===Mt(c,o,i):Kt(c)||(o=o.match(Nt).map((function(e){var t=e[0];return"p"===t||"P"===t?I?(0,xt[t])(e,I.formatLong):t:e})).join(""),g.length>0&&(c=ut.default(g,o.slice(0,g.length),new Date)),Kt(c)||(c=new Date(g))),Kt(c)&&u?c:null));r.props.showTimeSelectOnly&&r.props.selected&&!Pt(C,r.props.selected)&&(C=null==C?ht.default(r.props.selected,{hours:Re.default(r.props.selected),minutes:Ve.default(r.props.selected),seconds:We.default(r.props.selected)}):ht.default(r.props.selected,{hours:Re.default(C),minutes:Ve.default(C),seconds:We.default(C)})),!C&&a.target.value||r.setSelected(C,a,!0)}})),vt(Wt(r),"handleSelect",(function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,g=a.startDate,o=a.endDate;!g||o||st.default(e,g)||r.setOpen(!1)}})),vt(Wt(r),"setSelected",(function(e,t,n,a){var g=e;if(r.props.showYearPicker){if(null!==g&&In(He.default(g),r.props))return}else if(r.props.showMonthYearPicker){if(null!==g&&on(g,r.props))return}else if(null!==g&&an(g,r.props))return;var o=r.props,i=o.onChange,l=o.selectsRange,s=o.startDate,c=o.endDate;if(!qt(r.props.selected,g)||r.props.allowSameDay||l)if(null!==g&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(g=Et(g,{hour:Re.default(r.props.selected),minute:Ve.default(r.props.selected),second:We.default(r.props.selected)})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),l){var I=s&&c;s||c?s&&!c&&(st.default(g,s)?i([g,null],t):i([s,g],t)):i([g,null],t),I&&i([g,null],t)}else i(g,t);n||(r.props.onSelect(g,t),r.setState({inputValue:null}))})),vt(Wt(r),"setPreSelection",(function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,a=!0;if(e){var g=_e.default(e);if(t&&n)a=$t(e,r.props.minDate,r.props.maxDate);else if(t){var o=_e.default(r.props.minDate);a=lt.default(e,o)||qt(g,o)}else if(n){var i=et.default(r.props.maxDate);a=st.default(e,i)||qt(g,i)}}a&&r.setState({preSelection:e})})),vt(Wt(r),"handleTimeChange",(function(e){var t=r.props.selected?r.props.selected:r.getPreSelection(),n=r.props.selected?e:Et(t,{hour:Re.default(e),minute:Ve.default(e)});r.setState({preSelection:n}),r.props.onChange(n),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})})),vt(Wt(r),"onInputClick",(function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()})),vt(Wt(r),"onInputKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.calendar.componentNode&&r.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus({preventScroll:!0}))}var a=Ft(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===ur?(r.handleSelect(a,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(a)):r.setOpen(!1)):"Escape"===t?(e.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):"Tab"===t&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:sr})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()})),vt(Wt(r),"onPortalKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))})),vt(Wt(r),"onDayKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key,n=Ft(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:sr});else if(!r.props.disabledKeyboardNavigation){var a;switch(t){case"ArrowLeft":a=ve.default(n,1);break;case"ArrowRight":a=pe.default(n,1);break;case"ArrowUp":a=Ge.default(n,1);break;case"ArrowDown":a=be.default(n,1);break;case"PageUp":a=Be.default(n,1);break;case"PageDown":a=fe.default(n,1);break;case"Home":a=ke.default(n,1);break;case"End":a=Ze.default(n,1)}if(!a)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:sr}));if(e.preventDefault(),r.setState({lastPreSelectChange:ur}),r.props.adjustDateOnChange&&r.setSelected(a),r.setPreSelection(a),r.props.inline){var g=Ye.default(n),o=Ye.default(a),i=He.default(n),l=He.default(a);g!==o||i!==l?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}})),vt(Wt(r),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),r.sendFocusBackToInput())})),vt(Wt(r),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],e):r.props.onChange(null,e),r.setState({inputValue:null})})),vt(Wt(r),"clear",(function(){r.onClearClick()})),vt(Wt(r),"onScroll",(function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)})),vt(Wt(r),"renderCalendar",(function(){return r.props.inline||r.isCalendarOpen()?Ie.default.createElement(lr,{ref:function(e){r.calendar=e},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:r.state.holidays,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:ir,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null})),vt(Wt(r),"renderAriaLiveRegion",(function(){var e,t=r.props,n=t.dateFormat,a=t.locale,g=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Dt(r.props.startDate,{dateFormat:g,locale:a}),". ").concat(r.props.endDate?"End date: "+Dt(r.props.endDate,{dateFormat:g,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Dt(r.props.selected,{dateFormat:n,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Dt(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Dt(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Dt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Dt(r.props.selected,{dateFormat:g,locale:a})),Ie.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)})),vt(Wt(r),"renderDateInput",(function(){var e,t=ue.default(r.props.className,vt({},ir,r.state.open)),n=r.props.customInput||Ie.default.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",g="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Dt(e,n),a=t?Dt(t,n):"";return"".concat(r," - ").concat(a)}(r.props.startDate,r.props.endDate,r.props):Dt(r.props.selected,r.props);return Ie.default.cloneElement(n,(vt(e={},a,(function(e){r.input=e})),vt(e,"value",g),vt(e,"onBlur",r.handleBlur),vt(e,"onChange",r.handleChange),vt(e,"onClick",r.onInputClick),vt(e,"onFocus",r.handleFocus),vt(e,"onKeyDown",r.onInputKeyDown),vt(e,"id",r.props.id),vt(e,"name",r.props.name),vt(e,"form",r.props.form),vt(e,"autoFocus",r.props.autoFocus),vt(e,"placeholder",r.props.placeholderText),vt(e,"disabled",r.props.disabled),vt(e,"autoComplete",r.props.autoComplete),vt(e,"className",ue.default(n.props.className,t)),vt(e,"title",r.props.title),vt(e,"readOnly",r.props.readOnly),vt(e,"required",r.props.required),vt(e,"tabIndex",r.props.tabIndex),vt(e,"aria-describedby",r.props.ariaDescribedBy),vt(e,"aria-invalid",r.props.ariaInvalid),vt(e,"aria-labelledby",r.props.ariaLabelledBy),vt(e,"aria-required",r.props.ariaRequired),e))})),vt(Wt(r),"renderClearButton",(function(){var e=r.props,t=e.isClearable,n=e.selected,a=e.startDate,g=e.endDate,o=e.clearButtonTitle,i=e.clearButtonClassName,l=void 0===i?"":i,s=e.ariaLabelClose,c=void 0===s?"Close":s;return!t||null==n&&null==a&&null==g?null:Ie.default.createElement("button",{type:"button",className:"react-datepicker__close-icon ".concat(l).trim(),"aria-label":c,onClick:r.onClearClick,title:o,tabIndex:-1})})),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return Zt(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Ye.default(n)!==Ye.default(r)||He.default(n)!==He.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:vn(this.props.highlightDates)}),t.focused||qt(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname;return Ie.default.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&Ie.default.createElement(nr,{icon:n,className:r}),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?Ie.default.createElement(gr,{enableTabLoop:this.props.enableTabLoop},Ie.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=Ie.default.createElement(rr,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),Ie.default.createElement("div",null,this.renderInputContainer(),t)}return Ie.default.createElement(or,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ht,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),n}(Ie.default.Component),Ir="input",ur="navigate";e.CalendarContainer=$n,e.default=cr,e.getDefaultLocale=en,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791),n(2007),n(1694),n(6971),n(9314),n(1951),n(1518),n(2074),n(9040),n(20),n(1104),n(6689),n(5105),n(6753),n(7503),n(8030),n(6794),n(7602),n(2295),n(4424),n(1537),n(467),n(6114),n(6975),n(3747),n(639),n(2599),n(4460),n(9292),n(7227),n(2618),n(2363),n(5765),n(5617),n(1056),n(9333),n(9759),n(5951),n(7415),n(8347),n(9254),n(5719),n(3006),n(7235),n(786),n(4565),n(4888),n(4675),n(7508),n(4690),n(5375),n(1750),n(4845),n(9420),n(9579),n(7262),n(8527),n(3216),n(9831),n(11),n(4164),n(4419),n(7152))},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},d={};function A(e,t,n,r,a,g,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=o}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=h.hasOwnProperty(t)?h[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!I.call(d,e)||!I.call(C,e)&&(u.test(e)?d[e]=!0:(C[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),X=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var J=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Y=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}var H,N=Object.assign;function F(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var K=!1;function M(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),g=r.stack.split("\n"),o=a.length-1,i=g.length-1;1<=o&&0<=i&&a[o]!==g[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==g[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==g[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function D(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function E(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case Z:return"Portal";case B:return"Profiler";case G:return"StrictMode";case V:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function T(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function L(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=L(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,g=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,g.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function j(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=L(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function _(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function O(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=T(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function P(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function q(e,t){P(e,t);var n=T(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,T(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+T(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(g(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(g(92));if(te(n)){if(1<n.length)throw Error(g(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:T(n)}}function ge(e,t){var n=T(t.value),r=T(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,Ie=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ce.hasOwnProperty(e)&&Ce[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Ae(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Ce).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ce[t]=Ce[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(g(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(g(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(g(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(g(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fe=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ze=null,ve=null,Ge=null;function Be(e){if(e=ba(e)){if("function"!==typeof Ze)throw Error(g(280));var t=e.stateNode;t&&(t=ya(t),Ze(e.stateNode,e.type,t))}}function Se(e){ve?Ge?Ge.push(e):Ge=[e]:ve=e}function ke(){if(ve){var e=ve,t=Ge;if(Ge=ve=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function We(e,t){return e(t)}function Ve(){}var Re=!1;function we(e,t,n){if(Re)return e(t,n);Re=!0;try{return We(e,t,n)}finally{Re=!1,(null!==ve||null!==Ge)&&(Ve(),ke())}}function Xe(e,t){var n=e.stateNode;if(null===n)return null;var r=ya(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(g(231,t,typeof n));return n}var Je=!1;if(c)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Je=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(ce){Je=!1}function xe(e,t,n,r,a,g,o,i,l){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(c){this.onError(c)}}var He=!1,Ne=null,Fe=!1,Ke=null,Me={onError:function(e){He=!0,Ne=e}};function De(e,t,n,r,a,g,o,i,l){He=!1,Ne=null,xe.apply(Me,arguments)}function Ee(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Te(e){if(Ee(e)!==e)throw Error(g(188))}function Le(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ee(e)))throw Error(g(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Te(a),e;if(o===r)return Te(a),t;o=o.sibling}throw Error(g(188))}if(n.return!==r.return)n=a,r=o;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i)throw Error(g(189))}}if(n.alternate!==r)throw Error(g(190))}if(3!==n.tag)throw Error(g(188));return n.stateNode.current===n?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var je=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,_e=a.unstable_shouldYield,Oe=a.unstable_requestPaint,Pe=a.unstable_now,qe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,gt=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var st=64,ct=4194304;function It(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,g=e.pingedLanes,o=268435455&n;if(0!==o){var i=o&~a;0!==i?r=It(i):0!==(g&=o)&&(r=It(g))}else 0!==(o=n&~a)?r=It(o):0!==g&&(r=It(g));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(g=t&-t)||16===a&&0!==(4194240&g)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(){var e=st;return 0===(4194240&(st<<=1))&&(st=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function ft(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Zt,vt,Gt,Bt,St=!1,kt=[],Wt=null,Vt=null,Rt=null,wt=new Map,Xt=new Map,Jt=[],Yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function Ht(e,t,n,r,a,g){return null===e||e.nativeEvent!==g?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:g,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Zt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nt(e){var t=pa(e.target);if(null!==t){var n=Ee(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Bt(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Zt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);fe=r,n.target.dispatchEvent(r),fe=null,t.shift()}return!0}function Kt(e,t,n){Ft(e)&&n.delete(t)}function Mt(){St=!1,null!==Wt&&Ft(Wt)&&(Wt=null),null!==Vt&&Ft(Vt)&&(Vt=null),null!==Rt&&Ft(Rt)&&(Rt=null),wt.forEach(Kt),Xt.forEach(Kt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Et(e){function t(t){return Dt(t,e)}if(0<kt.length){Dt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Wt&&Dt(Wt,e),null!==Vt&&Dt(Vt,e),null!==Rt&&Dt(Rt,e),wt.forEach(t),Xt.forEach(t),n=0;n<Jt.length;n++)(r=Jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&null===(n=Jt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Jt.shift()}var zt=f.ReactCurrentBatchConfig,Tt=!0;function Lt(e,t,n,r){var a=bt,g=zt.transition;zt.transition=null;try{bt=1,jt(e,t,n,r)}finally{bt=a,zt.transition=g}}function Ut(e,t,n,r){var a=bt,g=zt.transition;zt.transition=null;try{bt=4,jt(e,t,n,r)}finally{bt=a,zt.transition=g}}function jt(e,t,n,r){if(Tt){var a=_t(e,t,n,r);if(null===a)Tr(e,t,r,Qt,n),xt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Wt=Ht(Wt,e,t,n,r,a),!0;case"dragenter":return Vt=Ht(Vt,e,t,n,r,a),!0;case"mouseover":return Rt=Ht(Rt,e,t,n,r,a),!0;case"pointerover":var g=a.pointerId;return wt.set(g,Ht(wt.get(g)||null,e,t,n,r,a)),!0;case"gotpointercapture":return g=a.pointerId,Xt.set(g,Ht(Xt.get(g)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(xt(e,r),4&t&&-1<Yt.indexOf(e)){for(;null!==a;){var g=ba(a);if(null!==g&&yt(g),null===(g=_t(e,t,n,r))&&Tr(e,t,r,Qt,n),g===a)break;a=g}null!==a&&r.stopPropagation()}else Tr(e,t,r,null,n)}}var Qt=null;function _t(e,t,n,r){if(Qt=null,null!==(e=pa(e=ye(r))))if(null===(t=Ee(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Ot(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Pt=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,r=n.length,a="value"in Pt?Pt.value:Pt.textContent,g=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[g-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,g){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=g,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var gn,on,ln,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(sn),In=N({},sn,{view:0,detail:0}),un=an(In),Cn=N({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(gn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=gn=0,ln=e),gn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),dn=an(Cn),An=an(N({},Cn,{dataTransfer:0})),hn=an(N({},In,{relatedTarget:0})),mn=an(N({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=N({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(pn),fn=an(N({},sn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function Bn(){return Gn}var Sn=N({},In,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Sn),Wn=an(N({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vn=an(N({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn})),Rn=an(N({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=N({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=an(wn),Jn=[9,13,27,32],Yn=c&&"CompositionEvent"in window,xn=null;c&&"documentMode"in document&&(xn=document.documentMode);var Hn=c&&"TextEvent"in window&&!xn,Nn=c&&(!Yn||xn&&8<xn&&11>=xn),Fn=String.fromCharCode(32),Kn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var En=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Ln(e,t,n,r){Se(r),0<(t=Ur(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,jn=null;function Qn(e){Fr(e,0)}function _n(e){if(j(fa(e)))return e}function On(e,t){if("change"===e)return t}var Pn=!1;if(c){var qn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}qn=$n}else qn=!1;Pn=qn&&(!document.documentMode||9<document.documentMode)}function tr(){Un&&(Un.detachEvent("onpropertychange",nr),jn=Un=null)}function nr(e){if("value"===e.propertyName&&_n(jn)){var t=[];Ln(t,jn,e,ye(e)),we(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),jn=n,(Un=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _n(jn)}function gr(e,t){if("click"===e)return _n(t)}function or(e,t){if("input"===e||"change"===e)return _n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!I.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function Ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ir(n.ownerDocument.documentElement,n)){if(null!==r&&Cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,g=Math.min(r.start,a);r=void 0===r.end?g:Math.min(r.end,a),!e.extend&&g>r&&(a=r,r=g,g=a),a=cr(n,g);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),g>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ar=c&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,pr=null,br=!1;function fr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&Cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&lr(pr,r)||(pr=r,0<(r=Ur(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},vr={},Gr={};function Br(e){if(vr[e])return vr[e];if(!Zr[e])return e;var t,n=Zr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Gr)return vr[e]=n[t];return e}c&&(Gr=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);var Sr=Br("animationend"),kr=Br("animationiteration"),Wr=Br("animationstart"),Vr=Br("transitionend"),Rr=new Map,wr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){Rr.set(e,t),l(t,[e])}for(var Jr=0;Jr<wr.length;Jr++){var Yr=wr[Jr];Xr(Yr.toLowerCase(),"on"+(Yr[0].toUpperCase()+Yr.slice(1)))}Xr(Sr,"onAnimationEnd"),Xr(kr,"onAnimationIteration"),Xr(Wr,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Vr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,i,l,s){if(De.apply(this,arguments),He){if(!He)throw Error(g(198));var c=Ne;He=!1,Ne=null,Fe||(Fe=!0,Ke=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var g=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,s=i.currentTarget;if(i=i.listener,l!==g&&a.isPropagationStopped())break e;Nr(a,i,s),g=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,s=i.currentTarget,i=i.listener,l!==g&&a.isPropagationStopped())break e;Nr(a,i,s),g=l}}}if(Fe)throw e=Ke,Fe=!1,Ke=null,e}function Kr(e,t){var n=t[Aa];void 0===n&&(n=t[Aa]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Er(e){if(!e[Dr]){e[Dr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Hr.has(t)||Mr(t,!1,e),Mr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Dr]||(t[Dr]=!0,Mr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Ot(t)){case 1:var a=Lt;break;case 4:a=Ut;break;default:a=jt}n=a.bind(null,t,n,e),a=void 0,!Je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Tr(e,t,n,r,a){var g=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=pa(i)))return;if(5===(l=o.tag)||6===l){r=g=o;continue e}i=i.parentNode}}r=r.return}we((function(){var r=g,a=ye(n),o=[];e:{var i=Rr.get(e);if(void 0!==i){var l=cn,s=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":s="focus",l=hn;break;case"focusout":s="blur",l=hn;break;case"beforeblur":case"afterblur":l=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Vn;break;case Sr:case kr:case Wr:l=mn;break;case Vr:l=Rn;break;case"scroll":l=un;break;case"wheel":l=Xn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Wn}var c=0!==(4&t),I=!c&&"scroll"===e,u=c?null!==i?i+"Capture":null:i;c=[];for(var C,d=r;null!==d;){var A=(C=d).stateNode;if(5===C.tag&&null!==A&&(C=A,null!==u&&(null!=(A=Xe(d,u))&&c.push(Lr(d,A,C)))),I)break;d=d.return}0<c.length&&(i=new l(i,s,null,n,a),o.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===fe||!(s=n.relatedTarget||n.fromElement)||!pa(s)&&!s[da])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(s=(s=n.relatedTarget||n.toElement)?pa(s):null)&&(s!==(I=Ee(s))||5!==s.tag&&6!==s.tag)&&(s=null)):(l=null,s=r),l!==s)){if(c=dn,A="onMouseLeave",u="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Wn,A="onPointerLeave",u="onPointerEnter",d="pointer"),I=null==l?i:fa(l),C=null==s?i:fa(s),(i=new c(A,d+"leave",l,n,a)).target=I,i.relatedTarget=C,A=null,pa(a)===r&&((c=new c(u,d+"enter",s,n,a)).target=C,c.relatedTarget=I,A=c),I=A,l&&s)e:{for(u=s,d=0,C=c=l;C;C=jr(C))d++;for(C=0,A=u;A;A=jr(A))C++;for(;0<d-C;)c=jr(c),d--;for(;0<C-d;)u=jr(u),C--;for(;d--;){if(c===u||null!==u&&c===u.alternate)break e;c=jr(c),u=jr(u)}c=null}else c=null;null!==l&&Qr(o,i,l,c,!1),null!==s&&null!==I&&Qr(o,I,s,c,!0)}if("select"===(l=(i=r?fa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var h=On;else if(Tn(i))if(Pn)h=or;else{h=ar;var m=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(h=gr);switch(h&&(h=h(e,r))?Ln(o,h,n,a):(m&&m(e,i,r),"focusout"===e&&(m=i._wrapperState)&&m.controlled&&"number"===i.type&&ee(i,"number",i.value)),m=r?fa(r):window,e){case"focusin":(Tn(m)||"true"===m.contentEditable)&&(hr=m,mr=r,pr=null);break;case"focusout":pr=mr=hr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,fr(o,n,a);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":fr(o,n,a)}var p;if(Yn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else En?Mn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(En||"onCompositionStart"!==b?"onCompositionEnd"===b&&En&&(p=en()):(qt="value"in(Pt=a)?Pt.value:Pt.textContent,En=!0)),0<(m=Ur(r,b)).length&&(b=new fn(b,e,null,n,a),o.push({event:b,listeners:m}),p?b.data=p:null!==(p=Dn(n))&&(b.data=p))),(p=Hn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Kn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(En)return"compositionend"===e||!Yn&&Mn(e,t)?(e=en(),$t=qt=Pt=null,En=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(a=new fn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=p))}Fr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,g=a.stateNode;5===a.tag&&null!==g&&(a=g,null!=(g=Xe(e,n))&&r.unshift(Lr(e,g,a)),null!=(g=Xe(e,t))&&r.push(Lr(e,g,a))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var g=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,s=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==s&&(i=s,a?null!=(l=Xe(n,g))&&o.unshift(Lr(n,l,i)):a||null!=(l=Xe(n,g))&&o.push(Lr(n,l,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var _r=/\r\n?/g,Or=/\u0000|\uFFFD/g;function Pr(e){return("string"===typeof e?e:""+e).replace(_r,"\n").replace(Or,"")}function qr(e,t,n){if(t=Pr(t),Pr(e)!==t&&n)throw Error(g(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ga="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ga?function(e){return ga.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Et(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Et(t)}function sa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),ua="__reactFiber$"+Ia,Ca="__reactProps$"+Ia,da="__reactContainer$"+Ia,Aa="__reactEvents$"+Ia,ha="__reactListeners$"+Ia,ma="__reactHandles$"+Ia;function pa(e){var t=e[ua];if(t)return t;for(var n=e.parentNode;n;){if(t=n[da]||n[ua]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ua])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ua]||e[da])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(g(33))}function ya(e){return e[Ca]||null}var Za=[],va=-1;function Ga(e){return{current:e}}function Ba(e){0>va||(e.current=Za[va],Za[va]=null,va--)}function Sa(e,t){va++,Za[va]=e.current,e.current=t}var ka={},Wa=Ga(ka),Va=Ga(!1),Ra=ka;function wa(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,g={};for(a in n)g[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function Xa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ja(){Ba(Va),Ba(Wa)}function Ya(e,t,n){if(Wa.current!==ka)throw Error(g(168));Sa(Wa,t),Sa(Va,n)}function xa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(g(108,z(e)||"Unknown",a));return N({},n,r)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,Ra=Wa.current,Sa(Wa,e),Sa(Va,Va.current),!0}function Na(e,t,n){var r=e.stateNode;if(!r)throw Error(g(169));n?(e=xa(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ba(Va),Ba(Wa),Sa(Wa,e)):Ba(Va),Sa(Va,n)}var Fa=null,Ka=!1,Ma=!1;function Da(e){null===Fa?Fa=[e]:Fa.push(e)}function Ea(){if(!Ma&&null!==Fa){Ma=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ka=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),je($e,Ea),a}finally{bt=t,Ma=!1}}return null}var za=[],Ta=0,La=null,Ua=0,ja=[],Qa=0,_a=null,Oa=1,Pa="";function qa(e,t){za[Ta++]=Ua,za[Ta++]=La,La=e,Ua=t}function $a(e,t,n){ja[Qa++]=Oa,ja[Qa++]=Pa,ja[Qa++]=_a,_a=e;var r=Oa;e=Pa;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var g=32-ot(t)+a;if(30<g){var o=a-a%5;g=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Oa=1<<32-ot(t)+a|n<<a|r,Pa=g+e}else Oa=1<<g|n<<a|r,Pa=e}function eg(e){null!==e.return&&(qa(e,1),$a(e,1,0))}function tg(e){for(;e===La;)La=za[--Ta],za[Ta]=null,Ua=za[--Ta],za[Ta]=null;for(;e===_a;)_a=ja[--Qa],ja[Qa]=null,Pa=ja[--Qa],ja[Qa]=null,Oa=ja[--Qa],ja[Qa]=null}var ng=null,rg=null,ag=!1,gg=null;function og(e,t){var n=Xs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ig(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ng=e,rg=sa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ng=e,rg=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Oa,overflow:Pa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xs(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ng=e,rg=null,!0);default:return!1}}function lg(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function sg(e){if(ag){var t=rg;if(t){var n=t;if(!ig(e,t)){if(lg(e))throw Error(g(418));t=sa(n.nextSibling);var r=ng;t&&ig(e,t)?og(r,n):(e.flags=-4097&e.flags|2,ag=!1,ng=e)}}else{if(lg(e))throw Error(g(418));e.flags=-4097&e.flags|2,ag=!1,ng=e}}}function cg(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ng=e}function Ig(e){if(e!==ng)return!1;if(!ag)return cg(e),ag=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rg)){if(lg(e))throw ug(),Error(g(418));for(;t;)og(e,t),t=sa(t.nextSibling)}if(cg(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(g(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rg=sa(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rg=null}}else rg=ng?sa(e.stateNode.nextSibling):null;return!0}function ug(){for(var e=rg;e;)e=sa(e.nextSibling)}function Cg(){rg=ng=null,ag=!1}function dg(e){null===gg?gg=[e]:gg.push(e)}var Ag=f.ReactCurrentBatchConfig;function hg(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mg=Ga(null),pg=null,bg=null,fg=null;function yg(){fg=bg=pg=null}function Zg(e){var t=mg.current;Ba(mg),e._currentValue=t}function vg(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gg(e,t){pg=e,fg=bg=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(fi=!0),e.firstContext=null)}function Bg(e){var t=e._currentValue;if(fg!==e)if(e={context:e,memoizedValue:t,next:null},null===bg){if(null===pg)throw Error(g(308));bg=e,pg.dependencies={lanes:0,firstContext:e}}else bg=bg.next=e;return t}var Sg=null;function kg(e){null===Sg?Sg=[e]:Sg.push(e)}function Wg(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,kg(t)):(n.next=a.next,a.next=n),t.interleaved=n,Vg(e,r)}function Vg(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rg=!1;function wg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jg(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yg(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Vl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Vg(e,n)}return null===(a=r.interleaved)?(t.next=t,kg(r)):(t.next=a.next,a.next=t),r.interleaved=t,Vg(e,n)}function xg(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}function Hg(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,g=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===g?a=g=o:g=g.next=o,n=n.next}while(null!==n);null===g?a=g=t:g=g.next=t}else a=g=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:g,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ng(e,t,n,r){var a=e.updateQueue;Rg=!1;var g=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,s=l.next;l.next=null,null===o?g=s:o.next=s,o=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===i?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=l))}if(null!==g){var I=a.baseState;for(o=0,c=s=l=null,i=g;;){var u=i.lane,C=i.eventTime;if((r&u)===u){null!==c&&(c=c.next={eventTime:C,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var d=e,A=i;switch(u=t,C=n,A.tag){case 1:if("function"===typeof(d=A.payload)){I=d.call(C,I,u);break e}I=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(u="function"===typeof(d=A.payload)?d.call(C,I,u):d)||void 0===u)break e;I=N({},I,u);break e;case 2:Rg=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(u=a.effects)?a.effects=[i]:u.push(i))}else C={eventTime:C,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=C,l=I):c=c.next=C,o|=u;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(u=i).next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}if(null===c&&(l=I),a.baseState=l,a.firstBaseUpdate=s,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===g&&(a.shared.lanes=0);Nl|=o,e.lanes=o,e.memoizedState=I}}function Fg(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(g(191,a));a.call(r)}}}var Kg=(new r.Component).refs;function Mg(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Dg={isMounted:function(e){return!!(e=e._reactInternals)&&Ee(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ts(),a=ns(e),g=Jg(r,a);g.payload=t,void 0!==n&&null!==n&&(g.callback=n),null!==(t=Yg(e,g,a))&&(rs(t,e,a,r),xg(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ts(),a=ns(e),g=Jg(r,a);g.tag=1,g.payload=t,void 0!==n&&null!==n&&(g.callback=n),null!==(t=Yg(e,g,a))&&(rs(t,e,a,r),xg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ts(),r=ns(e),a=Jg(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Yg(e,a,r))&&(rs(t,e,r,n),xg(t,e,r))}};function Eg(e,t,n,r,a,g,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,g,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,g))}function zg(e,t,n){var r=!1,a=ka,g=t.contextType;return"object"===typeof g&&null!==g?g=Bg(g):(a=Xa(t)?Ra:Wa.current,g=(r=null!==(r=t.contextTypes)&&void 0!==r)?wa(e,a):ka),t=new t(n,g),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Dg,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=g),t}function Tg(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dg.enqueueReplaceState(t,t.state,null)}function Lg(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Kg,wg(e);var g=t.contextType;"object"===typeof g&&null!==g?a.context=Bg(g):(g=Xa(t)?Ra:Wa.current,a.context=wa(e,g)),a.state=e.memoizedState,"function"===typeof(g=t.getDerivedStateFromProps)&&(Mg(e,t,g,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Dg.enqueueReplaceState(a,a.state,null),Ng(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Ug(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(g(309));var r=n.stateNode}if(!r)throw Error(g(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===Kg&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(g(284));if(!n._owner)throw Error(g(290,e))}return e}function jg(e,t){throw e=Object.prototype.toString.call(t),Error(g(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qg(e){return(0,e._init)(e._payload)}function _g(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ys(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fs(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function s(e,t,n,r){var g=n.type;return g===v?I(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===g||"object"===typeof g&&null!==g&&g.$$typeof===X&&Qg(g)===t.type)?((r=a(t,n.props)).ref=Ug(e,t,n),r.return=e,r):((r=xs(n.type,n.key,n.props,null,e.mode,r)).ref=Ug(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ks(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function I(e,t,n,r,g){return null===t||7!==t.tag?((t=Hs(n,e.mode,r,g)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=xs(t.type,t.key,t.props,null,e.mode,n)).ref=Ug(e,null,t),n.return=e,n;case Z:return(t=Ks(t,e.mode,n)).return=e,t;case X:return u(e,(0,t._init)(t._payload),n)}if(te(t)||x(t))return(t=Hs(t,e.mode,n,null)).return=e,t;jg(e,t)}return null}function C(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===a?s(e,t,n,r):null;case Z:return n.key===a?c(e,t,n,r):null;case X:return C(e,t,(a=n._init)(n._payload),r)}if(te(n)||x(n))return null!==a?null:I(e,t,n,r,null);jg(e,n)}return null}function d(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case y:return s(t,e=e.get(null===r.key?n:r.key)||null,r,a);case Z:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case X:return d(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||x(r))return I(t,e=e.get(n)||null,r,a,null);jg(t,r)}return null}function A(a,g,i,l){for(var s=null,c=null,I=g,A=g=0,h=null;null!==I&&A<i.length;A++){I.index>A?(h=I,I=null):h=I.sibling;var m=C(a,I,i[A],l);if(null===m){null===I&&(I=h);break}e&&I&&null===m.alternate&&t(a,I),g=o(m,g,A),null===c?s=m:c.sibling=m,c=m,I=h}if(A===i.length)return n(a,I),ag&&qa(a,A),s;if(null===I){for(;A<i.length;A++)null!==(I=u(a,i[A],l))&&(g=o(I,g,A),null===c?s=I:c.sibling=I,c=I);return ag&&qa(a,A),s}for(I=r(a,I);A<i.length;A++)null!==(h=d(I,a,A,i[A],l))&&(e&&null!==h.alternate&&I.delete(null===h.key?A:h.key),g=o(h,g,A),null===c?s=h:c.sibling=h,c=h);return e&&I.forEach((function(e){return t(a,e)})),ag&&qa(a,A),s}function h(a,i,l,s){var c=x(l);if("function"!==typeof c)throw Error(g(150));if(null==(l=c.call(l)))throw Error(g(151));for(var I=c=null,A=i,h=i=0,m=null,p=l.next();null!==A&&!p.done;h++,p=l.next()){A.index>h?(m=A,A=null):m=A.sibling;var b=C(a,A,p.value,s);if(null===b){null===A&&(A=m);break}e&&A&&null===b.alternate&&t(a,A),i=o(b,i,h),null===I?c=b:I.sibling=b,I=b,A=m}if(p.done)return n(a,A),ag&&qa(a,h),c;if(null===A){for(;!p.done;h++,p=l.next())null!==(p=u(a,p.value,s))&&(i=o(p,i,h),null===I?c=p:I.sibling=p,I=p);return ag&&qa(a,h),c}for(A=r(a,A);!p.done;h++,p=l.next())null!==(p=d(A,a,h,p.value,s))&&(e&&null!==p.alternate&&A.delete(null===p.key?h:p.key),i=o(p,i,h),null===I?c=p:I.sibling=p,I=p);return e&&A.forEach((function(e){return t(a,e)})),ag&&qa(a,h),c}return function e(r,g,o,l){if("object"===typeof o&&null!==o&&o.type===v&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case y:e:{for(var s=o.key,c=g;null!==c;){if(c.key===s){if((s=o.type)===v){if(7===c.tag){n(r,c.sibling),(g=a(c,o.props.children)).return=r,r=g;break e}}else if(c.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===X&&Qg(s)===c.type){n(r,c.sibling),(g=a(c,o.props)).ref=Ug(r,c,o),g.return=r,r=g;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===v?((g=Hs(o.props.children,r.mode,l,o.key)).return=r,r=g):((l=xs(o.type,o.key,o.props,null,r.mode,l)).ref=Ug(r,g,o),l.return=r,r=l)}return i(r);case Z:e:{for(c=o.key;null!==g;){if(g.key===c){if(4===g.tag&&g.stateNode.containerInfo===o.containerInfo&&g.stateNode.implementation===o.implementation){n(r,g.sibling),(g=a(g,o.children||[])).return=r,r=g;break e}n(r,g);break}t(r,g),g=g.sibling}(g=Ks(o,r.mode,l)).return=r,r=g}return i(r);case X:return e(r,g,(c=o._init)(o._payload),l)}if(te(o))return A(r,g,o,l);if(x(o))return h(r,g,o,l);jg(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==g&&6===g.tag?(n(r,g.sibling),(g=a(g,o)).return=r,r=g):(n(r,g),(g=Fs(o,r.mode,l)).return=r,r=g),i(r)):n(r,g)}}var Og=_g(!0),Pg=_g(!1),qg={},$g=Ga(qg),eo=Ga(qg),to=Ga(qg);function no(e){if(e===qg)throw Error(g(174));return e}function ro(e,t){switch(Sa(to,t),Sa(eo,e),Sa($g,qg),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ba($g),Sa($g,t)}function ao(){Ba($g),Ba(eo),Ba(to)}function go(e){no(to.current);var t=no($g.current),n=le(t,e.type);t!==n&&(Sa(eo,e),Sa($g,n))}function oo(e){eo.current===e&&(Ba($g),Ba(eo))}var io=Ga(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function co(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var Io=f.ReactCurrentDispatcher,uo=f.ReactCurrentBatchConfig,Co=0,Ao=null,ho=null,mo=null,po=!1,bo=!1,fo=0,yo=0;function Zo(){throw Error(g(321))}function vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Go(e,t,n,r,a,o){if(Co=o,Ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Io.current=null===e||null===e.memoizedState?ii:li,e=n(r,a),bo){o=0;do{if(bo=!1,fo=0,25<=o)throw Error(g(301));o+=1,mo=ho=null,t.updateQueue=null,Io.current=si,e=n(r,a)}while(bo)}if(Io.current=oi,t=null!==ho&&null!==ho.next,Co=0,mo=ho=Ao=null,po=!1,t)throw Error(g(300));return e}function Bo(){var e=0!==fo;return fo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?Ao.memoizedState=mo=e:mo=mo.next=e,mo}function ko(){if(null===ho){var e=Ao.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===mo?Ao.memoizedState:mo.next;if(null!==t)mo=t,ho=e;else{if(null===e)throw Error(g(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===mo?Ao.memoizedState=mo=e:mo=mo.next=e}return mo}function Wo(e,t){return"function"===typeof t?t(e):t}function Vo(e){var t=ko(),n=t.queue;if(null===n)throw Error(g(311));n.lastRenderedReducer=e;var r=ho,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=i=null,s=null,c=o;do{var I=c.lane;if((Co&I)===I)null!==s&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:I,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===s?(l=s=u,i=r):s=s.next=u,Ao.lanes|=I,Nl|=I}c=c.next}while(null!==c&&c!==o);null===s?i=r:s.next=l,ir(r,t.memoizedState)||(fi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,Ao.lanes|=o,Nl|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=ko(),n=t.queue;if(null===n)throw Error(g(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);ir(o,t.memoizedState)||(fi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wo(){}function Xo(e,t){var n=Ao,r=ko(),a=t(),o=!ir(r.memoizedState,a);if(o&&(r.memoizedState=a,fi=!0),r=r.queue,To(xo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Ko(9,Yo.bind(null,n,r,a,t),void 0,null),null===Rl)throw Error(g(349));0!==(30&Co)||Jo(n,t,a)}return a}function Jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Ho(t)&&No(e)}function xo(e,t,n){return n((function(){Ho(t)&&No(e)}))}function Ho(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function No(e){var t=Vg(e,1);null!==t&&rs(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,Ao,e),[t.memoizedState,e]}function Ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return ko().memoizedState}function Do(e,t,n,r){var a=So();Ao.flags|=e,a.memoizedState=Ko(1|t,n,void 0,void 0===r?null:r)}function Eo(e,t,n,r){var a=ko();r=void 0===r?null:r;var g=void 0;if(null!==ho){var o=ho.memoizedState;if(g=o.destroy,null!==r&&vo(r,o.deps))return void(a.memoizedState=Ko(t,n,g,r))}Ao.flags|=e,a.memoizedState=Ko(1|t,n,g,r)}function zo(e,t){return Do(8390656,8,e,t)}function To(e,t){return Eo(2048,8,e,t)}function Lo(e,t){return Eo(4,2,e,t)}function Uo(e,t){return Eo(4,4,e,t)}function jo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Eo(4,4,jo.bind(null,t,e),n)}function _o(){}function Oo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&Co)?(e.baseState&&(e.baseState=!1,fi=!0),e.memoizedState=n):(ir(n,t)||(n=At(),Ao.lanes|=n,Nl|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{bt=n,uo.transition=r}}function ei(){return ko().memoizedState}function ti(e,t,n){var r=ns(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))ai(t,n);else if(null!==(n=Wg(e,t,n,r))){rs(n,e,r,ts()),gi(n,t,r)}}function ni(e,t,n){var r=ns(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ai(t,a);else{var g=e.alternate;if(0===e.lanes&&(null===g||0===g.lanes)&&null!==(g=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=g(o,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,o)){var l=t.interleaved;return null===l?(a.next=a,kg(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(s){}null!==(n=Wg(e,t,a,r))&&(rs(n,e,r,a=ts()),gi(n,t,r))}}function ri(e){var t=e.alternate;return e===Ao||null!==t&&t===Ao}function ai(e,t){bo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}var oi={readContext:Bg,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useInsertionEffect:Zo,useLayoutEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useMutableSource:Zo,useSyncExternalStore:Zo,useId:Zo,unstable_isNewReconciler:!1},ii={readContext:Bg,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Bg,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,jo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,Ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:_o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ao,a=So();if(ag){if(void 0===n)throw Error(g(407));n=n()}else{if(n=t(),null===Rl)throw Error(g(349));0!==(30&Co)||Jo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,zo(xo.bind(null,r,o,e),[e]),r.flags|=2048,Ko(9,Yo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Rl.identifierPrefix;if(ag){var n=Pa;t=":"+t+"R"+(n=(Oa&~(1<<32-ot(Oa)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},li={readContext:Bg,useCallback:Oo,useContext:Bg,useEffect:To,useImperativeHandle:Qo,useInsertionEffect:Lo,useLayoutEffect:Uo,useMemo:Po,useReducer:Vo,useRef:Mo,useState:function(){return Vo(Wo)},useDebugValue:_o,useDeferredValue:function(e){return qo(ko(),ho.memoizedState,e)},useTransition:function(){return[Vo(Wo)[0],ko().memoizedState]},useMutableSource:wo,useSyncExternalStore:Xo,useId:ei,unstable_isNewReconciler:!1},si={readContext:Bg,useCallback:Oo,useContext:Bg,useEffect:To,useImperativeHandle:Qo,useInsertionEffect:Lo,useLayoutEffect:Uo,useMemo:Po,useReducer:Ro,useRef:Mo,useState:function(){return Ro(Wo)},useDebugValue:_o,useDeferredValue:function(e){var t=ko();return null===ho?t.memoizedState=e:qo(t,ho.memoizedState,e)},useTransition:function(){return[Ro(Wo)[0],ko().memoizedState]},useMutableSource:wo,useSyncExternalStore:Xo,useId:ei,unstable_isNewReconciler:!1};function ci(e,t){try{var n="",r=t;do{n+=D(r),r=r.return}while(r);var a=n}catch(g){a="\nError generating stack: "+g.message+"\n"+g.stack}return{value:e,source:t,stack:a,digest:null}}function Ii(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Ci="function"===typeof WeakMap?WeakMap:Map;function di(e,t,n){(n=Jg(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Ul=r),ui(0,t)},n}function Ai(e,t,n){(n=Jg(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ui(0,t)}}var g=e.stateNode;return null!==g&&"function"===typeof g.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof r&&(null===jl?jl=new Set([this]):jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ci;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ss.bind(null,e,t,n),t.then(e,e))}function mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Jg(-1,1)).tag=2,Yg(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=f.ReactCurrentOwner,fi=!1;function yi(e,t,n,r){t.child=null===e?Pg(t,null,n,r):Og(t,e.child,n,r)}function Zi(e,t,n,r,a){n=n.render;var g=t.ref;return Gg(t,a),r=Go(e,t,n,r,g,a),n=Bo(),null===e||fi?(ag&&n&&eg(t),t.flags|=1,yi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Li(e,t,a))}function vi(e,t,n,r,a){if(null===e){var g=n.type;return"function"!==typeof g||Js(g)||void 0!==g.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=g,Gi(e,t,g,r,a))}if(g=e.child,0===(e.lanes&a)){var o=g.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Li(e,t,a)}return t.flags|=1,(e=Ys(g,r)).ref=t.ref,e.return=t,t.child=e}function Gi(e,t,n,r,a){if(null!==e){var g=e.memoizedProps;if(lr(g,r)&&e.ref===t.ref){if(fi=!1,t.pendingProps=r=g,0===(e.lanes&a))return t.lanes=e.lanes,Li(e,t,a);0!==(131072&e.flags)&&(fi=!0)}}return ki(e,t,n,r,a)}function Bi(e,t,n){var r=t.pendingProps,a=r.children,g=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Yl,Jl),Jl|=n;else{if(0===(1073741824&n))return e=null!==g?g.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Yl,Jl),Jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==g?g.baseLanes:n,Sa(Yl,Jl),Jl|=r}else null!==g?(r=g.baseLanes|n,t.memoizedState=null):r=n,Sa(Yl,Jl),Jl|=r;return yi(e,t,a,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,a){var g=Xa(n)?Ra:Wa.current;return g=wa(t,g),Gg(t,a),n=Go(e,t,n,r,g,a),r=Bo(),null===e||fi?(ag&&r&&eg(t),t.flags|=1,yi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Li(e,t,a))}function Wi(e,t,n,r,a){if(Xa(n)){var g=!0;Ha(t)}else g=!1;if(Gg(t,a),null===t.stateNode)Ti(e,t),zg(t,n,r),Lg(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,s=n.contextType;"object"===typeof s&&null!==s?s=Bg(s):s=wa(t,s=Xa(n)?Ra:Wa.current);var c=n.getDerivedStateFromProps,I="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;I||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==r||l!==s)&&Tg(t,o,r,s),Rg=!1;var u=t.memoizedState;o.state=u,Ng(t,r,o,a),l=t.memoizedState,i!==r||u!==l||Va.current||Rg?("function"===typeof c&&(Mg(t,n,c,r),l=t.memoizedState),(i=Rg||Eg(t,n,i,r,u,l,s))?(I||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=s,r=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xg(e,t),i=t.memoizedProps,s=t.type===t.elementType?i:hg(t.type,i),o.props=s,I=t.pendingProps,u=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bg(l):l=wa(t,l=Xa(n)?Ra:Wa.current);var C=n.getDerivedStateFromProps;(c="function"===typeof C||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==I||u!==l)&&Tg(t,o,r,l),Rg=!1,u=t.memoizedState,o.state=u,Ng(t,r,o,a);var d=t.memoizedState;i!==I||u!==d||Va.current||Rg?("function"===typeof C&&(Mg(t,n,C,r),d=t.memoizedState),(s=Rg||Eg(t,n,s,r,u,d,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,r=s):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Vi(e,t,n,r,g,a)}function Vi(e,t,n,r,a,g){Si(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Na(t,n,!1),Li(e,t,g);r=t.stateNode,bi.current=t;var i=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Og(t,e.child,null,g),t.child=Og(t,null,i,g)):yi(e,t,i,g),t.memoizedState=r.state,a&&Na(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?Ya(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ya(0,t.context,!1),ro(e,t.containerInfo)}function wi(e,t,n,r,a){return Cg(),dg(a),t.flags|=256,yi(e,t,n,r),t.child}var Xi,Ji,Yi,xi,Hi={dehydrated:null,treeContext:null,retryLane:0};function Ni(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,n){var r,a=t.pendingProps,o=io.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Sa(io,1&o),null===e)return sg(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Ns(l,a,0,null),e=Hs(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ni(n),t.memoizedState=Hi,e):Ki(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,i){if(n)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,r=Ii(Error(g(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Ns({mode:"visible",children:r.children},a,0,null),(o=Hs(o,a,i,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Og(t,e.child,null,i),t.child.memoizedState=Ni(i),t.memoizedState=Hi,o);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mi(e,t,i,r=Ii(o=Error(g(419)),r,void 0))}if(l=0!==(i&e.childLanes),fi||l){if(null!==(r=Rl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Vg(e,a),rs(r,e,a,-1))}return hs(),Mi(e,t,i,r=Ii(Error(g(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ws.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,rg=sa(a.nextSibling),ng=t,ag=!0,gg=null,null!==e&&(ja[Qa++]=Oa,ja[Qa++]=Pa,ja[Qa++]=_a,Oa=e.id,Pa=e.overflow,_a=t),t=Ki(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(i){i=a.fallback,l=t.mode,r=(o=e.child).sibling;var s={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=s,t.deletions=null):(a=Ys(o,s)).subtreeFlags=14680064&o.subtreeFlags,null!==r?i=Ys(r,i):(i=Hs(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ni(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Hi,a}return e=(i=e.child).sibling,a=Ys(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ki(e,t){return(t=Ns({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,n,r){return null!==r&&dg(r),Og(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Di(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),vg(e.return,t,n)}function Ei(e,t,n,r,a){var g=e.memoizedState;null===g?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=n,g.tailMode=a)}function zi(e,t,n){var r=t.pendingProps,a=r.revealOrder,g=r.tail;if(yi(e,t,r.children,n),0!==(2&(r=io.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Di(e,n,t);else if(19===e.tag)Di(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(io,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ei(t,!1,a,n,g);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===lo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ei(t,!0,n,null,g);break;case"together":Ei(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ti(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Li(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(g(153));if(null!==t.child){for(n=Ys(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ys(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ui(e,t){if(!ag)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ji(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(tg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(t),null;case 1:case 17:return Xa(t.type)&&Ja(),ji(t),null;case 3:return r=t.stateNode,ao(),Ba(Va),Ba(Wa),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ig(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==gg&&(is(gg),gg=null))),Ji(e,t),ji(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Yi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(g(166));return ji(t),null}if(e=no($g.current),Ig(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ua]=t,r[Ca]=o,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(a=0;a<xr.length;a++)Kr(xr[a],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":O(r,o),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Kr("invalid",r);break;case"textarea":ae(r,o),Kr("invalid",r)}for(var l in pe(n,o),a=null,o)if(o.hasOwnProperty(l)){var s=o[l];"children"===l?"string"===typeof s?r.textContent!==s&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,s,e),a=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,s,e),a=["children",""+s]):i.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&Kr("scroll",r)}switch(n){case"input":U(r),$(r,o,!0);break;case"textarea":U(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ua]=t,e[Ca]=r,Xi(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),a=r;break;case"iframe":case"object":case"embed":Kr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xr.length;a++)Kr(xr[a],e);a=r;break;case"source":Kr("error",e),a=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=r;break;case"details":Kr("toggle",e),a=r;break;case"input":O(e,r),a=_(e,r),Kr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=N({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Kr("invalid",e)}for(o in pe(n,a),s=a)if(s.hasOwnProperty(o)){var c=s[o];"style"===o?he(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&Ie(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&ue(e,c):"number"===typeof c&&ue(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Kr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":U(e),$(e,r,!1);break;case"textarea":U(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+T(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ji(t),null;case 6:if(e&&null!=t.stateNode)xi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(g(166));if(n=no(to.current),no($g.current),Ig(t)){if(r=t.stateNode,n=t.memoizedProps,r[ua]=t,(o=r.nodeValue!==n)&&null!==(e=ng))switch(e.tag){case 3:qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ua]=t,t.stateNode=r}return ji(t),null;case 13:if(Ba(io),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ag&&null!==rg&&0!==(1&t.mode)&&0===(128&t.flags))ug(),Cg(),t.flags|=98560,o=!1;else if(o=Ig(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(g(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(g(317));o[ua]=t}else Cg(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ji(t),o=!1}else null!==gg&&(is(gg),gg=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&io.current)?0===xl&&(xl=3):hs())),null!==t.updateQueue&&(t.flags|=4),ji(t),null);case 4:return ao(),Ji(e,t),null===e&&Er(t.stateNode.containerInfo),ji(t),null;case 10:return Zg(t.type._context),ji(t),null;case 19:if(Ba(io),null===(o=t.memoizedState))return ji(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ui(o,!1);else{if(0!==xl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ui(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(io,1&io.current|2),t.child}e=e.sibling}null!==o.tail&&Pe()>zl&&(t.flags|=128,r=!0,Ui(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ui(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ag)return ji(t),null}else 2*Pe()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ui(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=io.current,Sa(io,r?1&n|2:1&n),t):(ji(t),null);case 22:case 23:return us(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Jl)&&(ji(t),6&t.subtreeFlags&&(t.flags|=8192)):ji(t),null;case 24:case 25:return null}throw Error(g(156,t.tag))}function _i(e,t){switch(tg(t),t.tag){case 1:return Xa(t.type)&&Ja(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ba(Va),Ba(Wa),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ba(io),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(g(340));Cg()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ba(io),null;case 4:return ao(),null;case 10:return Zg(t.type._context),null;case 22:case 23:return us(),null;default:return null}}Xi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(){},Yi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no($g.current);var g,o=null;switch(n){case"input":a=_(e,a),r=_(e,r),o=[];break;case"select":a=N({},a,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in pe(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(g in l)l.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var s=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&s!==l&&(null!=s||null!=l))if("style"===c)if(l){for(g in l)!l.hasOwnProperty(g)||s&&s.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in s)s.hasOwnProperty(g)&&l[g]!==s[g]&&(n||(n={}),n[g]=s[g])}else n||(o||(o=[]),o.push(c,n)),n=s;else"dangerouslySetInnerHTML"===c?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(o=o||[]).push(c,s)):"children"===c?"string"!==typeof s&&"number"!==typeof s||(o=o||[]).push(c,""+s):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=s&&"onScroll"===c&&Kr("scroll",e),o||l===s||(o=[])):(o=o||[]).push(c,s))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},xi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Oi=!1,Pi=!1,qi="function"===typeof WeakSet?WeakSet:Set,$i=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Bs(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Bs(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var g=a.destroy;a.destroy=void 0,void 0!==g&&tl(t,n,g)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ua],delete t[Ca],delete t[Aa],delete t[ha],delete t[ma])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var Il=null,ul=!1;function Cl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(gt&&"function"===typeof gt.onCommitFiberUnmount)try{gt.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Pi||el(n,t);case 6:var r=Il,a=ul;Il=null,Cl(e,t,n),ul=a,null!==(Il=r)&&(ul?(e=Il,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Il.removeChild(n.stateNode));break;case 18:null!==Il&&(ul?(e=Il,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Et(e)):la(Il,n.stateNode));break;case 4:r=Il,a=ul,Il=n.stateNode.containerInfo,ul=!0,Cl(e,t,n),Il=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Pi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var g=a,o=g.destroy;g=g.tag,void 0!==o&&(0!==(2&g)||0!==(4&g))&&tl(n,t,o),a=a.next}while(a!==r)}Cl(e,t,n);break;case 1:if(!Pi&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Bs(n,t,i)}Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:1&n.mode?(Pi=(r=Pi)||null!==n.memoizedState,Cl(e,t,n),Pi=r):Cl(e,t,n);break;default:Cl(e,t,n)}}function Al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qi),t.forEach((function(t){var r=Vs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:Il=l.stateNode,ul=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===Il)throw Error(g(160));dl(o,i,a),Il=null,ul=!1;var s=a.alternate;null!==s&&(s.return=null),a.return=null}catch(c){Bs(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),pl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(h){Bs(e,e.return,h)}try{rl(5,e,e.return)}catch(h){Bs(e,e.return,h)}}break;case 1:hl(t,e),pl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(hl(t,e),pl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(h){Bs(e,e.return,h)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==n?n.memoizedProps:o,l=e.type,s=e.updateQueue;if(e.updateQueue=null,null!==s)try{"input"===l&&"radio"===o.type&&null!=o.name&&P(a,o),be(l,i);var c=be(l,o);for(i=0;i<s.length;i+=2){var I=s[i],u=s[i+1];"style"===I?he(a,u):"dangerouslySetInnerHTML"===I?Ie(a,u):"children"===I?ue(a,u):b(a,I,u,c)}switch(l){case"input":q(a,o);break;case"textarea":ge(a,o);break;case"select":var C=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var d=o.value;null!=d?ne(a,!!o.multiple,d,!1):C!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[Ca]=o}catch(h){Bs(e,e.return,h)}}break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(g(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(h){Bs(e,e.return,h)}}break;case 3:if(hl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Et(t.containerInfo)}catch(h){Bs(e,e.return,h)}break;case 4:default:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(El=Pe())),4&r&&Al(e);break;case 22:if(I=null!==n&&null!==n.memoizedState,1&e.mode?(Pi=(c=Pi)||I,hl(t,e),Pi=c):hl(t,e),pl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!I&&0!==(1&e.mode))for($i=e,I=e.child;null!==I;){for(u=$i=I;null!==$i;){switch(d=(C=$i).child,C.tag){case 0:case 11:case 14:case 15:rl(4,C,C.return);break;case 1:el(C,C.return);var A=C.stateNode;if("function"===typeof A.componentWillUnmount){r=C,n=C.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(h){Bs(r,n,h)}}break;case 5:el(C,C.return);break;case 22:if(null!==C.memoizedState){Zl(u);continue}}null!==d?(d.return=C,$i=d):Zl(u)}I=I.sibling}e:for(I=null,u=e;;){if(5===u.tag){if(null===I){I=u;try{a=u.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=u.stateNode,i=void 0!==(s=u.memoizedProps.style)&&null!==s&&s.hasOwnProperty("display")?s.display:null,l.style.display=Ae("display",i))}catch(h){Bs(e,e.return,h)}}}else if(6===u.tag){if(null===I)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(h){Bs(e,e.return,h)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;I===u&&(I=null),u=u.return}I===u&&(I=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:hl(t,e),pl(e),4&r&&Al(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(g(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(ue(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;sl(e,ll(e),o);break;default:throw Error(g(161))}}catch(i){Bs(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$i=e,fl(e,t,n)}function fl(e,t,n){for(var r=0!==(1&e.mode);null!==$i;){var a=$i,g=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Oi;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Pi;i=Oi;var s=Pi;if(Oi=o,(Pi=l)&&!s)for($i=a;null!==$i;)l=(o=$i).child,22===o.tag&&null!==o.memoizedState?vl(a):null!==l?(l.return=o,$i=l):vl(a);for(;null!==g;)$i=g,fl(g,t,n),g=g.sibling;$i=a,Oi=i,Pi=s}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==g?(g.return=a,$i=g):yl(e)}}function yl(e){for(;null!==$i;){var t=$i;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Pi||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Pi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:hg(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fg(t,o,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fg(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var I=c.memoizedState;if(null!==I){var u=I.dehydrated;null!==u&&Et(u)}}}break;default:throw Error(g(163))}Pi||512&t.flags&&gl(t)}catch(C){Bs(t,t.return,C)}}if(t===e){$i=null;break}if(null!==(n=t.sibling)){n.return=t.return,$i=n;break}$i=t.return}}function Zl(e){for(;null!==$i;){var t=$i;if(t===e){$i=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$i=n;break}$i=t.return}}function vl(e){for(;null!==$i;){var t=$i;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Bs(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Bs(t,a,l)}}var g=t.return;try{gl(t)}catch(l){Bs(t,g,l)}break;case 5:var o=t.return;try{gl(t)}catch(l){Bs(t,o,l)}}}catch(l){Bs(t,t.return,l)}if(t===e){$i=null;break}var i=t.sibling;if(null!==i){i.return=t.return,$i=i;break}$i=t.return}}var Gl,Bl=Math.ceil,Sl=f.ReactCurrentDispatcher,kl=f.ReactCurrentOwner,Wl=f.ReactCurrentBatchConfig,Vl=0,Rl=null,wl=null,Xl=0,Jl=0,Yl=Ga(0),xl=0,Hl=null,Nl=0,Fl=0,Kl=0,Ml=null,Dl=null,El=0,zl=1/0,Tl=null,Ll=!1,Ul=null,jl=null,Ql=!1,_l=null,Ol=0,Pl=0,ql=null,$l=-1,es=0;function ts(){return 0!==(6&Vl)?Pe():-1!==$l?$l:$l=Pe()}function ns(e){return 0===(1&e.mode)?1:0!==(2&Vl)&&0!==Xl?Xl&-Xl:null!==Ag.transition?(0===es&&(es=At()),es):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Ot(e.type)}function rs(e,t,n,r){if(50<Pl)throw Pl=0,ql=null,Error(g(185));mt(e,n,r),0!==(2&Vl)&&e===Rl||(e===Rl&&(0===(2&Vl)&&(Fl|=n),4===xl&&ls(e,Xl)),as(e,r),1===n&&0===Vl&&0===(1&t.mode)&&(zl=Pe()+500,Ka&&Ea()))}function as(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,g=e.pendingLanes;0<g;){var o=31-ot(g),i=1<<o,l=a[o];-1===l?0!==(i&n)&&0===(i&r)||(a[o]=Ct(i,t)):l<=t&&(e.expiredLanes|=i),g&=~i}}(e,t);var r=ut(e,e===Rl?Xl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ka=!0,Da(e)}(ss.bind(null,e)):Da(ss.bind(null,e)),oa((function(){0===(6&Vl)&&Ea()})),n=null;else{switch(ft(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rs(n,gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gs(e,t){if($l=-1,es=0,0!==(6&Vl))throw Error(g(327));var n=e.callbackNode;if(vs()&&e.callbackNode!==n)return null;var r=ut(e,e===Rl?Xl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ms(e,r);else{t=r;var a=Vl;Vl|=2;var o=As();for(Rl===e&&Xl===t||(Tl=null,zl=Pe()+500,Cs(e,t));;)try{bs();break}catch(l){ds(e,l)}yg(),Sl.current=o,Vl=a,null!==wl?t=0:(Rl=null,Xl=0,t=xl)}if(0!==t){if(2===t&&(0!==(a=dt(e))&&(r=a,t=os(e,a))),1===t)throw n=Hl,Cs(e,0),ls(e,r),as(e,Pe()),n;if(6===t)ls(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],g=a.getSnapshot;a=a.value;try{if(!ir(g(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=ms(e,r))&&(0!==(o=dt(e))&&(r=o,t=os(e,o))),1===t))throw n=Hl,Cs(e,0),ls(e,r),as(e,Pe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(g(345));case 2:case 5:Zs(e,Dl,Tl);break;case 3:if(ls(e,r),(130023424&r)===r&&10<(t=El+500-Pe())){if(0!==ut(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ts(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(Zs.bind(null,e,Dl,Tl),t);break}Zs(e,Dl,Tl);break;case 4:if(ls(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-ot(r);o=1<<i,(i=t[i])>a&&(a=i),r&=~o}if(r=a,10<(r=(120>(r=Pe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bl(r/1960))-r)){e.timeoutHandle=ra(Zs.bind(null,e,Dl,Tl),r);break}Zs(e,Dl,Tl);break;default:throw Error(g(329))}}}return as(e,Pe()),e.callbackNode===n?gs.bind(null,e):null}function os(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),2!==(e=ms(e,t))&&(t=Dl,Dl=n,null!==t&&is(t)),e}function is(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function ls(e,t){for(t&=~Kl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ss(e){if(0!==(6&Vl))throw Error(g(327));vs();var t=ut(e,0);if(0===(1&t))return as(e,Pe()),null;var n=ms(e,t);if(0!==e.tag&&2===n){var r=dt(e);0!==r&&(t=r,n=os(e,r))}if(1===n)throw n=Hl,Cs(e,0),ls(e,t),as(e,Pe()),n;if(6===n)throw Error(g(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,Dl,Tl),as(e,Pe()),null}function cs(e,t){var n=Vl;Vl|=1;try{return e(t)}finally{0===(Vl=n)&&(zl=Pe()+500,Ka&&Ea())}}function Is(e){null!==_l&&0===_l.tag&&0===(6&Vl)&&vs();var t=Vl;Vl|=1;var n=Wl.transition,r=bt;try{if(Wl.transition=null,bt=1,e)return e()}finally{bt=r,Wl.transition=n,0===(6&(Vl=t))&&Ea()}}function us(){Jl=Yl.current,Ba(Yl)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==wl)for(n=wl.return;null!==n;){var r=n;switch(tg(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ja();break;case 3:ao(),Ba(Va),Ba(Wa),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Ba(io);break;case 10:Zg(r.type._context);break;case 22:case 23:us()}n=n.return}if(Rl=e,wl=e=Ys(e.current,null),Xl=Jl=t,xl=0,Hl=null,Kl=Fl=Nl=0,Dl=Ml=null,null!==Sg){for(t=0;t<Sg.length;t++)if(null!==(r=(n=Sg[t]).interleaved)){n.interleaved=null;var a=r.next,g=n.pending;if(null!==g){var o=g.next;g.next=a,r.next=o}n.pending=r}Sg=null}return e}function ds(e,t){for(;;){var n=wl;try{if(yg(),Io.current=oi,po){for(var r=Ao.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}po=!1}if(Co=0,mo=ho=Ao=null,bo=!1,fo=0,kl.current=null,null===n||null===n.return){xl=1,Hl=t,wl=null;break}e:{var o=e,i=n.return,l=n,s=t;if(t=Xl,l.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s,I=l,u=I.tag;if(0===(1&I.mode)&&(0===u||11===u||15===u)){var C=I.alternate;C?(I.updateQueue=C.updateQueue,I.memoizedState=C.memoizedState,I.lanes=C.lanes):(I.updateQueue=null,I.memoizedState=null)}var d=mi(i);if(null!==d){d.flags&=-257,pi(d,i,l,0,t),1&d.mode&&hi(o,c,t),s=c;var A=(t=d).updateQueue;if(null===A){var h=new Set;h.add(s),t.updateQueue=h}else A.add(s);break e}if(0===(1&t)){hi(o,c,t),hs();break e}s=Error(g(426))}else if(ag&&1&l.mode){var m=mi(i);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),pi(m,i,l,0,t),dg(ci(s,l));break e}}o=s=ci(s,l),4!==xl&&(xl=2),null===Ml?Ml=[o]:Ml.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hg(o,di(0,s,t));break e;case 1:l=s;var p=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof p.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===jl||!jl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Hg(o,Ai(o,l,t));break e}}o=o.return}while(null!==o)}ys(n)}catch(f){t=f,wl===n&&null!==n&&(wl=n=n.return);continue}break}}function As(){var e=Sl.current;return Sl.current=oi,null===e?oi:e}function hs(){0!==xl&&3!==xl&&2!==xl||(xl=4),null===Rl||0===(268435455&Nl)&&0===(268435455&Fl)||ls(Rl,Xl)}function ms(e,t){var n=Vl;Vl|=2;var r=As();for(Rl===e&&Xl===t||(Tl=null,Cs(e,t));;)try{ps();break}catch(a){ds(e,a)}if(yg(),Vl=n,Sl.current=r,null!==wl)throw Error(g(261));return Rl=null,Xl=0,xl}function ps(){for(;null!==wl;)fs(wl)}function bs(){for(;null!==wl&&!_e();)fs(wl)}function fs(e){var t=Gl(e.alternate,e,Jl);e.memoizedProps=e.pendingProps,null===t?ys(e):wl=t,kl.current=null}function ys(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,Jl)))return void(wl=n)}else{if(null!==(n=_i(n,t)))return n.flags&=32767,void(wl=n);if(null===e)return xl=6,void(wl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wl=t);wl=t=e}while(null!==t);0===xl&&(xl=5)}function Zs(e,t,n){var r=bt,a=Wl.transition;try{Wl.transition=null,bt=1,function(e,t,n,r){do{vs()}while(null!==_l);if(0!==(6&Vl))throw Error(g(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(g(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),g=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~g}}(e,o),e===Rl&&(wl=Rl=null,Xl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rs(tt,(function(){return vs(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Wl.transition,Wl.transition=null;var i=bt;bt=1;var l=Vl;Vl|=4,kl.current=null,function(e,t){if(ea=Tt,Cr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(y){n=null;break e}var i=0,l=-1,s=-1,c=0,I=0,u=e,C=null;t:for(;;){for(var d;u!==n||0!==a&&3!==u.nodeType||(l=i+a),u!==o||0!==r&&3!==u.nodeType||(s=i+r),3===u.nodeType&&(i+=u.nodeValue.length),null!==(d=u.firstChild);)C=u,u=d;for(;;){if(u===e)break t;if(C===n&&++c===a&&(l=i),C===o&&++I===r&&(s=i),null!==(d=u.nextSibling))break;C=(u=C).parentNode}u=d}n=-1===l||-1===s?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Tt=!1,$i=t;null!==$i;)if(e=(t=$i).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$i=e;else for(;null!==$i;){t=$i;try{var A=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==A){var h=A.memoizedProps,m=A.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?h:hg(t.type,h),m);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var f=t.stateNode.containerInfo;1===f.nodeType?f.textContent="":9===f.nodeType&&f.documentElement&&f.removeChild(f.documentElement);break;default:throw Error(g(163))}}catch(y){Bs(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,$i=e;break}$i=t.return}A=nl,nl=!1}(e,n),ml(n,e),dr(ta),Tt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Oe(),Vl=l,bt=i,Wl.transition=o}else e.current=n;if(Ql&&(Ql=!1,_l=e,Ol=a),o=e.pendingLanes,0===o&&(jl=null),function(e){if(gt&&"function"===typeof gt.onCommitFiberRoot)try{gt.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),as(e,Pe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ll)throw Ll=!1,e=Ul,Ul=null,e;0!==(1&Ol)&&0!==e.tag&&vs(),o=e.pendingLanes,0!==(1&o)?e===ql?Pl++:(Pl=0,ql=e):Pl=0,Ea()}(e,t,n,r)}finally{Wl.transition=a,bt=r}return null}function vs(){if(null!==_l){var e=ft(Ol),t=Wl.transition,n=bt;try{if(Wl.transition=null,bt=16>e?16:e,null===_l)var r=!1;else{if(e=_l,_l=null,Ol=0,0!==(6&Vl))throw Error(g(331));var a=Vl;for(Vl|=4,$i=e.current;null!==$i;){var o=$i,i=o.child;if(0!==(16&$i.flags)){var l=o.deletions;if(null!==l){for(var s=0;s<l.length;s++){var c=l[s];for($i=c;null!==$i;){var I=$i;switch(I.tag){case 0:case 11:case 15:rl(8,I,o)}var u=I.child;if(null!==u)u.return=I,$i=u;else for(;null!==$i;){var C=(I=$i).sibling,d=I.return;if(ol(I),I===c){$i=null;break}if(null!==C){C.return=d,$i=C;break}$i=d}}}var A=o.alternate;if(null!==A){var h=A.child;if(null!==h){A.child=null;do{var m=h.sibling;h.sibling=null,h=m}while(null!==h)}}$i=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,$i=i;else e:for(;null!==$i;){if(0!==(2048&(o=$i).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var p=o.sibling;if(null!==p){p.return=o.return,$i=p;break e}$i=o.return}}var b=e.current;for($i=b;null!==$i;){var f=(i=$i).child;if(0!==(2064&i.subtreeFlags)&&null!==f)f.return=i,$i=f;else e:for(i=b;null!==$i;){if(0!==(2048&(l=$i).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(Z){Bs(l,l.return,Z)}if(l===i){$i=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,$i=y;break e}$i=l.return}}if(Vl=a,Ea(),gt&&"function"===typeof gt.onPostCommitFiberRoot)try{gt.onPostCommitFiberRoot(at,e)}catch(Z){}r=!0}return r}finally{bt=n,Wl.transition=t}}return!1}function Gs(e,t,n){e=Yg(e,t=di(0,t=ci(n,t),1),1),t=ts(),null!==e&&(mt(e,1,t),as(e,t))}function Bs(e,t,n){if(3===e.tag)Gs(e,e,n);else for(;null!==t;){if(3===t.tag){Gs(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===jl||!jl.has(r))){t=Yg(t,e=Ai(t,e=ci(n,e),1),1),e=ts(),null!==t&&(mt(t,1,e),as(t,e));break}}t=t.return}}function Ss(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ts(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Xl&n)===n&&(4===xl||3===xl&&(130023424&Xl)===Xl&&500>Pe()-El?Cs(e,0):Kl|=n),as(e,t)}function ks(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=ts();null!==(e=Vg(e,t))&&(mt(e,t,n),as(e,n))}function Ws(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ks(e,n)}function Vs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(g(314))}null!==r&&r.delete(t),ks(e,n)}function Rs(e,t){return je(e,t)}function ws(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(e,t,n,r){return new ws(e,t,n,r)}function Js(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ys(e,t){var n=e.alternate;return null===n?((n=Xs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xs(e,t,n,r,a,o){var i=2;if(r=e,"function"===typeof e)Js(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case v:return Hs(n.children,a,o,t);case G:i=8,a|=8;break;case B:return(e=Xs(12,n,t,2|a)).elementType=B,e.lanes=o,e;case V:return(e=Xs(13,n,t,a)).elementType=V,e.lanes=o,e;case R:return(e=Xs(19,n,t,a)).elementType=R,e.lanes=o,e;case J:return Ns(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case k:i=9;break e;case W:i=11;break e;case w:i=14;break e;case X:i=16,r=null;break e}throw Error(g(130,null==e?e:typeof e,""))}return(t=Xs(i,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Hs(e,t,n,r){return(e=Xs(7,e,r,t)).lanes=n,e}function Ns(e,t,n,r){return(e=Xs(22,e,r,t)).elementType=J,e.lanes=n,e.stateNode={isHidden:!1},e}function Fs(e,t,n){return(e=Xs(6,e,null,t)).lanes=n,e}function Ks(e,t,n){return(t=Xs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ms(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ds(e,t,n,r,a,g,o,i,l){return e=new Ms(e,t,n,i,l),1===t?(t=1,!0===g&&(t|=8)):t=0,g=Xs(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(g),e}function Es(e){if(!e)return ka;e:{if(Ee(e=e._reactInternals)!==e||1!==e.tag)throw Error(g(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(g(171))}if(1===e.tag){var n=e.type;if(Xa(n))return xa(e,n,t)}return t}function zs(e,t,n,r,a,g,o,i,l){return(e=Ds(n,r,!0,e,0,g,0,i,l)).context=Es(null),n=e.current,(g=Jg(r=ts(),a=ns(n))).callback=void 0!==t&&null!==t?t:null,Yg(n,g,a),e.current.lanes=a,mt(e,a,r),as(e,r),e}function Ts(e,t,n,r){var a=t.current,g=ts(),o=ns(a);return n=Es(n),null===t.context?t.context=n:t.pendingContext=n,(t=Jg(g,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Yg(a,t,o))&&(rs(e,a,o,g),xg(e,a,o)),o}function Ls(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Us(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function js(e,t){Us(e,t),(e=e.alternate)&&Us(e,t)}Gl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Va.current)fi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return fi=!1,function(e,t,n){switch(t.tag){case 3:Ri(t),Cg();break;case 5:go(t);break;case 1:Xa(t.type)&&Ha(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(mg,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(io,1&io.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fi(e,t,n):(Sa(io,1&io.current),null!==(e=Li(e,t,n))?e.sibling:null);Sa(io,1&io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(io,io.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return Li(e,t,n)}(e,t,n);fi=0!==(131072&e.flags)}else fi=!1,ag&&0!==(1048576&t.flags)&&$a(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ti(e,t),e=t.pendingProps;var a=wa(t,Wa.current);Gg(t,n),a=Go(null,t,r,e,a,n);var o=Bo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xa(r)?(o=!0,Ha(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,wg(t),a.updater=Dg,t.stateNode=a,a._reactInternals=t,Lg(t,r,e,n),t=Vi(null,t,r,!0,o,n)):(t.tag=0,ag&&o&&eg(t),yi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ti(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Js(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===W)return 11;if(e===w)return 14}return 2}(r),e=hg(r,e),a){case 0:t=ki(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Zi(null,t,r,e,n);break e;case 14:t=vi(null,t,r,hg(r.type,e),n);break e}throw Error(g(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:hg(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wi(e,t,r,a=t.elementType===r?a:hg(r,a),n);case 3:e:{if(Ri(t),null===e)throw Error(g(387));r=t.pendingProps,a=(o=t.memoizedState).element,Xg(e,t),Ng(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=wi(e,t,r,n,a=ci(Error(g(423)),t));break e}if(r!==a){t=wi(e,t,r,n,a=ci(Error(g(424)),t));break e}for(rg=sa(t.stateNode.containerInfo.firstChild),ng=t,ag=!0,gg=null,n=Pg(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Cg(),r===a){t=Li(e,t,n);break e}yi(e,t,r,n)}t=t.child}return t;case 5:return go(t),null===e&&sg(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==o&&na(r,o)&&(t.flags|=32),Si(e,t),yi(e,t,i,n),t.child;case 6:return null===e&&sg(t),null;case 13:return Fi(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Og(t,null,r,n):yi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Zi(e,t,r,a=t.elementType===r?a:hg(r,a),n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Sa(mg,r._currentValue),r._currentValue=i,null!==o)if(ir(o.value,i)){if(o.children===a.children&&!Va.current){t=Li(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var s=l.firstContext;null!==s;){if(s.context===r){if(1===o.tag){(s=Jg(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var I=(c=c.shared).pending;null===I?s.next=s:(s.next=I.next,I.next=s),c.pending=s}}o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),vg(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(g(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),vg(i,n,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}yi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Gg(t,n),r=r(a=Bg(a)),t.flags|=1,yi(e,t,r,n),t.child;case 14:return a=hg(r=t.type,t.pendingProps),vi(e,t,r,a=hg(r.type,a),n);case 15:return Gi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:hg(r,a),Ti(e,t),t.tag=1,Xa(r)?(e=!0,Ha(t)):e=!1,Gg(t,n),zg(t,r,a),Lg(t,r,a,n),Vi(null,t,r,!0,e,n);case 19:return zi(e,t,n);case 22:return Bi(e,t,n)}throw Error(g(156,t.tag))};var Qs="function"===typeof reportError?reportError:function(e){console.error(e)};function _s(e){this._internalRoot=e}function Os(e){this._internalRoot=e}function Ps(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $s(){}function ec(e,t,n,r,a){var g=n._reactRootContainer;if(g){var o=g;if("function"===typeof a){var i=a;a=function(){var e=Ls(o);i.call(e)}}Ts(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var g=r;r=function(){var e=Ls(o);g.call(e)}}var o=zs(t,r,e,0,null,!1,0,"",$s);return e._reactRootContainer=o,e[da]=o.current,Er(8===e.nodeType?e.parentNode:e),Is(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Ls(l);i.call(e)}}var l=Ds(e,0,!1,null,0,!1,0,"",$s);return e._reactRootContainer=l,e[da]=l.current,Er(8===e.nodeType?e.parentNode:e),Is((function(){Ts(t,l,n,r)})),l}(n,t,e,a,r);return Ls(o)}Os.prototype.render=_s.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(g(409));Ts(e,t,null,null)},Os.prototype.unmount=_s.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Is((function(){Ts(null,e,null,null)})),t[da]=null}},Os.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&0!==t&&t<Jt[n].priority;n++);Jt.splice(n,0,e),0===n&&Nt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=It(t.pendingLanes);0!==n&&(pt(t,1|n),as(t,Pe()),0===(6&Vl)&&(zl=Pe()+500,Ea()))}break;case 13:Is((function(){var t=Vg(e,1);if(null!==t){var n=ts();rs(t,e,1,n)}})),js(e,1)}},Zt=function(e){if(13===e.tag){var t=Vg(e,134217728);if(null!==t)rs(t,e,134217728,ts());js(e,134217728)}},vt=function(e){if(13===e.tag){var t=ns(e),n=Vg(e,t);if(null!==n)rs(n,e,t,ts());js(e,t)}},Gt=function(){return bt},Bt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ze=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ya(r);if(!a)throw Error(g(90));j(r),q(r,a)}}}break;case"textarea":ge(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},We=cs,Ve=Is;var tc={usingClientEntryPoint:!1,Events:[ba,fa,ya,Se,ke,cs]},nc={findFiberByHostInstance:pa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Le(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),gt=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ps(t))throw Error(g(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Z,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ps(e))throw Error(g(299));var n=!1,r="",a=Qs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ds(e,1,!1,null,0,n,0,r,a),e[da]=t.current,Er(8===e.nodeType?e.parentNode:e),new _s(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(g(188));throw e=Object.keys(e).join(","),Error(g(268,e))}return e=null===(e=Le(t))?null:e.stateNode},t.flushSync=function(e){return Is(e)},t.hydrate=function(e,t,n){if(!qs(t))throw Error(g(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ps(e))throw Error(g(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",i=Qs;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=zs(t,null,e,1,null!=n?n:null,a,0,o,i),e[da]=t.current,Er(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Os(t)},t.render=function(e,t,n){if(!qs(t))throw Error(g(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qs(e))throw Error(g(40));return!!e._reactRootContainer&&(Is((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[da]=null}))})),!0)},t.unstable_batchedUpdates=cs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qs(n))throw Error(g(200));if(null==e||void 0===e._reactInternals)throw Error(g(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function g(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var i,l,s,c;if(Array.isArray(e)){if((i=e.length)!=o.length)return!1;for(l=i;0!==l--;)if(!g(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!g(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((i=e.length)!=o.length)return!1;for(l=i;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((i=(s=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=i;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,s[l]))return!1;if(t&&e instanceof Element)return!1;for(l=i;0!==l--;)if(("_owner"!==s[l]&&"__v"!==s[l]&&"__o"!==s[l]||!e.$$typeof)&&!g(e[s[l]],o[s[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return g(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},11:function(e,t,n){"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:function(){return d}});var r=n(2791),a=n(4164);function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,s,c=(void 0===l&&(l=0),function(){return++l}),I={},u={},C=["touchstart","touchmove"],d="ignore-react-onclickoutside";function A(e,t){var n={};return-1!==C.indexOf(t)&&s&&(n.passive=!e.props.preventDefault),n}t.default=function(e,t){var n,l,C=e.displayName||e.name||"Component";return l=n=function(n){var l,d;function h(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+C+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,a.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!u[r._uid]){"undefined"===typeof s&&(s=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),u[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),I[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&i(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,I[r._uid],A(o(r),e))}))}},r.disableOnClickOutside=function(){delete u[r._uid];var e=I[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,A(o(r),t))})),delete I[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=c(),r}d=n,(l=h).prototype=Object.create(d.prototype),l.prototype.constructor=l,g(l,d);var m=h.prototype;return m.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},m.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+C+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},h}(r.Component),n.displayName="OnClickOutside("+C+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:d,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},4419:function(e,t,n){"use strict";n.r(t),n.d(t,{Manager:function(){return o},Popper:function(){return Y},Reference:function(){return N},usePopper:function(){return R}});var r=n(2791),a=r.createContext(),g=r.createContext();function o(e){var t=e.children,n=r.useState(null),o=n[0],i=n[1],l=r.useRef(!1);r.useEffect((function(){return function(){l.current=!0}}),[]);var s=r.useCallback((function(e){l.current||i(e)}),[]);return r.createElement(a.Provider,{value:o},r.createElement(g.Provider,{value:s},t))}var i=function(e){return Array.isArray(e)?e[0]:e},l=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},s=function(e,t){if("function"===typeof e)return l(e,t);null!=e&&(e.current=t)},c=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},I="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,u=n(4164),C=n(761),d=n(1217),A=n(545),h=n(9224),m=n(3120),p=n(9265);var b={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];(0,p.Re)(a)&&(0,m.Z)(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},g=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,p.Re)(r)&&(0,m.Z)(r)&&(Object.assign(r.style,g),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},f=n(5934),y=n(5468),Z=n(9790),v=n(8702),G=n(1668),B=[d.Z,A.Z,h.Z,b,f.Z,y.Z,Z.Z,v.Z,G.Z],S=(0,C.kZ)({defaultModifiers:B}),k=n(77),W=n.n(k),V=[],R=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),g={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||V},o=r.useState({styles:{popper:{position:g.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=o[0],l=o[1],s=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u.flushSync((function(){l({styles:c(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:c(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),C=r.useMemo((function(){var e={onFirstUpdate:g.onFirstUpdate,placement:g.placement,strategy:g.strategy,modifiers:[].concat(g.modifiers,[s,{name:"applyStyles",enabled:!1}])};return W()(a.current,e)?a.current||e:(a.current=e,e)}),[g.onFirstUpdate,g.placement,g.strategy,g.modifiers,s]),d=r.useRef();return I((function(){d.current&&d.current.setOptions(C)}),[C]),I((function(){if(null!=e&&null!=t){var r=(n.createPopper||S)(e,t,C);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:i.styles,attributes:i.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}},w=function(){},X=function(){return Promise.resolve(null)},J=[];function Y(e){var t=e.placement,n=void 0===t?"bottom":t,g=e.strategy,o=void 0===g?"absolute":g,l=e.modifiers,c=void 0===l?J:l,I=e.referenceElement,u=e.onFirstUpdate,C=e.innerRef,d=e.children,A=r.useContext(a),h=r.useState(null),m=h[0],p=h[1],b=r.useState(null),f=b[0],y=b[1];r.useEffect((function(){s(C,m)}),[C,m]);var Z=r.useMemo((function(){return{placement:n,strategy:o,onFirstUpdate:u,modifiers:[].concat(c,[{name:"arrow",enabled:null!=f,options:{element:f}}])}}),[n,o,u,c,f]),v=R(I||A,m,Z),G=v.state,B=v.styles,S=v.forceUpdate,k=v.update,W=r.useMemo((function(){return{ref:p,style:B.popper,placement:G?G.placement:n,hasPopperEscaped:G&&G.modifiersData.hide?G.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:G&&G.modifiersData.hide?G.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:B.arrow,ref:y},forceUpdate:S||w,update:k||X}}),[p,y,n,G,B,k,S]);return i(d)(W)}var x=n(2391),H=n.n(x);function N(e){var t=e.children,n=e.innerRef,a=r.useContext(g),o=r.useCallback((function(e){s(n,e),l(a,e)}),[n,a]);return r.useEffect((function(){return function(){return s(n,null)}}),[]),r.useEffect((function(){H()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),i(t)({ref:o})}},9008:function(e,t,n){e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){if(Array.isArray(e))return e}function o(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,g=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(g.push(r.value),!t||g.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return g}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return g(e)||o(e,t)||l(e,t)||s()}function I(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function u(e,t){if(null==e)return{};var n,r,a=I(e,t);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C={exports:{}},d={exports:{}},A={},h="function"===typeof Symbol&&Symbol.for,m=h?Symbol.for("react.element"):60103,p=h?Symbol.for("react.portal"):60106,b=h?Symbol.for("react.fragment"):60107,f=h?Symbol.for("react.strict_mode"):60108,y=h?Symbol.for("react.profiler"):60114,Z=h?Symbol.for("react.provider"):60109,v=h?Symbol.for("react.context"):60110,G=h?Symbol.for("react.async_mode"):60111,B=h?Symbol.for("react.concurrent_mode"):60111,S=h?Symbol.for("react.forward_ref"):60112,k=h?Symbol.for("react.suspense"):60113,W=h?Symbol.for("react.suspense_list"):60120,V=h?Symbol.for("react.memo"):60115,R=h?Symbol.for("react.lazy"):60116,w=h?Symbol.for("react.block"):60121,X=h?Symbol.for("react.fundamental"):60117,J=h?Symbol.for("react.responder"):60118,Y=h?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case m:switch(e=e.type){case G:case B:case b:case y:case f:case k:return e;default:switch(e=e&&e.$$typeof){case v:case S:case R:case V:case Z:return e;default:return t}}case p:return t}}}function H(e){return x(e)===B}A.AsyncMode=G,A.ConcurrentMode=B,A.ContextConsumer=v,A.ContextProvider=Z,A.Element=m,A.ForwardRef=S,A.Fragment=b,A.Lazy=R,A.Memo=V,A.Portal=p,A.Profiler=y,A.StrictMode=f,A.Suspense=k,A.isAsyncMode=function(e){return H(e)||x(e)===G},A.isConcurrentMode=H,A.isContextConsumer=function(e){return x(e)===v},A.isContextProvider=function(e){return x(e)===Z},A.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===m},A.isForwardRef=function(e){return x(e)===S},A.isFragment=function(e){return x(e)===b},A.isLazy=function(e){return x(e)===R},A.isMemo=function(e){return x(e)===V},A.isPortal=function(e){return x(e)===p},A.isProfiler=function(e){return x(e)===y},A.isStrictMode=function(e){return x(e)===f},A.isSuspense=function(e){return x(e)===k},A.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===b||e===B||e===y||e===f||e===k||e===W||"object"===typeof e&&null!==e&&(e.$$typeof===R||e.$$typeof===V||e.$$typeof===Z||e.$$typeof===v||e.$$typeof===S||e.$$typeof===X||e.$$typeof===J||e.$$typeof===Y||e.$$typeof===w)},A.typeOf=x,d.exports=A;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function N(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(g){return!1}}N()&&Object.assign;var F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function K(e,t,n,r,a){}Function.call.bind(Object.prototype.hasOwnProperty),K.resetWarningCache=function(){},d.exports;var M=F;function D(){}function E(){}E.resetWarningCache=D;var z=function(){function e(e,t,n,r,a,g){if(g!==M){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:E,resetWarningCache:D};return n.PropTypes=n,n};C.exports=z();var T=C.exports;function L(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),a=0,g=n.length;a<g;++a)r[a]=n.charCodeAt(a);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}function U(e,t,n){var r=void 0===t?null:t,a=L(e,void 0!==n&&n),g=a.indexOf("\n",10)+1,o=a.substring(g)+(r?"//# sourceMappingURL="+r:""),i=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(i)}function j(e,t,n){var r;return function(a){return r=r||U(e,t,n),new Worker(r,a)}}var Q=j("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),_=["constraints","onError","onLoad","onScan","resolution","qrArea"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){return new Q},$=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().forEach((function(t){e.removeTrack(t),t.stop()}))):e.stop())},ee=function(e){var t=e.constraints,a=e.onError,g=e.onLoad,o=e.onScan,i=e.resolution,l=e.qrArea,s=u(e,_),I=n.useRef(null),C=n.useRef(null),d=n.useRef(document.createElement("canvas")),A=n.useRef(null),h=n.useRef(),m=c(n.useState(null),2),p=m[0],b=m[1],f=n.useRef(!1),y=n.useRef();n.useEffect((function(){y.current=q();var e=y.current;return e.onmessage=function(e){o&&o(e.data?P(P({},e.data),{},{canvas:d.current}):null),f.current=!1},function(){e.terminate()}}),[o]);var Z=JSON.stringify(l),v=n.useCallback((function(){var e=JSON.parse(Z),t=y.current,n=C.current&&C.current.readyState===C.current.HAVE_ENOUGH_DATA;if(!f.current&&n){f.current=!0;var r,a=C.current.videoWidth,g=C.current.videoHeight,o=a>g?a:g,l=Math.floor(i/o*100)/100;g=Math.floor(l*g),a=Math.floor(l*a),d.current.width=a,d.current.height=g,A.current=d.current.getContext("2d"),A.current.drawImage(C.current,0,0,a,g),r=e&&2===e.length&&e[0]>0&&e[1]>0?A.current.getImageData(Math.floor((a-e[0])/2),Math.floor((g-e[1])/2),e[0],e[1]):A.current.getImageData(0,0,a,g),t.postMessage(r)}h.current=requestAnimationFrame(v)}),[i,Z]),G=JSON.stringify(t);return n.useEffect((function(){var e=JSON.parse(G),t=!0;return navigator.mediaDevices.getUserMedia(e).then((function(e){if(t){I.current=e;try{C.current&&(C.current.srcObject=e,C.current.setAttribute("playsinline",!0))}catch(n){b(window.URL.createObjectURL(e))}g&&g(),h.current=requestAnimationFrame(v)}else $(e)})).catch((function(e){return t?a(e):null})),function(){cancelAnimationFrame(h.current),t=!1,$(I.current),p&&window.URL.revokeObjectURL(p)}}),[v,G,a,g,p]),n.createElement("video",r({autoPlay:!0,playsInline:!0,src:p,ref:C},s))};return ee.propTypes={constraints:T.object,onError:T.func.isRequired,onLoad:T.func,onScan:T.func.isRequired,resolution:T.number,qrArea:T.array},ee.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},ee}(n(2791))},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),g=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,n){var r,g={},s=null,c=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(g[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===g[r]&&(g[r]=t[r]);return{$$typeof:a,type:e,key:s,ref:c,props:g,_owner:i.current}}t.Fragment=g,t.jsx=s,t.jsxs=s},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),C=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}function p(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},p.prototype=m.prototype;var f=b.prototype=new p;f.constructor=b,A(f,m.prototype),f.isPureReactComponent=!0;var y=Array.isArray,Z=Object.prototype.hasOwnProperty,v={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,r){var a,g={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)Z.call(t,a)&&!G.hasOwnProperty(a)&&(g[a]=t[a]);var l=arguments.length-2;if(1===l)g.children=r;else if(1<l){for(var s=Array(l),c=0;c<l;c++)s[c]=arguments[c+2];g.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===g[a]&&(g[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:i,props:g,_owner:v.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function W(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function V(e,t,a,g,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===g?"."+W(l,0):g,y(o)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),V(o,t,a,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,g=""===g?".":g+":",y(e))for(var s=0;s<e.length;s++){var c=g+W(i=e[s],s);l+=V(i,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)l+=V(i=i.value,t,a,c=g+W(i,s++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return V(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function w(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var X={current:null},J={transition:null},Y={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:J,ReactCurrentOwner:v};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=g,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=A({},e.props),g=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=v.current),void 0!==t.key&&(g=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Z.call(t,s)&&!G.hasOwnProperty(s)&&(a[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){l=Array(s);for(var c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:g,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=B,t.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:w}},t.memo=function(e,t){return{$$typeof:I,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=J.transition;J.transition={};try{e()}finally{J.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return X.current.useCallback(e,t)},t.useContext=function(e){return X.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return X.current.useDeferredValue(e)},t.useEffect=function(e,t){return X.current.useEffect(e,t)},t.useId=function(){return X.current.useId()},t.useImperativeHandle=function(e,t,n){return X.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return X.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return X.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return X.current.useMemo(e,t)},t.useReducer=function(e,t,n){return X.current.useReducer(e,t,n)},t.useRef=function(e){return X.current.useRef(e)},t.useState=function(e){return X.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return X.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return X.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<g(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],s=i+1,c=e[s];if(0>g(l,n))s<a&&0>g(c,l)?(e[r]=c,e[s]=n,r=s):(e[r]=l,e[i]=n,r=i);else{if(!(s<a&&0>g(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}function g(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var s=[],c=[],I=1,u=null,C=3,d=!1,A=!1,h=!1,m="function"===typeof setTimeout?setTimeout:null,p="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function f(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(s,t)}t=r(c)}}function y(e){if(h=!1,f(e),!A)if(null!==r(s))A=!0,J(Z);else{var t=r(c);null!==t&&Y(y,t.startTime-e)}}function Z(e,n){A=!1,h&&(h=!1,p(S),S=-1),d=!0;var g=C;try{for(f(n),u=r(s);null!==u&&(!(u.expirationTime>n)||e&&!V());){var o=u.callback;if("function"===typeof o){u.callback=null,C=u.priorityLevel;var i=o(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?u.callback=i:u===r(s)&&a(s),f(n)}else a(s);u=r(s)}if(null!==u)var l=!0;else{var I=r(c);null!==I&&Y(y,I.startTime-n),l=!1}return l}finally{u=null,C=g,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var v,G=!1,B=null,S=-1,k=5,W=-1;function V(){return!(t.unstable_now()-W<k)}function R(){if(null!==B){var e=t.unstable_now();W=e;var n=!0;try{n=B(!0,e)}finally{n?v():(G=!1,B=null)}}else G=!1}if("function"===typeof b)v=function(){b(R)};else if("undefined"!==typeof MessageChannel){var w=new MessageChannel,X=w.port2;w.port1.onmessage=R,v=function(){X.postMessage(null)}}else v=function(){m(R,0)};function J(e){B=e,G||(G=!0,v())}function Y(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||d||(A=!0,J(Z))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return r(s)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,a,g){var o=t.unstable_now();switch("object"===typeof g&&null!==g?g="number"===typeof(g=g.delay)&&0<g?o+g:o:g=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:g,expirationTime:i=g+i,sortIndex:-1},g>o?(e.sortIndex=g,n(c,e),null===r(s)&&e===r(c)&&(h?(p(S),S=-1):h=!0,Y(y,g-o))):(e.sortIndex=i,n(s,e),A||d||(A=!0,J(Z))),e},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var g=Object.keys(e),o=Object.keys(t);if(g.length!==o.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<g.length;l++){var s=g[l];if(!i(s))return!1;var c=e[s],I=t[s];if(!1===(a=n?n.call(r,c,I,s):void 0)||void 0===a&&c!==I)return!1}return!0}},5867:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return qt},StyleSheetConsumer:function(){return vt},StyleSheetContext:function(){return Zt},StyleSheetManager:function(){return St},ThemeConsumer:function(){return Nt},ThemeContext:function(){return Ht},ThemeProvider:function(){return Kt},__PRIVATE__:function(){return $t},createGlobalStyle:function(){return _t},css:function(){return Tt},default:function(){return jt},isStyledComponent:function(){return Le},keyframes:function(){return Ot},styled:function(){return jt},useTheme:function(){return Ft},version:function(){return ce},withTheme:function(){return Pt}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,a=0,g=t.length;a<g;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var g=n(2791),o=n(9613),i=n.n(o),l="-ms-",s="-moz-",c="-webkit-",I="comm",u="rule",C="decl",d="@import",A="@keyframes",h="@layer",m=Math.abs,p=String.fromCharCode,b=Object.assign;function f(e){return e.trim()}function y(e,t){return(e=t.exec(e))?e[0]:e}function Z(e,t,n){return e.replace(t,n)}function v(e,t){return e.indexOf(t)}function G(e,t){return 0|e.charCodeAt(t)}function B(e,t,n){return e.slice(t,n)}function S(e){return e.length}function k(e){return e.length}function W(e,t){return t.push(e),e}function V(e,t){return e.filter((function(e){return!y(e,t)}))}var R=1,w=1,X=0,J=0,Y=0,x="";function H(e,t,n,r,a,g,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:g,line:R,column:w,length:o,return:"",siblings:i}}function N(e,t){return b(H("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function F(e){for(;e.root;)e=N(e.root,{children:[e]});W(e,e.siblings)}function K(){return Y=J>0?G(x,--J):0,w--,10===Y&&(w=1,R--),Y}function M(){return Y=J<X?G(x,J++):0,w++,10===Y&&(w=1,R++),Y}function D(){return G(x,J)}function E(){return J}function z(e,t){return B(x,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return R=w=1,X=S(x=e),J=0,[]}function U(e){return x="",e}function j(e){return f(z(J-1,O(91===e?e+2:40===e?e+1:e)))}function Q(e){for(;(Y=D())&&Y<33;)M();return T(e)>2||T(Y)>3?"":" "}function _(e,t){for(;--t&&M()&&!(Y<48||Y>102||Y>57&&Y<65||Y>70&&Y<97););return z(e,E()+(t<6&&32==D()&&32==M()))}function O(e){for(;M();)switch(Y){case e:return J;case 34:case 39:34!==e&&39!==e&&O(Y);break;case 40:41===e&&O(e);break;case 92:M()}return J}function P(e,t){for(;M()&&e+Y!==57&&(e+Y!==84||47!==D()););return"/*"+z(t,J-1)+"*"+p(47===e?e:M())}function q(e){for(;!T(D());)M();return z(e,J)}function $(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ee(e,t,n,r){switch(e.type){case h:if(e.children.length)break;case d:case C:return e.return=e.return||e.value;case I:return"";case A:return e.return=e.value+"{"+$(e.children,r)+"}";case u:if(!S(e.value=e.props.join(",")))return""}return S(n=$(e.children,r))?e.return=e.value+"{"+n+"}":""}function te(e,t,n){switch(function(e,t){return 45^G(e,0)?(((t<<2^G(e,0))<<2^G(e,1))<<2^G(e,2))<<2^G(e,3):0}(e,t)){case 5103:return c+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return c+e+e;case 4789:return s+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return c+e+s+e+l+e+e;case 5936:switch(G(e,t+11)){case 114:return c+e+l+Z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return c+e+l+Z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return c+e+l+Z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return c+e+l+e+e;case 6165:return c+e+l+"flex-"+e+e;case 5187:return c+e+Z(e,/(\w+).+(:[^]+)/,c+"box-$1$2"+l+"flex-$1$2")+e;case 5443:return c+e+l+"flex-item-"+Z(e,/flex-|-self/g,"")+(y(e,/flex-|baseline/)?"":l+"grid-row-"+Z(e,/flex-|-self/g,""))+e;case 4675:return c+e+l+"flex-line-pack"+Z(e,/align-content|flex-|-self/g,"")+e;case 5548:return c+e+l+Z(e,"shrink","negative")+e;case 5292:return c+e+l+Z(e,"basis","preferred-size")+e;case 6060:return c+"box-"+Z(e,"-grow","")+c+e+l+Z(e,"grow","positive")+e;case 4554:return c+Z(e,/([^-])(transform)/g,"$1"+c+"$2")+e;case 6187:return Z(Z(Z(e,/(zoom-|grab)/,c+"$1"),/(image-set)/,c+"$1"),e,"")+e;case 5495:case 3959:return Z(e,/(image-set\([^]*)/,c+"$1$`$1");case 4968:return Z(Z(e,/(.+:)(flex-)?(.*)/,c+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+c+e+e;case 4200:if(!y(e,/flex-|baseline/))return l+"grid-column-align"+B(e,t)+e;break;case 2592:case 3360:return l+Z(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,y(e.props,/grid-\w+-end/)}))?~v(e+(n=n[t].value),"span")?e:l+Z(e,"-start","")+e+l+"grid-row-span:"+(~v(n,"span")?y(n,/\d+/):+y(n,/\d+/)-+y(e,/\d+/))+";":l+Z(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return y(e.props,/grid-\w+-start/)}))?e:l+Z(Z(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Z(e,/(.+)-inline(.+)/,c+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(S(e)-1-t>6)switch(G(e,t+1)){case 109:if(45!==G(e,t+4))break;case 102:return Z(e,/(.+:)(.+)-([^]+)/,"$1"+c+"$2-$3$1"+s+(108==G(e,t+3)?"$3":"$2-$3"))+e;case 115:return~v(e,"stretch")?te(Z(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Z(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,a,g,o,i){return l+n+":"+r+i+(a?l+n+"-span:"+(g?o:+o-+r)+i:"")+e}));case 4949:if(121===G(e,t+6))return Z(e,":",":"+c)+e;break;case 6444:switch(G(e,45===G(e,14)?18:11)){case 120:return Z(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+c+(45===G(e,14)?"inline-":"")+"box$3$1"+c+"$2$3$1"+l+"$2box$3")+e;case 100:return Z(e,":",":"+l)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Z(e,"scroll-","scroll-snap-")+e}return e}function ne(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case C:return void(e.return=te(e.value,e.length,n));case A:return $([N(e,{value:Z(e.value,"@","@"+c)})],r);case u:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(y(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":F(N(e,{props:[Z(t,/:(read-\w+)/,":"+s+"$1")]})),F(N(e,{props:[t]})),b(e,{props:V(n,r)});break;case"::placeholder":F(N(e,{props:[Z(t,/:(plac\w+)/,":"+c+"input-$1")]})),F(N(e,{props:[Z(t,/:(plac\w+)/,":"+s+"$1")]})),F(N(e,{props:[Z(t,/:(plac\w+)/,l+"input-$1")]})),F(N(e,{props:[t]})),b(e,{props:V(n,r)})}return""}))}}function re(e){return U(ae("",null,null,null,[""],e=L(e),0,[0],e))}function ae(e,t,n,r,a,g,o,i,l){for(var s=0,c=0,I=o,u=0,C=0,d=0,A=1,h=1,m=1,b=0,f="",y=a,B=g,k=r,V=f;h;)switch(d=b,b=M()){case 40:if(108!=d&&58==G(V,I-1)){-1!=v(V+=Z(j(b),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:V+=j(b);break;case 9:case 10:case 13:case 32:V+=Q(d);break;case 92:V+=_(E()-1,7);continue;case 47:switch(D()){case 42:case 47:W(oe(P(M(),E()),t,n,l),l);break;default:V+="/"}break;case 123*A:i[s++]=S(V)*m;case 125*A:case 59:case 0:switch(b){case 0:case 125:h=0;case 59+c:-1==m&&(V=Z(V,/\f/g,"")),C>0&&S(V)-I&&W(C>32?ie(V+";",r,n,I-1,l):ie(Z(V," ","")+";",r,n,I-2,l),l);break;case 59:V+=";";default:if(W(k=ge(V,t,n,s,c,a,i,f,y=[],B=[],I,g),g),123===b)if(0===c)ae(V,t,k,k,y,g,I,i,B);else switch(99===u&&110===G(V,3)?100:u){case 100:case 108:case 109:case 115:ae(e,k,k,r&&W(ge(e,k,k,0,0,a,i,f,a,y=[],I,B),B),a,B,I,i,r?y:B);break;default:ae(V,k,k,k,[""],B,0,i,B)}}s=c=C=0,A=m=1,f=V="",I=o;break;case 58:I=1+S(V),C=d;default:if(A<1)if(123==b)--A;else if(125==b&&0==A++&&125==K())continue;switch(V+=p(b),b*A){case 38:m=c>0?1:(V+="\f",-1);break;case 44:i[s++]=(S(V)-1)*m,m=1;break;case 64:45===D()&&(V+=j(M())),u=D(),c=I=S(f=V+=q(E())),b++;break;case 45:45===d&&2==S(V)&&(A=0)}}return g}function ge(e,t,n,r,a,g,o,i,l,s,c,I){for(var C=a-1,d=0===a?g:[""],A=k(d),h=0,p=0,b=0;h<r;++h)for(var y=0,v=B(e,C+1,C=m(p=o[h])),G=e;y<A;++y)(G=f(p>0?d[y]+" "+v:Z(v,/&\f/g,d[y])))&&(l[b++]=G);return H(e,t,n,0===a?u:i,l,s,c,I)}function oe(e,t,n,r){return H(e,t,n,I,p(Y),B(e,2,-2),0,r)}function ie(e,t,n,r,a){return H(e,t,n,C,B(e,0,r),B(e,r+1,-1),r,a)}var le={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},se="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.SC_ATTR)||"data-styled",ce="6.1.0",Ie="undefined"!=typeof window&&"HTMLElement"in window,ue=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.21.0"}.SC_DISABLE_SPEEDY)),Ce={},de=(new Set,Object.freeze([])),Ae=Object.freeze({});function he(e,t,n){return void 0===n&&(n=Ae),e.theme!==n.theme&&e.theme||t||n.theme}var me=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),pe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function fe(e){return e.replace(pe,"-").replace(be,"")}var ye=/(a)(d)/gi,Ze=function(e){return String.fromCharCode(e+(e>25?39:97))};function ve(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Ze(t%52)+n;return(Ze(t%52)+n).replace(ye,"$1-$2")}var Ge,Be=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Se=function(e){return Be(5381,e)};function ke(e){return ve(Se(e)>>>0)}function We(e){return"string"==typeof e&&!0}var Ve="function"==typeof Symbol&&Symbol.for,Re=Ve?Symbol.for("react.memo"):60115,we=Ve?Symbol.for("react.forward_ref"):60112,Xe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Je={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ye={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xe=((Ge={})[we]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ge[Re]=Ye,Ge);function He(e){return("type"in(t=e)&&t.type.$$typeof)===Re?Ye:"$$typeof"in e?xe[e.$$typeof]:Xe;var t}var Ne=Object.defineProperty,Fe=Object.getOwnPropertyNames,Ke=Object.getOwnPropertySymbols,Me=Object.getOwnPropertyDescriptor,De=Object.getPrototypeOf,Ee=Object.prototype;function ze(e,t,n){if("string"!=typeof t){if(Ee){var r=De(t);r&&r!==Ee&&ze(e,r,n)}var a=Fe(t);Ke&&(a=a.concat(Ke(t)));for(var g=He(e),o=He(t),i=0;i<a.length;++i){var l=a[i];if(!(l in Je||n&&n[l]||o&&l in o||g&&l in g)){var s=Me(t,l);try{Ne(e,l,s)}catch(e){}}}}return e}function Te(e){return"function"==typeof e}function Le(e){return"object"==typeof e&&"styledComponentId"in e}function Ue(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function je(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Qe(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function _e(e,t,n){if(void 0===n&&(n=!1),!n&&!Qe(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=_e(e[r],t[r]);else if(Qe(t))for(var r in t)e[r]=_e(e[r],t[r]);return e}function Oe(e,t){Object.defineProperty(e,"toString",{value:t})}function Pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var qe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,a=r;e>=a;)if((a<<=1)<0)throw Pe(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var g=r;g<a;g++)this.groupSizes[g]=0}for(var o=this.indexOfGroup(e+1),i=(g=0,t.length);g<i;g++)this.tag.insertRule(o,t[g])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var a=n;a<r;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n,g=r;g<a;g++)t+="".concat(this.tag.getRule(g)).concat("/*!sc*/\n");return t},e}(),$e=new Map,et=new Map,tt=1,nt=function(e){if($e.has(e))return $e.get(e);for(;et.has(tt);)tt++;var t=tt++;return $e.set(e,t),et.set(t,e),t},rt=function(e,t){$e.set(e,t),et.set(t,e)},at="style[".concat(se,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),gt=new RegExp("^".concat(se,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ot=function(e,t,n){for(var r,a=n.split(","),g=0,o=a.length;g<o;g++)(r=a[g])&&e.registerName(t,r)},it=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),a=[],g=0,o=r.length;g<o;g++){var i=r[g].trim();if(i){var l=i.match(gt);if(l){var s=0|parseInt(l[1],10),c=l[2];0!==s&&(rt(c,s),ot(e,c,l[3]),e.getTag().insertRules(s,a)),a.length=0}else a.push(i)}}};function lt(){return n.nc}var st=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(e){var t=Array.from(e.querySelectorAll("style[".concat(se,"]")));return t[t.length-1]}(n),g=void 0!==a?a.nextSibling:null;r.setAttribute(se,"active"),r.setAttribute("data-styled-version","6.1.0");var o=lt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,g),r},ct=function(){function e(e){this.element=st(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var a=t[n];if(a.ownerNode===e)return a}throw Pe(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),It=function(){function e(e){this.element=st(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ut=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ct=Ie,dt={isServer:!Ie,useCSSOMInjection:!ue},At=function(){function e(e,t,n){void 0===e&&(e=Ae),void 0===t&&(t={});var a=this;this.options=r(r({},dt),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ie&&Ct&&(Ct=!1,function(e){for(var t=document.querySelectorAll(at),n=0,r=t.length;n<r;n++){var a=t[n];a&&"active"!==a.getAttribute(se)&&(it(e,a),a.parentNode&&a.parentNode.removeChild(a))}}(this)),Oe(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",a=function(n){var a=function(e){return et.get(e)}(n);if(void 0===a)return"continue";var g=e.names.get(a),o=t.getGroup(n);if(void 0===g||0===o.length)return"continue";var i="".concat(se,".g").concat(n,'[id="').concat(a,'"]'),l="";void 0!==g&&g.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(o).concat(i,'{content:"').concat(l,'"}').concat("/*!sc*/\n")},g=0;g<n;g++)a(g);return r}(a)}))}return e.registerId=function(e){return nt(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(r(r({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ut(n):t?new ct(n):new It(n)}(this.options),new qe(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(nt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(nt(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(nt(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),ht=/&/g,mt=/^\s*\/\/.*$/gm;function pt(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=pt(e.children,t)),e}))}function bt(e){var t,n,r,a=void 0===e?Ae:e,g=a.options,o=void 0===g?Ae:g,i=a.plugins,l=void 0===i?de:i,s=function(e,r,a){return a===n||a.startsWith(n)&&a.endsWith(n)&&a.replaceAll(n,"").length>0?".".concat(t):e},c=l.slice();c.push((function(e){e.type===u&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(ht,n).replace(r,s))})),o.prefix&&c.push(ne),c.push(ee);var I=function(e,a,g,i){void 0===a&&(a=""),void 0===g&&(g=""),void 0===i&&(i="&"),t=i,n=a,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(mt,""),s=re(g||a?"".concat(g," ").concat(a," { ").concat(l," }"):l);o.namespace&&(s=pt(s,o.namespace));var I,u=[];return $(s,function(e){var t=k(e);return function(n,r,a,g){for(var o="",i=0;i<t;i++)o+=e[i](n,r,a,g)||"";return o}}(c.concat((I=function(e){return u.push(e)},function(e){e.root||(e=e.return)&&I(e)})))),u};return I.hash=l.length?l.reduce((function(e,t){return t.name||Pe(15),Be(e,t.name)}),5381).toString():"",I}var ft=new At,yt=bt(),Zt=g.createContext({shouldForwardProp:void 0,styleSheet:ft,stylis:yt}),vt=Zt.Consumer,Gt=g.createContext(void 0);function Bt(){return(0,g.useContext)(Zt)}function St(e){var t=(0,g.useState)(e.stylisPlugins),n=t[0],r=t[1],a=Bt().styleSheet,o=(0,g.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),l=(0,g.useMemo)((function(){return bt({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,g.useEffect)((function(){i()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var s=(0,g.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:l}}),[e.shouldForwardProp,o,l]);return g.createElement(Zt.Provider,{value:s},g.createElement(Gt.Provider,{value:l},e.children))}var kt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=yt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Oe(this,(function(){throw Pe(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=yt),this.name+e.hash},e}(),Wt=function(e){return e>="A"&&e<="Z"};function Vt(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Wt(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Rt=function(e){return null==e||!1===e||""===e},wt=function e(t){var n,r,g=[];for(var o in t){var i=t[o];t.hasOwnProperty(o)&&!Rt(i)&&(Array.isArray(i)&&i.isCss||Te(i)?g.push("".concat(Vt(o),":"),i,";"):Qe(i)?g.push.apply(g,a(a(["".concat(o," {")],e(i),!1),["}"],!1)):g.push("".concat(Vt(o),": ").concat((n=o,null==(r=i)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in le||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return g};function Xt(e,t,n,r){return Rt(e)?[]:Le(e)?[".".concat(e.styledComponentId)]:Te(e)?!Te(a=e)||a.prototype&&a.prototype.isReactComponent||!t?[e]:Xt(e(t),t,n,r):e instanceof kt?n?(e.inject(n,r),[e.getName(r)]):[e]:Qe(e)?wt(e):Array.isArray(e)?Array.prototype.concat.apply(de,e.map((function(e){return Xt(e,t,n,r)}))):[e.toString()];var a}function Jt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Te(n)&&!Le(n))return!1}return!0}var Yt=Se("6.1.0"),xt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Jt(e),this.componentId=t,this.baseHash=Be(Yt,t),this.baseStyle=n,At.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ue(r,this.staticRulesId);else{var a=je(Xt(this.rules,e,t,n)),g=ve(Be(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,g)){var o=n(a,".".concat(g),void 0,this.componentId);t.insertRules(this.componentId,g,o)}r=Ue(r,g),this.staticRulesId=g}else{for(var i=Be(this.baseHash,n.hash),l="",s=0;s<this.rules.length;s++){var c=this.rules[s];if("string"==typeof c)l+=c;else if(c){var I=je(Xt(c,e,t,n));i=Be(i,I+s),l+=I}}if(l){var u=ve(i>>>0);t.hasNameForId(this.componentId,u)||t.insertRules(this.componentId,u,n(l,".".concat(u),void 0,this.componentId)),r=Ue(r,u)}}return r},e}(),Ht=g.createContext(void 0),Nt=Ht.Consumer;function Ft(){var e=(0,g.useContext)(Ht);if(!e)throw Pe(18);return e}function Kt(e){var t=g.useContext(Ht),n=(0,g.useMemo)((function(){return function(e,t){if(!e)throw Pe(14);if(Te(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw Pe(8);return t?r(r({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?g.createElement(Ht.Provider,{value:n},e.children):null}var Mt={};new Set;function Dt(e,t,n){var a=Le(e),o=e,i=!We(e),l=t.attrs,s=void 0===l?de:l,c=t.componentId,I=void 0===c?function(e,t){var n="string"!=typeof e?"sc":fe(e);Mt[n]=(Mt[n]||0)+1;var r="".concat(n,"-").concat(ke("6.1.0"+n+Mt[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,u=t.displayName,C=(void 0===u&&function(e){We(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),t.displayName&&t.componentId?"".concat(fe(t.displayName),"-").concat(t.componentId):t.componentId||I),d=a&&o.attrs?o.attrs.concat(s).filter(Boolean):s,A=t.shouldForwardProp;if(a&&o.shouldForwardProp){var h=o.shouldForwardProp;if(t.shouldForwardProp){var m=t.shouldForwardProp;A=function(e,t){return h(e,t)&&m(e,t)}}else A=h}var p=new xt(n,C,a?o.componentStyle:void 0);var b=g.forwardRef((function(e,t){return function(e,t,n){var a=e.attrs,o=e.componentStyle,i=e.defaultProps,l=e.foldedComponentIds,s=e.styledComponentId,c=e.target,I=g.useContext(Ht),u=Bt(),C=e.shouldForwardProp||u.shouldForwardProp,d=function(e,t,n){for(var a,g=r(r({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var i=Te(a=e[o])?a(g):a;for(var l in i)g[l]="className"===l?Ue(g[l],i[l]):"style"===l?r(r({},g[l]),i[l]):i[l]}return t.className&&(g.className=Ue(g.className,t.className)),g}(a,t,he(t,I,i)||Ae),A=d.as||c,h={};for(var m in d)void 0===d[m]||"$"===m[0]||"as"===m||"theme"===m||("forwardedAs"===m?h.as=d.forwardedAs:C&&!C(m,A)||(h[m]=d[m]));var p=function(e,t){var n=Bt();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,d),b=Ue(l,s);return p&&(b+=" "+p),d.className&&(b+=" "+d.className),h[We(A)&&!me.has(A)?"class":"className"]=b,h.ref=n,(0,g.createElement)(A,h)}(b,e,t)}));return b.attrs=d,b.componentStyle=p,b.shouldForwardProp=A,b.foldedComponentIds=a?Ue(o.foldedComponentIds,o.styledComponentId):"",b.styledComponentId=C,b.target=a?o.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=a?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++)_e(e,a[r],!0);return e}({},o.defaultProps,e):e}}),Oe(b,(function(){return".".concat(b.styledComponentId)})),i&&ze(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Et(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n}var zt=function(e){return Object.assign(e,{isCss:!0})};function Tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Te(e)||Qe(e))return zt(Xt(Et(de,a([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Xt(r):zt(Xt(Et(r,t)))}function Lt(e,t,n){if(void 0===n&&(n=Ae),!t)throw Pe(1,t);var g=function(r){for(var g=[],o=1;o<arguments.length;o++)g[o-1]=arguments[o];return e(t,n,Tt.apply(void 0,a([r],g,!1)))};return g.attrs=function(a){return Lt(e,t,r(r({},n),{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},g.withConfig=function(a){return Lt(e,t,r(r({},n),a))},g}var Ut=function(e){return Lt(Dt,e)},jt=Ut;me.forEach((function(e){jt[e]=Ut(e)}));var Qt=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Jt(e),At.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var a=r(je(Xt(this.rules,t,n,r)),""),g=this.componentId+e;n.insertRules(g,g,a)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&At.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function _t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=Tt.apply(void 0,a([e],t,!1)),i="sc-global-".concat(ke(JSON.stringify(o))),l=new Qt(o,i),s=function(e){var t=Bt(),n=g.useContext(Ht),r=g.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&c(r,e,t.styleSheet,n,t.stylis),g.useLayoutEffect((function(){if(!t.styleSheet.server)return c(r,e,t.styleSheet,n,t.stylis),function(){return l.removeStyles(r,t.styleSheet)}}),[r,e,t.styleSheet,n,t.stylis]),null};function c(e,t,n,a,g){if(l.isStatic)l.renderStyles(e,Ce,n,g);else{var o=r(r({},t),{theme:he(t,a,s.defaultProps)});l.renderStyles(e,o,n,g)}}return g.memo(s)}function Ot(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=je(Tt.apply(void 0,a([e],t,!1))),g=ke(r);return new kt(g,r)}function Pt(e){return ze(g.forwardRef((function(t,n){var a=he(t,g.useContext(Ht),e.defaultProps);return g.createElement(e,r({},t,{theme:a,ref:n}))})),e)}var qt=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=lt(),r=je([n&&'nonce="'.concat(n,'"'),"".concat(se,'="true"'),"".concat("data-styled-version",'="').concat("6.1.0",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Pe(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Pe(2);var n=((t={})[se]="",t["data-styled-version"]="6.1.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),a=lt();return a&&(n.nonce=a),[g.createElement("style",r({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new At({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw Pe(2);return g.createElement(St,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Pe(3)},e}(),$t={StyleSheet:At,mainSheet:ft};"__sc-".concat(se,"__")},2391:function(e){"use strict";var t=function(){};e.exports=t},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,g,o,i=[],l=!0,s=!1;try{if(g=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=g.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),a=n(8872),g=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||a(e,t)||g(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},9400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),a=n(9498),g=n(6116),o=n(2281);e.exports=function(e){return r(e)||a(e)||g(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,a=n(5036);e.exports=function(e){var t=a(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(9142);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,r.Z)(a.key),a)}}function g(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,g=function(){};return{s:g,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120),a=n(8814),g=n(1002),o=n(7326);function i(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var i=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===(0,g.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function a(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002);function a(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var g=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(g.exports,g,g.exports,n),g.loaded=!0,g.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var g=Object.create(null);n.r(g);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(g,o),g}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",n.nc=void 0,function(){"use strict";var e=n(2791),t=n.t(e,2),r=n(1250);function a(e){if(Array.isArray(e))return e}var g=n(181);function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,g,o,i=[],l=!0,s=!1;try{if(g=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=g.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}}(e,t)||(0,g.Z)(e,t)||o()}var l=n(907);function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){return function(e){if(Array.isArray(e))return(0,l.Z)(e)}(e)||s(e)||(0,g.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=n(5671),u=n(3144),C=n(136),d=n(7277),A=n(1120),h=n(9611);var m=n(8814);function p(e,t,n){return p=(0,m.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,h.Z)(a,n.prototype),a},p.apply(null,arguments)}function b(e){var t="function"===typeof Map?new Map:void 0;return b=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,(0,A.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,h.Z)(n,e)},b(e)}var f,y=n(7762);function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(f||(f={}));var v,G="popstate";function B(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function W(e,t,n,r){return void 0===n&&(n=null),Z({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function V(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,g=e.hash,o=void 0===g?"":g;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n,r){void 0===r&&(r={});var a=r,g=a.window,o=void 0===g?document.defaultView:g,i=a.v5Compat,l=void 0!==i&&i,s=o.history,c=f.Pop,I=null,u=C();function C(){return(s.state||{idx:null}).idx}function d(){c=f.Pop;var e=C(),t=null==e?null:e-u;u=e,I&&I({action:c,location:h.location,delta:t})}function A(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:V(e);return B(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(Z({},s.state,{idx:u}),""));var h={get action(){return c},get location(){return e(o,s)},listen:function(e){if(I)throw new Error("A history only accepts one active listener");return o.addEventListener(G,d),I=e,function(){o.removeEventListener(G,d),I=null}},createHref:function(e){return t(o,e)},createURL:A,encodeLocation:function(e){var t=A(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=f.Push;var r=W(h.location,e,t);n&&n(r,e);var a=k(r,u=C()+1),g=h.createHref(r);try{s.pushState(a,"",g)}catch(i){if(i instanceof DOMException&&"DataCloneError"===i.name)throw i;o.location.assign(g)}l&&I&&I({action:c,location:h.location,delta:1})},replace:function(e,t){c=f.Replace;var r=W(h.location,e,t);n&&n(r,e);var a=k(r,u=C()),g=h.createHref(r);s.replaceState(a,"",g),l&&I&&I({action:c,location:h.location,delta:0})},go:function(e){return s.go(e)}};return h}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function X(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?R(t):t).pathname||"/",n);if(null==r)return null;var a=J(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var g=null,o=0;null==g&&o<a.length;++o)g=z(a[o],L(r));return g}function J(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var a=function(e,a,g){var o={relativePath:void 0===g?e.path||"":g,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(B(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var i=O([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(B(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),J(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:E(i,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,g=(0,y.Z)(Y(e.path));try{for(g.s();!(r=g.n()).done;){var o=r.value;a(e,t,o)}}catch(i){g.e(i)}finally{g.f()}}else a(e,t)})),t}function Y(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||s(n)||(0,g.Z)(n)||o(),i=r[0],l=r.slice(1),I=i.endsWith("?"),u=i.replace(/\?$/,"");if(0===l.length)return I?[u,""]:[u];var C=Y(l.join("/")),d=[];return d.push.apply(d,c(C.map((function(e){return""===e?u:[u,e].join("/")})))),I&&d.push.apply(d,c(C)),d.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var x=/^:\w+$/,H=3,N=2,F=1,K=10,M=-2,D=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=M),t&&(r+=N),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(x.test(t)?H:""===t?F:K)}),r)}function z(e,t){for(var n=e.routesMeta,r={},a="/",g=[],o=0;o<n.length;++o){var i=n[o],l=o===n.length-1,s="/"===a?t:t.slice(a.length)||"/",c=T({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},s);if(!c)return null;Object.assign(r,c.params);var I=i.route;g.push({params:r,pathname:O([a,c.pathname]),pathnameBase:P(O([a,c.pathnameBase])),route:I}),"/"!==c.pathnameBase&&(a=O([a,c.pathnameBase]))}return g}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");var g=new RegExp(a,t?void 0:"i");return[g,r]}(e.path,e.caseSensitive,e.end),r=i(n,2),a=r[0],g=r[1],o=t.match(a);if(!o)return null;var l=o[0],s=l.replace(/(.)\/+$/,"$1"),c=o.slice(1),I=g.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return S(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:I,pathname:l,pathnameBase:s,pattern:e}}function L(e){try{return decodeURI(e)}catch(t){return S(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Q(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function _(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=R(e):(B(!(a=Z({},e)).pathname||!a.pathname.includes("?"),j("?","pathname","search",a)),B(!a.pathname||!a.pathname.includes("#"),j("#","pathname","hash",a)),B(!a.search||!a.search.includes("#"),j("#","search","hash",a)));var g,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(r||null==i)g=n;else{var l=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),l-=1;a.pathname=s.join("/")}g=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?R(e):e,r=n.pathname,a=n.search,g=void 0===a?"":a,o=n.hash,i=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:q(g),hash:$(i)}}(a,g),I=i&&"/"!==i&&i.endsWith("/"),u=(o||"."===i)&&n.endsWith("/");return c.pathname.endsWith("/")||!I&&!u||(c.pathname+="/"),c}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},$=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ee=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(b(Error));function te(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ne=["post","put","patch","delete"],re=(new Set(ne),["get"].concat(ne));new Set(re),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var ge=e.createContext(null);var oe=e.createContext(null);var ie=e.createContext(null);var le=e.createContext(null);var se=e.createContext(null);var ce=e.createContext({outlet:null,matches:[],isDataRoute:!1});var Ie=e.createContext(null);function ue(){return null!=e.useContext(se)}function Ce(){return ue()||B(!1),e.useContext(se).location}function de(t){e.useContext(le).static||e.useLayoutEffect(t)}function Ae(){return e.useContext(ce).isDataRoute?function(){var t=Be(ve.UseNavigateStable).router,n=ke(Ge.UseNavigateStable),r=e.useRef(!1);de((function(){r.current=!0}));var a=e.useCallback((function(e,a){void 0===a&&(a={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,ae({fromRouteId:n},a)))}),[t,n]);return a}():function(){ue()||B(!1);var t=e.useContext(ge),n=e.useContext(le),r=n.basename,a=n.navigator,g=e.useContext(ce).matches,o=Ce().pathname,i=JSON.stringify(Q(g).map((function(e){return e.pathnameBase}))),l=e.useRef(!1);de((function(){l.current=!0}));var s=e.useCallback((function(e,n){if(void 0===n&&(n={}),l.current)if("number"!==typeof e){var g=_(e,JSON.parse(i),o,"path"===n.relative);null==t&&"/"!==r&&(g.pathname="/"===g.pathname?r:O([r,g.pathname])),(n.replace?a.replace:a.push)(g,n.state,n)}else a.go(e)}),[r,a,i,o,t]);return s}()}function he(t,n){var r=(void 0===n?{}:n).relative,a=e.useContext(ce).matches,g=Ce().pathname,o=JSON.stringify(Q(a).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return _(t,JSON.parse(o),g,"path"===r)}),[t,o,g,r])}function me(t,n,r){ue()||B(!1);var a,g=e.useContext(le).navigator,o=e.useContext(ce).matches,i=o[o.length-1],l=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/"),c=(i&&i.route,Ce());if(n){var I,u="string"===typeof n?R(n):n;"/"===s||(null==(I=u.pathname)?void 0:I.startsWith(s))||B(!1),a=u}else a=c;var C=a.pathname||"/",d=X(t,{pathname:"/"===s?C:C.slice(s.length)||"/"});var A=Ze(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:O([s,g.encodeLocation?g.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,g.encodeLocation?g.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&A?e.createElement(se.Provider,{value:{location:ae({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:f.Pop}},A):A}function pe(){var t=function(){var t,n=e.useContext(Ie),r=Se(Ge.UseRouteError),a=ke(Ge.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[a]}(),n=te(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",g={padding:"0.5rem",backgroundColor:a};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:g},r):null,null)}var be=e.createElement(pe,null),fe=function(t){(0,C.Z)(r,t);var n=(0,d.Z)(r);function r(e){var t;return(0,I.Z)(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return(0,u.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(ce.Provider,{value:this.props.routeContext},e.createElement(Ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(e.Component);function ye(t){var n=t.routeContext,r=t.match,a=t.children,g=e.useContext(ge);return g&&g.static&&g.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ce.Provider,{value:n},a)}function Ze(t,n,r){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==t){var g;if(null==(g=r)||!g.errors)return null;t=r.matches}var o=t,i=null==(a=r)?void 0:a.errors;if(null!=i){var l=o.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));l>=0||B(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((function(t,a,g){var l=a.route.id?null==i?void 0:i[a.route.id]:null,s=null;r&&(s=a.route.errorElement||be);var c=n.concat(o.slice(0,g+1)),I=function(){var n;return n=l?s:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ye,{match:a,routeContext:{outlet:t,matches:c,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===g)?e.createElement(fe,{location:r.location,revalidation:r.revalidation,component:s,error:l,children:I(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):I()}),null)}var ve=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ve||{}),Ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ge||{});function Be(t){var n=e.useContext(ge);return n||B(!1),n}function Se(t){var n=e.useContext(oe);return n||B(!1),n}function ke(t){var n=function(t){var n=e.useContext(ce);return n||B(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||B(!1),r.route.id}t.startTransition;function We(t){var n=t.to,r=t.replace,a=t.state,g=t.relative;ue()||B(!1);var o=e.useContext(ce).matches,i=Ce().pathname,l=Ae(),s=_(n,Q(o).map((function(e){return e.pathnameBase})),i,"path"===g),c=JSON.stringify(s);return e.useEffect((function(){return l(JSON.parse(c),{replace:r,state:a,relative:g})}),[l,c,g,r,a]),null}function Ve(e){B(!1)}function Re(t){var n=t.basename,r=void 0===n?"/":n,a=t.children,g=void 0===a?null:a,o=t.location,i=t.navigationType,l=void 0===i?f.Pop:i,s=t.navigator,c=t.static,I=void 0!==c&&c;ue()&&B(!1);var u=r.replace(/^\/*/,"/"),C=e.useMemo((function(){return{basename:u,navigator:s,static:I}}),[u,s,I]);"string"===typeof o&&(o=R(o));var d=o,A=d.pathname,h=void 0===A?"/":A,m=d.search,p=void 0===m?"":m,b=d.hash,y=void 0===b?"":b,Z=d.state,v=void 0===Z?null:Z,G=d.key,S=void 0===G?"default":G,k=e.useMemo((function(){var e=U(h,u);return null==e?null:{location:{pathname:e,search:p,hash:y,state:v,key:S},navigationType:l}}),[u,h,p,y,v,S,l]);return null==k?null:e.createElement(le.Provider,{value:C},e.createElement(se.Provider,{children:g,value:k}))}function we(e){var t=e.children,n=e.location;return me(Ye(t),n)}var Xe=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Xe||{}),Je=new Promise((function(){}));e.Component;function Ye(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,a){if(e.isValidElement(t)){var g=[].concat(c(n),[a]);if(t.type!==e.Fragment){t.type!==Ve&&B(!1),t.props.index&&t.props.children&&B(!1);var o={id:t.props.id||g.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Ye(t.props.children,g)),r.push(o)}else r.push.apply(r,Ye(t.props.children,g))}})),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fe=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];var Ke=e.createContext({isTransitioning:!1});var Me=t.startTransition;function De(t){var n=t.basename,r=t.children,a=t.future,g=t.window,o=e.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),w((function(e,t){var n=e.location;return W("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:V(t)}),null,e)}({window:g,v5Compat:!0}));var l=o.current,s=i(e.useState({action:l.action,location:l.location}),2),c=s[0],I=s[1],u=(a||{}).v7_startTransition,C=e.useCallback((function(e){u&&Me?Me((function(){return I(e)})):I(e)}),[I,u]);return e.useLayoutEffect((function(){return l.listen(C)}),[l,C]),e.createElement(Re,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})}var Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=e.forwardRef((function(t,n){var r,a=t.onClick,g=t.relative,o=t.reloadDocument,i=t.replace,l=t.state,s=t.target,c=t.to,I=t.preventScrollReset,u=t.unstable_viewTransition,C=He(t,Ne),d=e.useContext(le).basename,A=!1;if("string"===typeof c&&ze.test(c)&&(r=c,Ee))try{var h=new URL(window.location.href),m=c.startsWith("//")?new URL(h.protocol+c):new URL(c),p=U(m.pathname,d);m.origin===h.origin&&null!=p?c=p+m.search+m.hash:A=!0}catch(y){}var b=function(t,n){var r=(void 0===n?{}:n).relative;ue()||B(!1);var a=e.useContext(le),g=a.basename,o=a.navigator,i=he(t,{relative:r}),l=i.hash,s=i.pathname,c=i.search,I=s;return"/"!==g&&(I="/"===s?g:O([g,s])),o.createHref({pathname:I,search:c,hash:l})}(c,{relative:g}),f=function(t,n){var r=void 0===n?{}:n,a=r.target,g=r.replace,o=r.state,i=r.preventScrollReset,l=r.relative,s=r.unstable_viewTransition,c=Ae(),I=Ce(),u=he(t,{relative:l});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();var n=void 0!==g?g:V(I)===V(u);c(t,{replace:n,state:o,preventScrollReset:i,relative:l,unstable_viewTransition:s})}}),[I,c,u,g,o,a,t,i,l,s])}(c,{replace:i,state:l,target:s,preventScrollReset:I,relative:g,unstable_viewTransition:u});return e.createElement("a",xe({},C,{href:r||b,onClick:A||o?a:function(e){a&&a(e),e.defaultPrevented||f(e)},ref:n,target:s}))}));var Le=e.forwardRef((function(t,n){var r=t["aria-current"],a=void 0===r?"page":r,g=t.caseSensitive,o=void 0!==g&&g,i=t.className,l=void 0===i?"":i,s=t.end,c=void 0!==s&&s,I=t.style,u=t.to,C=t.unstable_viewTransition,d=t.children,A=He(t,Fe),h=he(u,{relative:A.relative}),m=Ce(),p=e.useContext(oe),b=e.useContext(le).navigator,f=null!=p&&function(t,n){void 0===n&&(n={});var r=e.useContext(Ke);null==r&&B(!1);var a=Qe(Ue.useViewTransitionState).basename,g=he(t,{relative:n.relative});if(!r.isTransitioning)return!1;var o=U(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=U(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=T(g.pathname,i)||null!=T(g.pathname,o)}(h)&&!0===C,y=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,Z=m.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;o||(Z=Z.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase());var G,S=Z===y||!c&&Z.startsWith(y)&&"/"===Z.charAt(y.length),k=null!=v&&(v===y||!c&&v.startsWith(y)&&"/"===v.charAt(y.length)),W={isActive:S,isPending:k,isTransitioning:f},V=S?a:void 0;G="function"===typeof l?l(W):[l,S?"active":null,k?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");var R="function"===typeof I?I(W):I;return e.createElement(Te,xe({},A,{"aria-current":V,className:G,ref:n,style:R,to:u,unstable_viewTransition:C}),"function"===typeof d?d(W):d)}));var Ue,je;function Qe(t){var n=e.useContext(ge);return n||B(!1),n}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ue||(Ue={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));var _e=n(1002);function Oe(){Oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},g="function"==typeof Symbol?Symbol:{},o=g.iterator||"@@iterator",i=g.asyncIterator||"@@asyncIterator",l=g.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var g=t&&t.prototype instanceof m?t:m,o=Object.create(g.prototype),i=new R(r||[]);return a(o,"_invoke",{value:S(e,n,i)}),o}function I(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var u="suspendedStart",C="suspendedYield",d="executing",A="completed",h={};function m(){}function p(){}function b(){}var f={};s(f,o,(function(){return this}));var y=Object.getPrototypeOf,Z=y&&y(y(w([])));Z&&Z!==n&&r.call(Z,o)&&(f=Z);var v=b.prototype=m.prototype=Object.create(f);function G(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function n(a,g,o,i){var l=I(e[a],e,g);if("throw"!==l.type){var s=l.arg,c=s.value;return c&&"object"==(0,_e.Z)(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(c).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,i)}))}i(l.arg)}var g;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return g=g?g.then(a,a):a()}})}function S(t,n,r){var a=u;return function(g,o){if(a===d)throw new Error("Generator is already running");if(a===A){if("throw"===g)throw o;return{value:e,done:!0}}for(r.method=g,r.arg=o;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===h)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===u)throw a=A,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=d;var s=I(t,n,r);if("normal"===s.type){if(a=r.done?A:C,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=A,r.method="throw",r.arg=s.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var g=I(a,t.iterator,n.arg);if("throw"===g.type)return n.method="throw",n.arg=g.arg,n.delegate=null,h;var o=g.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function W(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(W,this),this.reset(!0)}function w(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,g=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return g.next=g}}throw new TypeError((0,_e.Z)(t)+" is not iterable")}return p.prototype=b,a(v,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:p,configurable:!0}),p.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},G(B.prototype),s(B.prototype,i,(function(){return this})),t.AsyncIterator=B,t.async=function(e,n,r,a,g){void 0===g&&(g=Promise);var o=new B(c(e,n,r,a),g);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},G(v),s(v,l,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=w,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var g=this.tryEntries.length-1;g>=0;--g){var o=this.tryEntries[g],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var g=a;break}}g&&("break"===e||"continue"===e)&&g.tryLoc<=t&&t<=g.finallyLoc&&(g=null);var o=g?g.completion:{};return o.type=e,o.arg=t,g?(this.method="next",this.next=g.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;V(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:w(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Pe(e,t,n,r,a,g,o){try{var i=e[g](o),l=i.value}catch(s){return void n(s)}i.done?t(l):Promise.resolve(l).then(r,a)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var g=e.apply(t,n);function o(e){Pe(g,r,a,o,i,"next",e)}function i(e){Pe(g,r,a,o,i,"throw",e)}o(void 0)}))}}var $e=n.p+"static/media/icon_main.2b5b7d4ecc4a44255ad0.png",et=n(4942);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,et.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function at(e,t){if(null==e)return{};var n,r,a=rt(e,t);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var gt=n(1694),ot=n.n(gt),it=n(184),lt=["xxl","xl","lg","md","sm","xs"],st="xs",ct=e.createContext({prefixes:{},breakpoints:lt,minBreakpoint:st});ct.Consumer,ct.Provider;function It(t,n){var r=(0,e.useContext)(ct).prefixes;return t||r[n]||n}function ut(){return(0,e.useContext)(ct).breakpoints}function Ct(){return(0,e.useContext)(ct).minBreakpoint}function dt(){return"rtl"===(0,e.useContext)(ct).dir}var At=["as","bsPrefix","className"],ht=["className"];var mt=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,a=at(e,At);n=It(n,"col");var g=ut(),o=Ct(),i=[],l=[];return g.forEach((function(e){var t,r,g,s=a[e];delete a[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,g=s.order):t=s;var c=e!==o?"-".concat(e):"";t&&i.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=g&&l.push("order".concat(c,"-").concat(g)),null!=r&&l.push("offset".concat(c,"-").concat(r))})),[nt(nt({},a),{},{className:ot().apply(void 0,[r].concat(i,l))}),{as:t,bsPrefix:n,spans:i}]}(e),r=i(n,2),a=r[0],g=a.className,o=at(a,ht),l=r[1],s=l.as,c=void 0===s?"div":s,I=l.bsPrefix,u=l.spans;return(0,it.jsx)(c,nt(nt({},o),{},{ref:t,className:ot()(g,!u.length&&I)}))}));mt.displayName="Col";var pt=mt,bt=["bsPrefix","fluid","as","className"],ft=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,a=void 0!==r&&r,g=e.as,o=void 0===g?"div":g,i=e.className,l=at(e,bt),s=It(n,"container"),c="string"===typeof a?"-".concat(a):"-fluid";return(0,it.jsx)(o,nt(nt({ref:t},l),{},{className:ot()(i,a?"".concat(s).concat(c):s)}))}));ft.displayName="Container";var yt=ft,Zt=n(2007),vt=n.n(Zt),Gt=["as","className","type","tooltip"],Bt={type:vt().string,tooltip:vt().bool,as:vt().elementType},St=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.className,g=e.type,o=void 0===g?"valid":g,i=e.tooltip,l=void 0!==i&&i,s=at(e,Gt);return(0,it.jsx)(r,nt(nt({},s),{},{ref:t,className:ot()(a,"".concat(o,"-").concat(l?"tooltip":"feedback"))}))}));St.displayName="Feedback",St.propTypes=Bt;var kt=St,Wt=e.createContext({}),Vt=["id","bsPrefix","className","type","isValid","isInvalid","as"],Rt=e.forwardRef((function(t,n){var r=t.id,a=t.bsPrefix,g=t.className,o=t.type,i=void 0===o?"checkbox":o,l=t.isValid,s=void 0!==l&&l,c=t.isInvalid,I=void 0!==c&&c,u=t.as,C=void 0===u?"input":u,d=at(t,Vt),A=(0,e.useContext)(Wt).controlId;return a=It(a,"form-check-input"),(0,it.jsx)(C,nt(nt({},d),{},{ref:n,type:i,id:r||A,className:ot()(g,a,s&&"is-valid",I&&"is-invalid")}))}));Rt.displayName="FormCheckInput";var wt=Rt,Xt=["bsPrefix","className","htmlFor"],Jt=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.htmlFor,o=at(t,Xt),i=(0,e.useContext)(Wt).controlId;return r=It(r,"form-check-label"),(0,it.jsx)("label",nt(nt({},o),{},{ref:n,htmlFor:g||i,className:ot()(a,r)}))}));Jt.displayName="FormCheckLabel";var Yt=Jt;function xt(t,n){var r=0;return e.Children.map(t,(function(t){return e.isValidElement(t)?n(t,r++):t}))}var Ht=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Nt=e.forwardRef((function(t,n){var r=t.id,a=t.bsPrefix,g=t.bsSwitchPrefix,o=t.inline,i=void 0!==o&&o,l=t.reverse,s=void 0!==l&&l,c=t.disabled,I=void 0!==c&&c,u=t.isValid,C=void 0!==u&&u,d=t.isInvalid,A=void 0!==d&&d,h=t.feedbackTooltip,m=void 0!==h&&h,p=t.feedback,b=t.feedbackType,f=t.className,y=t.style,Z=t.title,v=void 0===Z?"":Z,G=t.type,B=void 0===G?"checkbox":G,S=t.label,k=t.children,W=t.as,V=void 0===W?"input":W,R=at(t,Ht);a=It(a,"form-check"),g=It(g,"form-switch");var w=(0,e.useContext)(Wt).controlId,X=(0,e.useMemo)((function(){return{controlId:r||w}}),[w,r]),J=!k&&null!=S&&!1!==S||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(k,Yt),Y=(0,it.jsx)(wt,nt(nt({},R),{},{type:"switch"===B?"checkbox":B,ref:n,isValid:C,isInvalid:A,disabled:I,as:V}));return(0,it.jsx)(Wt.Provider,{value:X,children:(0,it.jsx)("div",{style:y,className:ot()(f,J&&a,i&&"".concat(a,"-inline"),s&&"".concat(a,"-reverse"),"switch"===B&&g),children:k||(0,it.jsxs)(it.Fragment,{children:[Y,J&&(0,it.jsx)(Yt,{title:v,children:S}),p&&(0,it.jsx)(kt,{type:b,tooltip:m,children:p})]})})})}));Nt.displayName="FormCheck";var Ft=Object.assign(Nt,{Input:wt,Label:Yt}),Kt=n(2391),Mt=n.n(Kt),Dt=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Et=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.type,g=t.size,o=t.htmlSize,i=t.id,l=t.className,s=t.isValid,c=void 0!==s&&s,I=t.isInvalid,u=void 0!==I&&I,C=t.plaintext,d=t.readOnly,A=t.as,h=void 0===A?"input":A,m=at(t,Dt),p=(0,e.useContext)(Wt).controlId;return r=It(r,"form-control"),(0,it.jsx)(h,nt(nt({},m),{},{type:a,size:o,ref:n,readOnly:d,id:i||p,className:ot()(l,C?"".concat(r,"-plaintext"):r,g&&"".concat(r,"-").concat(g),"color"===a&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")}))}));Et.displayName="FormControl";var zt=Object.assign(Et,{Feedback:kt}),Tt=["className","bsPrefix","as"],Lt=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Tt);return r=It(r,"form-floating"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));Lt.displayName="FormFloating";var Ut=Lt,jt=["controlId","as"],Qt=e.forwardRef((function(t,n){var r=t.controlId,a=t.as,g=void 0===a?"div":a,o=at(t,jt),i=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,it.jsx)(Wt.Provider,{value:i,children:(0,it.jsx)(g,nt(nt({},o),{},{ref:n}))})}));Qt.displayName="FormGroup";var _t=Qt,Ot=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Pt=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"label":r,g=t.bsPrefix,o=t.column,i=void 0!==o&&o,l=t.visuallyHidden,s=void 0!==l&&l,c=t.className,I=t.htmlFor,u=at(t,Ot),C=(0,e.useContext)(Wt).controlId;g=It(g,"form-label");var d="col-form-label";"string"===typeof i&&(d="".concat(d," ").concat(d,"-").concat(i));var A=ot()(c,g,s&&"visually-hidden",i&&d);return I=I||C,i?(0,it.jsx)(pt,nt({ref:n,as:"label",className:A,htmlFor:I},u)):(0,it.jsx)(a,nt({ref:n,className:A,htmlFor:I},u))}));Pt.displayName="FormLabel";var qt=Pt,$t=["bsPrefix","className","id"],en=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.id,o=at(t,$t),i=(0,e.useContext)(Wt).controlId;return r=It(r,"form-range"),(0,it.jsx)("input",nt(nt({},o),{},{type:"range",ref:n,className:ot()(a,r),id:g||i}))}));en.displayName="FormRange";var tn=en,nn=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],rn=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.size,g=t.htmlSize,o=t.className,i=t.isValid,l=void 0!==i&&i,s=t.isInvalid,c=void 0!==s&&s,I=t.id,u=at(t,nn),C=(0,e.useContext)(Wt).controlId;return r=It(r,"form-select"),(0,it.jsx)("select",nt(nt({},u),{},{size:g,ref:n,className:ot()(o,r,a&&"".concat(r,"-").concat(a),l&&"is-valid",c&&"is-invalid"),id:I||C}))}));rn.displayName="FormSelect";var an=rn,gn=["bsPrefix","className","as","muted"],on=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,g=void 0===a?"small":a,o=e.muted,i=at(e,gn);return n=It(n,"form-text"),(0,it.jsx)(g,nt(nt({},i),{},{ref:t,className:ot()(r,n,o&&"text-muted")}))}));on.displayName="FormText";var ln=on,sn=e.forwardRef((function(e,t){return(0,it.jsx)(Ft,nt(nt({},e),{},{ref:t,type:"switch"}))}));sn.displayName="Switch";var cn=Object.assign(sn,{Input:Ft.Input,Label:Ft.Label}),In=["bsPrefix","className","children","controlId","label"],un=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,g=e.controlId,o=e.label,i=at(e,In);return n=It(n,"form-floating"),(0,it.jsxs)(_t,nt(nt({ref:t,className:ot()(r,n),controlId:g},i),{},{children:[a,(0,it.jsx)("label",{htmlFor:g,children:o})]}))}));un.displayName="FloatingLabel";var Cn=un,dn=["className","validated","as"],An={_ref:vt().any,validated:vt().bool,as:vt().elementType},hn=e.forwardRef((function(e,t){var n=e.className,r=e.validated,a=e.as,g=void 0===a?"form":a,o=at(e,dn);return(0,it.jsx)(g,nt(nt({},o),{},{ref:t,className:ot()(n,r&&"was-validated")}))}));hn.displayName="Form",hn.propTypes=An;var mn=Object.assign(hn,{Group:_t,Control:zt,Floating:Ut,Check:Ft,Switch:cn,Label:qt,Text:ln,Range:tn,Select:an,FloatingLabel:Cn}),pn=["as","disabled"];function bn(e){var t=e.tagName,n=e.disabled,r=e.href,a=e.target,g=e.rel,o=e.role,i=e.onClick,l=e.tabIndex,s=void 0===l?0:l,c=e.type;t||(t=null!=r||null!=a||null!=g?"a":"button");var I={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},I];var u=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?g:void 0,onClick:u,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),u(e))}},I]}var fn=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,a=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,pn),g=i(bn(Object.assign({tagName:n,disabled:r},a)),2),o=g[0],l=g[1].tagName;return(0,it.jsx)(l,Object.assign({},a,o,{ref:t}))}));fn.displayName="Button";var yn=fn,Zn=["as","bsPrefix","variant","size","active","disabled","className"],vn=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,a=e.variant,g=void 0===a?"primary":a,o=e.size,l=e.active,s=void 0!==l&&l,c=e.disabled,I=void 0!==c&&c,u=e.className,C=at(e,Zn),d=It(r,"btn"),A=i(bn(nt({tagName:n,disabled:I},C)),2),h=A[0],m=A[1].tagName;return(0,it.jsx)(m,nt(nt(nt({},h),C),{},{ref:t,disabled:I,className:ot()(u,d,s&&"active",g&&"".concat(d,"-").concat(g),o&&"".concat(d,"-").concat(o),C.href&&I&&"disabled")}))}));vn.displayName="Button";var Gn=vn,Bn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sn(e,t){return Bn(e.querySelectorAll(t))}var kn=!("undefined"===typeof window||!window.document||!window.document.createElement),Wn=!1,Vn=!1;try{var Rn={get passive(){return Wn=!0},get once(){return Vn=Wn=!0}};kn&&(window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,!0))}catch(IB){}var wn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Vn){var a=r.once,g=r.capture,o=n;!Vn&&a&&(o=n.__once||function e(r){this.removeEventListener(t,e,g),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Wn?r:g)}e.addEventListener(t,n,r)};function Xn(t,n,r){var a=(0,e.useRef)(void 0!==t),g=i((0,e.useState)(n),2),o=g[0],l=g[1],s=void 0!==t,I=a.current;return a.current=s,!s&&I&&o!==n&&l(n),[s?t:o,(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],g=t.slice(1),o=null==r?void 0:r.apply(void 0,[a].concat(c(g)));return l(a),o}),[r])]}function Jn(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}function Yn(){return i((0,e.useReducer)((function(e){return!e}),!1),2)[1]}var xn=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Hn(t){var n=xn(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Nn=e.createContext(null);function Fn(){return(0,e.useState)(null)}var Kn=Object.prototype.hasOwnProperty;function Mn(e,t,n){var r,a=(0,y.Z)(e.keys());try{for(a.s();!(r=a.n()).done;)if(Dn(n=r.value,t))return n}catch(g){a.e(g)}finally{a.f()}}function Dn(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Dn(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var g,o=(0,y.Z)(e);try{for(o.s();!(g=o.n()).done;){if((a=r=g.value)&&"object"===typeof a&&!(a=Mn(t,a)))return!1;if(!t.has(a))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var i,l=(0,y.Z)(e);try{for(l.s();!(i=l.n()).done;){if((a=(r=i.value)[0])&&"object"===typeof a&&!(a=Mn(t,a)))return!1;if(!Dn(r[1],t.get(a)))return!1}}catch(s){l.e(s)}finally{l.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Kn.call(e,n)&&++r&&!Kn.call(t,n))return!1;if(!(n in t)||!Dn(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function En(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}var zn=function(t){var n=En();return[t[0],(0,e.useCallback)((function(e){if(n())return t[1](e)}),[n,t[1]])]},Tn=n(8702),Ln=n(9224),Un=n(1217),jn=n(5468),Qn=n(1668),_n=n(5934),On=n(545),Pn=n(9790),qn=(0,n(761).kZ)({defaultModifiers:[Qn.Z,On.Z,Ln.Z,Un.Z,_n.Z,jn.Z,Pn.Z,Tn.Z]}),$n=["enabled","placement","strategy","modifiers"];var er={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},tr={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,g=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===g&&"setAttribute"in a){var o=a.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},nr=[];var rr=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.enabled,g=void 0===a||a,o=r.placement,l=void 0===o?"bottom":o,s=r.strategy,I=void 0===s?"absolute":s,u=r.modifiers,C=void 0===u?nr:u,d=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,$n),A=(0,e.useRef)(C),h=(0,e.useRef)(),m=(0,e.useCallback)((function(){var e;null==(e=h.current)||e.update()}),[]),p=(0,e.useCallback)((function(){var e;null==(e=h.current)||e.forceUpdate()}),[]),b=i(zn((0,e.useState)({placement:l,update:m,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),2),f=b[0],y=b[1],Z=(0,e.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),y({state:t,styles:n,attributes:r,update:m,forceUpdate:p,placement:t.placement})}}}),[m,p,y]),v=(0,e.useMemo)((function(){return Dn(A.current,C)||(A.current=C),A.current}),[C]);return(0,e.useEffect)((function(){h.current&&g&&h.current.setOptions({placement:l,strategy:I,modifiers:[].concat(c(v),[Z,er])})}),[I,l,Z,g,v]),(0,e.useEffect)((function(){if(g&&null!=t&&null!=n)return h.current=qn(t,n,Object.assign({},d,{placement:l,strategy:I,modifiers:[].concat(c(v),[tr,Z])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,y((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[g,t,n]),f};function ar(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var gr=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};var or=function(e,t,n,r){return wn(e,t,n,r),function(){gr(e,t,n,r)}};function ir(e){return e&&e.ownerDocument||document}var lr=function(){};var sr=function(e){return e&&("current"in e?e.current:e)},cr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var Ir=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.disabled,g=r.clickTrigger,o=void 0===g?"click":g,i=(0,e.useRef)(!1),l=(0,e.useRef)(!1),s=(0,e.useCallback)((function(e){var n,r=sr(t);Mt()(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!r||!!((n=e).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(e)||!!ar(r,e.target)||l.current,l.current=!1}),[t]),c=Hn((function(e){var n=sr(t);n&&ar(n,e.target)&&(l.current=!0)})),I=Hn((function(e){i.current||n(e)}));(0,e.useEffect)((function(){var e,n;if(!a&&null!=t){var r=ir(sr(t)),g=r.defaultView||window,i=null!=(e=g.event)?e:null==(n=g.parent)?void 0:n.event,l=null;cr[o]&&(l=or(r,cr[o],c,!0));var u=or(r,o,s,!0),C=or(r,o,(function(e){e!==i?I(e):i=void 0})),d=[];return"ontouchstart"in r.documentElement&&(d=[].slice.call(r.body.children).map((function(e){return or(e,"mousemove",lr)}))),function(){null==l||l(),u(),C(),d.forEach((function(e){return e()}))}}}),[t,a,o,s,c,I])};function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Cr(e){var t,n,r,a,g,o=e.enabled,i=e.enableEvents,l=e.placement,s=e.flip,c=e.offset,I=e.fixed,u=e.containerPadding,C=e.arrowElement,d=e.popperConfig,A=void 0===d?{}:d,h=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(A.modifiers);return Object.assign({},A,{placement:l,enabled:o,strategy:I?"fixed":A.strategy,modifiers:ur(Object.assign({},h,{eventListeners:{enabled:i,options:null==(t=h.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},h.preventOverflow,{options:u?Object.assign({padding:u},null==(n=h.preventOverflow)?void 0:n.options):null==(r=h.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:c},null==(a=h.offset)?void 0:a.options)},arrow:Object.assign({},h.arrow,{enabled:!!C,options:Object.assign({},null==(g=h.arrow)?void 0:g.options,{element:C})}),flip:Object.assign({enabled:!!s},h.flip)}))})}var dr=["children"];var Ar=function(){};function hr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,e.useContext)(Nn),r=i(Fn(),2),a=r[0],g=r[1],o=(0,e.useRef)(!1),l=t.flip,s=t.offset,c=t.rootCloseEvent,I=t.fixed,u=void 0!==I&&I,C=t.placement,d=t.popperConfig,A=void 0===d?{}:d,h=t.enableEventListeners,m=void 0===h||h,p=t.usePopper,b=void 0===p?!!n:p,f=null==(null==n?void 0:n.show)?!!t.show:n.show;f&&!o.current&&(o.current=!0);var y=n||{},Z=y.placement,v=y.setMenu,G=y.menuElement,B=y.toggleElement,S=rr(B,G,Cr({placement:C||Z||"bottom-start",enabled:b,enableEvents:null==m?f:m,offset:s,flip:l,fixed:u,arrowElement:a,popperConfig:A})),k=Object.assign({ref:v||Ar,"aria-labelledby":null==B?void 0:B.id},S.attributes.popper,{style:S.styles.popper}),W={show:f,placement:Z,hasShown:o.current,toggle:null==n?void 0:n.toggle,popper:b?S:null,arrowProps:b?Object.assign({ref:g},S.attributes.arrow,{style:S.styles.arrow}):{}};return Ir(G,(function(e){null==n||n.toggle(!1,e)}),{clickTrigger:c,disabled:!f}),[k,W]}function mr(e){var t=e.children,n=i(hr(function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,dr)),2),r=n[0],a=n[1];return(0,it.jsx)(it.Fragment,{children:t(r,a)})}mr.displayName="DropdownMenu",mr.defaultProps={usePopper:!0};var pr=mr,br={prefix:String(Math.round(1e10*Math.random())),current:0},fr=e.createContext(br),yr=e.createContext(!1);var Zr=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),vr=new WeakMap;function Gr(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(fr),r=(0,e.useRef)(null);if(null===r.current&&!t){var a,g,o=null===(a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===a||null===(g=a.ReactCurrentOwner)||void 0===g?void 0:g.current;if(o){var i=vr.get(o);null==i?vr.set(o,{id:n.current,state:o.memoizedState}):o.memoizedState!==i.state&&(n.current=i.id,vr.delete(o))}r.current=++n.current}return r.current}var Br="function"===typeof e.useId?function(t){var n=e.useId(),r=i((0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore(Wr,Sr,kr):(0,e.useContext)(yr)),1)[0]?"react-aria":"react-aria".concat(br.prefix);return t||"".concat(r,"-").concat(n)}:function(t){var n=(0,e.useContext)(fr);n!==br||Zr||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var r=Gr(!!t),a="react-aria".concat(n.prefix);return t||"".concat(a,"-").concat(r)};function Sr(){return!1}function kr(){return!0}function Wr(e){return function(){}}var Vr=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Rr=function(){};function wr(){var t=Br(),n=(0,e.useContext)(Nn)||{},r=n.show,a=void 0!==r&&r,g=n.toggle,o=void 0===g?Rr:g,i=n.setToggle,l=n.menuElement,s=(0,e.useCallback)((function(e){o(!a,e)}),[a,o]),c={id:t,ref:i||Rr,onClick:s,"aria-expanded":!!a};return l&&Vr(l)&&(c["aria-haspopup"]=!0),[c,{show:a,toggle:o}]}function Xr(e){var t=e.children,n=i(wr(),2),r=n[0],a=n[1];return(0,it.jsx)(it.Fragment,{children:t(r,a)})}Xr.displayName="DropdownToggle";var Jr=Xr,Yr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},xr=e.createContext(null),Hr=e.createContext(null);Hr.displayName="NavContext";var Nr=Hr,Fr="data-rr-ui-";function Kr(e){return"".concat(Fr).concat(e)}var Mr=["eventKey","disabled","onClick","active","as"];function Dr(t){var n=t.key,r=t.href,a=t.active,g=t.disabled,o=t.onClick,i=(0,e.useContext)(xr),l=((0,e.useContext)(Nr)||{}).activeKey,s=Yr(n,r),c=null==a&&null!=n?Yr(l)===s:a,I=Hn((function(e){g||(null==o||o(e),i&&!e.isPropagationStopped()&&i(s,e))}));return[(0,et.Z)({onClick:I,"aria-disabled":g||void 0,"aria-selected":c},Kr("dropdown-item"),""),{isActive:c}]}var Er=e.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,a=e.onClick,g=e.active,o=e.as,l=void 0===o?yn:o,s=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Mr),c=i(Dr({key:n,href:s.href,disabled:r,onClick:a,active:g}),1)[0];return(0,it.jsx)(l,Object.assign({},s,{ref:t},c))}));Er.displayName="DropdownItem";var zr=Er,Tr=(0,e.createContext)(kn?window:void 0);Tr.Provider;function Lr(){return(0,e.useContext)(Tr)}function Ur(){var t=Yn(),n=(0,e.useRef)(null),r=(0,e.useCallback)((function(e){n.current=e,t()}),[t]);return[n,r]}function jr(t){var n=t.defaultShow,r=t.show,a=t.onSelect,g=t.onToggle,o=t.itemSelector,l=void 0===o?"* [".concat(Kr("dropdown-item"),"]"):o,s=t.focusFirstItemOnShow,c=t.placement,I=void 0===c?"bottom-start":c,u=t.children,C=Lr(),d=i(Xn(r,n,g),2),A=d[0],h=d[1],m=i(Ur(),2),p=m[0],b=m[1],f=p.current,y=i(Ur(),2),Z=y[0],v=y[1],G=Z.current,B=Jn(A),S=(0,e.useRef)(null),k=(0,e.useRef)(!1),W=(0,e.useContext)(xr),V=(0,e.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),R=Hn((function(e,t){null==a||a(e,t),V(!1,t,"select"),t.isPropagationStopped()||null==W||W(e,t)})),w=(0,e.useMemo)((function(){return{toggle:V,placement:I,show:A,menuElement:f,toggleElement:G,setMenu:b,setToggle:v}}),[V,I,A,f,G,b,v]);f&&B&&!A&&(k.current=f.contains(f.ownerDocument.activeElement));var X=Hn((function(){G&&G.focus&&G.focus()})),J=Hn((function(){var e=S.current,t=s;if(null==t&&(t=!(!p.current||!Vr(p.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Sn(p.current,l)[0];n&&n.focus&&n.focus()}}));(0,e.useEffect)((function(){A?J():k.current&&(k.current=!1,X())}),[A,k,X,J]),(0,e.useEffect)((function(){S.current=null}));var Y=function(e,t){if(!p.current)return null;var n=Sn(p.current,l),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],g=Hn(r);(0,e.useEffect)((function(){var e="function"===typeof t?t():t;return e.addEventListener(n,g,a),function(){return e.removeEventListener(n,g,a)}}),[t])}((0,e.useCallback)((function(){return C.document}),[C]),"keydown",(function(e){var t,n,r=e.key,a=e.target,g=null==(t=p.current)?void 0:t.contains(a),o=null==(n=Z.current)?void 0:n.contains(a);if((!/input|textarea/i.test(a.tagName)||!(" "===r||"Escape"!==r&&g||"Escape"===r&&"search"===a.type))&&(g||o)&&("Tab"!==r||p.current&&A)){S.current=e.type;var i={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var l=Y(a,-1);return l&&l.focus&&l.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),A){var s=Y(a,1);s&&s.focus&&s.focus()}else h(!0,i);return;case"Tab":wn(a.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=p.current)&&t.contains(e.target)||h(!1,i)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,i)}}})),(0,it.jsx)(xr.Provider,{value:R,children:(0,it.jsx)(Nn.Provider,{value:w,children:u})})}jr.displayName="Dropdown",jr.Menu=pr,jr.Toggle=Jr,jr.Item=zr;var Qr=jr;function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_r.apply(this,arguments)}n(2176);function Or(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Pr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function qr(t,n){return Object.keys(n).reduce((function(r,a){var g,o=r,i=o[Or(a)],l=o[a],s=rt(o,[Or(a),a].map(Pr)),c=n[a],I=function(t,n,r){var a=(0,e.useRef)(void 0!==t),g=(0,e.useState)(n),o=g[0],i=g[1],l=void 0!==t,s=a.current;return a.current=l,!l&&s&&o!==n&&i(n),[l?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r&&r.apply(void 0,[e].concat(n)),i(e)}),[r])]}(l,i,t[c]),u=I[0],C=I[1];return _r({},s,((g={})[a]=u,g[c]=C,g))}),t)}function $r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ea(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ta(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}$r.__suppressDeprecationWarning=!0,ea.__suppressDeprecationWarning=!0,ta.__suppressDeprecationWarning=!0;var na=e.createContext({});na.displayName="DropdownContext";var ra=na,aa=["className","bsPrefix","as","role"],ga=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"hr":a,o=e.role,i=void 0===o?"separator":o,l=at(e,aa);return r=It(r,"dropdown-divider"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r),role:i},l))}));ga.displayName="DropdownDivider";var oa=ga,ia=["className","bsPrefix","as","role"],la=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=e.role,i=void 0===o?"heading":o,l=at(e,ia);return r=It(r,"dropdown-header"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r),role:i},l))}));la.displayName="DropdownHeader";var sa=la;var ca="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ia="undefined"!==typeof document||ca?e.useLayoutEffect:e.useEffect;new WeakMap;var ua=["onKeyDown"];var Ca=e.forwardRef((function(e,t){var n,r=e.onKeyDown,a=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,ua),g=i(bn(Object.assign({tagName:"a"},a)),1)[0],o=Hn((function(e){g.onKeyDown(e),null==r||r(e)}));return(n=a.href)&&"#"!==n.trim()&&"button"!==a.role?(0,it.jsx)("a",Object.assign({ref:t},a,{onKeyDown:r})):(0,it.jsx)("a",Object.assign({ref:t},a,g,{onKeyDown:o}))}));Ca.displayName="Anchor";var da=Ca,Aa=["bsPrefix","className","eventKey","disabled","onClick","active","as"],ha=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.eventKey,g=e.disabled,o=void 0!==g&&g,l=e.onClick,s=e.active,c=e.as,I=void 0===c?da:c,u=at(e,Aa),C=It(n,"dropdown-item"),d=i(Dr({key:a,href:u.href,disabled:o,onClick:l,active:s}),2),A=d[0],h=d[1];return(0,it.jsx)(I,nt(nt(nt({},u),A),{},{ref:t,className:ot()(r,C,h.isActive&&"active",o&&"disabled")}))}));ha.displayName="DropdownItem";var ma=ha,pa=["className","bsPrefix","as"],ba=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"span":a,o=at(e,pa);return r=It(r,"dropdown-item-text"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));ba.displayName="DropdownItemText";var fa=ba,ya=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Za=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=ya(e),r=ya(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},va=e.createContext(null);va.displayName="InputGroupContext";var Ga=va,Ba=e.createContext(null);Ba.displayName="NavbarContext";var Sa=Ba;function ka(e,t){return e}var Wa=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function Va(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var Ra=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.align,o=t.rootCloseEvent,l=t.flip,s=void 0===l||l,c=t.show,I=t.renderOnMount,u=t.as,C=void 0===u?"div":u,d=t.popperConfig,A=t.variant,h=at(t,Wa),m=!1,p=(0,e.useContext)(Sa),b=It(r,"dropdown-menu"),f=(0,e.useContext)(ra),y=f.align,Z=f.drop,v=f.isRTL;g=g||y;var G=(0,e.useContext)(Ga),B=[];if(g)if("object"===typeof g){var S=Object.keys(g);if(S.length){var k=S[0],W=g[k];m="start"===W,B.push("".concat(b,"-").concat(k,"-").concat(W))}}else"end"===g&&(m=!0);var V=Va(m,Z,v),R=i(hr({flip:s,rootCloseEvent:o,show:c,usePopper:!p&&0===B.length,offset:[0,2],popperConfig:d,placement:V}),2),w=R[0],X=R[1],J=X.hasShown,Y=X.popper,x=X.show,H=X.toggle;if(w.ref=Za(ka(n),w.ref),Ia((function(){x&&(null==Y||Y.update())}),[x]),!J&&!I&&!G)return null;"string"!==typeof C&&(w.show=x,w.close=function(){return null==H?void 0:H(!1)},w.align=g);var N=h.style;return null!=Y&&Y.placement&&(N=nt(nt({},h.style),w.style),h["x-placement"]=Y.placement),(0,it.jsx)(C,nt(nt(nt(nt({},h),w),{},{style:N},(B.length||p)&&{"data-bs-popper":"static"}),{},{className:ot().apply(void 0,[a,b,x&&"show",m&&"".concat(b,"-end"),A&&"".concat(b,"-").concat(A)].concat(B))}))}));Ra.displayName="DropdownMenu";var wa=Ra,Xa=["bsPrefix","split","className","childBsPrefix","as"],Ja=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.split,g=t.className,o=t.childBsPrefix,l=t.as,s=void 0===l?Gn:l,c=at(t,Xa),I=It(r,"dropdown-toggle"),u=(0,e.useContext)(Nn);void 0!==o&&(c.bsPrefix=o);var C=i(wr(),1)[0];return C.ref=Za(C.ref,ka(n)),(0,it.jsx)(s,nt(nt({className:ot()(g,I,a&&"".concat(I,"-split"),(null==u?void 0:u.show)&&"show")},C),c))}));Ja.displayName="DropdownToggle";var Ya=Ja,xa=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Ha=e.forwardRef((function(t,n){var r=qr(t,{show:"onToggle"}),a=r.bsPrefix,g=r.drop,o=void 0===g?"down":g,i=r.show,l=r.className,s=r.align,c=void 0===s?"start":s,I=r.onSelect,u=r.onToggle,C=r.focusFirstItemOnShow,d=r.as,A=void 0===d?"div":d,h=(r.navbar,r.autoClose),m=void 0===h||h,p=at(r,xa),b=(0,e.useContext)(Ga),f=It(a,"dropdown"),y=dt(),Z=Hn((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===m?"click"===n:"inside"===m?"rootClose"!==n:"outside"!==m||"select"!==n)&&(null==u||u(e,t))})),v=Va("end"===c,o,y),G=(0,e.useMemo)((function(){return{align:c,drop:o,isRTL:y}}),[c,o,y]),B={down:f,"down-centered":"".concat(f,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,it.jsx)(ra.Provider,{value:G,children:(0,it.jsx)(Qr,{placement:v,show:i,onSelect:I,onToggle:Z,focusFirstItemOnShow:C,itemSelector:".".concat(f,"-item:not(.disabled):not(:disabled)"),children:b?p.children:(0,it.jsx)(A,nt(nt({},p),{},{ref:n,className:ot()(l,i&&"show",B[o])}))})})}));Ha.displayName="Dropdown";var Na=Object.assign(Ha,{Toggle:Ya,Menu:wa,Item:ma,ItemText:fa,Divider:oa,Header:sa}),Fa=vt().oneOf(["start","end"]),Ka=vt().oneOfType([Fa,vt().shape({sm:Fa}),vt().shape({md:Fa}),vt().shape({lg:Fa}),vt().shape({xl:Fa}),vt().shape({xxl:Fa}),vt().object]),Ma=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],Da={id:vt().string,href:vt().string,onClick:vt().func,title:vt().node.isRequired,disabled:vt().bool,align:Ka,menuRole:vt().string,renderMenuOnMount:vt().bool,rootCloseEvent:vt().string,menuVariant:vt().oneOf(["dark"]),flip:vt().bool,bsPrefix:vt().string,variant:vt().string,size:vt().string},Ea=e.forwardRef((function(e,t){var n=e.title,r=e.children,a=e.bsPrefix,g=e.rootCloseEvent,o=e.variant,i=e.size,l=e.menuRole,s=e.renderMenuOnMount,c=e.disabled,I=e.href,u=e.id,C=e.menuVariant,d=e.flip,A=at(e,Ma);return(0,it.jsxs)(Na,nt(nt({ref:t},A),{},{children:[(0,it.jsx)(Ya,{id:u,href:I,size:i,variant:o,disabled:c,childBsPrefix:a,children:n}),(0,it.jsx)(wa,{role:l,renderOnMount:s,rootCloseEvent:g,variant:C,flip:d,children:r})]}))}));Ea.displayName="DropdownButton",Ea.propTypes=Da;var za=Ea,Ta=["className","bsPrefix","as"],La=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"span":a,o=at(e,Ta);return r=It(r,"input-group-text"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));La.displayName="InputGroupText";var Ua=La,ja=["bsPrefix","size","hasValidation","className","as"],Qa=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.size,g=t.hasValidation,o=t.className,i=t.as,l=void 0===i?"div":i,s=at(t,ja);r=It(r,"input-group");var c=(0,e.useMemo)((function(){return{}}),[]);return(0,it.jsx)(Ga.Provider,{value:c,children:(0,it.jsx)(l,nt(nt({ref:n},s),{},{className:ot()(o,r,a&&"".concat(r,"-").concat(a),g&&"has-validation")}))})}));Qa.displayName="InputGroup";var _a=Object.assign(Qa,{Text:Ua,Radio:function(e){return(0,it.jsx)(Ua,{children:(0,it.jsx)(wt,nt({type:"radio"},e))})},Checkbox:function(e){return(0,it.jsx)(Ua,{children:(0,it.jsx)(wt,nt({type:"checkbox"},e))})}}),Oa=function(e,t,n){var r=1e3;switch(e){case 1:default:r=1e3;break;case 2:case 3:r=2e4;break;case 4:r=5e4}return(n.hours()-t.hours())*r+(n.minutes()-t.minutes())/60*r},Pa=function(e){return e?/^saved_money\.d.*/.test(e.pay_type)?{t:"saved_money.d",r:e.pay_type.replace("saved_money.d.",""),department:e.pay_type.replace("saved_money.d.","")}:/^card\..+/.test(e.pay_type)?{t:"card",r:e.pay_type.replace("card.",""),department:e.pay_type.replace("card.","")}:/^donation\.card\..+/.test(e.pay_type)?{t:"donation.card",r:e.pay_type.replace("donation.card.",""),department:e.pay_type.replace("donation.card.","")}:/^donation\.etc\..+/.test(e.pay_type)?{t:"donation.etc",r:e.pay_type.replace("donation.etc.",""),department:e.pay_type.replace("donation.etc.","")}:/^transfer\..+/.test(e.pay_type)?{t:"transfer",r:e.pay_type.replace("transfer.",""),department:e.pay_type.replace("transfer.","")}:{t:e.pay_type,r:e.comment?"(".concat(e.comment,")"):"",department:""}:{t:"",r:"",department:""}};function qa(e,t){return function(){return e.apply(t,arguments)}}var $a,eg=Object.prototype.toString,tg=Object.getPrototypeOf,ng=($a=Object.create(null),function(e){var t=eg.call(e);return $a[t]||($a[t]=t.slice(8,-1).toLowerCase())}),rg=function(e){return e=e.toLowerCase(),function(t){return ng(t)===e}},ag=function(e){return function(t){return typeof t===e}},gg=Array.isArray,og=ag("undefined");var ig=rg("ArrayBuffer");var lg=ag("string"),sg=ag("function"),cg=ag("number"),Ig=function(e){return null!==e&&"object"===typeof e},ug=function(e){if("object"!==ng(e))return!1;var t=tg(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Cg=rg("Date"),dg=rg("File"),Ag=rg("Blob"),hg=rg("FileList"),mg=rg("URLSearchParams");function pg(e,t){var n,r,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,g=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),gg(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,i=g?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function bg(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),a=r.length;a-- >0;)if(t===(n=r[a]).toLowerCase())return n;return null}var fg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yg=function(e){return!og(e)&&e!==fg};var Zg,vg=(Zg="undefined"!==typeof Uint8Array&&tg(Uint8Array),function(e){return Zg&&e instanceof Zg}),Gg=rg("HTMLFormElement"),Bg=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Sg=rg("RegExp"),kg=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};pg(n,(function(n,a){var g;!1!==(g=t(n,a,e))&&(r[a]=g||n)})),Object.defineProperties(e,r)},Wg="abcdefghijklmnopqrstuvwxyz",Vg="0123456789",Rg={DIGIT:Vg,ALPHA:Wg,ALPHA_DIGIT:Wg+Wg.toUpperCase()+Vg};var wg=rg("AsyncFunction"),Xg={isArray:gg,isArrayBuffer:ig,isBuffer:function(e){return null!==e&&!og(e)&&null!==e.constructor&&!og(e.constructor)&&sg(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||sg(e.append)&&("formdata"===(t=ng(e))||"object"===t&&sg(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ig(e.buffer)},isString:lg,isNumber:cg,isBoolean:function(e){return!0===e||!1===e},isObject:Ig,isPlainObject:ug,isUndefined:og,isDate:Cg,isFile:dg,isBlob:Ag,isRegExp:Sg,isFunction:sg,isStream:function(e){return Ig(e)&&sg(e.pipe)},isURLSearchParams:mg,isTypedArray:vg,isFileList:hg,forEach:pg,merge:function e(){for(var t=(yg(this)&&this||{}).caseless,n={},r=function(r,a){var g=t&&bg(n,a)||a;ug(n[g])&&ug(r)?n[g]=e(n[g],r):ug(r)?n[g]=e({},r):gg(r)?n[g]=r.slice():n[g]=r},a=0,g=arguments.length;a<g;a++)arguments[a]&&pg(arguments[a],r);return n},extend:function(e,t,n){return pg(t,(function(t,r){n&&sg(t)?e[r]=qa(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var a,g,o,i={};if(t=t||{},null==e)return t;do{for(g=(a=Object.getOwnPropertyNames(e)).length;g-- >0;)o=a[g],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&tg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ng,kindOfTest:rg,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(gg(e))return e;var t=e.length;if(!cg(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var a=n.value;t.call(e,a[0],a[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Gg,hasOwnProperty:Bg,hasOwnProp:Bg,reduceDescriptors:kg,freezeMethods:function(e){kg(e,(function(t,n){if(sg(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];sg(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return gg(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:bg,global:fg,isContextDefined:yg,ALPHABET:Rg,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rg.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&sg(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(Ig(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var a=gg(n)?[]:{};return pg(n,(function(t,n){var g=e(t,r+1);!og(g)&&(a[n]=g)})),t[r]=void 0,a}}return n}(e,0)},isAsyncFn:wg,isThenable:function(e){return e&&(Ig(e)||sg(e))&&sg(e.then)&&sg(e.catch)}};function Jg(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}Xg.inherits(Jg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xg.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Yg=Jg.prototype,xg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){xg[e]={value:e}})),Object.defineProperties(Jg,xg),Object.defineProperty(Yg,"isAxiosError",{value:!0}),Jg.from=function(e,t,n,r,a,g){var o=Object.create(Yg);return Xg.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Jg.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,g&&Object.assign(o,g),o};var Hg=Jg;function Ng(e){return Xg.isPlainObject(e)||Xg.isArray(e)}function Fg(e){return Xg.endsWith(e,"[]")?e.slice(0,-2):e}function Kg(e,t,n){return e?e.concat(t).map((function(e,t){return e=Fg(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Mg=Xg.toFlatObject(Xg,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Dg=function(e,t,n){if(!Xg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=Xg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Xg.isUndefined(t[e])}))).metaTokens,a=n.visitor||s,g=n.dots,o=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Xg.isSpecCompliantForm(t);if(!Xg.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Xg.isDate(e))return e.toISOString();if(!i&&Xg.isBlob(e))throw new Hg("Blob is not supported. Use a Buffer instead.");return Xg.isArrayBuffer(e)||Xg.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function s(e,n,a){var i=e;if(e&&!a&&"object"===typeof e)if(Xg.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Xg.isArray(e)&&function(e){return Xg.isArray(e)&&!e.some(Ng)}(e)||(Xg.isFileList(e)||Xg.endsWith(n,"[]"))&&(i=Xg.toArray(e)))return n=Fg(n),i.forEach((function(e,r){!Xg.isUndefined(e)&&null!==e&&t.append(!0===o?Kg([n],r,g):null===o?n:n+"[]",l(e))})),!1;return!!Ng(e)||(t.append(Kg(a,n,g),l(e)),!1)}var c=[],I=Object.assign(Mg,{defaultVisitor:s,convertValue:l,isVisitable:Ng});if(!Xg.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Xg.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Xg.forEach(n,(function(n,g){!0===(!(Xg.isUndefined(n)||null===n)&&a.call(t,n,Xg.isString(g)?g.trim():g,r,I))&&e(n,r?r.concat(g):[g])})),c.pop()}}(e),t};function Eg(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function zg(e,t){this._pairs=[],e&&Dg(e,this,t)}var Tg=zg.prototype;Tg.append=function(e,t){this._pairs.push([e,t])},Tg.toString=function(e){var t=e?function(t){return e.call(this,t,Eg)}:Eg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Lg=zg;function Ug(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jg(e,t,n){if(!t)return e;var r,a=n&&n.encode||Ug,g=n&&n.serialize;if(r=g?g(t,n):Xg.isURLSearchParams(t)?t.toString():new Lg(t,n).toString(a)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Qg=function(){function e(){(0,I.Z)(this,e),this.handlers=[]}return(0,u.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Xg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),_g=Qg,Og={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pg={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Lg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var qg=function(e){function t(e,n,r,a){var g=e[a++],o=Number.isFinite(+g),i=a>=e.length;return g=!g&&Xg.isArray(r)?r.length:g,i?(Xg.hasOwnProp(r,g)?r[g]=[r[g],n]:r[g]=n,!o):(r[g]&&Xg.isObject(r[g])||(r[g]=[]),t(e,n,r[g],a)&&Xg.isArray(r[g])&&(r[g]=function(e){var t,n,r={},a=Object.keys(e),g=a.length;for(t=0;t<g;t++)r[n=a[t]]=e[n];return r}(r[g])),!o)}if(Xg.isFormData(e)&&Xg.isFunction(e.entries)){var n={};return Xg.forEachEntry(e,(function(e,r){t(function(e){return Xg.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var $g={transitional:Og,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",a=r.indexOf("application/json")>-1,g=Xg.isObject(e);if(g&&Xg.isHTMLForm(e)&&(e=new FormData(e)),Xg.isFormData(e))return a&&a?JSON.stringify(qg(e)):e;if(Xg.isArrayBuffer(e)||Xg.isBuffer(e)||Xg.isStream(e)||Xg.isFile(e)||Xg.isBlob(e))return e;if(Xg.isArrayBufferView(e))return e.buffer;if(Xg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(g){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Dg(e,new Pg.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Pg.isNode&&Xg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Xg.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Dg(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return g||a?(t.setContentType("application/json",!1),function(e,t,n){if(Xg.isString(e))try{return(t||JSON.parse)(e),Xg.trim(e)}catch(IB){if("SyntaxError"!==IB.name)throw IB}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||$g.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Xg.isString(e)&&(n&&!this.responseType||r)){var a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(IB){if(a){if("SyntaxError"===IB.name)throw Hg.from(IB,Hg.ERR_BAD_RESPONSE,this,null,this.response);throw IB}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pg.classes.FormData,Blob:Pg.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xg.forEach(["delete","get","head","post","put","patch"],(function(e){$g.headers[e]={}}));var eo=$g,to=Xg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),no=Symbol("internals");function ro(e){return e&&String(e).trim().toLowerCase()}function ao(e){return!1===e||null==e?e:Xg.isArray(e)?e.map(ao):String(e)}function go(e,t,n,r,a){return Xg.isFunction(r)?r.call(this,t,n):(a&&(t=n),Xg.isString(t)?Xg.isString(r)?-1!==t.indexOf(r):Xg.isRegExp(r)?r.test(t):void 0:void 0)}var oo=function(e,t){function n(e){(0,I.Z)(this,n),e&&this.set(e)}return(0,u.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function a(e,t,n){var a=ro(t);if(!a)throw new Error("header name must be a non-empty string");var g=Xg.findKey(r,a);(!g||void 0===r[g]||!0===n||void 0===n&&!1!==r[g])&&(r[g||t]=ao(e))}var g=function(e,t){return Xg.forEach(e,(function(e,n){return a(e,n,t)}))};return Xg.isPlainObject(e)||e instanceof this.constructor?g(e,t):Xg.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?g(function(e){var t,n,r,a={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||a[t]&&to[t]||("set-cookie"===t?a[t]?a[t].push(n):a[t]=[n]:a[t]=a[t]?a[t]+", "+n:n)})),a}(e),t):null!=e&&a(t,e,n),this}},{key:"get",value:function(e,t){if(e=ro(e)){var n=Xg.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Xg.isFunction(t))return t.call(this,r,n);if(Xg.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=ro(e)){var n=Xg.findKey(this,e);return!(!n||void 0===this[n]||t&&!go(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function a(e){if(e=ro(e)){var a=Xg.findKey(n,e);!a||t&&!go(0,n[a],a,t)||(delete n[a],r=!0)}}return Xg.isArray(e)?e.forEach(a):a(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var a=t[n];e&&!go(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Xg.forEach(this,(function(r,a){var g=Xg.findKey(n,a);if(g)return t[g]=ao(r),void delete t[a];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(a):String(a).trim();o!==a&&delete t[a],t[o]=ao(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Xg.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Xg.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=i(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[no]=this[no]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=ro(e);t[r]||(!function(e,t){var n=Xg.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return Xg.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xg.reduceDescriptors(oo.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),Xg.freezeMethods(oo);var io=oo;function lo(e,t){var n=this||eo,r=t||n,a=io.from(r.headers),g=r.data;return Xg.forEach(e,(function(e){g=e.call(n,g,a.normalize(),t?t.status:void 0)})),a.normalize(),g}function so(e){return!(!e||!e.__CANCEL__)}function co(e,t,n){Hg.call(this,null==e?"canceled":e,Hg.ERR_CANCELED,t,n),this.name="CanceledError"}Xg.inherits(co,Hg,{__CANCEL__:!0});var Io=co;var uo=Pg.isStandardBrowserEnv?{write:function(e,t,n,r,a,g){var o=[];o.push(e+"="+encodeURIComponent(t)),Xg.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Xg.isString(r)&&o.push("path="+r),Xg.isString(a)&&o.push("domain="+a),!0===g&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Co(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ao=Pg.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Xg.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var ho=function(e,t){e=e||10;var n,r=new Array(e),a=new Array(e),g=0,o=0;return t=void 0!==t?t:1e3,function(i){var l=Date.now(),s=a[o];n||(n=l),r[g]=i,a[g]=l;for(var c=o,I=0;c!==g;)I+=r[c++],c%=e;if((g=(g+1)%e)===o&&(o=(o+1)%e),!(l-n<t)){var u=s&&l-s;return u?Math.round(1e3*I/u):void 0}}};function mo(e,t){var n=0,r=ho(50,250);return function(a){var g=a.loaded,o=a.lengthComputable?a.total:void 0,i=g-n,l=r(i);n=g;var s={loaded:g,total:o,progress:o?g/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&g<=o?(o-g)/l:void 0,event:a};s[t?"download":"upload"]=!0,e(s)}}var po="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,a,g=e.data,o=io.from(e.headers).normalize(),i=e.responseType;function l(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Xg.isFormData(g)&&(Pg.isStandardBrowserEnv||Pg.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?Xg.isString(a=o.getContentType())&&o.setContentType(a.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+I))}var u=Co(e.baseURL,e.url);function C(){if(s){var r=io.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Hg("Request failed with status code "+n.status,[Hg.ERR_BAD_REQUEST,Hg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:i&&"text"!==i&&"json"!==i?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),jg(u,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=C:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(C)},s.onabort=function(){s&&(n(new Hg("Request aborted",Hg.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Hg("Network Error",Hg.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Og;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Hg(t,r.clarifyTimeoutError?Hg.ETIMEDOUT:Hg.ECONNABORTED,e,s)),s=null},Pg.isStandardBrowserEnv){var d=Ao(u)&&e.xsrfCookieName&&uo.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}void 0===g&&o.setContentType(null),"setRequestHeader"in s&&Xg.forEach(o.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Xg.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),i&&"json"!==i&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",mo(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",mo(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new Io(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var A=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);A&&-1===Pg.protocols.indexOf(A)?n(new Hg("Unsupported protocol "+A+":",Hg.ERR_BAD_REQUEST,e)):s.send(g||null)}))},bo={http:null,xhr:po};Xg.forEach(bo,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(IB){}Object.defineProperty(e,"adapterName",{value:t})}}));var fo=function(e){return"- ".concat(e)},yo=function(e){return Xg.isFunction(e)||null===e||!1===e},Zo=function(e){for(var t,n,r=(e=Xg.isArray(e)?e:[e]).length,a={},g=0;g<r;g++){var o=void 0;if(n=t=e[g],!yo(t)&&void 0===(n=bo[(o=String(t)).toLowerCase()]))throw new Hg("Unknown adapter '".concat(o,"'"));if(n)break;a[o||"#"+g]=n}if(!n){var l=Object.entries(a).map((function(e){var t=i(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),s=r?l.length>1?"since :\n"+l.map(fo).join("\n"):" "+fo(l[0]):"as no adapter specified";throw new Hg("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function vo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Io(null,e)}function Go(e){return vo(e),e.headers=io.from(e.headers),e.data=lo.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zo(e.adapter||eo.adapter)(e).then((function(t){return vo(e),t.data=lo.call(e,e.transformResponse,t),t.headers=io.from(t.headers),t}),(function(t){return so(t)||(vo(e),t&&t.response&&(t.response.data=lo.call(e,e.transformResponse,t.response),t.response.headers=io.from(t.response.headers))),Promise.reject(t)}))}var Bo=function(e){return e instanceof io?e.toJSON():e};function So(e,t){t=t||{};var n={};function r(e,t,n){return Xg.isPlainObject(e)&&Xg.isPlainObject(t)?Xg.merge.call({caseless:n},e,t):Xg.isPlainObject(t)?Xg.merge({},t):Xg.isArray(t)?t.slice():t}function a(e,t,n){return Xg.isUndefined(t)?Xg.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function g(e,t){if(!Xg.isUndefined(t))return r(void 0,t)}function o(e,t){return Xg.isUndefined(t)?Xg.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,g){return g in t?r(n,a):g in e?r(void 0,n):void 0}var l={url:g,method:g,data:g,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:function(e,t){return a(Bo(e),Bo(t),!0)}};return Xg.forEach(Object.keys(Object.assign({},e,t)),(function(r){var g=l[r]||a,o=g(e[r],t[r],r);Xg.isUndefined(o)&&g!==i||(n[r]=o)})),n}var ko="1.6.0",Wo={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Wo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Vo={};Wo.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,g){if(!1===e)throw new Hg(r(a," has been removed"+(t?" in "+t:"")),Hg.ERR_DEPRECATED);return t&&!Vo[a]&&(Vo[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,g)}};var Ro={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Hg("options must be an object",Hg.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var g=r[a],o=t[g];if(o){var i=e[g],l=void 0===i||o(i,g,e);if(!0!==l)throw new Hg("option "+g+" must be "+l,Hg.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Hg("Unknown option "+g,Hg.ERR_BAD_OPTION)}},validators:Wo},wo=Ro.validators,Xo=function(){function e(t){(0,I.Z)(this,e),this.defaults=t,this.interceptors={request:new _g,response:new _g}}return(0,u.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=So(this.defaults,t),r=n.transitional,a=n.paramsSerializer,g=n.headers;void 0!==r&&Ro.assertOptions(r,{silentJSONParsing:wo.transitional(wo.boolean),forcedJSONParsing:wo.transitional(wo.boolean),clarifyTimeoutError:wo.transitional(wo.boolean)},!1),null!=a&&(Xg.isFunction(a)?t.paramsSerializer={serialize:a}:Ro.assertOptions(a,{encode:wo.function,serialize:wo.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=g&&Xg.merge(g.common,g[t.method]);g&&Xg.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete g[e]})),t.headers=io.concat(o,g);var i=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var s,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var I,u=0;if(!l){var C=[Go.bind(this),void 0];for(C.unshift.apply(C,i),C.push.apply(C,c),I=C.length,s=Promise.resolve(t);u<I;)s=s.then(C[u++],C[u++]);return s}I=i.length;var d=t;for(u=0;u<I;){var A=i[u++],h=i[u++];try{d=A(d)}catch(m){h.call(this,m);break}}try{s=Go.call(this,d)}catch(m){return Promise.reject(m)}for(u=0,I=c.length;u<I;)s=s.then(c[u++],c[u++]);return s}},{key:"getUri",value:function(e){return jg(Co((e=So(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Xg.forEach(["delete","get","head","options"],(function(e){Xo.prototype[e]=function(t,n){return this.request(So(n||{},{method:e,url:t,data:(n||{}).data}))}})),Xg.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(So(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Xo.prototype[e]=t(),Xo.prototype[e+"Form"]=t(!0)}));var Jo=Xo,Yo=function(){function e(t){if((0,I.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,a){r.reason||(r.reason=new Io(e,t,a),n(r.reason))}))}return(0,u.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),xo=Yo;var Ho={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ho).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];Ho[r]=n}));var No=Ho;var Fo=function e(t){var n=new Jo(t),r=qa(Jo.prototype.request,n);return Xg.extend(r,Jo.prototype,n,{allOwnKeys:!0}),Xg.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(So(t,n))},r}(eo);Fo.Axios=Jo,Fo.CanceledError=Io,Fo.CancelToken=xo,Fo.isCancel=so,Fo.VERSION=ko,Fo.toFormData=Dg,Fo.AxiosError=Hg,Fo.Cancel=Fo.CanceledError,Fo.all=function(e){return Promise.all(e)},Fo.spread=function(e){return function(t){return e.apply(null,t)}},Fo.isAxiosError=function(e){return Xg.isObject(e)&&!0===e.isAxiosError},Fo.mergeConfig=So,Fo.AxiosHeaders=io,Fo.formToJSON=function(e){return qg(Xg.isHTMLForm(e)?new FormData(e):e)},Fo.getAdapter=Zo,Fo.HttpStatusCode=No,Fo.default=Fo;var Ko=Fo;function Mo(){return Ko.get("/api/auth/otp/debug").then((function(e){return e.data.otp}))}var Do=function(e){return Ko.post("/api/auth/otp",{otp_code:e})},Eo={container:{background:"#F0F0F0",width:"35%",marginTop:50,borderRadius:"35px"}};var zo=function(){var t=Ae(),n=i((0,e.useState)(30),2),r=n[0],a=n[1],g=i((0,e.useState)({name:"\uad00\ub9ac",client:"admin"}),2),o=g[0],l=g[1],s=i((0,e.useState)(""),2),c=s[0],I=s[1],u=i((0,e.useState)(""),2),C=u[0],d=u[1];return(0,e.useEffect)((function(){var e,n=window.setTimeout(qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,Mo();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),0);return e=setTimeout((function n(r){"/admin/login"!==window.location.pathname||(r<=0?t("/",{replace:!0,state:{}}):(a(r-1),e=setTimeout(n,1e3,r-1)))}),1e3,r),function(){window.clearTimeout(n),window.clearTimeout(e)}}),[]),(0,it.jsx)("div",{children:(0,it.jsxs)(yt,{className:"d-flex flex-column justify-content-center align-items-center",style:Eo.container,children:[(0,it.jsx)("img",{src:$e,alt:"icon_main",style:{width:72,height:72,marginTop:150}}),(0,it.jsx)("h1",{children:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}),(0,it.jsx)("div",{className:"hr"}),(0,it.jsxs)(mn,{children:[(0,it.jsxs)(mn.Group,{mb:4,controlId:"formOTP",children:[(0,it.jsx)(mn.Label,{children:"\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,it.jsxs)(_a,{children:[(0,it.jsx)(za,{title:o.name,variant:"outline-secondary",id:"admin-login-input-client-name",children:(0,it.jsx)(Na.Item,{onClick:function(){return l({name:"\uad00\ub9ac",client:"admin"})},children:"\uad00\ub9ac"})}),(0,it.jsx)(mn.Control,{onChange:function(e){I(e.target.value)},variant:"outline-secondary",type:"number",placeholder:"OTP",value:c,pattern:"[0-9]*"})]}),(0,it.jsx)(mn.Text,{muted:!0,children:"\ubc1c\uae09\ubc1b\uc740 OTP \ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,it.jsx)("p",{className:"text-center text-danger",children:C})]}),(0,it.jsxs)(pt,{children:[(0,it.jsxs)(Gn,{variant:"secondary",size:"lg",onClick:function(){return t("/",{replace:!0,state:{}})},children:["(",r,"\ucd08 \ud6c4)\ud648\uc73c\ub85c"]}),(0,it.jsx)(Gn,{variant:"primary",size:"lg",onClick:function(){Do(c).then((function(e){t("/admin",{replace:!0,state:{}})})).catch((function(e){I(""),e&&e.response&&e.response.data&&e.response.data.message&&d(e.response.data.message)}))},children:"\ud655\uc778"})]}),(0,it.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 2023"})]})})},To=n(3513);function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return Ko.get("/api/logs",{params:{type:"auth",user_id:e}}).then((function(e){return e.data})).then((function(e){return e.logs}))}function Uo(e,t){return Ko.get("/api/logs",{params:{page:e,per_page:t}}).then((function(e){return e.data}))}var jo=[{name:"ID",selector:function(e){return e.id}},{name:"\uc774\ub984",selector:function(e){return e.username},hide:"md"},{name:"\ub098\uc774",selector:function(e){return e.age},hide:"md"},{name:"QR \uc778\uc99d",selector:function(e){return e.created.replace("T"," ")}}],Qo=function(t){var n=t.user_id,r=i((0,e.useState)(!0),2),a=r[0],g=r[1],o=i((0,e.useState)([]),2),l=o[0],s=o[1];return(0,e.useEffect)((function(){n?Lo(n).then((function(e){s(e),g(!1)})):Lo().then((function(e){s(e),g(!1)}))}),[n]),(0,it.jsx)(To.ZP,{columns:jo,data:l,title:"\uc778\uc99d \ud604\ud669",progressPending:a,pagination:!0})},_o=(n(3573),e.createContext(null)),Oo=["as","active","eventKey"];function Po(t){var n=t.key,r=t.onClick,a=t.active,g=t.id,o=t.role,i=t.disabled,l=(0,e.useContext)(xr),s=(0,e.useContext)(Nr),c=(0,e.useContext)(_o),I=a,u={role:o};if(s){o||"tablist"!==s.role||(u.role="tab");var C=s.getControllerId(null!=n?n:null),d=s.getControlledId(null!=n?n:null);u[Kr("event-key")]=n,u.id=C||g,!(I=null==a&&null!=n?s.activeKey===n:a)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(u["aria-controls"]=d)}return"tab"===u.role&&(u["aria-selected"]=I,I||(u.tabIndex=-1),i&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Hn((function(e){i||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[u,{isActive:I}]}var qo=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?yn:n,a=e.active,g=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Oo),l=i(Po(Object.assign({key:Yr(g,o.href),active:a},o)),2),s=l[0],c=l[1];return s[Kr("active")]=c.isActive,(0,it.jsx)(r,Object.assign({},o,s,{ref:t}))}));qo.displayName="NavItem";var $o=qo,ei=["as","onSelect","activeKey","role","onKeyDown"];var ti=function(){},ni=Kr("event-key"),ri=e.forwardRef((function(t,n){var r,a,g=t.as,o=void 0===g?"div":g,i=t.onSelect,l=t.activeKey,s=t.role,c=t.onKeyDown,I=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,ei),u=Yn(),C=(0,e.useRef)(!1),d=(0,e.useContext)(xr),A=(0,e.useContext)(_o);A&&(s=s||"tablist",l=A.activeKey,r=A.getControlledId,a=A.getControllerId);var h=(0,e.useRef)(null),m=function(e){var t=h.current;if(!t)return null;var n=Sn(t,"[".concat(ni,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var a=n.indexOf(r);if(-1===a)return null;var g=a+e;return g>=n.length&&(g=0),g<0&&(g=n.length-1),n[g]},p=function(e,t){null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,e.useEffect)((function(){if(h.current&&C.current){var e=h.current.querySelector("[".concat(ni,"][aria-selected=true]"));null==e||e.focus()}C.current=!1}));var b=Za(n,h);return(0,it.jsx)(xr.Provider,{value:p,children:(0,it.jsx)(Nr.Provider,{value:{role:s,activeKey:Yr(l),getControlledId:r||ti,getControllerId:a||ti},children:(0,it.jsx)(o,Object.assign({},I,{onKeyDown:function(e){if(null==c||c(e),A){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}if(t)e.preventDefault(),p(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),C.current=!0,u()}},ref:b,role:s}))})})}));ri.displayName="Nav";var ai=Object.assign(ri,{Item:$o}),gi=e.createContext(null);gi.displayName="CardHeaderContext";var oi=gi,ii=["className","bsPrefix","as"],li=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,ii);return r=It(r,"nav-item"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));li.displayName="NavItem";var si=li,ci=["bsPrefix","className","as","active","eventKey","disabled"],Ii=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,g=void 0===a?da:a,o=e.active,l=e.eventKey,s=e.disabled,c=void 0!==s&&s,I=at(e,ci);n=It(n,"nav-link");var u=i(Po(nt({key:Yr(l,I.href),active:o,disabled:c},I)),2),C=u[0],d=u[1];return(0,it.jsx)(g,nt(nt(nt({},I),C),{},{ref:t,disabled:c,className:ot()(r,n,c&&"disabled",d.isActive&&"active")}))}));Ii.displayName="NavLink";var ui=Ii,Ci=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],di=e.forwardRef((function(t,n){var r,a,g,o=qr(t,{activeKey:"onSelect"}),i=o.as,l=void 0===i?"div":i,s=o.bsPrefix,c=o.variant,I=o.fill,u=void 0!==I&&I,C=o.justify,d=void 0!==C&&C,A=o.navbar,h=o.navbarScroll,m=o.className,p=o.activeKey,b=at(o,Ci),f=It(s,"nav"),y=!1,Z=(0,e.useContext)(Sa),v=(0,e.useContext)(oi);return Z?(a=Z.bsPrefix,y=null==A||A):v&&(g=v.cardHeaderBsPrefix),(0,it.jsx)(ai,nt({as:l,ref:n,activeKey:p,className:ot()(m,(r={},(0,et.Z)(r,f,!y),(0,et.Z)(r,"".concat(a,"-nav"),y),(0,et.Z)(r,"".concat(a,"-nav-scroll"),y&&h),(0,et.Z)(r,"".concat(g,"-").concat(c),!!g),(0,et.Z)(r,"".concat(f,"-").concat(c),!!c),(0,et.Z)(r,"".concat(f,"-fill"),u),(0,et.Z)(r,"".concat(f,"-justified"),d),r))},b))}));di.displayName="Nav";var Ai=Object.assign(di,{Item:si,Link:ui}),hi=["bsPrefix","className","as"],mi=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,g=at(e,hi);n=It(n,"navbar-brand");var o=a||(g.href?"a":"span");return(0,it.jsx)(o,nt(nt({},g),{},{ref:t,className:ot()(r,n)}))}));mi.displayName="NavbarBrand";var pi=mi;function bi(e,t){return function(e){var t=ir(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var fi=/([A-Z])/g;var yi=/^ms-/;function Zi(e){return function(e){return e.replace(fi,"-$1").toLowerCase()}(e).replace(yi,"-ms-")}var vi=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Gi=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Zi(t))||bi(e).getPropertyValue(Zi(t));Object.keys(t).forEach((function(a){var g=t[a];g||0===g?!function(e){return!(!e||!vi.test(e))}(a)?n+=Zi(a)+": "+g+";":r+=a+"("+g+") ":e.style.removeProperty(Zi(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var Bi=n(4164),Si=!1,ki=e.createContext(null),Wi="unmounted",Vi="exited",Ri="entering",wi="entered",Xi="exiting",Ji=function(t){var n,r;function a(e,n){var r;r=t.call(this,e,n)||this;var a,g=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?g?(a=Vi,r.appearStatus=Ri):a=wi:a=e.unmountOnExit||e.mountOnEnter?Wi:Vi,r.state={status:a},r.nextCallback=null,r}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,(0,h.Z)(n,r),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Wi?{status:Vi}:null};var g=a.prototype;return g.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},g.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ri&&n!==wi&&(t=Ri):n!==Ri&&n!==wi||(t=Xi)}this.updateStatus(!1,t)},g.componentWillUnmount=function(){this.cancelNextCallback()},g.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},g.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ri){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Bi.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vi&&this.setState({status:Wi})},g.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[Bi.findDOMNode(this),r],g=a[0],o=a[1],i=this.getTimeouts(),l=r?i.appear:i.enter;!e&&!n||Si?this.safeSetState({status:wi},(function(){t.props.onEntered(g)})):(this.props.onEnter(g,o),this.safeSetState({status:Ri},(function(){t.props.onEntering(g,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:wi},(function(){t.props.onEntered(g,o)}))}))})))},g.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Bi.findDOMNode(this);t&&!Si?(this.props.onExit(r),this.safeSetState({status:Xi},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Vi},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Vi},(function(){e.props.onExited(r)}))},g.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},g.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},g.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},g.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Bi.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],g=a[0],o=a[1];this.props.addEndListener(g,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},g.render=function(){var t=this.state.status;if(t===Wi)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,rt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ki.Provider,{value:null},"function"===typeof r?r(t,a):e.cloneElement(e.Children.only(r),a))},a}(e.Component);function Yi(){}Ji.contextType=ki,Ji.propTypes={},Ji.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yi,onEntering:Yi,onEntered:Yi,onExit:Yi,onExiting:Yi,onExited:Yi},Ji.UNMOUNTED=Wi,Ji.EXITED=Vi,Ji.ENTERING=Ri,Ji.ENTERED=wi,Ji.EXITING=Xi;var xi=Ji;function Hi(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),g=or(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),g()}}function Ni(e,t,n,r){null==n&&(n=function(e){var t=Gi(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=Hi(e,n,r),g=or(e,"transitionend",t);return function(){a(),g()}}function Fi(e,t){var n=Gi(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ki(e,t){var n=Fi(e,"transitionDuration"),r=Fi(e,"transitionDelay"),a=Ni(e,(function(n){n.target===e&&(a(),t(n))}),n+r)}var Mi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)};function Di(e){e.offsetHeight}function Ei(e){return e&&"setState"in e?Bi.findDOMNode(e):null!=e?e:null}var zi,Ti=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Li=e.forwardRef((function(t,n){var r=t.onEnter,a=t.onEntering,g=t.onEntered,o=t.onExit,i=t.onExiting,l=t.onExited,s=t.addEndListener,c=t.children,I=t.childRef,u=at(t,Ti),C=(0,e.useRef)(null),d=Za(C,I),A=function(e){d(Ei(e))},h=function(e){return function(t){e&&C.current&&e(C.current,t)}},m=(0,e.useCallback)(h(r),[r]),p=(0,e.useCallback)(h(a),[a]),b=(0,e.useCallback)(h(g),[g]),f=(0,e.useCallback)(h(o),[o]),y=(0,e.useCallback)(h(i),[i]),Z=(0,e.useCallback)(h(l),[l]),v=(0,e.useCallback)(h(s),[s]);return(0,it.jsx)(xi,nt(nt({ref:n},u),{},{onEnter:m,onEntered:b,onEntering:p,onExit:f,onExited:Z,onExiting:y,addEndListener:v,nodeRef:C,children:"function"===typeof c?function(e,t){return c(e,nt(nt({},t),{},{ref:A}))}:e.cloneElement(c,{ref:A})}))})),Ui=Li,ji=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"],Qi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function _i(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Qi[e];return n+parseInt(Gi(t,r[0]),10)+parseInt(Gi(t,r[1]),10)}var Oi=(zi={},(0,et.Z)(zi,Vi,"collapse"),(0,et.Z)(zi,Xi,"collapsing"),(0,et.Z)(zi,Ri,"collapsing"),(0,et.Z)(zi,wi,"collapse show"),zi),Pi=e.forwardRef((function(t,n){var r=t.onEnter,a=t.onEntering,g=t.onEntered,o=t.onExit,i=t.onExiting,l=t.className,s=t.children,c=t.dimension,I=void 0===c?"height":c,u=t.in,C=void 0!==u&&u,d=t.timeout,A=void 0===d?300:d,h=t.mountOnEnter,m=void 0!==h&&h,p=t.unmountOnExit,b=void 0!==p&&p,f=t.appear,y=void 0!==f&&f,Z=t.getDimensionValue,v=void 0===Z?_i:Z,G=at(t,ji),B="function"===typeof I?I():I,S=(0,e.useMemo)((function(){return Mi((function(e){e.style[B]="0"}),r)}),[B,r]),k=(0,e.useMemo)((function(){return Mi((function(e){var t="scroll".concat(B[0].toUpperCase()).concat(B.slice(1));e.style[B]="".concat(e[t],"px")}),a)}),[B,a]),W=(0,e.useMemo)((function(){return Mi((function(e){e.style[B]=null}),g)}),[B,g]),V=(0,e.useMemo)((function(){return Mi((function(e){e.style[B]="".concat(v(B,e),"px"),Di(e)}),o)}),[o,v,B]),R=(0,e.useMemo)((function(){return Mi((function(e){e.style[B]=null}),i)}),[B,i]);return(0,it.jsx)(Ui,nt(nt({ref:n,addEndListener:Ki},G),{},{"aria-expanded":G.role?C:null,onEnter:S,onEntering:k,onEntered:W,onExit:V,onExiting:R,childRef:s.ref,in:C,timeout:A,mountOnEnter:m,unmountOnExit:b,appear:y,children:function(t,n){return e.cloneElement(s,nt(nt({},n),{},{className:ot()(l,s.props.className,Oi[t],"width"===B&&"collapse-horizontal")}))}}))})),qi=["children","bsPrefix"],$i=e.forwardRef((function(t,n){var r=t.children,a=t.bsPrefix,g=at(t,qi);a=It(a,"navbar-collapse");var o=(0,e.useContext)(Sa);return(0,it.jsx)(Pi,nt(nt({in:!(!o||!o.expanded)},g),{},{children:(0,it.jsx)("div",{ref:n,className:a,children:r})}))}));$i.displayName="NavbarCollapse";var el=$i,tl=["bsPrefix","className","children","label","as","onClick"],nl=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.children,o=t.label,i=void 0===o?"Toggle navigation":o,l=t.as,s=void 0===l?"button":l,c=t.onClick,I=at(t,tl);r=It(r,"navbar-toggler");var u=(0,e.useContext)(Sa)||{},C=u.onToggle,d=u.expanded,A=Hn((function(e){c&&c(e),C&&C()}));return"button"===s&&(I.type="button"),(0,it.jsx)(s,nt(nt({},I),{},{ref:n,onClick:A,"aria-label":i,className:ot()(a,r,!d&&"collapsed"),children:g||(0,it.jsx)("span",{className:"".concat(r,"-icon")})}))}));nl.displayName="NavbarToggle";var rl=nl,al=new WeakMap,gl=function(e,t){if(e&&t){var n=al.get(t)||new Map;al.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function ol(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=gl(t,n),a=i((0,e.useState)((function(){return!!r&&r.matches})),2),g=a[0],o=a[1];return Ia((function(){var e=gl(t,n);if(!e)return o(!1);var r=al.get(n),a=function(){o(e.matches)};return e.refCount++,e.addListener(a),a(),function(){e.removeListener(a),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),g}var il=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function a(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),a=t[r];return a="number"===typeof a?"".concat(a-.2,"px"):"calc(".concat(a," - 0.2px)"),"(max-width: ".concat(a,")")}return function(n,g,o){var l;return"object"===typeof n?(l=n,o=g,g=!0):(g=g||!0,l=(0,et.Z)({},n,g)),ol((0,e.useMemo)((function(){return Object.entries(l).reduce((function(e,n){var g=i(n,2),o=g[0],l=g[1];return"up"!==l&&!0!==l||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==l&&!0!==l||(e=r(e,a(o))),e}),"")}),[JSON.stringify(l)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ll=il;function sl(e){void 0===e&&(e=ir());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(IB){return e.body}}function cl(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}var Il=Kr("modal-open"),ul=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,a=void 0===r||r,g=t.isRTL,o=void 0!==g&&g;(0,I.Z)(this,e),this.handleContainerOverflow=a,this.isRTL=o,this.modals=[],this.ownerDocument=n}return(0,u.Z)(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=(0,et.Z)({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Gi(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Il,""),Gi(r,t)}},{key:"reset",value:function(){var e=this;c(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Il),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Cl=ul,dl=function(e,t){return kn?null==e?(t||ir()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};function Al(t,n){var r=Lr(),a=i((0,e.useState)((function(){return dl(t,null==r?void 0:r.document)})),2),g=a[0],o=a[1];if(!g){var l=dl(t);l&&o(l)}return(0,e.useEffect)((function(){n&&g&&n(g)}),[n,g]),(0,e.useEffect)((function(){var e=dl(t);e!==g&&o(e)}),[t,g]),g}var hl=function(t){var n=t.children,r=t.in,a=t.onExited,g=t.mountOnEnter,o=t.unmountOnExit,i=(0,e.useRef)(null),l=(0,e.useRef)(r),s=Hn(a);(0,e.useEffect)((function(){r?l.current=!0:s(i.current)}),[r,s]);var c=Za(i,n.ref),I=(0,e.cloneElement)(n,{ref:c});return r?I:o||!l.current&&g?null:I};function ml(t){var n=t.children,r=t.in,a=t.onExited,g=t.onEntered,o=t.transition,l=i((0,e.useState)(!r),2),s=l[0],c=l[1];r&&s&&c(!1);var I=function(t){var n=t.in,r=t.onTransition,a=(0,e.useRef)(null),g=(0,e.useRef)(!0),o=Hn(r);return Ia((function(){if(a.current){var e=!1;return o({in:n,element:a.current,initial:g.current,isStale:function(){return e}}),function(){e=!0}}}),[n,o]),Ia((function(){return g.current=!1,function(){g.current=!0}}),[]),a}({in:!!r,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==g||g(e.element,e.initial):(c(!0),null==a||a(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),u=Za(I,n.ref);return s&&!r?null:(0,e.cloneElement)(n,{ref:u})}function pl(e,t,n){return e?(0,it.jsx)(e,Object.assign({},n)):t?(0,it.jsx)(ml,Object.assign({},n,{transition:t})):(0,it.jsx)(hl,Object.assign({},n))}function bl(e){return"Escape"===e.code||27===e.keyCode}var fl,yl=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Zl(t){var n=Lr(),r=t||function(e){return fl||(fl=new Cl({ownerDocument:null==e?void 0:e.document})),fl}(n),a=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:function(){return r.add(a.current)},remove:function(){return r.remove(a.current)},isTopModal:function(){return r.isTopModal(a.current)},setDialogRef:(0,e.useCallback)((function(e){a.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){a.current.backdrop=e}),[])})}var vl=(0,e.forwardRef)((function(t,n){var r=t.show,a=void 0!==r&&r,g=t.role,o=void 0===g?"dialog":g,l=t.className,s=t.style,c=t.children,I=t.backdrop,u=void 0===I||I,C=t.keyboard,d=void 0===C||C,A=t.onBackdropClick,h=t.onEscapeKeyDown,m=t.transition,p=t.runTransition,b=t.backdropTransition,f=t.runBackdropTransition,y=t.autoFocus,Z=void 0===y||y,v=t.enforceFocus,G=void 0===v||v,B=t.restoreFocus,S=void 0===B||B,k=t.restoreFocusOptions,W=t.renderDialog,V=t.renderBackdrop,R=void 0===V?function(e){return(0,it.jsx)("div",Object.assign({},e))}:V,w=t.manager,X=t.container,J=t.onShow,Y=t.onHide,x=void 0===Y?function(){}:Y,H=t.onExit,N=t.onExited,F=t.onExiting,K=t.onEnter,M=t.onEntering,D=t.onEntered,E=function(e,t){if(null==e)return{};var n,r,a={},g=Object.keys(e);for(r=0;r<g.length;r++)n=g[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,yl),z=Lr(),T=Al(X),L=Zl(w),U=En(),j=Jn(a),Q=i((0,e.useState)(!a),2),_=Q[0],O=Q[1],P=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return L}),[L]),kn&&!j&&a&&(P.current=sl(null==z?void 0:z.document)),a&&_&&O(!1);var q=Hn((function(){if(L.add(),ae.current=or(document,"keydown",ne),re.current=or(document,"focus",(function(){return setTimeout(ee)}),!0),J&&J(),Z){var e,t,n=sl(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==z?void 0:z.document);L.dialog&&n&&!ar(L.dialog,n)&&(P.current=n,L.dialog.focus())}})),$=Hn((function(){var e;(L.remove(),null==ae.current||ae.current(),null==re.current||re.current(),S)&&(null==(e=P.current)||null==e.focus||e.focus(k),P.current=null)}));(0,e.useEffect)((function(){a&&T&&q()}),[a,T,q]),(0,e.useEffect)((function(){_&&$()}),[_,$]),cl((function(){$()}));var ee=Hn((function(){if(G&&U()&&L.isTopModal()){var e=sl(null==z?void 0:z.document);L.dialog&&e&&!ar(L.dialog,e)&&L.dialog.focus()}})),te=Hn((function(e){e.target===e.currentTarget&&(null==A||A(e),!0===u&&x())})),ne=Hn((function(e){d&&bl(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||x())})),re=(0,e.useRef)(),ae=(0,e.useRef)();if(!T)return null;var ge=Object.assign({role:o,ref:L.setDialogRef,"aria-modal":"dialog"===o||void 0},E,{style:s,className:l,tabIndex:-1}),oe=W?W(ge):(0,it.jsx)("div",Object.assign({},ge,{children:e.cloneElement(c,{role:"document"})}));oe=pl(m,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:H,onExiting:F,onExited:function(){O(!0),null==N||N.apply(void 0,arguments)},onEnter:K,onEntering:M,onEntered:D,children:oe});var ie=null;return u&&(ie=R({ref:L.setBackdropRef,onClick:te}),ie=pl(b,f,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ie})),(0,it.jsx)(it.Fragment,{children:Bi.createPortal((0,it.jsxs)(it.Fragment,{children:[ie,oe]}),T)})}));vl.displayName="Modal";var Gl,Bl=Object.assign(vl,{Manager:Cl}),Sl=["className","children","transitionClasses","onEnter"],kl=(Gl={},(0,et.Z)(Gl,Ri,"show"),(0,et.Z)(Gl,wi,"show"),Gl),Wl=e.forwardRef((function(t,n){var r=t.className,a=t.children,g=t.transitionClasses,o=void 0===g?{}:g,i=t.onEnter,l=nt({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},at(t,Sl)),s=(0,e.useCallback)((function(e,t){Di(e),null==i||i(e,t)}),[i]);return(0,it.jsx)(Ui,nt(nt({ref:n,addEndListener:Ki},l),{},{onEnter:s,childRef:a.ref,children:function(t,n){return e.cloneElement(a,nt(nt({},n),{},{className:ot()("fade",r,a.props.className,kl[t],o[t])}))}}))}));Wl.displayName="Fade";var Vl=Wl,Rl=["className","bsPrefix","as"],wl=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Rl);return r=It(r,"offcanvas-body"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));wl.displayName="OffcanvasBody";var Xl,Jl=wl,Yl=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],xl=(Xl={},(0,et.Z)(Xl,Ri,"show"),(0,et.Z)(Xl,wi,"show"),Xl),Hl=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.children,o=t.in,i=void 0!==o&&o,l=t.mountOnEnter,s=void 0!==l&&l,c=t.unmountOnExit,I=void 0!==c&&c,u=t.appear,C=void 0!==u&&u,d=at(t,Yl);return r=It(r,"offcanvas"),(0,it.jsx)(Ui,nt(nt({ref:n,addEndListener:Ki,in:i,mountOnEnter:s,unmountOnExit:I,appear:C},d),{},{childRef:g.ref,children:function(t,n){return e.cloneElement(g,nt(nt({},n),{},{className:ot()(a,g.props.className,(t===Ri||t===Xi)&&"".concat(r,"-toggling"),xl[t])}))}}))}));Hl.displayName="OffcanvasToggling";var Nl=Hl,Fl=e.createContext({onHide:function(){}}),Kl=["className","variant","aria-label"],Ml={"aria-label":vt().string,onClick:vt().func,variant:vt().oneOf(["white"])},Dl=e.forwardRef((function(e,t){var n=e.className,r=e.variant,a=e["aria-label"],g=void 0===a?"Close":a,o=at(e,Kl);return(0,it.jsx)("button",nt({ref:t,type:"button",className:ot()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":g},o))}));Dl.displayName="CloseButton",Dl.propTypes=Ml;var El=Dl,zl=["closeLabel","closeVariant","closeButton","onHide","children"],Tl=e.forwardRef((function(t,n){var r=t.closeLabel,a=void 0===r?"Close":r,g=t.closeVariant,o=t.closeButton,i=void 0!==o&&o,l=t.onHide,s=t.children,c=at(t,zl),I=(0,e.useContext)(Fl),u=Hn((function(){null==I||I.onHide(),null==l||l()}));return(0,it.jsxs)("div",nt(nt({ref:n},c),{},{children:[s,i&&(0,it.jsx)(El,{"aria-label":a,variant:g,onClick:u})]}))})),Ll=Tl,Ul=["bsPrefix","className","closeLabel","closeButton"],jl=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.closeLabel,g=void 0===a?"Close":a,o=e.closeButton,i=void 0!==o&&o,l=at(e,Ul);return n=It(n,"offcanvas-header"),(0,it.jsx)(Ll,nt(nt({ref:t},l),{},{className:ot()(r,n),closeLabel:g,closeButton:i}))}));jl.displayName="OffcanvasHeader";var Ql=jl,_l=function(t){return e.forwardRef((function(e,n){return(0,it.jsx)("div",nt(nt({},e),{},{ref:n,className:ot()(e.className,t)}))}))},Ol=["className","bsPrefix","as"],Pl=_l("h5"),ql=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?Pl:a,o=at(e,Ol);return r=It(r,"offcanvas-title"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));ql.displayName="OffcanvasTitle";var $l=ql;function es(){return es="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,A.Z)(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},es.apply(this,arguments)}function ts(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function ns(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var rs,as=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gs=".sticky-top",os=".navbar-toggler",is=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Gi(t,(0,et.Z)({},e,"".concat(parseFloat(Gi(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Gi(t,(0,et.Z)({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;es((0,A.Z)(n.prototype),"setContainerStyle",this).call(this,e);var r,a,g=this.getElement();if(a="modal-open",(r=g).classList?r.classList.add(a):ts(r,a)||("string"===typeof r.className?r.className=r.className+" "+a:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+a)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Sn(g,as).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Sn(g,gs).forEach((function(n){return t.adjustAndStore(i,n,-e.scrollBarWidth)})),Sn(g,os).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;es((0,A.Z)(n.prototype),"removeContainerStyle",this).call(this,e);var r,a,g=this.getElement();a="modal-open",(r=g).classList?r.classList.remove(a):"string"===typeof r.className?r.className=ns(r.className,a):r.setAttribute("class",ns(r.className&&r.className.baseVal||"",a));var o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Sn(g,as).forEach((function(e){return t.restore(o,e)})),Sn(g,gs).forEach((function(e){return t.restore(i,e)})),Sn(g,os).forEach((function(e){return t.restore(i,e)}))}}]),n}(Cl);function ls(e){return rs||(rs=new is(e)),rs}var ss=is,cs=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Is(e){return(0,it.jsx)(Nl,nt({},e))}function us(e){return(0,it.jsx)(Vl,nt({},e))}var Cs=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.children,o=t["aria-labelledby"],l=t.placement,s=void 0===l?"start":l,c=t.responsive,I=t.show,u=void 0!==I&&I,C=t.backdrop,d=void 0===C||C,A=t.keyboard,h=void 0===A||A,m=t.scroll,p=void 0!==m&&m,b=t.onEscapeKeyDown,f=t.onShow,y=t.onHide,Z=t.container,v=t.autoFocus,G=void 0===v||v,B=t.enforceFocus,S=void 0===B||B,k=t.restoreFocus,W=void 0===k||k,V=t.restoreFocusOptions,R=t.onEntered,w=t.onExit,X=t.onExiting,J=t.onEnter,Y=t.onEntering,x=t.onExited,H=t.backdropClassName,N=t.manager,F=t.renderStaticNode,K=void 0!==F&&F,M=at(t,cs),D=(0,e.useRef)();r=It(r,"offcanvas");var E=((0,e.useContext)(Sa)||{}).onToggle,z=i((0,e.useState)(!1),2),T=z[0],L=z[1],U=ll(c||"xs","up");(0,e.useEffect)((function(){L(c?u&&!U:u)}),[u,c,U]);var j=Hn((function(){null==E||E(),null==y||y()})),Q=(0,e.useMemo)((function(){return{onHide:j}}),[j]);var _=(0,e.useCallback)((function(e){return(0,it.jsx)("div",nt(nt({},e),{},{className:ot()("".concat(r,"-backdrop"),H)}))}),[H,r]),O=function(e){return(0,it.jsx)("div",nt(nt(nt({},e),M),{},{className:ot()(a,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:g}))};return(0,it.jsxs)(it.Fragment,{children:[!T&&(c||K)&&O({}),(0,it.jsx)(Fl.Provider,{value:Q,children:(0,it.jsx)(Bl,{show:T,ref:n,backdrop:d,container:Z,keyboard:h,autoFocus:G,enforceFocus:S&&!p,restoreFocus:W,restoreFocusOptions:V,onEscapeKeyDown:b,onShow:f,onHide:j,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==J||J.apply(void 0,[e].concat(n))},onEntering:Y,onEntered:R,onExit:w,onExiting:X,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x.apply(void 0,n)},manager:N||(p?(D.current||(D.current=new ss({handleContainerOverflow:!1})),D.current):ls()),transition:Is,backdropTransition:us,renderBackdrop:_,renderDialog:O})})]})}));Cs.displayName="Offcanvas";var ds=Object.assign(Cs,{Body:Jl,Header:Ql,Title:$l}),As=e.forwardRef((function(t,n){var r=(0,e.useContext)(Sa);return(0,it.jsx)(ds,nt(nt({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));As.displayName="NavbarOffcanvas";var hs=As,ms=["className","bsPrefix","as"],ps=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"span":a,o=at(e,ms);return r=It(r,"navbar-text"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));ps.displayName="NavbarText";var bs=ps,fs=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],ys=e.forwardRef((function(t,n){var r=qr(t,{expanded:"onToggle"}),a=r.bsPrefix,g=r.expand,o=void 0===g||g,i=r.variant,l=void 0===i?"light":i,s=r.bg,c=r.fixed,I=r.sticky,u=r.className,C=r.as,d=void 0===C?"nav":C,A=r.expanded,h=r.onToggle,m=r.onSelect,p=r.collapseOnSelect,b=void 0!==p&&p,f=at(r,fs),y=It(a,"navbar"),Z=(0,e.useCallback)((function(){null==m||m.apply(void 0,arguments),b&&A&&(null==h||h(!1))}),[m,b,A,h]);void 0===f.role&&"nav"!==d&&(f.role="navigation");var v="".concat(y,"-expand");"string"===typeof o&&(v="".concat(v,"-").concat(o));var G=(0,e.useMemo)((function(){return{onToggle:function(){return null==h?void 0:h(!A)},bsPrefix:y,expanded:!!A,expand:o}}),[y,A,o,h]);return(0,it.jsx)(Sa.Provider,{value:G,children:(0,it.jsx)(xr.Provider,{value:Z,children:(0,it.jsx)(d,nt(nt({ref:n},f),{},{className:ot()(u,y,o&&v,l&&"".concat(y,"-").concat(l),s&&"bg-".concat(s),I&&"sticky-".concat(I),c&&"fixed-".concat(c))}))})})}));ys.displayName="Navbar";var Zs=Object.assign(ys,{Brand:pi,Collapse:el,Offcanvas:hs,Text:bs,Toggle:rl}),vs=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Gs=e.forwardRef((function(e,t){var n=e.id,r=e.title,a=e.children,g=e.bsPrefix,o=e.className,i=e.rootCloseEvent,l=e.menuRole,s=e.disabled,c=e.active,I=e.renderMenuOnMount,u=e.menuVariant,C=at(e,vs),d=It(void 0,"nav-item");return(0,it.jsxs)(Na,nt(nt({ref:t},C),{},{className:ot()(o,d),children:[(0,it.jsx)(Na.Toggle,{id:n,eventKey:null,active:c,disabled:s,childBsPrefix:g,as:ui,children:r}),(0,it.jsx)(Na.Menu,{role:l,renderOnMount:I,rootCloseEvent:i,variant:u,children:a})]}))}));Gs.displayName="NavDropdown";var Bs,Ss=Object.assign(Gs,{Item:Na.Item,ItemText:Na.ItemText,Divider:Na.Divider,Header:Na.Header}),ks=function(e){return(0,it.jsx)(Zs,{bg:"light",expand:"lg",children:(0,it.jsxs)(yt,{children:[(0,it.jsx)(Zs.Brand,{as:Te,to:"/admin",children:"CMS"}),(0,it.jsx)(Zs.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,it.jsx)(Zs.Collapse,{id:"basic-navbar-nav",children:(0,it.jsxs)(Ai,{className:"me-auto",children:[(0,it.jsx)(Ai.Link,{as:Le,to:"/qr",children:"QR"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/users",children:"\ud68c\uc6d0"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/books",children:"\uc608\uc57d"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/lockers",children:"\uc0ac\ubb3c\ud568"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/configs",children:"\uc124\uc815"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/exports",children:"\ucd94\ucd9c"}),(0,it.jsxs)(Ss,{title:"\uae30\ub85d",id:"basic-nav-dropdown-log",children:[(0,it.jsx)(Ss.Item,{as:Le,to:"/logs",children:"\uc804\uccb4"}),(0,it.jsx)(Ss.Divider,{})]}),(0,it.jsx)(Ai.Link,{as:Le,to:"/blocker",children:"\ub0a0\uc9dc \ub9c9\uae30"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/commute",children:"\ucd9c\ud1f4\uadfc \uad00\ub9ac"}),(0,it.jsx)(Ai.Link,{as:Le,to:"/accounts",children:"\ub9c8\uac10 \uc815\uc0b0"})]})})]})})};function Ws(e){if((!Bs&&0!==Bs||e)&&kn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Bs=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Bs}var Vs=["className","bsPrefix","as"],Rs=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Vs);return r=It(r,"modal-body"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));Rs.displayName="ModalBody";var ws=Rs,Xs=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],Js=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.contentClassName,g=e.centered,o=e.size,i=e.fullscreen,l=e.children,s=e.scrollable,c=at(e,Xs);n=It(n,"modal");var I="".concat(n,"-dialog"),u="string"===typeof i?"".concat(n,"-fullscreen-").concat(i):"".concat(n,"-fullscreen");return(0,it.jsx)("div",nt(nt({},c),{},{ref:t,className:ot()(I,r,o&&"".concat(n,"-").concat(o),g&&"".concat(I,"-centered"),s&&"".concat(I,"-scrollable"),i&&u),children:(0,it.jsx)("div",{className:ot()("".concat(n,"-content"),a),children:l})}))}));Js.displayName="ModalDialog";var Ys=Js,xs=["className","bsPrefix","as"],Hs=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,xs);return r=It(r,"modal-footer"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));Hs.displayName="ModalFooter";var Ns=Hs,Fs=["bsPrefix","className","closeLabel","closeButton"],Ks=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.closeLabel,g=void 0===a?"Close":a,o=e.closeButton,i=void 0!==o&&o,l=at(e,Fs);return n=It(n,"modal-header"),(0,it.jsx)(Ll,nt(nt({ref:t},l),{},{className:ot()(r,n),closeLabel:g,closeButton:i}))}));Ks.displayName="ModalHeader";var Ms=Ks,Ds=["className","bsPrefix","as"],Es=_l("h4"),zs=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?Es:a,o=at(e,Ds);return r=It(r,"modal-title"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));zs.displayName="ModalTitle";var Ts=zs,Ls=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Us(e){return(0,it.jsx)(Vl,nt(nt({},e),{},{timeout:null}))}function js(e){return(0,it.jsx)(Vl,nt(nt({},e),{},{timeout:null}))}var Qs=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.style,o=t.dialogClassName,l=t.contentClassName,s=t.children,c=t.dialogAs,I=void 0===c?Ys:c,u=t["aria-labelledby"],C=t["aria-describedby"],d=t["aria-label"],A=t.show,h=void 0!==A&&A,m=t.animation,p=void 0===m||m,b=t.backdrop,f=void 0===b||b,y=t.keyboard,Z=void 0===y||y,v=t.onEscapeKeyDown,G=t.onShow,B=t.onHide,S=t.container,k=t.autoFocus,W=void 0===k||k,V=t.enforceFocus,R=void 0===V||V,w=t.restoreFocus,X=void 0===w||w,J=t.restoreFocusOptions,Y=t.onEntered,x=t.onExit,H=t.onExiting,N=t.onEnter,F=t.onEntering,K=t.onExited,M=t.backdropClassName,D=t.manager,E=at(t,Ls),z=i((0,e.useState)({}),2),T=z[0],L=z[1],U=i((0,e.useState)(!1),2),j=U[0],Q=U[1],_=(0,e.useRef)(!1),O=(0,e.useRef)(!1),P=(0,e.useRef)(null),q=i(Fn(),2),$=q[0],ee=q[1],te=Za(n,ee),ne=Hn(B),re=dt();r=It(r,"modal");var ae=(0,e.useMemo)((function(){return{onHide:ne}}),[ne]);function ge(){return D||ls({isRTL:re})}function oe(e){if(kn){var t=ge().getScrollbarWidth()>0,n=e.scrollHeight>ir(e).documentElement.clientHeight;L({paddingRight:t&&!n?Ws():void 0,paddingLeft:!t&&n?Ws():void 0})}}var ie=Hn((function(){$&&oe($.dialog)}));cl((function(){gr(window,"resize",ie),null==P.current||P.current()}));var le=function(){_.current=!0},se=function(e){_.current&&$&&e.target===$.dialog&&(O.current=!0),_.current=!1},ce=function(){Q(!0),P.current=Ni($.dialog,(function(){Q(!1)}))},Ie=function(e){"static"!==f?O.current||e.target!==e.currentTarget?O.current=!1:null==B||B():function(e){e.target===e.currentTarget&&ce()}(e)},ue=(0,e.useCallback)((function(e){return(0,it.jsx)("div",nt(nt({},e),{},{className:ot()("".concat(r,"-backdrop"),M,!p&&"show")}))}),[p,M,r]),Ce=nt(nt({},g),T);Ce.display="block";return(0,it.jsx)(Fl.Provider,{value:ae,children:(0,it.jsx)(Bl,{show:h,ref:te,backdrop:f,container:S,keyboard:!0,autoFocus:W,enforceFocus:R,restoreFocus:X,restoreFocusOptions:J,onEscapeKeyDown:function(e){Z?null==v||v(e):(e.preventDefault(),"static"===f&&ce())},onShow:G,onHide:B,onEnter:function(e,t){e&&oe(e),null==N||N(e,t)},onEntering:function(e,t){null==F||F(e,t),wn(window,"resize",ie)},onEntered:Y,onExit:function(e){null==P.current||P.current(),null==x||x(e)},onExiting:H,onExited:function(e){e&&(e.style.display=""),null==K||K(e),gr(window,"resize",ie)},manager:ge(),transition:p?Us:void 0,backdropTransition:p?js:void 0,renderBackdrop:ue,renderDialog:function(e){return(0,it.jsx)("div",nt(nt({role:"dialog"},e),{},{style:Ce,className:ot()(a,r,j&&"".concat(r,"-static"),!p&&"show"),onClick:f?Ie:void 0,onMouseUp:se,"aria-label":d,"aria-labelledby":u,"aria-describedby":C,children:(0,it.jsx)(I,nt(nt({},E),{},{onMouseDown:le,className:o,contentClassName:l,children:s}))}))}})})}));Qs.displayName="Modal";var _s=Object.assign(Qs,{Body:ws,Header:Ms,Title:Ts,Footer:Ns,Dialog:Ys,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Os=["bsPrefix","className","as"],Ps=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,g=void 0===a?"div":a,o=at(e,Os),i=It(n,"row"),l=ut(),s=Ct(),c="".concat(i,"-cols"),I=[];return l.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==s?"-".concat(e):"";null!=t&&I.push("".concat(c).concat(r,"-").concat(t))})),(0,it.jsx)(g,nt(nt({ref:t},o),{},{className:ot().apply(void 0,[r,i].concat(I))}))}));Ps.displayName="Row";var qs=Ps,$s=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],ec=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,a=e.disabled,g=e.eventKey,o=e.className,l=e.variant,s=e.action,c=e.as,I=at(e,$s);n=It(n,"list-group-item");var u=i(Po(nt({key:Yr(g,I.href),active:r},I)),2),C=u[0],d=u[1],A=Hn((function(e){if(a)return e.preventDefault(),void e.stopPropagation();C.onClick(e)}));a&&void 0===I.tabIndex&&(I.tabIndex=-1,I["aria-disabled"]=!0);var h=c||(s?I.href?"a":"button":"div");return(0,it.jsx)(h,nt(nt(nt({ref:t},I),C),{},{onClick:A,className:ot()(o,n,d.isActive&&"active",a&&"disabled",l&&"".concat(n,"-").concat(l),s&&"".concat(n,"-action"))}))}));ec.displayName="ListGroupItem";var tc=ec,nc=["className","bsPrefix","variant","horizontal","numbered","as"],rc=e.forwardRef((function(e,t){var n,r=qr(e,{activeKey:"onSelect"}),a=r.className,g=r.bsPrefix,o=r.variant,i=r.horizontal,l=r.numbered,s=r.as,c=void 0===s?"div":s,I=at(r,nc),u=It(g,"list-group");return i&&(n=!0===i?"horizontal":"horizontal-".concat(i)),(0,it.jsx)(ai,nt(nt({ref:t},I),{},{as:c,className:ot()(a,u,o&&"".concat(u,"-").concat(o),n&&"".concat(u,"-").concat(n),l&&"".concat(u,"-numbered"))}))}));rc.displayName="ListGroup";var ac=Object.assign(rc,{Item:tc});function gc(e){return Ko.get("/api/users",{headers:{Authorization:e}}).then((function(e){return e.data})).then((function(e){return e.users}))}function oc(e,t){return Ko.get("/api/users/".concat(t),{headers:{Authorization:e}}).then((function(e){return e.data})).then((function(e){return e.user}))}function ic(e,t,n,r,a,g,o,i){var l={username:t,birthday:n,gender:r,age:a,tel:g,grade:o,department:i};return"undefined"===typeof t&&delete l.username,"undefined"===typeof n&&delete l.birthday,"undefined"===typeof r&&delete l.gender,"undefined"===typeof a&&delete l.age,"undefined"===typeof g&&delete l.tel,"undefined"===typeof o&&delete l.grade,"undefined"===typeof i&&delete l.department,Ko.put("/api/users/".concat(e),l).then((function(e){return e.data})).then((function(e){return e.user}))}function lc(e){return Ko.post("/api/auth/qr",{qr_code:e}).then((function(e){return e.data}))}var sc=function(){};var cc=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.disabled,g=r.clickTrigger,o=n||sc;Ir(t,o,{disabled:a,clickTrigger:g});var i=Hn((function(e){bl(e)&&o(e)}));(0,e.useEffect)((function(){if(!a&&null!=t){var e=ir(sr(t)),n=(e.defaultView||window).event,r=or(e,"keyup",(function(e){e!==n?i(e):n=void 0}));return function(){r()}}}),[t,a,i])},Ic=e.forwardRef((function(t,n){var r=t.flip,a=t.offset,g=t.placement,o=t.containerPadding,l=t.popperConfig,s=void 0===l?{}:l,c=t.transition,I=t.runTransition,u=i(Fn(),2),C=u[0],d=u[1],A=i(Fn(),2),h=A[0],m=A[1],p=Za(d,n),b=Al(t.container),f=Al(t.target),y=i((0,e.useState)(!t.show),2),Z=y[0],v=y[1],G=rr(f,C,Cr({placement:g,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:a,arrowElement:h,popperConfig:s}));t.show&&Z&&v(!1);var B=t.show||!Z;if(cc(C,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!B)return null;var S=t.onExit,k=t.onExiting,W=t.onEnter,V=t.onEntering,R=t.onEntered,w=t.children(Object.assign({},G.attributes.popper,{style:G.styles.popper,ref:p}),{popper:G,placement:g,show:!!t.show,arrowProps:Object.assign({},G.attributes.arrow,{style:G.styles.arrow,ref:m})});return w=pl(c,I,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:w,onExit:S,onExiting:k,onExited:function(){v(!0),t.onExited&&t.onExited.apply(t,arguments)},onEnter:W,onEntering:V,onEntered:R}),b?Bi.createPortal(w,b):null}));Ic.displayName="Overlay";var uc=Ic,Cc=["className","bsPrefix","as"],dc=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Cc);return r=It(r,"popover-header"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));dc.displayName="PopoverHeader";var Ac=dc,hc=["className","bsPrefix","as"],mc=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,hc);return r=It(r,"popover-body"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));mc.displayName="PopoverBody";var pc=mc;e.Component;function bc(e,t){var n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}function fc(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}var yc=["bsPrefix","placement","className","style","children","body","arrowProps","hasDoneInitialMeasure","popper","show"],Zc=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,a=void 0===r?"right":r,g=e.className,o=e.style,l=e.children,s=e.body,c=e.arrowProps,I=e.hasDoneInitialMeasure,u=e.popper,C=e.show,d=at(e,yc),A=It(n,"popover"),h=dt(),m=i((null==a?void 0:a.split("-"))||[],1)[0],p=bc(m,h),b=o;return C&&!I&&(b=nt(nt({},o),fc(null==u?void 0:u.strategy))),(0,it.jsxs)("div",nt(nt({ref:t,role:"tooltip",style:b,"x-placement":m,className:ot()(g,A,m&&"bs-popover-".concat(p))},d),{},{children:[(0,it.jsx)("div",nt({className:"popover-arrow"},c)),s?(0,it.jsx)(pc,{children:l}):l]}))})),vc=Object.assign(Zc,{Header:Ac,Body:pc,POPPER_OFFSET:[0,8]}),Gc=["bsPrefix","placement","className","style","children","arrowProps","hasDoneInitialMeasure","popper","show"],Bc=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,a=void 0===r?"right":r,g=e.className,o=e.style,l=e.children,s=e.arrowProps,c=e.hasDoneInitialMeasure,I=e.popper,u=e.show,C=at(e,Gc);n=It(n,"tooltip");var d=dt(),A=i((null==a?void 0:a.split("-"))||[],1)[0],h=bc(A,d),m=o;return u&&!c&&(m=nt(nt({},o),fc(null==I?void 0:I.strategy))),(0,it.jsxs)("div",nt(nt({ref:t,style:m,role:"tooltip","x-placement":A,className:ot()(g,n,"bs-tooltip-".concat(h))},C),{},{children:[(0,it.jsx)("div",nt({className:"tooltip-arrow"},s)),(0,it.jsx)("div",{className:"".concat(n,"-inner"),children:l})]}))}));Bc.displayName="Tooltip";var Sc=Object.assign(Bc,{TOOLTIP_OFFSET:[0,6]});var kc=["children","transition","popperConfig","rootClose","placement","show"];var Wc=e.forwardRef((function(t,n){var r=t.children,a=t.transition,g=void 0===a?Vl:a,o=t.popperConfig,l=void 0===o?{}:o,s=t.rootClose,c=void 0!==s&&s,I=t.placement,u=void 0===I?"top":I,C=t.show,d=void 0!==C&&C,A=at(t,kc),h=(0,e.useRef)({}),m=i((0,e.useState)(null),2),p=m[0],b=m[1],f=function(t){var n=(0,e.useRef)(null),r=It(void 0,"popover"),a=It(void 0,"tooltip"),g=(0,e.useMemo)((function(){return{name:"offset",options:{offset:function(){if(t)return t;if(n.current){if(ts(n.current,r))return vc.POPPER_OFFSET;if(ts(n.current,a))return Sc.TOOLTIP_OFFSET}return[0,0]}}}}),[t,r,a]);return[n,[g]]}(A.offset),y=i(f,2),Z=y[0],v=y[1],G=Za(n,Z),B=!0===g?Vl:g||void 0,S=Hn((function(e){b(e),null==l||null==l.onFirstUpdate||l.onFirstUpdate(e)}));return Ia((function(){p&&A.target&&(null==h.current.scheduleUpdate||h.current.scheduleUpdate())}),[p,A.target]),(0,e.useEffect)((function(){d||b(null)}),[d]),(0,it.jsx)(uc,nt(nt({},A),{},{ref:G,popperConfig:nt(nt({},l),{},{modifiers:v.concat(l.modifiers||[]),onFirstUpdate:S}),transition:B,rootClose:c,placement:u,show:d,children:function(t,n){var a,o,i=n.arrowProps,s=n.popper,c=n.show;!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Ei(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(Ei(e))})}(t,i);var I=null==s?void 0:s.placement,u=Object.assign(h.current,{state:null==s?void 0:s.state,scheduleUpdate:null==s?void 0:s.update,placement:I,outOfBoundaries:(null==s||null==(a=s.state)||null==(o=a.modifiersData.hide)?void 0:o.isReferenceHidden)||!1,strategy:l.strategy}),C=!!p;return"function"===typeof r?r(nt(nt(nt({},t),{},{placement:I,show:c},!g&&c&&{className:"show"}),{},{popper:u,arrowProps:i,hasDoneInitialMeasure:C})):e.cloneElement(r,nt(nt({},t),{},{placement:I,arrowProps:i,popper:u,hasDoneInitialMeasure:C,className:ot()(r.props.className,!g&&c&&"show"),style:nt(nt({},r.props.style),t.style)}))}}))}));Wc.displayName="Overlay";var Vc=Wc,Rc=function(t){var n=t.filterText,r=t.onFilter,a=t.onClear,g=i((0,e.useState)(!1),2),o=g[0],l=g[1],s=(0,e.useRef)(null);return(0,it.jsx)(yt,{children:(0,it.jsxs)(qs,{children:[(0,it.jsxs)(pt,{md:{span:2,offset:8},children:[(0,it.jsx)(mn.Control,{ref:s,id:"search",type:"text",placeholder:"\uac80\uc0c9","aria-label":"Search Input",value:n,onChange:r,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}),(0,it.jsx)(Vc,{target:s.current,show:o,placement:"bottom",children:function(e){return(0,it.jsxs)(Sc,nt(nt({id:"overlay-example"},e),{},{children:["\uc22b\uc790\ub9cc \uc785\ub825: ID \uac80\uc0c9",(0,it.jsx)("br",{}),"\ubb38\uc790: \uc774\ub984\uc73c\ub85c \uac80\uc0c9",(0,it.jsx)("br",{}),'"\ub4f1\uae09:[',(0,it.jsx)("span",{className:"text-white",children:"\ud68c\uc6d0"}),"|",(0,it.jsx)("span",{className:"text-info",children:"\ud2b9\ubcc4\ud68c\uc6d0"}),"|",(0,it.jsx)("span",{className:"text-success",children:"\ub9e4\ub2c8\uc800"}),"|",(0,it.jsx)("span",{className:"text-danger",children:"\uad00\ub9ac\uc790"}),']": \ub4f1\uae09\uc73c\ub85c \uac80\uc0c9',(0,it.jsx)("br",{})]}))}})]}),(0,it.jsx)(pt,{md:{span:1,offset:12},children:(0,it.jsx)(Gn,{type:"button",onClick:a,children:"\ucd08\uae30\ud654"})})]})})},wc=["bsPrefix","bg","pill","text","className","as"],Xc=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,a=void 0===r?"primary":r,g=e.pill,o=void 0!==g&&g,i=e.text,l=e.className,s=e.as,c=void 0===s?"span":s,I=at(e,wc),u=It(n,"badge");return(0,it.jsx)(c,nt(nt({ref:t},I),{},{className:ot()(l,u,o&&"rounded-pill",i&&"text-".concat(i),a&&"bg-".concat(a))}))}));Xc.displayName="Badge";var Jc=Xc;function Yc(e){return Ko.get("/api/books",{params:{user_id:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}function xc(e){return Ko.get("/api/books",{params:{book_date:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}function Hc(e,t,n){var r={action:"change.room",room_type:t,room_no:n};return Ko.put("/api/books/".concat(e),r).then((function(e){return e.data})).then((function(e){return e.room}))}function Nc(e,t,n,r,a,g,o,i,l,s,c){var I={action:"immediately",chat_id:e,user_id:t,date:n,start_time:r,end_time:a,room_type:g,room_no:o,people_no:i,department:l,pay_type:s,etc_reason:c,purpose:arguments.length>11&&void 0!==arguments[11]?arguments[11]:"\ud604\uc7a5 \uc608\uc57d",obj:arguments.length>12&&void 0!==arguments[12]?arguments[12]:"\ud604\uc7a5 \uc0ac\uc6a9"};return Ko.post("/api/books",I).then((function(e){return e.data})).then((function(e){return e.book}))}function Fc(e,t,n){var r={user_id:e,reason:n};return Ko.delete("/api/books/".concat(t),{data:r}).then((function(e){return e.data}))}var Kc=[{name:"ID",selector:function(e){return e.book_id}},{name:"\uc7a5\uc18c",selector:function(e){return e.room.name}},{name:"\ub0a0\uc9dc",selector:function(e){return e.book_date}},{name:"\uc774\uc6a9\uc2dc\uac04",selector:function(e){return"".concat(e.start_time," - ").concat(e.end_time)}},{name:"\uc774\ub984",selector:function(e){return e.user.username},hide:"md"},{name:"\uc778\uc6d0",selector:function(e){return e.people_no},hide:"md"}],Mc=[{when:function(e){return e.status/100!==2},style:{backgroundColor:"rgb( 187, 143, 206 )"}},{when:function(e){return e.status/100===2&&e.status%100===0&&!e.pay},style:{backgroundColor:"rgba(46, 204, 113 , 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return e.status/100===2&&e.status%100===0&&e.pay},style:{backgroundColor:"rgba(174, 214, 241, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return e.status/100===2&&e.status%100===50},style:{backgroundColor:"rgba( 249, 231, 159 , 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],Dc=function(e){var t=e.data;return(0,it.jsxs)(yt,{children:[(0,it.jsxs)(qs,{children:[(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\ub0a0\uc9dc"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ub0a0\uc9dc",value:t.book_date,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc785\uc2e4 \uc2dc\uac04"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc785\uc2e4 \uc2dc\uac04",value:t.start_time,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\ud1f4\uc2e4 \uc2dc\uac04"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ud1f4\uc2e4 \uc2dc\uac04",value:t.end_time,readOnly:!0})]})]}),(0,it.jsxs)(qs,{children:[(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\ud68c\uc6d0 \uc774\ub984"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ud68c\uc6d0 \uc774\ub984",value:t.user.username,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc0ac\uc6a9\uc778\uc6d0"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc0ac\uc6a9\uc778\uc6d0",value:t.people_no,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc7a5\uc18c"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc7a5\uc18c",value:t.room.name,readOnly:!0})]})]}),(0,it.jsxs)(qs,{children:[(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc9c0\uc5ed"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc9c0\uc5ed",value:t.department,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\ubaa9\uc801"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ubaa9\uc801",value:t.purpose,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,md:4,children:[(0,it.jsx)(mn.Label,{children:"\uae30\ud0c0"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uae30\ud0c0",value:t.obj,readOnly:!0})]})]})]})},Ec=function(t){var n=t.user_id,r=t.department,a=i((0,e.useState)(!0),2),g=a[0],o=a[1],l=i((0,e.useState)([]),2),s=l[0],c=l[1];return(0,e.useEffect)((function(){n?Yc(n).then((function(e){c(e),o(!1)})):r?function(e){return Ko.get("/api/books",{params:{department:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}(r).then((function(e){c(e),o(!1)})):Ko.get("/api/books").then((function(e){return e.data})).then((function(e){return e.books})).then((function(e){c(e),o(!1)}))}),[n]),(0,it.jsx)(To.ZP,{columns:Kc,data:s,title:"\uc608\uc57d \ud604\ud669",expandableRows:!0,expandableRowsComponent:Dc,progressPending:g,conditionalRowStyles:Mc,pagination:!0})},zc=function(t){var n=t.data,r=i((0,e.useState)({}),2),a=r[0],g=r[1],o=i((0,e.useState)(-1),2),l=o[0],s=o[1],c=i((0,e.useState)(""),2),I=c[0],u=c[1],C=i((0,e.useState)(0),2),d=C[0],A=C[1],h=i((0,e.useState)(0),2),m=h[0],p=h[1],b=i((0,e.useState)(""),2),f=b[0],y=b[1],Z=i((0,e.useState)("010-xxxx-xxxx"),2),v=Z[0],G=Z[1],B=i((0,e.useState)(0),2),S=B[0],k=B[1],W=i((0,e.useState)(""),2),V=W[0],R=W[1],w=i((0,e.useState)("\uc800\uc7a5"),2),X=w[0],J=w[1],Y=function(e){switch(Number(e)){case 0:return"white";case 10:return"info";case 15:return"success";case 20:return"danger";default:return"secondary"}};return(0,e.useEffect)((function(){g({}),s(n.user_id),u(String(n.username)),A(n.age?Number(n.age):void 0),p(Number(n.gender)),y(String(n.birthday)),G(String(n.num?"010-xxxx-xxxx":"")),k(Number(n.grade)),R(String(n.department))}),[n]),(0,it.jsxs)(yt,{style:{background:"whitesmoke"},children:[(0,it.jsxs)(qs,{children:[(0,it.jsxs)(mn.Group,{as:pt,controlId:"formGridName",sm:4,children:[(0,it.jsx)(mn.Label,{children:"\uc774\ub984"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc774\ub984",value:I,onChange:function(e){return u(e.target.value)}})]}),(0,it.jsxs)(mn.Group,{as:pt,controlId:"formGridAge",sm:4,children:[(0,it.jsx)(mn.Label,{children:"\ub098\uc774"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ub098\uc774",value:n.age,readOnly:!0})]}),(0,it.jsxs)(mn.Group,{as:pt,controlId:"formGridGender",sm:2,children:[(0,it.jsx)("p",{children:"\uc131\ubcc4"}),(0,it.jsx)(mn.Check,{inline:!0,label:"\ub0a8",type:"radio",checked:1===m,onChange:function(e){return p(1)}}),(0,it.jsx)(mn.Check,{inline:!0,label:"\uc5ec",type:"radio",checked:2===m,onChange:function(e){return p(2)}})]}),(0,it.jsxs)(pt,{sm:2,children:[(0,it.jsx)("p",{children:"\ub4f1\uae09 \uc124\uc815"}),(0,it.jsxs)(za,{title:function(e){switch(Number(e)){case 0:return"\ud68c\uc6d0";case 10:return"\ud2b9\ubcc4\ud68c\uc6d0";case 15:return"\ub9e4\ub2c8\uc800";case 20:return"\uad00\ub9ac\uc790";default:return"\uc54c \uc218 \uc5c6\uc74c"}}(S),variant:Y(S),onSelect:function(e,t){return k(e)},children:[(0,it.jsxs)(Na.Item,{eventKey:0,children:[(0,it.jsx)(Jc,{bg:Y(0),children:" "}),"\ud68c\uc6d0"]}),(0,it.jsxs)(Na.Item,{eventKey:10,children:[(0,it.jsx)(Jc,{bg:Y(10),children:" "}),"\ud2b9\ubcc4\ud68c\uc6d0"]}),(0,it.jsxs)(Na.Item,{eventKey:15,children:[(0,it.jsx)(Jc,{bg:Y(15),children:" "}),"\ub9e4\ub2c8\uc800"]}),(0,it.jsxs)(Na.Item,{eventKey:20,children:[(0,it.jsx)(Jc,{bg:Y(20),children:" "}),"\uad00\ub9ac"]})]})]})]}),(0,it.jsxs)(qs,{children:[(0,it.jsxs)(mn.Group,{as:pt,controlId:"formGridBirth",md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc0dd\ub144\uc6d4\uc77c",value:f,onChange:function(e){/^\d*$/.test(e.target.value)&&e.target.value.length<=6&&y(e.target.value)}})]}),(0,it.jsxs)(mn.Group,{as:pt,controlId:"formGridNum",md:4,children:[(0,it.jsx)(mn.Label,{children:"\uc804\ud654\ubc88\ud638"}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc804\ud654\ubc88\ud638",value:v,className:n.valid?"bg-success text-white":"bg-danger text-white",onChange:function(e){return G(e.target.value)},readOnly:Boolean(a)})]}),(0,it.jsxs)(pt,{md:2,children:[(0,it.jsx)("span",{style:{display:"block"},children:"\uad8c\ud55c \uc778\uc99d"}),(0,it.jsx)(Gn,{variant:"info text-white",onClick:function(e){G(n.num),g(2)},children:"QR \uc778\uc99d"})]}),(0,it.jsxs)(pt,{md:2,children:[(0,it.jsx)("span",{style:{display:"block"},children:"\uc800\uc7a5"}),(0,it.jsx)(Gn,{variant:"\uc800\uc7a5"===X?"primary":"info text-white",onClick:function(e){ic(n.user_id,I!==n.username?I:void 0,f!==n.birthday?f:void 0,m!==n.gender?m:void 0,d!==n.age?d:void 0,v===n.num||"010-xxxx-xxxx"===v?void 0:v,S!==n.grade?S:void 0,V!==n.department?V:void 0).then((function(e){n.age=e.age,A(e.age),J("\uc800\uc7a5\ub428"),setTimeout((function(){return J("\uc800\uc7a5")}),3e3)})).catch((function(e){e.response&&alert(e.response.data.message)}))},children:X})]})]}),(0,it.jsx)("hr",{}),(0,it.jsx)(qs,{children:(0,it.jsx)(yt,{children:(0,it.jsx)(Ec,{user_id:l})})}),(0,it.jsx)("hr",{}),(0,it.jsx)(qs,{children:(0,it.jsx)(yt,{children:(0,it.jsx)(Qo,{user_id:l})})}),(0,it.jsx)("hr",{})]})},Tc=[{name:"ID",selector:function(e){return e.id?e.id:e.user_id},sortable:!0},{name:"\uc774\ub984",selector:function(e){return e.name?e.name:e.username},sortable:!0},{name:"\ub098\uc774",selector:function(e){return e.age},hide:"sm"},{name:"\ub4f1\uae09",selector:function(e){return e.grade?e.grade:""},format:function(e,t){return function(e){switch(e){case 0:return"\ud68c\uc6d0";case 10:return"\ud2b9\ubcc4\ud68c\uc6d0";case 15:return"\ub9e4\ub2c8\uc800";case 20:return"\uad00\ub9ac";default:return String(e)}}(e.grade)},sortable:!0,hide:"md"},{name:"\uac00\uc785\uc77c",selector:function(e){return e.created?e.created.replace("T"," "):null},hide:"md"}],Lc=[{when:function(e){return"number"!==typeof e.grade},style:{}},{when:function(e){return 15===e.grade},style:{backgroundColor:"rgba(63, 195, 128, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return 10===e.grade},style:{backgroundColor:"rgba(148, 174, 163, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return 20===e.grade},style:{backgroundColor:"rgba(86, 114, 93, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],Uc={rowsPerPageText:"\ud398\uc774\uc9c0 \ub2f9 \uac2f\uc218",rangeSeparatorText:"\uc911",selectAllRowsItem:!0,selectAllRowsItemText:"\uc804\uccb4"},jc=function(t){var n=t.show,r=t.onHide,a=t.users,g=i((0,e.useState)(""),2),o=g[0],l=g[1],s=i((0,e.useState)({}),2),c=s[0],I=s[1];(0,e.useEffect)((function(){I({})}),[n,I]);var u=function(e){"rejected"===e.status?console.error(e.reason):"fulfilled"===e.status?console.log(e.value):console.log(e)},C=a.map((function(e){var t="light";return"rejected"===c[e.user_id]&&(t="danger"),"fulfilled"===c[e.user_id]&&(t="success"),(0,it.jsxs)(ac.Item,{variant:t,children:[e.username," ","<"+e.num+">"]})}));return(0,it.jsxs)(_s,{show:n,size:"lg",fullscreen:"xl-down",onHide:r,children:[(0,it.jsx)(_s.Header,{closeButton:!0,children:(0,it.jsx)(_s.Title,{children:"\uba54\uc138\uc9c0 \uc804\uc1a1"})}),(0,it.jsx)(_s.Body,{children:(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:(0,it.jsx)(ac,{children:C})}),(0,it.jsxs)(pt,{children:[(0,it.jsx)(mn,{children:(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"ModalBulkMessage.Form.ControlText",children:[(0,it.jsx)(mn.Label,{children:"\ubb38\uc790 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9"}),(0,it.jsx)(mn.Control,{as:"textarea",rows:3,value:o,onChange:function(e){return l(e.target.value)}})]})}),"end"!==c.status&&(0,it.jsx)(Gn,{onClick:function(){Promise.allSettled(a.map((function(e){return function(e,t,n){return Ko.post("/api/auth/sms/message",{user_id:t,text:n},{headers:{Authorization:e}}).then((function(e){return{data:e.data,user_id:t,status:"fulfilled"}})).catch((function(e){return{user_id:t,status:"rejected",error:e}}))}(sessionStorage.getItem("Authorization"),e.user_id,o)}))).then((function(e){e.forEach(u);var t={status:"end"};e.forEach((function(e){"rejected"===e.status?t[e.reason.user_id]="rejected":"fulfilled"===e.status&&("fulfilled"===e.value.status?t[e.value.user_id]="fulfilled":t[e.value.user_id]="rejected")})),I(t)}))},children:"\uc804\uc1a1"}),"end"===c.status&&(0,it.jsx)(Gn,{variant:"secondary",onClick:r,children:"\uc885\ub8cc"})]})]})})]})},Qc=function(t){var n=i((0,e.useState)(!0),2),r=n[0],a=n[1],g=i((0,e.useState)([]),2),o=g[0],l=g[1],s=i((0,e.useState)(""),2),c=s[0],I=s[1],u=i((0,e.useState)(!1),2),C=u[0],d=u[1],A=i((0,e.useState)([]),2),h=A[0],m=A[1],p=i((0,e.useState)([]),2),b=p[0],f=p[1],y=i((0,e.useState)(!1),2),Z=y[0],v=y[1],G=i((0,e.useState)(!1),2),B=G[0],S=G[1];(0,e.useEffect)((function(){if(/^\d+$/.test(c))m(o.filter((function(e){return e.user_id&&String(e.user_id).toLowerCase().includes(c.toLowerCase())})));else if(/^\ub4f1\uae09:.+/.test(c))switch(c){case"\ub4f1\uae09:\ud68c\uc6d0":m(o.filter((function(e){return e.username&&0===Number(e.grade)})));break;case"\ub4f1\uae09:\ud2b9\ubcc4\ud68c\uc6d0":m(o.filter((function(e){return e.username&&10===Number(e.grade)})));break;case"\ub4f1\uae09:\ub9e4\ub2c8\uc800":m(o.filter((function(e){return e.username&&15===Number(e.grade)})));break;case"\ub4f1\uae09:\uad00\ub9ac\uc790":m(o.filter((function(e){return e.username&&20===Number(e.grade)})));break;default:m([])}else m(o.filter((function(e){return e.username&&e.username.toLowerCase().includes(c.toLowerCase())})))}),[c,o]);var k=(0,e.useMemo)((function(){return(0,it.jsx)(Rc,{filterText:c,onFilter:function(e){return I(e.target.value)},onClear:function(){c&&(d(!C),I(""))}})}),[c,C]),W=function(){gc(sessionStorage.getItem("Authorization")).then((function(e){l(e),a(!1)})).catch((function(e){e.response&&(4===parseInt("".concat(e.response.status/100))?alert("\uc751\ub2f5 \uc624\ub958: [400] ".concat(e.response.data.message)):5===parseInt("".concat(e.response.status/100))&&alert("\uc11c\ubc84 \uc624\ub958: [500] ".concat(e.response.data))),console.error(e)}))};(0,e.useEffect)((function(){W()}),[]);var V=(0,e.useCallback)((function(e){f(e.selectedRows)}),[]),R=(0,e.useMemo)((function(){var e=function(e){window.confirm("\uc9c4\uc9dc\ub85c \ub4f1\uae09\uc744 \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?:\r ".concat(b.map((function(e){return e.username})),"?"))&&(v(!Z),Promise.all(b.map((function(t){return ic(t.user_id,void 0,void 0,void 0,void 0,void 0,e,void 0)}))).then((function(e){console.log(e),W()})))};return(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(Gn,{onClick:function(){return S(!0)},variant:"secondary",icon:!0,children:"\uba54\uc138\uc9c0 \uc804\uc1a1"},"send-message"),(0,it.jsx)(Gn,{onClick:function(){return e(0)},variant:"outline-light text-dark",icon:!0,children:"\uc77c\ubc18 \ud68c\uc6d0 \ubd80\uc5ec"},"grade-normal"),(0,it.jsx)(Gn,{onClick:function(){return e(10)},variant:"info",icon:!0,children:"\ud2b9\ubcc4\ud68c\uc6d0 \ubd80\uc5ec"},"grade-vip"),(0,it.jsx)(Gn,{onClick:function(){return e(15)},variant:"success",icon:!0,children:"\ub9e4\ub2c8\uc800 \ubd80\uc5ec"},"grade-manager"),(0,it.jsx)(Gn,{onClick:function(){return e(20)},variant:"danger",icon:!0,children:"\uad00\ub9ac\uc790 \ubd80\uc5ec"},"grade-admin")]})}),[b,Z]);return(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(To.ZP,{title:"\uc0ac\uc6a9\uc790 \ubaa9\ub85d",columns:Tc,data:h,expandableRows:!0,expandableRowsComponent:zc,progressPending:r,defaultSortFieldId:1,conditionalRowStyles:Lc,persistTableHead:!0,pagination:!0,paginationResetDefaultPage:C,subHeader:!0,subHeaderComponent:k,paginationComponentOptions:Uc,contextActions:R,clearSelectedRows:Z,selectableRows:!0,onSelectedRowsChange:V}),(0,it.jsx)(jc,{show:B,onHide:function(){v(!Z),S(!1)},users:b})]})},_c=function(e){return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(yt,{children:(0,it.jsx)(Qc,{})})]})},Oc=n(1951),Pc=n(6222),qc=n.n(Pc),$c={from:7,to:24},eI={time_table_wrapper:"styles_time_table_wrapper__-9uJx",day:"styles_day__f-Bos",day_title:"styles_day_title__nwx1c",hour:"styles_hour__Si+sf",event:"styles_event__7fQMU",event_info:"styles_event_info__APBTG"},tI=n(2729),nI=n(8527),rI=n(4522);var aI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},gI="trunc";function oI(e,t,n){(0,rI.Z)(2,arguments);var r,a=function(e,t){return(0,rI.Z)(2,arguments),(0,nI.default)(e).getTime()-(0,nI.default)(t).getTime()}(e,t)/tI.yJ;return((r=null===n||void 0===n?void 0:n.roundingMethod)?aI[r]:aI[gI])(a)}var iI=n(2618),lI=n(7227),sI=n(871),cI=n.n(sI),II=n(4627),uI=n.n(II),CI=function(e){return uI()(e)},dI=function(e){var t=e.event,n=e.hoursInterval,r=e.rowHeight,a=(0,lI.default)((0,iI.default)(t.startTime,n.from),0),g=cI()(oI(t.startTime,a));return{height:cI()(oI(t.endTime,t.startTime))*r/60+"px",marginTop:g*r/60+r+"px"}},AI=["day","rowHeight"],hI=["hour"],mI=["events","hoursInterval","timeLabel","renderDayHeader","renderEvent","renderHour","headerAttributes","bodyAttributes"],pI=function(e){var t=e.day,n=e.rowHeight,r=at(e,AI);return(0,it.jsx)("div",nt(nt({},r),{},{style:nt(nt({},(null===r||void 0===r?void 0:r.style)||{}),{},{height:"".concat(n,"px")}),children:CI(t)}))},bI=function(t){var n=t.hour,r=at(t,hI);return(0,e.createElement)("div",nt(nt({},r),{},{key:n}),n)},fI=function(t){var n=t.event,r=t.defaultAttributes,a=t.classNames;return(0,e.createElement)("div",nt(nt({},r),{},{title:n.name,key:n.id}),(0,it.jsx)("span",{className:a.event_info,children:n.name}),(0,it.jsxs)("span",{className:a.event_info,children:[(0,Oc.default)(n.startTime,"HH:mm")," - ",(0,Oc.default)(n.endTime,"HH:mm")]}))},yI=function(t){var n=t.events,r=t.day,a=t.index,g=t.rowHeight,o=t.renderDayHeader,i=t.renderEvent,l=t.hoursInterval,s=t.headerAttributes,c=t.bodyAttributes;return(0,e.createElement)("div",nt(nt({},c),{},{className:"".concat(eI.day," ").concat(r," ").concat((null===c||void 0===c?void 0:c.className)||""),style:nt(nt({},(null===c||void 0===c?void 0:c.style)||{}),{},{backgroundSize:"1px ".concat(2*g,"px"),width:"calc((100% - 5rem) / ".concat(Object.keys(n).length,")")}),key:"".concat(r,"-").concat(a)}),o(nt(nt({day:r,rowHeight:g},s),{},{className:"".concat(eI.day_title," ").concat((null===s||void 0===s?void 0:s.className)||"")})),function(e){var t=e.events,n=e.day,r=e.hoursInterval,a=e.rowHeight,g=e.renderEvent;return(t[n]||[]).map((function(e){return g({event:e,defaultAttributes:{className:"".concat(eI.event," ").concat(eI.type),style:dI({event:e,hoursInterval:r,rowHeight:a})},classNames:eI})}))}({events:n,day:r,renderEvent:i,hoursInterval:l,rowHeight:g}))},ZI=function(e){var t=e.hoursInterval,n=e.rowHeight,r=e.renderHour;return qc()(t.from,t.to).map((function(e){return r({hour:"".concat(e,":00"),className:eI.hour,style:{height:"".concat(n,"px")}})}))},vI=function(t){var n=t.events,r=t.hoursInterval,a=void 0===r?$c:r,g=t.timeLabel,o=void 0===g?"Time":g,l=t.renderDayHeader,s=void 0===l?pI:l,c=t.renderEvent,I=void 0===c?fI:c,u=t.renderHour,C=void 0===u?bI:u,d=t.headerAttributes,A=t.bodyAttributes,h=at(t,mI),m=i(e.useState({width:window.innerWidth,height:window.innerHeight}),2),p=m[0],b=m[1],f=i(e.useState(0),2),y=f[0],Z=f[1],v=e.useRef(null),G=function(){b({width:window.innerWidth,height:window.innerHeight})};return e.useEffect((function(){window.addEventListener("resize",G,!1)}),[]),e.useEffect((function(){if(v.current){var e=v.current.clientHeight;Z(function(e,t,n){var r=t-e+1;return cI()(n/r,5)}(a.from,a.to,e))}}),[a,p]),(0,it.jsxs)("div",nt(nt({},h),{},{className:"".concat(eI.time_table_wrapper," ").concat(h.className),ref:v,children:[(0,it.jsxs)("div",{className:eI.day,children:[(0,it.jsx)("div",nt(nt({},d),{},{className:"".concat(eI.day_title," ").concat((null===d||void 0===d?void 0:d.className)||""),style:nt(nt({},(null===d||void 0===d?void 0:d.style)||{}),{},{height:"".concat(y,"px")}),children:o})),ZI({hoursInterval:a,renderHour:C,rowHeight:y})]}),Object.keys(n).map((function(e,t){return yI({events:n,day:e,index:t,rowHeight:y,renderDayHeader:s,renderEvent:I,hoursInterval:a,headerAttributes:d,bodyAttributes:A})}))]}))};vI.defaultProps={hoursInterval:$c,timeLabel:"Time",renderDayHeader:pI,renderHour:bI,renderEvent:fI};var GI=vI,BI=n(9513),SI=n.n(BI),kI=n(2426),WI=n.n(kI),VI=(n(8015),["bsPrefix","variant","animation","size","as","className"]),RI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,a=e.animation,g=void 0===a?"border":a,o=e.size,i=e.as,l=void 0===i?"div":i,s=e.className,c=at(e,VI);n=It(n,"spinner");var I="".concat(n,"-").concat(g);return(0,it.jsx)(l,nt(nt({ref:t},c),{},{className:ot()(s,I,o&&"".concat(I,"-").concat(o),r&&"text-".concat(r))}))}));RI.displayName="Spinner";var wI=RI,XI=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=void 0!==r&&r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputName",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\uc774\ub984"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc774\ub984",value:t,readOnly:!Boolean(n),onChange:n,disabled:a})})]})},JI=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)(_a.Text,{onClick:n,children:t})},YI=function(e){var t,n=e.title,r=void 0===n?"\uc2dc\uac04 \uc120\ud0dd":n,a=e.start_time,g=e.end_time,o=e.onSelect,i=e.disabled,l=void 0!==i&&i,s=[],c=Math.floor((60*a.hour()+a.minute())/30),I=Math.floor((60*g.hour()+g.minute())/30),u=function(){var e=(t-t%2)/2,n=t%2*30;s.push((0,it.jsxs)(Na.Item,{onClick:function(){return o(e,n)},children:[e,":",0===n?"00":"30"]}))};for(t=c;t<=I;t++)u();return(0,it.jsx)(za,{variant:"outline-secondary",title:r,id:"input-group-dropdown-RoomDropdown",disabled:l,children:s})},xI=function(e){var t=e.min_time,n=void 0===t?WI()("12:00","hh:mm"):t,r=e.max_time,a=void 0===r?WI()("22:00","hh:mm"):r,g=e.book_date,o=void 0===g?WI()().format("YYYY-MM-DD"):g,i=e.start_time,l=void 0===i?WI()("12:00","hh:mm"):i,s=e.end_time,c=void 0===s?WI()("12:00","hh:mm"):s,I=e.onSelectStartTime,u=void 0===I?function(e){e.hour,e.minute}:I,C=e.onSelectEndTime,d=void 0===C?function(e){e.hour,e.minute}:C,A=e.onSelectDate,h=void 0===A?null:A,m=e.disabled,p=void 0!==m&&m;return console.log(o),(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormDT",children:[(0,it.jsx)(mn.Label,{as:pt,sm:2,children:"\uc77c\uc2dc"}),(0,it.jsx)(pt,{sm:10,children:(0,it.jsxs)(_a,{children:[null===h||null===o?(0,it.jsx)(_a.Text,{children:o}):(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:WI()(o,"YYYY-MM-DD").toDate(),onChange:h,customInput:(0,it.jsx)(JI,{})}),(0,it.jsx)(_a.Text,{children:"::"}),(0,it.jsx)(YI,{title:l?l.format("HH:mm"):void 0,start_time:n,end_time:c||a,onSelect:u,disabled:p}),(0,it.jsx)(_a.Text,{children:"-"}),(0,it.jsx)(YI,{title:c?c.format("HH:mm"):void 0,start_time:l||n,end_time:a,onSelect:d,disabled:p})]})})]})};function HI(e){var t=e.date,n=e.start_time,r=void 0===n?void 0:n,a=e.end_time,g=void 0===a?void 0:a,o="object"===typeof t&&t||new Date;"string"!==typeof t&&(t="".concat(o.getFullYear(),"-").concat(o.getMonth()>8?"":"0").concat(o.getMonth()+1,"-").concat(o.getDate()>9?"":"0").concat(o.getDate()));var i={params:{date:t}};return r&&g&&(i.params.start_time="object"===typeof r?r.format("HH:mm:ssZ"):r,i.params.end_time="object"===typeof g?g.format("HH:mm:ssZ"):g),Ko.get("/api/rooms",i).then((function(e){return e.data})).then((function(e){return e.rooms}))}var NI=function(t){var n=t.room,r=t.setRoom,a=t.date,g=t.start_time,o=t.end_time,l=t.disabled,s=void 0!==l&&l,c=i((0,e.useState)([]),2),I=c[0],u=c[1];return(0,e.useEffect)((function(){HI({date:a,start_time:g,end_time:o}).then((function(e){u(e)}))}),[a,g,o]),(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormRoomDropdown",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc2a4\ud130\ub514\ub8f8"}),(0,it.jsx)(pt,{sm:"3",children:(0,it.jsx)(za,{variant:"outline-secondary",title:n?n.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"input-group-dropdown-RoomDropdown",disabled:s,children:I.filter((function(e){return 1===e.type})).filter((function(e){return e.available})).map((function(e){return(0,it.jsx)(Na.Item,{disabled:!e.available,onClick:function(){return r(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})}),(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc138\ubbf8\ub098/\uc2a4\ud130\ub514"}),(0,it.jsx)(pt,{sm:"3",children:(0,it.jsx)(za,{variant:"outline-secondary",title:n?n.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"input-group-dropdown-RoomDropdown",disabled:s,children:I.filter((function(e){return 2===e.type||3===e.type})).filter((function(e){return e.available})).map((function(e){return(0,it.jsx)(Na.Item,{disabled:!e.available,onClick:function(){return r(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})]})};function FI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,r=[];return Object.entries(e).forEach((function(e){var a=i(e,2),g=a[0],o=a[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var a=e!==n?"-".concat(e):"";r.push("".concat(g).concat(a,"-").concat(t))}})):r.push("".concat(g,"-").concat(o)))})),r}var KI=["as","bsPrefix","className","direction","gap"],MI=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.bsPrefix,g=e.className,o=e.direction,i=e.gap,l=at(e,KI);a=It(a,"horizontal"===o?"hstack":"vstack");var s=ut(),I=Ct();return(0,it.jsx)(r,nt(nt({},l),{},{ref:t,className:ot().apply(void 0,[g,a].concat(c(FI({gap:i},s,I))))}))}));MI.displayName="Stack";var DI=MI;var EI="\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694",zI={etc:{key:"etc",name:"\uae30\ud0c0",variation:[""],regex:/.+/}},TI=function(t){var n=t.region,r=void 0===n?EI:n,a=t.setRegion,g=t.regionTypePreset,o=void 0===g?"\uc9c0\uc5ed \ubd84\ub958":g,l=t.disabled,s=void 0!==l&&l,c=i((0,e.useState)([]),2),I=c[0],u=c[1],C=i((0,e.useState)([]),2),d=C[0],A=C[1],h=i((0,e.useState)(o),2),m=h[0],p=h[1];return(0,e.useEffect)((function(){Ko.get("/api/departments").then((function(e){return e.data})).then((function(e){return e.departments})).then((function(e){u(e),A(e.map((function(e){return(0,it.jsx)(Na.Item,{onClick:function(){return a(e.key)},children:e.name},e.key)})))}))}),[]),(0,it.jsxs)(DI,{direction:"horizontal",gap:3,children:[(0,it.jsx)(za,{variant:"outline-primary",title:zI[m]?zI[m].name:m,id:"input-group-dropdown-regionType",disabled:s,children:(0,it.jsx)(Na.Item,{onClick:function(){return e=zI.etc.key,void p(e);var e},children:zI.etc.name},zI.etc.name)}),(0,it.jsx)(za,{variant:"outline-secondary",title:function(e){if(e===EI)return e;if(null===e)return EI;if(I.length<=0)return e;var t=I.filter((function(t){return t.key===e}));return t&&t.length>0||(t=I.filter((function(t){return t.variation.includes(e)})))&&t.length>0?t[0].name:e}(r),id:"input-group-dropdown-PayTypeComponent",disabled:s||!zI[m],children:m===zI.etc.key?d:null})]})},LI=function(e){var t=e.department,n=e.setDepartment,r=e.disabled,a=void 0!==r&&r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputDepartment",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc9c0\uc5ed"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(TI,{region:t,setRegion:n,disabled:a})})]})},UI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jI=e.createContext&&e.createContext(UI),QI=function(){return QI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},QI.apply(this,arguments)},_I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function OI(t){return t&&t.map((function(t,n){return e.createElement(t.tag,QI({key:n},t.attr),OI(t.child))}))}function PI(t){return function(n){return e.createElement(qI,QI({attr:QI({},t.attr)},n),OI(t.child))}}function qI(t){var n=function(n){var r,a=t.attr,g=t.size,o=t.title,i=_I(t,["attr","size","title"]),l=g||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",QI({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,i,{className:r,style:QI(QI({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==jI?e.createElement(jI.Consumer,null,(function(e){return n(e)})):n(UI)}function $I(e){return PI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}}]})(e)}function eu(e){return PI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5H0V4zm11.5 1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-2zM0 11v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1H0z"}}]})(e)}function tu(e){return PI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595Zm7.173 3.876a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199Zm-8.999-.65a.5.5 0 1 1-.276-.96A7.613 7.613 0 0 1 7.964 3.5c.763 0 1.497.11 2.18.315a.5.5 0 1 1-.287.958A6.602 6.602 0 0 0 7.964 4.5c-.64 0-1.255.09-1.826.254ZM5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}}]})(e)}var nu=function(e){return/^card.*/.test(e)?"\uce74\ub4dc":/^transfer.*/.test(e)?"\uc774\uccb4":/^saved_money\.d.*/.test(e)?"\uc801\ub9bd\uae08":/^notion.*/.test(e)?"\ub178\uc158":/^etc.*/.test(e)?"\uae30\ud0c0":"\uc9c0\ubd88 \ubc29\ubc95\uc744 \uc120\ud0dd\ud558\uc138\uc694."},ru=function(e){var t=e.pay,n=e.paid,r=e.pay_type,a=e.region,g=e.etc_reason,o=e.setPayType,i=e.setRegion,l=e.setEtcReason,s=e.disabled,c=void 0!==s&&s,I=e.options,u=void 0===I?["card","transfer","saved_money.d","saved_money.p","etc"]:I,C=e.setPaid,d=void 0===C?null:C,A=(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc0ac\uc720",value:g,onChange:function(e){return l(e.target.value)}}),h=function(e){return e?/^saved_money\.d.*/.test(e.pay_type)?{t:"saved_money.d",r:e.pay_type.replace("saved_money.d.","")}:{t:e.pay_type,r:e.comment?"(".concat(e.comment,")"):""}:{t:"",r:""}}(t),m=h.t,p=h.r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormPay",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc9c0\ubd88"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsxs)(_a,{children:[(0,it.jsxs)(za,{variant:t&&"confirm"===t.status?"outline-success":"outline-secondary",title:t&&"confirm"===t.status?"\uc815\uc0b0\ub428-".concat(nu(m),":").concat(p):nu(r),id:"input-group-dropdown-PayTypeComponent",disabled:c,children:[u.includes("card")&&(0,it.jsxs)(Na.Item,{onClick:function(){return o("card")},children:[(0,it.jsx)(eu,{color:"#138d75"}),"\uce74\ub4dc"]},"card"),u.includes("transfer")&&(0,it.jsx)(Na.Item,{onClick:function(){return o("transfer")},children:"\uc774\uccb4"},"transfer"),u.includes("saved_money.d")&&(0,it.jsxs)(Na.Item,{onClick:function(){return o("saved_money.d")},children:[(0,it.jsx)(tu,{color:"#138d75"}),"\uc801\ub9bd\uae08"]},"saved_money.d"),(u.includes("etc")||u.includes("notion"))&&(0,it.jsx)(Na.Divider,{}),u.includes("notion")&&(0,it.jsx)(Na.Item,{onClick:function(){return o("notion")},children:"\ub178\uc158"},"notion"),u.includes("etc")&&(0,it.jsx)(Na.Item,{onClick:function(){return o("etc")},children:"\uae30\ud0c0"},"etc")]}),null,null,"saved_money.d"===r?(0,it.jsx)(TI,{region:a,setRegion:i,disabled:!0}):null,null,"etc"===r?A:null,d?(0,it.jsx)(mn.Control,{type:"number",value:"".concat(n),onChange:function(e){return d(Number(e.target.value))}}):(0,it.jsx)(mn.Control,{value:"".concat(n," \uc6d0"),readOnly:!0})]})})]})},au="waiting",gu="confirm",ou="reject";function iu(e,t,n,r,a,g,o){var i={user_id:e,book_id:t,cashier:n,pay_type:r,paid:a,comment:g,client_name:o};return Ko.post("/api/pays",i).then((function(e){return e.data})).then((function(e){return e.pay}))}function lu(e){return Ko.get("/api/pays/".concat(e)).then((function(e){return e.data}))}function su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return Ko.get("/api/pays",{params:{date:e,pay_type:t,user_id:n,book_id:r,cashier:a}}).then((function(e){return e.data.pays}))}var cu=function(e){switch(e){case"event":return"\ud589\uc0ac";case"seminar":return"\uc138\ubbf8\ub098";case"meeting":return"\ubaa8\uc784";case"personal":return"\uac1c\uc778\ubaa9\uc801";case null:return"\ubaa9\uc801\uc744 \uc120\ud0dd\ud558\uc2dc\uc624.";default:return"".concat(e)}},Iu=function(e){var t=e.purpose,n=e.setPurpose,r=e.disabled,a=void 0!==r&&r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputPurpose",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\ubaa9\uc801"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsxs)(za,{title:cu(t),disabled:a,children:[(0,it.jsx)(Na.Item,{onClick:function(){return n("event")},children:"\ud589\uc0ac"},-1),(0,it.jsx)(Na.Item,{onClick:function(){return n("seminar")},children:"\uc138\ubbf8\ub098"},-2),(0,it.jsx)(Na.Item,{onClick:function(){return n("meeting")},children:"\ubaa8\uc784"},-3),(0,it.jsx)(Na.Item,{onClick:function(){return n("personal")},children:"\uac1c\uc778\ubaa9\uc801"},-4)]})})]})},uu="guest.username.change",Cu="guest.book_date.change",du="guest.start_time.change",Au="guest.end_time.change",hu="guest.room.change",mu="guest.department.change",pu="guest.purpose.change",bu="guest.people_no.change",fu="guest.pay_type.change",yu="guest.pay_type_etc_reason.change",Zu={user:null,username:null,book_date:null,start_time:null,end_time:null,room:null,department:null,purpose:null,people_no:null},vu=function(e,t){return e({type:uu,username:t})},Gu=function(e,t){return e({type:Cu,book_date:t})},Bu=function(e,t){return e({type:hu,room:t})},Su=function(e,t){return e({type:mu,department:t})},ku=function(e,t){return e({type:bu,people_no:t})},Wu=function(e,t){return e({type:pu,purpose:t})},Vu=function(e,t){return e({type:fu,pay_type:t})},Ru=function(e,t){return e({type:yu,pay_type_etc_reason:t})},wu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uu:return nt(nt({},e),{},{username:t.username});case Cu:return nt(nt({},e),{},{book_date:t.book_date});case du:return nt(nt({},e),{},{start_time:t.start_time});case Au:return nt(nt({},e),{},{end_time:t.end_time});case hu:return nt(nt({},e),{},{room:t.room});case mu:return nt(nt({},e),{},{department:t.department});case pu:return nt(nt({},e),{},{purpose:t.purpose});case bu:return nt(nt({},e),{},{people_no:t.people_no});case fu:return nt(nt({},e),{},{pay_type:t.pay_type});case yu:return nt(nt({},e),{},{pay_type_etc_reason:t.pay_type_etc_reason});default:return e}},Xu=function(e){var t=e.title,n=e.rooms,r=e.room,a=e.setRoom,g=e.disabled;return(0,it.jsx)(pt,{sm:"3",children:(0,it.jsx)(za,{variant:"outline-secondary",title:r?r.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"InputRoom".concat(t),disabled:g,children:n.filter((function(e){return e.available})).map((function(e){return(0,it.jsx)(Na.Item,{disabled:!e.available,onClick:function(){return a(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})},Ju=function(t){var n=t.room,r=t.setRoom,a=t.date,g=t.start_time,o=t.end_time,l=t.disabled,s=void 0!==l&&l,c=i((0,e.useState)([]),2),I=c[0],u=c[1];return(0,e.useEffect)((function(){HI({date:a,start_time:g,end_time:o}).then((function(e){return u(e)}))}),[a,g,o]),(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormRoomDropdown",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,it.jsx)(Xu,{title:"\uc2a4\ud130\ub514\ub8f8",rooms:I.filter((function(e){return 1===e.type})),room:n,setRoom:r,disabled:s})]})},Yu=function(t){var n=t.book,r=t.disabled,a=t.pay_options,g=void 0===a?["card","saved_money.d"]:a,o=(Ce(),i((0,e.useState)(!1),2)),l=o[0],s=(o[1],i((0,e.useState)(0),2)),c=s[0],I=s[1],u=i((0,e.useState)(null),2),C=u[0],d=u[1],A=i((0,e.useState)(""),2),h=A[0],m=A[1],p=i((0,e.useState)(null),2),b=p[0],f=p[1];(0,e.useEffect)((function(){n.start_time&&n.end_time&&n.room&&I(Oa(n.room.type,n.start_time,n.end_time))}),[n]);var y=i((0,e.useState)(""),2),Z=y[0],v=y[1],G=function(){var e=qe(Oe().mark((function e(t){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hc(n.book_id,t.type,t.no);case 3:r=e.sent,v("".concat(r.name,"\uc73c\ub85c \ubcc0\uacbd \uc131\uacf5")),console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,it.jsxs)(yt,{fluid:!0,children:[(0,it.jsx)(XI,{value:n.user.username}),(0,it.jsx)(xI,{book_date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!0}),(0,it.jsx)(Ju,{room:n.room,setRoom:function(e){return G(e)},date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!1}),Z?(0,it.jsx)("span",{style:{color:"red"},children:Z}):null,(0,it.jsx)(Iu,{purpose:n.purpose,disabled:!0}),(0,it.jsx)(ru,{pay:n.pay,paid:c,pay_type:C,region:n.department,etc_reason:h,setPayType:d,setEtcReason:m,disabled:r,options:g}),(0,it.jsx)(qs,{children:(0,it.jsxs)(pt,{children:[b&&"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."!==b&&"\uc0ad\uc81c \uc131\uacf5"!==b&&(0,it.jsx)(wI,{animation:"border",variant:"primary"}),b&&b]})}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{sm:6,children:l&&(0,it.jsx)(wI,{animation:"border"})}),b||r?(0,it.jsx)(pt,{sm:2,children:""}):(0,it.jsx)(Gn,{as:pt,sm:2,onClick:function(){var e=n.user.user_id,t=n.book_id,r=C+(n.department?"."+n.department:"");if(!C)return alert("\uacb0\uc81c \uc218\ub2e8\uc744 \uc120\ud0dd\ud558\uc138\uc694");iu(e,t,"web.guard",r,c,h,"plin.kiosk.book").then((function(e){f("\uacb0\uc81c \ub300\uae30\uc911\uc785\ub2c8\ub2e4(".concat(Math.round(30)," \ucd08)"));setTimeout.apply(void 0,[function e(t,n){f("\uacb0\uc81c \ub300\uae30\uc911\uc785\ub2c8\ub2e4(".concat(Math.round(n/2)," \ucd08)")),n>0?lu(t).then((function(r){r.status.startsWith(gu)?f("\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):r.status.startsWith(ou)?f(r.comment?r.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."):r.status.startsWith(au)&&setTimeout.apply(void 0,[e,500].concat([t,n-1]))})).catch((function(e){return f(e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")})):f("\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")},500].concat([e.pay_id,60]))})).catch((function(e){return f(e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")}))},children:"\uacb0\uc81c"}),(0,it.jsx)(pt,{sm:2,children:""}),(0,it.jsx)(Gn,{variant:"danger",as:pt,sm:2,onClick:function(){(function(e,t){return Ko.delete("/api/books/".concat(e,"/admin"),{headers:{Authorization:t}}).then((function(e){return e.data}))})(n.book_id,sessionStorage.getItem("Authorization")).then((function(e){return f(e.message)}))},children:"\uc0ad\uc81c"})]})]})},xu=function(){return Ko.get("/api/config/book_room_weekdays_open").then((function(e){return e.data.book_room_weekdays_open}))},Hu=function(){return Ko.get("/api/config/book_room_weekdays_close").then((function(e){return e.data.book_room_weekdays_close}))},Nu=function(){return Ko.get("/api/config/book_room_weekend_open").then((function(e){return e.data.book_room_weekend_open}))},Fu=function(){return Ko.get("/api/config/book_room_weekend_close").then((function(e){return e.data.book_room_weekend_close}))},Ku=function(e){switch(e){case"r_01":return"\uc2a4\ud130\ub514\ub8f8 1\ubc88";case"r_02":return"2\ubc88";case"r_03":return"3\ubc88";case"r_04":return"4\ubc88";case"r_05":return"5\ubc88";case"r_06":return"6\ubc88";case"r_07":return"7\ubc88";case"r_08":return"8\ubc88";case"r_09":return"9\ubc88";case"r_10":return"10\ubc88";case"seminar":return"\uc138\ubbf8\ub098\ub8f8";case"studio":return"\uc2a4\ud29c\ub514\uc624";case"hall":return"\ud640";default:return e}},Mu=function(e){return Number(e.split(":")[0])+Number(Number(e.split(":")[1])/60)},Du=function(e,t,n){if(WI()(e.book_date).isSame(WI()(t),"day")){var r=new Date("".concat(e.book_date,"T").concat(e.start_time)),a=new Date("".concat(e.book_date,"T").concat(e.end_time)),g=WI()(r,"hh:mm:ss"),o=WI()(a,"hh:mm:ss"),i=g.format("HH:mm"),l=o.format("HH:mm");return{id:e.book_id,name:"[".concat(e.department,"] ").concat(e.user.username," \ud3ec\ud568 ").concat(e.people_no,"\uba85\n").concat(i," - ").concat(l),type:"book",startTime:r,endTime:a,data:e,onClick:function(){return n(nt(nt({},e),{},{start_time:g,end_time:o}))}}}},Eu=function(e,t,n){if(3===t.room.type)e.studio.push(n);else if(2===t.room.type)e.seminar.push(n);else if(4===t.room.type)e.hall.push(n);else if(1===t.room.type){var r=t.room.no;1===r?e.r_01.push(n):2===r?e.r_02.push(n):3===r?e.r_03.push(n):4===r?e.r_04.push(n):5===r?e.r_05.push(n):6===r?e.r_06.push(n):7===r?e.r_07.push(n):8===r?e.r_08.push(n):9===r?e.r_09.push(n):10===r&&e.r_10.push(n)}},zu=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},Tu=function(e){var t=e.hour,n=e.style,r=e.className;return(0,it.jsx)("div",{className:r,style:nt(nt({},n),{},{fontSize:"1.2rem"}),children:t},t)},Lu=function(e){var t=e.day,n=e.rowHeight,r=e.className;return(0,it.jsx)("div",{className:r,style:{height:n,fontSize:"1.4rem"},children:Ku(t)})},Uu=function(t){var n=t.event,r=t.defaultAttributes,a=t.classNames,g=n.data.department?"[".concat(n.data.department,"]"):"",o="".concat(n.data.user.username),i=WI()(n.startTime).format("HH:mm")+" - "+WI()(n.endTime).format("HH:mm");return(0,e.createElement)("div",nt(nt({},r),{},{style:nt(nt({},r.style),{},{background:"#2b463c",color:n.data.pay&&"confirm"===n.data.pay.status?"#9ba9b4":"#cbe541",border:"solid",fontSize:"1.2rem"}),title:n.name,key:n.id,onClick:n.onClick}),(0,it.jsx)("span",{className:a.event_info,children:g}),(0,it.jsx)("span",{className:a.event_info,children:o}),(0,it.jsx)("span",{className:a.event_info,children:i}))},ju=function(t){var n=Ae(),r=i((0,e.useState)({}),2),a=r[0],g=r[1],o=i((0,e.useState)({}),2),l=o[0],s=o[1],c=i((0,e.useState)(Date.now()),2),I=c[0],u=c[1],C=i((0,e.useState)({from:9,to:22}),2),d=C[0],A=C[1],h=i((0,e.useState)(!1),2),m=h[0],p=h[1],b=i((0,e.useState)({}),2),f=b[0],y=b[1],Z=i((0,e.useState)([]),2),v=Z[0],G=Z[1],B=i((0,e.useState)(!1),2),S=B[0],k=B[1],W=i((0,e.useState)(""),2),V=W[0],R=W[1],w=i((0,e.useState)(),2),X=w[0],J=w[1];(0,e.useEffect)((function(){gc(sessionStorage.getItem("Authorization")).then((function(e){return G(e)})),oc(sessionStorage.getItem("Authorization"),1).then((function(e){return g(e)}))}),[]),(0,e.useEffect)((function(){try{J(v.find((function(e){return V===e.username})))}catch(IB){console.log(IB)}}),[V,v]),(0,e.useEffect)((function(){qe(Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(WI()(I).isoWeekday()>=6)){e.next=14;break}return e.t0=Mu,e.next=5,Nu();case 5:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.t2=Mu,e.next=10,Fu();case 10:e.t3=e.sent,n=(0,e.t2)(e.t3),e.next=24;break;case 14:return e.t4=Mu,e.next=17,xu();case 17:return e.t5=e.sent,t=(0,e.t4)(e.t5),e.t6=Mu,e.next=22,Hu();case 22:e.t7=e.sent,n=(0,e.t6)(e.t7);case 24:A({from:t,to:n}),e.next=30;break;case 27:e.prev=27,e.t8=e.catch(0),console.log(e.t8);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))()}),[I]);var Y=function(){var e=qe(Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};e.forEach((function(e,n){var r=Du(e,I,(function(e){y(e),p(!0)}));if(3===e.room.type)t.studio.push(r);else if(2===e.room.type)t.seminar.push(r);else if(4===e.room.type)t.hall.push(r);else if(1===e.room.type){var a=e.room.no;1===a?t.r_01.push(r):2===a?t.r_02.push(r):3===a?t.r_03.push(r):4===a?t.r_04.push(r):5===a?t.r_05.push(r):6===a?t.r_06.push(r):7===a?t.r_07.push(r):8===a?t.r_08.push(r):9===a?t.r_09.push(r):10===a&&t.r_10.push(r)}})),0===t.studio.length&&delete t.studio,s(t)},e.next=3,xc(WI()(I).format("YYYY-MM-DD"));case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){m||Y()}),[I,m]);return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(yt,{children:(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{sm:9,children:(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:I,onChange:function(e){return u(e)},customInput:(0,it.jsx)(zu,{})})}),(0,it.jsx)(pt,{sm:1,style:{marginTop:"8px"},children:(0,it.jsx)(Gn,{onClick:function(){n("/staff/book",{replace:!0,state:{user:a}})},children:"\uc608\uc57d"})}),(0,it.jsx)(pt,{sm:1,style:{marginTop:"8px"},children:(0,it.jsx)(Gn,{onClick:function(){return Y()},children:"\uac31\uc2e0"})})]})}),(0,it.jsx)(GI,{events:l,style:{height:"80vh"},hoursInterval:d,renderDayHeader:Lu,renderHour:Tu,renderEvent:Uu}),m&&(0,it.jsxs)(_s,{show:!0,children:[(0,it.jsx)(_s.Header,{children:"\uc815\ubcf4"}),(0,it.jsx)(_s.Body,{children:(0,it.jsx)(Yu,{book:f,disabled:f.pay&&"confirm"===f.pay.status,pay_options:["card","transfer","saved_money.d","etc"]})}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{onClick:function(){return p(!1)},variant:"secondary",children:"\ub2eb\uae30"})})]}),(0,it.jsxs)(_s,{show:S,onClose:function(){return k(!1)},children:[(0,it.jsx)(_s.Header,{children:"\ub300\uc0c1 \uc120\ud0dd"}),(0,it.jsxs)(_s.Body,{children:["\ud68c\uc6d0 \uc774\ub984",(0,it.jsx)("input",{value:V,onChange:function(e){return R(e.target.value)}}),X&&X.username?"\uc0ac\uc6a9\uc790 tel: ".concat(X.num):"\uc5c6\uc74c"]}),(0,it.jsxs)(_s.Footer,{children:[(0,it.jsx)(Gn,{onClick:function(){return function(e){n("/donation",{replace:!0,state:{user:e,qr_code:""}})}(X)},variant:"primary",disabled:!(X&&X.username),children:"\uc801\ub9bd"}),(0,it.jsx)(Gn,{onClick:function(){return k(!1)},variant:"secondary",children:"\ub2eb\uae30"})]})]})]})},Qu=["className","bsPrefix","as"],_u=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Qu);return r=It(r,"card-body"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));_u.displayName="CardBody";var Ou=_u,Pu=["className","bsPrefix","as"],qu=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,Pu);return r=It(r,"card-footer"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));qu.displayName="CardFooter";var $u=qu,eC=["bsPrefix","className","as"],tC=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.as,o=void 0===g?"div":g,i=at(t,eC),l=It(r,"card-header"),s=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,it.jsx)(oi.Provider,{value:s,children:(0,it.jsx)(o,nt(nt({ref:n},i),{},{className:ot()(a,l)}))})}));tC.displayName="CardHeader";var nC=tC,rC=["bsPrefix","className","variant","as"],aC=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.variant,g=e.as,o=void 0===g?"img":g,i=at(e,rC),l=It(n,"card-img");return(0,it.jsx)(o,nt({ref:t,className:ot()(a?"".concat(l,"-").concat(a):l,r)},i))}));aC.displayName="CardImg";var gC=aC,oC=["className","bsPrefix","as"],iC=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,oC);return r=It(r,"card-img-overlay"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));iC.displayName="CardImgOverlay";var lC=iC,sC=["className","bsPrefix","as"],cC=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"a":a,o=at(e,sC);return r=It(r,"card-link"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));cC.displayName="CardLink";var IC=cC,uC=["className","bsPrefix","as"],CC=_l("h6"),dC=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?CC:a,o=at(e,uC);return r=It(r,"card-subtitle"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));dC.displayName="CardSubtitle";var AC=dC,hC=["className","bsPrefix","as"],mC=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"p":a,o=at(e,hC);return r=It(r,"card-text"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));mC.displayName="CardText";var pC=mC,bC=["className","bsPrefix","as"],fC=_l("h5"),yC=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?fC:a,o=at(e,bC);return r=It(r,"card-title"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));yC.displayName="CardTitle";var ZC=yC,vC=["bsPrefix","className","bg","text","border","body","children","as"],GC=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.bg,g=e.text,o=e.border,i=e.body,l=void 0!==i&&i,s=e.children,c=e.as,I=void 0===c?"div":c,u=at(e,vC),C=It(n,"card");return(0,it.jsx)(I,nt(nt({ref:t},u),{},{className:ot()(r,C,a&&"bg-".concat(a),g&&"text-".concat(g),o&&"border-".concat(o)),children:l?(0,it.jsx)(Ou,{children:s}):s}))}));GC.displayName="Card";var BC=Object.assign(GC,{Img:gC,Title:ZC,Subtitle:AC,Body:Ou,Link:IC,Text:pC,Header:nC,Footer:$u,ImgOverlay:lC});function SC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zM7 18V6h10v12H7zm9-7V9.14C16 8.51 15.55 8 15 8H9c-.55 0-1 .51-1 1.14v1.96c.55 0 1 .45 1 1s-.45 1-1 1v1.76c0 .63.45 1.14 1 1.14h6c.55 0 1-.51 1-1.14V13c-.55 0-1-.45-1-1s.45-1 1-1zm-3.5 3.5h-1v-1h1v1zm0-2h-1v-1h1v1zm0-2h-1v-1h1v1z"}}]})(e)}function kC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V7l-5-5zM6 20V4h8v4h4v12H6zm10-10v5c0 2.21-1.79 4-4 4s-4-1.79-4-4V8.5a2.5 2.5 0 012.76-2.49c1.3.13 2.24 1.32 2.24 2.63V15h-2V8.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V15c0 1.1.9 2 2 2s2-.9 2-2v-5h2z"}}]})(e)}function WC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}}]})(e)}function VC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm3.61 6.34c1.07 0 1.93.86 1.93 1.93 0 1.07-.86 1.93-1.93 1.93-1.07 0-1.93-.86-1.93-1.93-.01-1.07.86-1.93 1.93-1.93zm-6-1.58c1.3 0 2.36 1.06 2.36 2.36 0 1.3-1.06 2.36-2.36 2.36s-2.36-1.06-2.36-2.36c0-1.31 1.05-2.36 2.36-2.36zm0 9.13v3.75c-2.4-.75-4.3-2.6-5.14-4.96 1.05-1.12 3.67-1.69 5.14-1.69.53 0 1.2.08 1.9.22-1.64.87-1.9 2.02-1.9 2.68zM11.99 20c-.27 0-.53-.01-.79-.04v-4.07c0-1.42 2.94-2.13 4.4-2.13 1.07 0 2.92.39 3.84 1.15-1.17 2.97-4.06 5.09-7.45 5.09z"}}]})(e)}function RC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM19 19h2v2h-2zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM15 19h2v2h-2zM17 17h2v2h-2zM17 13h2v2h-2zM19 15h2v2h-2z"}}]})(e)}function wC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}}]})(e)}function XC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20.19 4H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.81-2-1.81-2zm-2.46 9.3l-8.86 2.36-1.66-2.88.93-.25 1.26.99 2.39-.64-2.4-4.16 1.4-.38 4.01 3.74 2.44-.65a.967.967 0 011.18.68.988.988 0 01-.69 1.19z"}}]})(e)}function JC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 1c0 1.66-1.34 3-3 3-.55 0-1 .45-1 1H4c0-1.66 1.34-3 3-3 .55 0 1-.45 1-1h2zm2 2L6 7.58V6H4v3.11L1 11.4l1.21 1.59L4 11.62V21h16v-9.38l1.79 1.36L23 11.4 12 3zm1.94 4h-3.89L12 5.52 13.94 7zm-6.5 2h9.12L18 10.1v.9H6v-.9L7.44 9zM18 13v2H6v-2h12zM6 19v-2h12v2H6z"}}]})(e)}function YC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-2.5 4A2.5 2.5 0 0118 9.5c.42 0 .8.11 1.15.29l-3.36 3.36c-.18-.35-.29-.73-.29-1.15zm2.5 2.5c-.42 0-.8-.11-1.15-.29l3.36-3.36c.18.35.29.73.29 1.15a2.5 2.5 0 01-2.5 2.5z"}},{tag:"path",attr:{d:"M17 18H7V6h10v1h2V3c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v1zM7 3h10v1H7V3zm10 18H7v-1h10v1z"}}]})(e)}function xC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 8l-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"}}]})(e)}function HC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6.21 13.97l1.2 2.07c.08.13.23.18.37.13l1.49-.6c.31.24.64.44 1.01.59l.22 1.59c.03.14.15.25.3.25h2.4c.15 0 .27-.11.3-.26l.22-1.59c.36-.15.7-.35 1.01-.59l1.49.6c.14.05.29 0 .37-.13l1.2-2.07c.08-.13.04-.29-.07-.39l-1.27-.99c.03-.19.04-.39.04-.58 0-.2-.02-.39-.04-.59l1.27-.99c.11-.09.15-.26.07-.39l-1.2-2.07a.306.306 0 00-.37-.13l-1.49.6c-.31-.24-.64-.44-1.01-.59l-.22-1.59a.31.31 0 00-.3-.25h-2.4a.31.31 0 00-.3.26l-.22 1.59c-.36.15-.71.34-1.01.58l-1.49-.6c-.14-.05-.29 0-.37.13l-1.2 2.07c-.08.13-.04.29.07.39l1.27.99c-.03.2-.05.39-.05.59 0 .2.02.39.04.59l-1.27.99c-.11.1-.14.26-.06.39zM12 10.29c.94 0 1.71.77 1.71 1.71s-.77 1.71-1.71 1.71-1.71-.77-1.71-1.71.77-1.71 1.71-1.71zM19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm0 16H5V5h14v14z"}}]})(e)}function NC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"}}]})(e)}function FC(e){return PI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2 2H5V5h14v14zm0-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}}]})(e)}var KC={container:{height:"100vh",width:"100vw"},rowAdmin:{display:"flex",alignItems:"center",justifyContent:"center",height:"10vh"},row:{display:"flex",alignItems:"center",justifyContent:"center",height:"85vh"},col:{display:"flex",alignItems:"center",justifyContent:"center"},image:{width:"20vw",marginTop:25},card:{width:"30vw",height:"65vh",alignItems:"center",justifyContent:"center",border:"none"},text:{fontSize:"3em",fontWeight:"bold"},rowFooter:{display:"flex",alignItems:"center",justifyContent:"center",height:"5vh"},colFooter:{display:"flex",alignItems:"center",justifyContent:"center"}},MC=function(e){var t=e.onClick,n=e.img_src,r=e.text;return(0,it.jsxs)(BC,{style:KC.card,onClick:t,children:[(0,it.jsx)(BC.Img,{variant:"top",src:n,style:KC.image}),(0,it.jsx)(BC.Body,{children:(0,it.jsx)(BC.Text,{className:"text-center",style:KC.text,children:r})})]})},DC=function(e){var t=e.show,n=e.onHide,r=e.message;return(0,it.jsxs)(_s,{show:t,onHide:n,children:[(0,it.jsx)(_s.Header,{children:(0,it.jsx)(_s.Title,{children:r})}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{variant:"secondary",onClick:n,children:"\ub2eb\uae30"})})]})},EC=function(t){var n=Ce(),r=Ae(),a=i((0,e.useState)(Boolean(n.state&&n.state.message)),2),g=a[0],o=a[1],l=i((0,e.useState)(""),2),s=l[0],c=l[1],I=i((0,e.useState)(""),2),u=I[0],C=I[1],d=i((0,e.useState)(""),2),A=d[0],h=d[1],m=i((0,e.useState)(!1),2),p=m[0],b=m[1],f=function(e){b(!0),c(e.title),C(e.server_version),h(e.copyright)},y=function(e){return b(!1)};return(0,e.useEffect)((function(){Ko.get("/api/info",{timeout:5e3}).then((function(e){return e.data})).then(f).catch(y);var e=setInterval((function(){Ko.get("/api/info",{timeout:5e3}).then((function(e){return e.data})).then(f).catch(y)}),1e4);return function(){clearInterval(e)}}),[]),(0,e.useEffect)((function(){Mo().then((function(e){return Do(e).catch(console.error)})).catch(console.error)}),[]),(0,it.jsxs)(yt,{style:KC.container,fluid:!0,children:[(0,it.jsxs)(qs,{style:KC.rowAdmin,onClick:function(){return r("/admin/login",{state:{backref:"/books"}})},children:[(0,it.jsxs)("h1",{style:{textAlign:"center",fontWeight:"bold"},children:[" ","\uad00\ub9ac\uc790 \uc9c4\uc785(demo)"]})," "]}),(0,it.jsxs)(qs,{style:KC.row,children:[(0,it.jsx)(pt,{style:KC.col,children:(0,it.jsx)(MC,{img_src:"img_guest/icon-book.png",text:"\ud604\uc7a5 \uc0ac\uc6a9",onClick:function(){return r("/guest",{state:{backref:"/guest/book"}})}})}),(0,it.jsx)(pt,{style:KC.col,children:(0,it.jsx)(MC,{img_src:"img_guest/icon-donation.png",text:"\uac00\uc785",onClick:function(){return r("/guest/signup")}})}),(0,it.jsx)(pt,{style:KC.col,children:(0,it.jsx)(MC,{img_src:"img_guest/icon-find.png",text:"\uc608\uc57d \ud655\uc778",onClick:function(){return r("/guest",{state:{backref:"/guest/book_check"}})}})})]}),(0,it.jsxs)(qs,{style:KC.rowFooter,children:[(0,it.jsxs)(pt,{style:KC.colFooter,children:[s,"(",u,")",!p&&(0,it.jsx)(WC,{style:{color:"#B82647"}})]}),(0,it.jsx)(pt,{style:KC.colFooter,children:A}),(0,it.jsx)(pt,{style:KC.colFooter,children:document.querySelector('meta[name="description"]').content})]}),(0,it.jsx)(DC,{show:g,onHide:function(){return o(!1)},message:n.state&&n.state.message})]})},zC=function(e){return Ko.get("/api/config/".concat(e)).then((function(t){return t.data[e]}))},TC=function(e,t){return Ko.post("/api/config/".concat(e),t)},LC=function(e){return Ko.post("/api/config/dummy/upload",e)},UC=function(e){var t=e.label,n=e.announce,r=e.name,a=e.value,g=e.type,o=void 0===g?"text":g,i=e.onChange,l=void 0===i?void 0:i;return(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"ConfigCustomInput".concat(r),children:[(0,it.jsx)(mn.Label,{children:t}),(0,it.jsx)(mn.Control,{name:r,type:o,placeholder:t,value:a,readOnly:!Boolean(l),onChange:l}),(0,it.jsx)(mn.Text,{className:"text-muted",children:n||"".concat(t,"\uc744(\ub97c) \uc124\uc815\ud569\ub2c8\ub2e4.")})]})},jC=function(t){var n=i((0,e.useState)({tg:{},cafe_run:{}}),2),r=(n[0],n[1],i((0,e.useState)({tg_developer_id:-1,tg_manager_group_id:[],tg_announce_text:"\ubc18\uac11\uc2b5\ub2c8\ub2e4. \uce74\ud398\ubd07\uc785\ub2c8\ub2e4."}),2)),a=r[0],g=(r[1],i((0,e.useState)({cafe_weekend_close:"",cafe_weekend_open:"",cafe_weekdays_close:"",cafe_close_date:"",cafe_is_close:!1}),2)),o=g[0],l=(g[1],i((0,e.useState)({book_room_weekdays_open:"",book_room_weekdays_close:"",book_room_weekend_open:"",book_room_weekend_close:""}),2)),s=l[0],c=(l[1],i((0,e.useState)({user_membership_normal_file:[],user_membership_normal_qr_box:[],user_membership_normal_text_box:[],user_membership_vip_file:[],user_membership_vip_qr_box:[],user_membership_vip_text_box:[]}),2)),I=c[0],u=c[1],C=i((0,e.useState)({cafe_open_time_text:"",cafe_close_time_text:""}),2),d=C[0],A=C[1];(0,e.useEffect)((function(){qe(Oe().mark((function e(){var t,n,r,a,g,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zC("user_membership_normal_file");case 2:return t=e.sent,e.next=5,zC("user_membership_normal_qr_box");case 5:return n=e.sent,e.next=8,zC("user_membership_normal_text_box");case 8:return r=e.sent,e.next=11,zC("user_membership_vip_file");case 11:return a=e.sent,e.next=14,zC("user_membership_vip_qr_box");case 14:return g=e.sent,e.next=17,zC("user_membership_vip_text_box");case 17:o=e.sent,u({user_membership_normal_file:t,user_membership_normal_qr_box:n,user_membership_normal_text_box:r,user_membership_vip_file:a,user_membership_vip_qr_box:g,user_membership_vip_text_box:o}),y(n.join()),G(r.join()),R(g.join()),J(o.join());case 23:case"end":return e.stop()}}),e)})))(),qe(Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zC("cafe_open_time_text");case 2:return t=e.sent,e.next=5,zC("cafe_close_time_text");case 5:n=e.sent,A({cafe_open_time_text:t,cafe_close_time_text:n});case 7:case"end":return e.stop()}}),e)})))()}),[]);var h=i((0,e.useState)(""),2),m=h[0],p=h[1],b=i((0,e.useState)(I.user_membership_normal_qr_box.join()),2),f=b[0],y=b[1],Z=i((0,e.useState)(I.user_membership_normal_text_box.join()),2),v=Z[0],G=Z[1],B=i((0,e.useState)(""),2),S=B[0],k=B[1],W=i((0,e.useState)(I.user_membership_vip_qr_box.join()),2),V=W[0],R=W[1],w=i((0,e.useState)(I.user_membership_vip_text_box.join()),2),X=w[0],J=w[1],Y="/api/config/dummy/sample.png?"+(m?"file_name=".concat(m,"&"):"")+(f?"qr_box=".concat(f,"&"):"")+(v?"text_location=".concat(v):""),x="/api/config/dummy/sample.vip.png?"+(S?"file_name=".concat(S,"&"):"")+(V?"qr_box=".concat(V,"&"):"")+(X?"text_location=".concat(X):"");return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(yt,{children:(0,it.jsxs)(mn,{children:[(0,it.jsx)("div",{style:{background:"#0088cc",borderRadius:"10px",padding:"10px",color:"ghostwhite"},children:(0,it.jsxs)("fieldset",{children:[(0,it.jsx)("legend",{children:"\uac1c\ubc1c\uc790 \uc124\uc815"}),(0,it.jsx)(UC,{label:"\uac1c\ubc1c\uc790 ID \ubaa9\ub85d",announce:"\uac1c\ubc1c\uc790 ID\ub97c \uc801\uc5b4\uc8fc\uc138\uc694.",name:"tg_developer_id",value:"".concat(a.tg_developer_id)}),(0,it.jsx)(UC,{label:"\ub300\uad00\ubc29 ID",announce:"/getid \uc758 chat_id\ub97c \uc785\ub825\ubc14\ub78d\ub2c8\ub2e4.",name:"tg_manager_group_id",value:"".concat(a.tg_manager_group_id)}),(0,it.jsx)(UC,{label:"\uae30\ubcf8\uc54c\ub9bc",announce:"\uc544\ubb34 \uba54\uc138\uc9c0 \uc804\uc1a1\uc2dc \ub728\ub294 \uae30\ubcf8 \uba54\uc138\uc9c0\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.",name:"tg_announce_text",value:"".concat(a.tg_announce_text)})]})}),(0,it.jsx)("hr",{}),(0,it.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,it.jsxs)("fieldset",{children:[(0,it.jsx)("legend",{children:"\uce74\ud398 \uc6b4\uc601 \uc124\uc815"}),(0,it.jsxs)("div",{className:"mb-3 form-check form-switch",children:[(0,it.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inputCafeIsClose",name:"cafe_is_close",checked:o.cafe_is_close}),(0,it.jsxs)("label",{className:"form-check-label text-danger",htmlFor:"inputCafeIsClose",children:["\ud604\uc7ac \uce74\ud398\uac00 \uc6b4\uc601\uc911\uc774 ",(0,it.jsx)("b",{children:"\uc544\ub2d0\ub54c"})," \uccb4\ud06c\ud569\ub2c8\ub2e4!!"]})]}),(0,it.jsx)(UC,{label:"\uce74\ud398 \ud734\uc77c",name:"cafe_close_date",value:"".concat(o.cafe_close_date)}),(0,it.jsx)(UC,{label:"\uc8fc\uc911 \uce74\ud398 \uac1c\uc810 \uc2dc\uac04",name:"cafe_weekdays_open",value:"".concat(o.cafe_close_date)}),(0,it.jsx)(UC,{label:"\uc8fc\uc911 \uce74\ud398 \ud3d0\uc810 \uc2dc\uac04",name:"cafe_weekdays_close",value:o.cafe_weekdays_close}),(0,it.jsx)(UC,{label:"\uc8fc\ub9d0 \uce74\ud398 \uac1c\uc810 \uc2dc\uac04",name:"cafe_weekend_open",value:o.cafe_weekend_open}),(0,it.jsx)(UC,{label:"\uc8fc\ub9d0 \uce74\ud398 \ud3d0\uc810 \uc2dc\uac04",name:"cafe_weekend_close",value:o.cafe_weekend_close})]})}),(0,it.jsx)("hr",{}),(0,it.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,it.jsxs)("fieldset",{children:[(0,it.jsx)("legend",{children:"\uce74\ud398 \uc6b4\uc601 \uc124\uc815"}),(0,it.jsx)(UC,{label:"\uc8fc\uc911 \uc608\uc57d \uc2dc\uc791 \uc2dc\uac04",name:"book_room_weekdays_open",value:s.book_room_weekdays_open}),(0,it.jsx)(UC,{label:"\uc8fc\uc911 \uc608\uc57d \ub9c8\uac10 \uc2dc\uac04",name:"book_room_weekdays_close",value:s.book_room_weekdays_close}),(0,it.jsx)(UC,{label:"\uc8fc\ub9d0 \uc608\uc57d \uc2dc\uc791 \uc2dc\uac04",name:"book_room_weekend_open",value:s.book_room_weekend_open}),(0,it.jsx)(UC,{label:"\uc8fc\ub9d0 \uc608\uc57d \ub9c8\uac10 \uc2dc\uac04",name:"book_room_weekend_close",value:s.book_room_weekend_close})]})}),(0,it.jsx)("hr",{}),(0,it.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,it.jsxs)("fieldset",{children:[(0,it.jsx)("legend",{children:"\ud68c\uc6d0\uad8c \uc124\uc815"}),(0,it.jsxs)("div",{children:[(0,it.jsx)("img",{src:Y,alt:"\uc77c\ubc18 \ud68c\uc6d0\uad8c \ud569\uc131 \uc774\ubbf8\uc9c0",width:"50%"}),(0,it.jsx)("img",{src:x,alt:"\ud2b9\ubcc4 \ud68c\uc6d0\uad8c \ud569\uc131 \uc774\ubbf8\uc9c0",width:"50%"})]}),(0,it.jsx)(UC,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c(".concat(I.user_membership_normal_file,")"),type:"file",name:"user_membership_normal_file",value:void 0,onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("type","file/image");var r=new FileReader;r.onload=function(){n.append("data",r.result),LC(n).then((function(e){return p(e.data.file_name)}))},r.onerror=function(e){console.error(e)},r.readAsDataURL(t)}}),(0,it.jsx)(UC,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c qr \uc704\uce58",name:"user_membership_normal_qr_box",value:f,onChange:function(e){return y(e.target.value)}}),(0,it.jsx)(UC,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c \uae00\uc790 \uc704\uce58",name:"user_membership_normal_text_box",value:v,onChange:function(e){return G(e.target.value)}}),(0,it.jsx)(UC,{label:"\ud2b9\ubcc4 \ud68c\uc6d0\uad8c(".concat(I.user_membership_vip_file,")"),type:"file",name:"user_membership_vip_file",value:void 0,onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("type","file/image");var r=new FileReader;r.onload=function(){n.append("data",r.result),console.log(I),LC(n).then((function(e){return k(e.data.file_name)}))},r.onerror=function(e){console.error(e)},r.readAsDataURL(t)}}),(0,it.jsx)(UC,{label:"\ud2b9\ubcc4 \ud68c\uc6d0\uad8c qr \uc704\uce58",name:"user_membership_vip_qr_box",value:V,onChange:function(e){return R(e.target.value)}}),(0,it.jsx)(UC,{label:"\ud2b9\ubcc4 \ud68c\uc6d0\uad8c \uae00\uc790 \uc704\uce58",name:"user_membership_normal_text_box",value:X,onChange:function(e){return J(e.target.value)}})]})}),(0,it.jsx)("hr",{}),(0,it.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,it.jsxs)("fieldset",{children:[(0,it.jsx)("legend",{children:"QR \uc778\uc99d \ud45c\uc2dc \ub0b4\uc6a9"}),(0,it.jsx)(UC,{label:"\uac1c\uc810 \uc2dc\uac04",name:"cafe_open_time_text",value:d.cafe_open_time_text,onChange:function(e){return A(nt(nt({},d),{},{cafe_open_time_text:e.target.value}))}}),(0,it.jsx)(UC,{label:"\ud3d0\uc810 \uc2dc\uac04",name:"cafe_close_time_text",value:d.cafe_close_time_text,onChange:function(e){return A(nt(nt({},d),{},{cafe_close_time_text:e.target.value}))}})]})}),(0,it.jsx)(Gn,{onClick:function(e){e.preventDefault();var t=new FormData;m&&(t.append("data",m),TC("user_membership_normal_file",t)),f&&((t=new FormData).append("type","tuple/int"),t.append("data",f),TC("user_membership_normal_qr_box",t)),v&&((t=new FormData).append("type","tuple/int"),t.append("data",v),TC("user_membership_normal_text_box",t)),S&&((t=new FormData).append("data",S),TC("user_membership_vip_file",t)),V&&((t=new FormData).append("type","tuple/int"),t.append("data",V),TC("user_membership_vip_qr_box",t)),X&&((t=new FormData).append("type","tuple/int"),t.append("data",X),TC("user_membership_vip_text_box",t)),d.cafe_open_time_text&&((t=new FormData).append("type","str"),t.append("data",d.cafe_open_time_text),TC("cafe_open_time_text",t)),d.cafe_close_time_text&&((t=new FormData).append("type","str"),t.append("data",d.cafe_close_time_text),TC("cafe_close_time_text",t))},children:"\uc804\uccb4 \uc800\uc7a5"})]})})]})},QC=n(9008),_C=n.n(QC),OC=function(e){var t=e.handleUser;return(0,it.jsx)(_C(),{delay:300,onError:function(e){return console.log(e)},onScan:function(e){return e&&lc(e.text).then((function(n){return t(nt(nt({},n),{},{qr:e.text}))}))},style:{width:"50%"}})},PC=[{name:"\uc804\uccb4",id:"all",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uac00\uc785\uc77c",id:"user.created",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\ub9c8\uc9c0\ub9c9 QR \uc778\uc99d",id:"log.qr.latest",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\ubbf8\uc778\uc99d \uc0ac\uc6a9\uc790",id:"user.invalid",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"QR \uc778\uc99d",id:"log.auth",grade:15,available:!0,tag:{variant:"success",text:"\ub9e4\ub2c8\uc800"}},{name:"\uba54\uc2dc\uc9c0 \uae30\ub85d",id:"log.message",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uc5d0\ub7ec \uae30\ub85d",id:"log.error",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uc2a4\ud130\ub514\ub8f8 \ub300\uad00 \uae30\ub85d",id:"log.study.usage",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\uc2a4\ud130\ub514\ub8f8 \ub300\uad00 \uae30\ub85d(\uc131\uacf5\ub9cc)",id:"log.study.usage.only_success",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\uc801\ub9bd \uae30\ub85d",id:"log.donation",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\uc801\ub9bd \uae30\ub85d(\uc131\uacf5\ub9cc)",id:"log.donation.only_success",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\ud2b9\ubcc4\ud68c\uc6d0 \ubaa9\ub85d",id:"user.grade.vip",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}}],qC=function(){var t=i((0,e.useState)(!1),2),n=t[0],r=t[1],a=i((0,e.useState)(null),2),g=a[0],o=a[1],l=i((0,e.useState)(""),2),s=l[0],c=l[1],I=i((0,e.useState)(!1),2),u=I[0],C=I[1],d=i((0,e.useState)(!1),2),A=d[0],h=d[1],m=i((0,e.useState)(WI()()),2),p=m[0],b=m[1],f=i((0,e.useState)(WI()()),2),y=f[0],Z=f[1],v=i((0,e.useState)(!1),2),G=v[0],B=v[1],S=i((0,e.useState)(""),2),k=S[0],W=S[1],V=PC.map((function(e){return u&&e.grade<=15||A&&e.grade<=20?(0,it.jsxs)(Na.Item,{disabled:!e.available,onClick:function(){return c(e.id)},children:[(0,it.jsx)(Jc,{bg:e.tag.variant,children:e.tag.text}),e.name]}):null})).filter((function(e){return null!==e}));(0,e.useEffect)((function(){g?(C(g.grade>=15),h(g.grade>=20)):(C(!1),h(!1))}),[g]);var R=function(e){var t=e.headers["content-disposition"].split("filename=")[1].replace(/"/g,""),n=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",t),r.style.cssText="display:none",document.body.appendChild(r),r.click(),r.remove(),B(!1)},w=function(e){B(!1),e.response&&e.response.status?W("[".concat(e.response.status,"] ").concat(e.response.statusText)):W("\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec \ubc1c\uc0dd")};return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)(yt,{children:[(0,it.jsx)("p",{children:"\uad8c\ud55c \uc778\uc99d"}),n&&(0,it.jsx)(OC,{handleUser:function(e){o(e),r(!1),console.log(e)}}),!n&&!g&&(0,it.jsx)(Gn,{variant:g?"success":"secondary",onClick:function(e){return r(!0)},children:"QR \uc778\uc99d"}),g&&(0,it.jsxs)("p",{children:[g&&g.grade&&g.grade>=20?(0,it.jsx)(Jc,{bg:"danger",pill:!0,children:"\uad00\ub9ac\uc790"}):g&&g.grade&&g.grade>=15&&(0,it.jsx)("span",{children:"\ub9e4\ub2c8\uc800"}),g.username," \ub2d8"]}),(0,it.jsxs)(mn.Group,{children:[(0,it.jsx)(mn.Label,{children:"\uc885\ub958"}),(0,it.jsx)(_a,{children:(0,it.jsx)(za,{title:s?(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(Jc,{bg:PC.find((function(e){return e.id===s})).tag.variant,children:PC.find((function(e){return e.id===s})).tag.text}),PC.find((function(e){return e.id===s})).name]}):"\uc120\ud0dd\ud558\uc138\uc694",children:V})})]}),(0,it.jsxs)(mn.Group,{children:[(0,it.jsx)(mn.Label,{children:"\uae30\uac04"}),(0,it.jsxs)(_a,{children:[(0,it.jsx)(mn.Control,{type:"date",onChange:function(e){return b(WI()(e.target.value))},value:p.format("YYYY-MM-DD"),placeholder:"\uc2dc\uc791"}),(0,it.jsx)(_a.Text,{children:" - "}),(0,it.jsx)(mn.Control,{type:"date",onChange:function(e){return Z(WI()(e.target.value))},value:y.format("YYYY-MM-DD"),placeholder:"\ub05d"})]})]}),(0,it.jsxs)(Gn,{onClick:function(){B(!0);var e={start_date:p.format("YYYY-MM-DD"),end_date:y.format("YYYY-MM-DD"),category:s};(function(e,t){return Ko.get("/api/exports",{params:t,responseType:"blob",headers:{Authorization:e}})})("QR ".concat(g.qr),e).then(R).catch(w)},disabled:!g||!PC.find((function(e){return e.id===s}))||G,children:[G&&(0,it.jsx)(wI,{animation:"border"}),"\ub2e4\uc6b4\ub85c\ub4dc"]}),k&&(0,it.jsx)("span",{className:"text-danger",children:k})]})]})},$C=[{name:"ID",selector:function(e){return e.id}},{name:"\ub85c\uadf8 \uc885\ub958",selector:function(e){return e.log_type},sortable:!0},{name:"chat_id",selector:function(e){return e.chat_id}},{name:"\ub2c9\ub124\uc784",selector:function(e){return e.tg_name}},{name:"\uc774\ub984",selector:function(e){return e.username}},{name:"\uae30\ub85d\uc77c\uc2dc",selector:function(e){return e.created.replace("T"," ")},hide:"md"}],ed=[{when:function(e){return"tg"===e.log_type},style:{backgroundColor:"#0088cc",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"auth"===e.log_type},style:{backgroundColor:"rgba(22, 160, 133, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"book.cancel"===e.log_type},style:{backgroundColor:"rgba(212, 172, 13, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}},{when:function(e){return"error"===e.log_type},style:{backgroundColor:"rgba(146, 43, 33, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}},{when:function(e){return"restart"===e.log_type},style:{backgroundColor:"rgba(86, 114, 93, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],td=function(e){var t=e.name,n=e.value,r=e.extra;return(0,it.jsx)(qs,{children:(0,it.jsxs)(pt,{children:[(0,it.jsxs)("span",{children:[t,": "]}),(0,it.jsx)("span",{children:n}),r]})})},nd=function(e){var t=e.request,n=e.result,r=e.is_success;return(0,it.jsxs)(qs,{style:{backgroundColor:r?"#2980b9":"#c0392b",color:"whitesmoke"},children:[(0,it.jsxs)(pt,{children:[(0,it.jsx)("span",{children:"\uc694\uccad: "}),(0,it.jsx)("span",{children:t})]}),(0,it.jsxs)(pt,{children:[(0,it.jsx)("span",{children:"\uc751\ub2f5: "}),(0,it.jsx)("span",{children:n})]})]})},rd=function(t){var n=t.data,r=i((0,e.useState)(n),2),a=r[0],g=r[1],o=i((0,e.useState)({}),2),l=o[0],s=o[1];return(0,e.useEffect)((function(){g(n),s(JSON.parse(n.extra_data_str))}),[n]),(0,it.jsxs)(yt,{children:[(0,it.jsx)(td,{name:"chat ID",value:n.chat_id}),(0,it.jsx)(td,{name:"\ub2c9\ub124\uc784",value:n.tg_name}),(0,it.jsx)(td,{name:"\uc774\ub984",value:n.username,extra:1===n.sms?(0,it.jsx)($I,{style:{color:"#23ab34"}}):null}),(0,it.jsx)(td,{name:"\uc0dd\uc77c",value:n.birthday}),(0,it.jsx)(td,{name:"\ub098\uc774",value:n.age}),(0,it.jsx)(td,{name:"\uc131\ubcc4",value:n.gender}),(0,it.jsx)(td,{name:"\ub4f1\uae09",value:n.grade}),(0,it.jsx)(td,{name:"\uc9c0\uc5ed",value:n.department}),(0,it.jsx)(td,{name:"\uae30\ub85d\uc77c\uc2dc",value:n.created.replace("T"," ")}),"tg"===a.log_type&&(0,it.jsx)(nd,{request:l.update_text,result:l.result_text,is_success:l.success}),"error"===a.log_type&&(0,it.jsx)(qs,{children:(0,it.jsx)(pt,{children:(0,it.jsx)(mn.Control,{as:"textarea",style:{height:150},value:JSON.stringify(l,null,2),readOnly:!0})})})]})},ad=function(){var t=i((0,e.useState)([]),2),n=t[0],r=t[1],a=i((0,e.useState)(0),2),g=a[0],o=a[1],l=i((0,e.useState)(!0),2),s=l[0],c=l[1],I=i((0,e.useState)(1),2),u=(I[0],I[1],i((0,e.useState)(10),2)),C=u[0],d=(u[1],function(){var e=qe(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Uo(t,C);case 3:n=e.sent,r(n.data),o(n.total),c(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,e.useEffect)((function(){d(1)}),[]),(0,it.jsx)(To.ZP,{columns:$C,title:"\ub85c\uadf8 \ud604\ud669",expandableRows:!0,expandableRowsComponent:rd,progressPending:s,conditionalRowStyles:ed,pagination:!0,data:n,paginationServer:!0,paginationTotalRows:g})},gd=function(){return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(yt,{children:(0,it.jsx)(ad,{})})]})},od=[1,2,3,4],id=function(e){var t=e.people_no,n=e.setPeopleNo,r=e.disabled,a=void 0!==r&&r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputPeopleNo",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc778\uc6d0"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(za,{title:t?"".concat(t," \uba85"):"\uc778\uc6d0\uc744 \uc120\ud0dd\ud558\uc138\uc694.",disabled:a,children:od.map((function(e){return(0,it.jsxs)(Na.Item,{onClick:function(){return n(e)},children:[e," \uba85"]},e)}))})})]})},ld=function(e){return e&&e.status===gu},sd=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;r({status:au,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694(".concat(Math.round(n/2)," \ucd08)")}),n>0?lu(t).then((function(o){o.status.startsWith(gu)?r({status:gu,title:"\uacb0\uc81c \uc644\ub8cc",message:"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}):o.status.startsWith(ou)?(a&&g&&Fc(a,g,"Pay.".concat(ou)).then((function(e){return console.log(e)})),r({status:ou,title:"\uacb0\uc81c \uc2e4\ud328",message:o.comment?o.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."})):o.status.startsWith(au)&&setTimeout.apply(void 0,[e,500].concat([t,n-1,r,a,g]))})).catch((function(e){a&&g&&Fc(a,g,"Pay.Error").then((function(e){return console.log(e)})),r({status:ou,title:"\uc624\ub958 \ubc1c\uc0dd",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",error:e})})):(a&&g&&Fc(a,g,"Pay.".concat(ou)).then((function(e){return console.log(e)})),r({status:ou,title:"\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."}))};function cd(e,t,n){lu(e).then((function(r){"confirm"===r.status?n(r.comment,!1):"reject"===r.status?n("\uacb0\uc81c\ub97c \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4(".concat(r.comment,")"),!1):"waiting"===r.status?(n("".concat(r.comment,"(").concat(Math.round(t/2)," \ucd08 \ub0a8\uc74c})"),!0),t>0?setTimeout.apply(void 0,[cd,500].concat([e,t-1,n])):n("\uc2dc\uac04 \ucd08\uacfc\ub85c \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",!1)):n(r.comment,!1)})).catch((function(e){return n("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4(".concat(e,")"),!1)}))}function Id(e,t,n,r,a){(function(e,t,n){return Ko.put("/api/books/".concat(e),{action:"cancel",cashier:n},{headers:{Authorization:"QR ".concat(t)}})})(e,t,n).then((function(e){return e.data})).then((function(e){"confirm"===e.status?r(e.message,!1):"reject"===e.status?r("\uc608\uc57d\uc744 \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4(".concat(e.message,")"),!1):"waiting"===e.status?(r(e.message,!0),cd(e.refund_pay.pay_id,60,r)):r(e.message,!1)})).catch((function(e){403===e.response.status?r("[".concat(e.response.status,"]").concat(e.response.data.message),!1):r("[".concat(e.response.status,"]\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4(").concat(e.response.data.message,")"),!1)}))}var ud=function(e){var t=e.value;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputName",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\uc774\ub984"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc774\ub984",value:t,readOnly:!0})})]})},Cd={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"},containerInfo:{marginTop:25},rowBooks:{border:"solid #32a1ce"},colBooks:{margin:"2px",padding:"4px",transition:"0.5s",backgroundColor:"#D7EDFD"},colBooksActive:{margin:"2px",padding:"4px",border:"1px solid #34495e",transition:"0.5s",backgroundColor:"#A9DFBF"},colBooksPaid:{margin:"2px",padding:"4px",border:"1px solid #34495e",transition:"0.5s",backgroundColor:"#85C1E9"}},dd=function(e){return"[".concat(e.department,"] ").concat(e.user.username," ").concat(e.people_no," \uba85  ").concat(e.start_time.format("HH:mm"),"~").concat(e.end_time.format("HH:mm"))},Ad=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,it.jsxs)(_s,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,it.jsx)(_s.Header,{children:(0,it.jsx)(_s.Title,{children:r})}),(0,it.jsx)(_s.Body,{children:a}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{onClick:n,children:"\ud655\uc778"})})]})},hd=function(t){var n=t.book,r=t.pay_type,a=t.setPayType,g=t.etc_reason,o=t.setEtcReason,l=t.disabled,s=i((0,e.useState)(0),2),c=s[0],I=s[1];return(0,e.useEffect)((function(){n.start_time&&n.end_time&&n.room&&I(Oa(n.room.type,n.start_time,n.end_time))}),[n]),(0,it.jsxs)(yt,{children:[(0,it.jsx)(ud,{value:n.user.username}),(0,it.jsx)(xI,{book_date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!0}),(0,it.jsx)(NI,{room:n.room,disabled:!0}),(0,it.jsx)(LI,{department:n.department,disabled:!0}),(0,it.jsx)(id,{people_no:n.people_no,disabled:!0}),(0,it.jsx)(ru,{pay:l?n.pay:null,paid:c,pay_type:r,region:n.department,etc_reason:g,setPayType:a,setEtcReason:o,disabled:l,options:["card","saved_money.d"]})]})},md=function(e){var t=e.book,n=e.handleSelectBook,r=e.selected_book,a=t&&r&&r.book_id===t.book_id,g=t&&t.pay&&t.pay.status===gu,o=nt({},a?Cd.colBooksActive:g?Cd.colBooksPaid:Cd.colBooks);return(0,it.jsx)(pt,{sm:!0,style:o,onClick:t?function(){return n(t)}:null,children:t?dd(t):null})},pd=function(t){var n=Ce(),r=Ae(),a=i((0,e.useState)([]),2),g=a[0],o=a[1],l=i((0,e.useState)(null),2),s=l[0],c=l[1],I=i((0,e.useState)("\uc608\uc57d\uc744 \uc120\ud0dd\ud558\uc138\uc694."),2),u=I[0],C=I[1],d=i((0,e.useState)(null),2),A=d[0],h=d[1],m=i((0,e.useState)(""),2),p=m[0],b=m[1],f=i((0,e.useState)(null),2),y=f[0],Z=f[1],v=i((0,e.useState)(0),2),G=v[0],B=v[1],S=i((0,e.useState)(!1),2),k=S[0],W=S[1],V=i((0,e.useState)(null),2),R=V[0],w=V[1],X=i((0,e.useState)(!1),2),J=X[0],Y=X[1];(0,e.useEffect)((function(){s&&s.start_time&&s.end_time&&s.room&&B(Oa(s.room.type,s.start_time,s.end_time))}),[s]),(0,e.useEffect)((function(){n.state&&n.state.user&&n.state.user.user_id||r("/");var e=WI()();Yc(n.state.user.user_id).then((function(t){o(t.map((function(e){return nt(nt({},e),{},{start_time:WI()(e.start_time,"hh:mm:ss"),end_time:WI()(e.end_time,"hh:mm:ss")})})).filter((function(t){return WI()(t.book_date).isSame(e,"day")})))}))}),[n.state,r]);var x=function(e){C(dd(e)),e.pay&&"confirm"===e.pay.status?(h(e.pay.pay_type),b(e.pay.comment)):(h(null),b(null)),c(e)},H=function(e){Z((0,it.jsx)(Ad,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return Z(null)}})),W(!1)};return(0,it.jsxs)(yt,{style:Cd.container,children:[(0,it.jsx)("h1",{children:g.length>0?u:"\uc608\uc57d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,it.jsx)(yt,{children:g.map((function(e,t){return 3*t>=g.length?null:(0,it.jsxs)(qs,{style:Cd.rowBooks,children:[(0,it.jsx)(md,{book:g[3*t],handleSelectBook:x,selected_book:s}),(0,it.jsx)(md,{book:g[3*t+1],handleSelectBook:x,selected_book:s}),(0,it.jsx)(md,{book:g[3*t+2],handleSelectBook:x,selected_book:s})]})}))}),(0,it.jsx)(yt,{style:Cd.containerInfo,fluid:!0,children:s&&(0,it.jsx)(hd,{book:s,pay_type:A,setPayType:h,etc_reason:p,setEtcReason:b,disabled:ld(s.pay)})}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(Gn,{as:pt,onClick:function(){return r("/")},variant:"secondary",children:"\ud648\uc73c\ub85c"}),s&&(0,it.jsx)(Gn,{as:pt,variant:"danger",onClick:function(){Id(s.book_id,n.state.qr_code,"plin.kiosk.book",(function(e,t){w(e),Y(t)}))},children:"\uc608\uc57d\ucde8\uc18c"}),s?ld(s.pay)?(0,it.jsx)(Gn,{as:pt,variant:"primary",onClick:function(){return c(null)},children:"\ud655\uc778"}):(0,it.jsx)(Gn,{as:pt,variant:"primary",onClick:function(){var e=n.state.user.user_id,t=s.book_id,a=A+(s.department?"."+s.department:"");if(!A)return alert("\uacb0\uc81c \uc218\ub2e8\uc744 \uc120\ud0dd\ud558\uc138\uc694");k||(W(!0),iu(e,t,"web.guard",a,G,p,"plin.kiosk.book").then((function(e){var t=e.pay_id;setTimeout.apply(void 0,[sd,500].concat([t,60,function(e){e.status===au?Z((0,it.jsx)(Ad,{show:!0,title:e.title,message:e.message})):e.status===gu?(Z((0,it.jsx)(Ad,{show:!0,title:e.title,message:e.message,handleClose:function(){return r("/")}})),W(!1)):e.status===ou&&(Z((0,it.jsx)(Ad,{show:!0,title:e.title,message:e.message,handleClose:function(){return Z(null)}})),W(!1))}]))})).catch(H))},children:"\uacb0\uc81c"}):null]}),y,R&&(0,it.jsxs)(_s,{show:!0,children:[(0,it.jsxs)(_s.Body,{children:[J&&(0,it.jsx)(wI,{animation:"border"}),R]}),(0,it.jsx)(_s.Footer,{children:!J&&(0,it.jsx)(Gn,{onClick:function(){return w(null)},children:"\ud655\uc778"})})]})]})},bd=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)(_a.Text,{onClick:n,children:t})},fd=function(e){var t=e.value,n=void 0===t?WI()().format("YYYY-MM-DD"):t,r=e.setValue,a=void 0===r?null:r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputDate",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\ub0a0\uc9dc"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(_a,{children:null===a?(0,it.jsx)(mn.Control,{type:"text",placeholder:"\ub0a0\uc9dc",value:n,readOnly:!0}):(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:WI()(n,"YYYY-MM-DD").toDate(),onChange:a,customInput:(0,it.jsx)(bd,{})})})})]})},yd=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)(_a.Text,{onClick:n,children:t})},Zd=function(e){var t=e.value,n=void 0===t?WI()().format("YYYY-MM-DD"):t,r=e.setValue,a=void 0===r?null:r;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputDate",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\ub0a0\uc9dc"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(_a,{children:(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:WI()(n,"YYYY-MM-DD").toDate(),onChange:a,customInput:(0,it.jsx)(yd,{}),popperPlacement:"top-end"})})})]})},vd=function(e){var t,n=e.title,r=void 0===n?"\uc2dc\uac04 \uc120\ud0dd":n,a=e.min,g=e.max,o=e.onSelect,i=e.disabled,l=[],s=Math.floor((60*a.hour()+a.minute())/30),c=Math.floor((60*g.hour()+g.minute())/30),I=function(){var e=(t-t%2)/2,n=t%2*30;l.push((0,it.jsxs)(Na.Item,{onClick:function(){return o(e,n)},children:[e,":",0===n?"00":"30"]}))};for(t=s;t<=c;t++)I();return(0,it.jsx)(za,{variant:"outline-secondary",drop:"end",title:r,id:"InputDate".concat(r),disabled:i,children:l})},Gd=function(e){var t=e.min_time,n=void 0===t?WI()("12:00","hh:mm"):t,r=e.max_time,a=void 0===r?WI()("22:00","hh:mm"):r,g=e.start_time,o=void 0===g?WI()("12:00","hh:mm"):g,i=e.end_time,l=void 0===i?WI()("12:00","hh:mm"):i,s=e.onSelectStartTime,c=void 0===s?function(e){e.hour,e.minute}:s,I=e.onSelectEndTime,u=void 0===I?function(e){e.hour,e.minute}:I,C=e.disabled,d=void 0!==C&&C;return(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormDT",children:[(0,it.jsx)(mn.Label,{as:pt,sm:2,children:"\uc785\uc2e4/\ud1f4\uc2e4 \uc2dc\uac04"}),(0,it.jsx)(pt,{sm:10,children:(0,it.jsxs)(_a,{children:[(0,it.jsx)(vd,{title:o?o.format("HH:mm"):void 0,min:n,max:l||a,onSelect:c,disabled:d}),(0,it.jsx)(_a.Text,{children:"-"}),(0,it.jsx)(vd,{title:l?l.format("HH:mm"):void 0,min:o||n,max:a,onSelect:u,disabled:d})]})})]})},Bd=function(e){var t=e.title,n=e.rooms,r=e.room,a=e.setRoom,g=e.disabled;return(0,it.jsx)(pt,{sm:"3",children:(0,it.jsx)(za,{variant:"outline-secondary",title:r?r.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"InputRoom".concat(t),disabled:g,children:n.filter((function(e){return e.available})).map((function(e){return(0,it.jsx)(Na.Item,{disabled:!e.available,onClick:function(){return a(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})},Sd=function(t){var n=t.room,r=t.setRoom,a=t.date,g=t.start_time,o=t.end_time,l=t.disabled,s=void 0!==l&&l,c=i((0,e.useState)([]),2),I=c[0],u=c[1];return(0,e.useEffect)((function(){HI({date:a,start_time:g,end_time:o}).then((function(e){return u(e)}))}),[a,g,o]),(0,it.jsxs)(mn.Group,{as:qs,controlId:"modalFormRoomDropdown",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\uc2a4\ud130\ub514\ub8f8"}),(0,it.jsx)(Bd,{title:"\uc2a4\ud130\ub514\ub8f8",rooms:I.filter((function(e){return 1===e.type})),room:n,setRoom:r,disabled:s})]})},kd=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],Wd=(vt().string,vt().bool,vt().bool,vt().bool,vt().bool,e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.fluid,g=void 0!==a&&a,o=e.rounded,i=void 0!==o&&o,l=e.roundedCircle,s=void 0!==l&&l,c=e.thumbnail,I=void 0!==c&&c,u=at(e,kd);return n=It(n,"img"),(0,it.jsx)("img",nt(nt({ref:t},u),{},{className:ot()(r,g&&"".concat(n,"-fluid"),i&&"rounded",s&&"rounded-circle",I&&"".concat(n,"-thumbnail"))}))})));Wd.displayName="Image";var Vd=Wd,Rd=function(t){var n=i((0,e.useState)(null),2),r=n[0],a=n[1];return(0,e.useEffect)((function(){if(a(null),t.src){var e=function(){a(t.src)},n=new Image;return n.addEventListener("load",e),n.src=t.src,function(){n.removeEventListener("load",e)}}}),[t.src]),r===t.src?(0,it.jsx)(Vd,nt({},t)):(0,it.jsx)("div",nt(nt({className:"place-holding-box"},t),{},{children:(0,it.jsxs)("div",{className:"place-holding-container",children:[(0,it.jsx)("span",{className:"place-holding-circle"}),(0,it.jsx)("span",{className:"place-holding-circle"}),(0,it.jsx)("span",{className:"place-holding-circle"}),(0,it.jsx)("span",{className:"place-holding-circle"})]})}))},wd={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"},image:{height:"50vh",width:"80wh"}},Xd=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,it.jsxs)(_s,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,it.jsx)(_s.Header,{children:(0,it.jsx)(_s.Title,{children:r})}),(0,it.jsx)(_s.Body,{children:a||(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(wI,{animation:"border",variant:"primary"}),"\uc608\uc57d\uc911\uc785\ub2c8\ub2e4..."]})}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{onClick:n,children:"\ud655\uc778"})})]})},Jd=function(e){var t=e.show,n=e.title,r=e.message,a=e.handleClose;return(0,it.jsxs)(_s,{show:t,onClose:a,children:[(0,it.jsx)(_s.Header,{children:n}),(0,it.jsx)(_s.Body,{children:r}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{onClick:a,children:"\ud655\uc778"})})]})},Yd=function(t){console.debug("GuestBookPage::props::".concat(JSON.stringify(t,null,2)));var n=Ce(),r=Ae();console.debug("GuestBookPage::location::".concat(JSON.stringify(n,null,2)));var a=i((0,e.useState)(0),2),g=a[0],o=a[1],l=i((0,e.useReducer)(wu,Zu,void 0),2),s=l[0],c=l[1],I=i((0,e.useState)(null),2),u=I[0],C=I[1],d=i((0,e.useState)(!1),2),A=d[0],h=d[1],m=i((0,e.useState)(WI()()),2),p=m[0],b=m[1],f=i((0,e.useState)(WI()("22:00","hh:mm")),2),y=f[0],Z=f[1],v="/staff/book"===window.location.pathname,G=v?["card","saved_money.d","transfer","notion","etc"]:["card","saved_money.d"],B=i((0,e.useState)(Date.now()),2),S=B[0],k=B[1];(0,e.useEffect)((function(){WI()(s.book_date,"YYYY:MM:DD").isoWeekday()>=6?(Nu().then((function(e){var t=WI()(e,"hh:mm:ss");WI()().isAfter(t)?b(WI()()):b(t)})),Fu().then((function(e){return Z(WI()(e,"hh:mm:ss"))}))):(xu().then((function(e){var t=WI()(e,"hh:mm:ss");WI()().isAfter(t)?b(WI()()):b(t)})),Hu().then((function(e){return Z(WI()(e,"hh:mm:ss"))}))),k(Date.now())}),[s.book_date]),(0,e.useEffect)((function(){s.start_time&&s.end_time&&s.room&&o(Oa(s.room.type,s.start_time,s.end_time))}),[s]),(0,e.useEffect)((function(){n.state?vu(c,n.state.user.username):r("/")}),[n.state,r]),(0,e.useEffect)((function(){Gu(c,WI()().format("YYYY-MM-DD"))}),[]),(0,e.useEffect)((function(){v&&(Su(c,"\uae30\ud0c0"),ku(c,-5),Wu(c,"immediately"))}),[v]),(0,e.useEffect)((function(){v||(Su(c,"\uae30\ud0c0"),ku(c,-4),Wu(c,"personal"))}),[v]);return(0,it.jsxs)(yt,{style:wd.container,children:[(0,it.jsx)(Rd,{style:wd.image,src:"/api/books/".concat(s.book_date,".png?_=").concat(S.valueOf())}),(0,it.jsx)(ud,{value:s.username}),v?s.book_date?(0,it.jsx)(Zd,{value:s.book_date,setValue:function(e){return function(e,t,n){var r=WI()("".concat(e,":").concat(t,":").concat(n),"YYYY:MM:DD");r.isBefore(WI()(),"date")?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ub0a0\uc9dc\uc785\ub2c8\ub2e4."):Gu(c,r.format("YYYY-MM-DD"))}(e.getFullYear(),e.getMonth()+1,e.getDate())}}):"loading":(0,it.jsx)(fd,{value:s.book_date}),(0,it.jsx)(Gd,{min_time:v?WI()("07:00","hh:mm"):p,max_time:v?WI()("23:00","hh:mm"):y,book_date:s.book_date,start_time:s.start_time,end_time:s.end_time,onSelectStartTime:function(e,t){var n=WI()("".concat(e,":").concat(t),"HH:mm");s.end_time&&n.isSameOrAfter(s.end_time)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):function(e,t){e({type:du,start_time:t})}(c,n)},onSelectEndTime:function(e,t){var n=WI()("".concat(e,":").concat(t),"HH:mm");s.start_time&&n.isSameOrBefore(s.start_time)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):function(e,t){e({type:Au,end_time:t})}(c,n)}}),v?(0,it.jsx)(Ju,{room:s.room,setRoom:function(e){return Bu(c,e)},date:s.book_date,start_time:s.start_time,end_time:s.end_time,disabled:!(s.start_time&&s.end_time)}):(0,it.jsx)(Sd,{room:s.room,setRoom:function(e){return Bu(c,e)},date:s.book_date,start_time:s.start_time,end_time:s.end_time,disabled:!(s.start_time&&s.end_time)}),(0,it.jsx)(ru,{paid:g,pay_type:s.pay_type,region:s.department,etc_reason:s.pay_type_etc_reason,setPayType:function(e){return Vu(c,e)},setEtcReason:function(e){return Ru(c,e)},disabled:!s.purpose,options:G}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(Gn,{as:pt,onClick:function(){return r("/staff/book"===window.location.pathname?"/books":"/")},variant:"secondary",children:"\ucde8\uc18c"}),(0,it.jsx)(Gn,{as:pt,onClick:function(){s?s.username?s.start_time&&s.end_time?s.room?s.department?s.people_no?s.pay_type?(C((0,it.jsx)(Xd,{show:!0,title:"\uc608\uc57d \uc2dc\ub3c4\uc911"})),Nc(null,n.state.user.user_id,s.book_date,s.start_time.format("HH:mm:ss"),s.end_time.format("HH:mm:ss"),s.room.type,s.room.no,s.people_no,s.department,s.pay_type,s.etc_reason,s.purpose).then((function(e){console.debug("GuestBookPage::handleOnClickBook::postBook::result::".concat(JSON.stringify(e,null,2))),A||(h(!0),iu(n.state.user.user_id,e.book_id,"web.guard",s.pay_type+(s.department?"."+s.department:""),g,s.pay_type_etc_reason,"plin.kiosk.book").then((function(t){console.log("GuestBookPage::handleOnClickBook::postBook::postPay::pay::".concat(JSON.stringify(t,null,2)));var a=n.state.user.user_id,g=e.book_id,o=t.pay_id;setTimeout.apply(void 0,[sd,500].concat([o,60,function(e){e.status===au?C((0,it.jsx)(Xd,{show:!0,title:e.title,message:e.message})):e.status===gu?(C((0,it.jsx)(Xd,{show:!0,title:e.title,message:e.message,handleClose:function(){return r(v?"/books":"/")}})),h(!1)):e.status===ou&&(C((0,it.jsx)(Xd,{show:!0,title:e.title,message:e.message,handleClose:function(){return C(null)}})),h(!1))},a,g]))})).catch((function(t){console.error(t),Fc(n.state.user.user_id,e.book_id,"Pay.Error").then((function(e){return console.log(e)})),C((0,it.jsx)(Jd,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:t?t.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return C(null)}}))})))})).catch((function(e){console.log(e.response.data),C((0,it.jsx)(Jd,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.data.message:"\ub2e4\uc2dc \uc2e0\uccad\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return C(null)}}))}))):alert("\uacb0\uc81c \uc815\ubcf4 \uc124\uc815 \ud544\uc694"):alert("\uc778\uc6d0 \uc124\uc815 \ud544\uc694"):alert("\uc9c0\uc5ed \uc124\uc815 \ud544\uc694"):alert("\ubc29 \uc124\uc815 \ud544\uc694"):alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694"):alert("QR \ube44\uc778\uc99d \uc811\uadfc"):alert("\ube44\uc815\uc0c1 \uc811\uadfc")},variant:"primary",children:"\uc2e0\uccad"})]}),u]})},xd="".concat("user","/").concat("update","/all"),Hd=function(e){return{type:xd,user:e}},Nd={user:{user_id:1}},Fd=(0,e.createContext)({}),Kd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nd,t=arguments.length>1?arguments[1]:void 0;return t.type===xd?nt(nt({},e),{},{user:t.user}):e},Md=function(t){var n=t.children,r=i((0,e.useReducer)(Kd,Nd,void 0),2),a={state:r[0],dispatch:r[1]};return(0,it.jsx)(Fd.Provider,{value:a,children:n})},Dd={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},Ed=function(){var t=Ce(),n=Ae(),r=(0,e.useContext)(Fd).dispatch,a=i((0,e.useState)(15),2),g=a[0],o=a[1],l=i((0,e.useState)(null),2),s=l[0],c=l[1];(0,e.useEffect)((function(){s&&"string"===typeof s&&qe(Oe().mark((function e(){var a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lc(s);case 3:(a=e.sent)?(r(Hd(a)),n(t.state.backref,{replace:!0,state:{user:a,qr_code:s}})):n("/",{replace:!0,state:{message:"\uc62c\ubc14\ub978 QR\uc774 \uc544\ub2d9\ub2c8\ub2e4."}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),n("/",{replace:!0,state:{message:"\uc62c\ubc14\ub978 QR\uc774 \uc544\ub2d9\ub2c8\ub2e4."}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[s]);return(0,e.useEffect)((function(){var e=window.location.pathname;setTimeout((function t(r){e===window.location.pathname&&(r>0?(o(r),setTimeout(t,1e3,r-1)):n("/"))}),1e3,g-1)}),[]),(0,e.useEffect)((function(){var e=window.setTimeout(qe(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/2/qr.txt");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,c(t.message);case 6:case"end":return e.stop()}}),e)}))),3e3);return function(){window.clearTimeout(e)}}),[]),(0,it.jsxs)(yt,{style:Dd.container,fluid:!0,children:[!s&&(0,it.jsx)("img",{src:"http://localhost:5000/api/users/2/qr.png",width:"50%",alt:"qr.png"}),(0,it.jsx)("div",{}),(0,it.jsx)("div",{children:(0,it.jsxs)("h1",{children:[g,"\ucd08 \ud6c4 \uba54\uc778\ud654\uba74\uc73c\ub85c \ubcf5\uadc0\ud569\ub2c8\ub2e4."]})})]})},zd=n.p+"static/media/qr-success.fe95e484c435a6154d9c.wav",Td=n.p+"static/media/qr-fail.20395adbf7ed96ccaed4.wav",Ld={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},Ud=function(){var t=new Audio(zd),n=new Audio(Td),r=i((0,e.useState)(null),2),a=r[0],g=r[1],o=i((0,e.useState)(null),2),l=o[0],s=o[1],c=i((0,e.useState)(!1),2),I=c[0],u=c[1],C=i((0,e.useState)(5),2),d=C[0],A=C[1],h=function(){var e=qe(Oe().mark((function e(r){var a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o=r.text,Ko.post("/api/auth/qr/enter",{},{headers:{Authorization:"QR ".concat(o)}}).then((function(e){return e.data}));case 5:(a=e.sent)&&(g(a),u(!0),t.play().catch((function(e){return console.error(e)}))),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),s(l.response.data),u(!0),n.play().catch((function(e){return console.error(e)}));case 14:case"end":return e.stop()}var o}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){u(!1),g(null),s(null),window.location.reload()};return(0,e.useEffect)((function(){var e=window.location.pathname,t=null;return t=setTimeout((function n(r){e!==window.location.pathname||I&&(r>0?(A(r),t=setTimeout(n,1e3,r-1)):m())}),1e3,3),function(){return clearTimeout(t)}}),[I]),(0,it.jsxs)(yt,{style:Ld.container,fluid:!0,children:[(0,it.jsx)(_C(),{delay:300,onError:function(e){return console.error(e)},onScan:h,style:{width:"50%"}}),(0,it.jsxs)(_s,{show:I,children:[(0,it.jsxs)(_s.Header,{children:[a?(0,it.jsx)(_s.Title,{children:"\uacb0\uacfc: \uc131\uacf5"}):null,l?(0,it.jsx)(_s.Title,{children:"\uacb0\uacfc: \uc2e4\ud328"}):null]}),a?(0,it.jsxs)(_s.Body,{children:[(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:"\uc774\ub984:"}),(0,it.jsx)(pt,{children:a.username})]}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:"\uc131\ubcc4:"}),(0,it.jsx)(pt,{children:a.gender%2?"\ub0a8\uc131":"\uc5ec\uc131"})]}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:"\uae30\ud0c0:"}),(0,it.jsx)(pt,{children:""})]})]}):null,l?(0,it.jsx)(_s.Body,{children:(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:"\uc548\ub0b4:"}),(0,it.jsx)(pt,{children:l.message})]})}):null,(0,it.jsx)(_s.Footer,{children:(0,it.jsxs)(Gn,{variant:"secondary",onClick:m,children:["\ub2eb\uae30(",d,")"]})})]})]})},jd=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],Qd=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.striped,g=e.bordered,o=e.borderless,i=e.hover,l=e.size,s=e.variant,c=e.responsive,I=at(e,jd),u=It(n,"table"),C=ot()(r,u,s&&"".concat(u,"-").concat(s),l&&"".concat(u,"-").concat(l),a&&"".concat(u,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),g&&"".concat(u,"-bordered"),o&&"".concat(u,"-borderless"),i&&"".concat(u,"-hover")),d=(0,it.jsx)("table",nt(nt({},I),{},{className:C,ref:t}));if(c){var A="".concat(u,"-responsive");return"string"===typeof c&&(A="".concat(A,"-").concat(c)),(0,it.jsx)("div",{className:A,children:d})}return d})),_d=Qd,Od=["min","now","max","label","visuallyHidden","striped","animated","className","style","variant","bsPrefix"],Pd=["isChild"],qd=["min","now","max","label","visuallyHidden","striped","animated","bsPrefix","variant","className","children"],$d=1e3;function eA(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(r*$d)/$d}function tA(e,t){var n,r=e.min,a=e.now,g=e.max,o=e.label,i=e.visuallyHidden,l=e.striped,s=e.animated,c=e.className,I=e.style,u=e.variant,C=e.bsPrefix,d=at(e,Od);return(0,it.jsx)("div",nt(nt({ref:t},d),{},{role:"progressbar",className:ot()(c,"".concat(C,"-bar"),(n={},(0,et.Z)(n,"bg-".concat(u),u),(0,et.Z)(n,"".concat(C,"-bar-animated"),s),(0,et.Z)(n,"".concat(C,"-bar-striped"),s||l),n)),style:nt({width:"".concat(eA(a,r,g),"%")},I),"aria-valuenow":a,"aria-valuemin":r,"aria-valuemax":g,children:i?(0,it.jsx)("span",{className:"visually-hidden",children:o}):o}))}var nA=e.forwardRef((function(t,n){var r=t.isChild,a=void 0!==r&&r,g=nt({min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1},at(t,Pd));if(g.bsPrefix=It(g.bsPrefix,"progress"),a)return tA(g,n);var o=g.min,i=g.now,l=g.max,s=g.label,c=g.visuallyHidden,I=g.striped,u=g.animated,C=g.bsPrefix,d=g.variant,A=g.className,h=g.children,m=at(g,qd);return(0,it.jsx)("div",nt(nt({ref:n},m),{},{className:ot()(A,C),children:h?xt(h,(function(t){return(0,e.cloneElement)(t,{isChild:!0})})):tA({min:o,now:i,max:l,label:s,visuallyHidden:c,striped:I,animated:u,bsPrefix:C,variant:d},n)}))}));nA.displayName="ProgressBar";var rA=nA,aA=[{department:"\uc815\ud1b5",card:1e4,donation_card:1e4,donation_etc:1e4,saved_money:5e3,transfer:1e3,etc:5e3}],gA={maximumFractionDigits:4},oA=function(e){var t=e.value,n=e.onClick;return(0,it.jsxs)("h1",{style:{width:"100%",textAlign:"center"},className:"button bg-primary text-white",onClick:n,children:[t,"\u25c0 \ud074\ub9ad\uc2dc \ubcc0\uacbd \uac00\ub2a5"]})},iA=function(e){var t=e.department,n=e.card,r=void 0===n?0:n,a=e.donation_card,g=void 0===a?0:a,o=e.donation_etc,i=void 0===o?0:o,l=e.saved_money,s=void 0===l?0:l,c=e.transfer,I=void 0===c?0:c,u=e.etc,C=void 0===u?0:u;e.variant;return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:t}),(0,it.jsx)("td",{children:r.toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{children:g.toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{children:i.toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{children:s.toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{children:I.toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{children:C.toLocaleString("ko-KR",gA)})]})},lA=function(t){var n=i((0,e.useState)(Date.now()),2),r=n[0],a=n[1],g=i((0,e.useState)(aA),2),o=g[0],l=g[1],s=i((0,e.useState)(!1),2),I=s[0],u=s[1],C=i((0,e.useState)(new Array(31).fill({date:WI()(),value:0})),2),d=C[0],A=C[1],h=i((0,e.useState)(0),2),m=h[0],p=h[1],b=function(e){A([]),p(0);var t=WI()(r),n=t.year(),a=t.month(),g=c(new Array(WI()(r).endOf("month").date())).map((function(e,t){return t+1})).map((function(e){return WI()().set("year",n).set("month",a).set("date",Number(e))})),o=function(e){return"confirm"===e.status},i=function(e){var t=Pa(e),n=t.t;return{department:t.department,card:"card"===n?e.paid:0,donation_card:"donation.card"===n?e.paid:0,donation_etc:"donation.etc"===n?e.paid:0,saved_money:"saved_money.d"===n?e.paid:0,transfer:"transfer"===n?e.paid:0,etc:"etc"===n?e.paid:0}},l=function(e){return{department:e[0],card:Z(e[1],"card"),donation_card:Z(e[1],"donation_card"),donation_etc:Z(e[1],"donation_etc"),saved_money:Z(e[1],"saved_money"),transfer:Z(e[1],"transfer"),etc:Z(e[1],"etc")}};console.log(n,a,g),qe(Oe().mark((function e(){var t,n,r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=(0,y.Z)(g),e.prev=2,a=Oe().mark((function e(){var n,a,s,c,I;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.value,e.next=3,su(n.format("yyyy-MM-DD"));case 3:a=e.sent,s=function(e){return WI()(e.created).add(9,"hour").isSame(n,"day")},c=Object.entries(v(a.filter(o).filter(s).map(i),"department")).sort((function(e,t){return e[0].localeCompare(t[0])})).map(l),I=function(e){return c.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)-2*c.filter((function(e){return/refund.+/.test(e.department)})).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)},t.push({date:n,study:I("card")+I("transfer"),donation:I("donation_card")+I("donation_etc")}),p(Math.round(t.length/g.length*100));case 9:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:A(t),u(!1);case 19:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()};(0,e.useEffect)((function(){u(!0),qe(Oe().mark((function e(){var t,n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=WI()(r).format("yyyy-MM-DD"),e.next=3,su(t);case 3:n=e.sent,a=n,l(Object.entries(v(a.filter((function(e){return"confirm"===e.status})).filter((function(e){return WI()(e.created).add(9,"hour").isSame(WI()(r),"day")})).map((function(e){var t=Pa(e),n=t.t;return{department:t.department,card:"card"===n?e.paid:0,donation_card:"donation.card"===n?e.paid:0,donation_etc:"donation.etc"===n?e.paid:0,saved_money:"saved_money.d"===n?e.paid:0,transfer:"transfer"===n?e.paid:0,etc:"etc"===n?e.paid:0}})),"department")).sort((function(e,t){return e[0].localeCompare(t[0])})).map((function(e){return{department:e[0],card:Z(e[1],"card"),donation_card:Z(e[1],"donation_card"),donation_etc:Z(e[1],"donation_etc"),saved_money:Z(e[1],"saved_money"),transfer:Z(e[1],"transfer"),etc:Z(e[1],"etc")}}))),b();case 6:case"end":return e.stop()}var a}),e)})))()}),[r]);var f=function(e){return o.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)-2*o.filter((function(e){return/refund.+/.test(e.department)})).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)},Z=function(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return e+t}),0)},v=function(e,t){return e.reduce((function(e,n){var r=n[t];return void 0===e[r]&&(e[r]=[]),e[r].push(n),e}),{})};return(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)(yt,{children:[(0,it.jsx)(qs,{children:(0,it.jsx)(pt,{lg:{span:8,offset:1},children:(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:r,onChange:a,customInput:(0,it.jsx)(oA,{})})})}),(0,it.jsx)(rA,{now:m}),(0,it.jsxs)(_d,{striped:!0,bordered:!0,hover:!0,children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc774\ub984"}),(0,it.jsx)("th",{children:"\ucd1d \ub9e4\ucd9c"}),(0,it.jsx)("th",{children:"\uc21c\uc774\uc775"})]})}),(0,it.jsxs)("tbody",{children:[(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{colSpan:1,children:"\uc2a4\ud130\ub514\ub8f8"}),(0,it.jsx)("td",{colSpan:1,children:(f("card")+f("transfer")).toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{colSpan:1,children:"-"})]}),(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{colSpan:1,children:"\uc801\ub9bd"}),(0,it.jsx)("td",{colSpan:1,children:(f("donation_card")+f("donation_etc")).toLocaleString("ko-KR",gA)}),(0,it.jsx)("td",{colSpan:1,children:"-"})]})]})]}),(0,it.jsxs)(_d,{striped:!0,bordered:!0,hover:!0,children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc9c0\uc5ed"}),(0,it.jsx)("th",{children:"\uce74\ub4dc \uacb0\uc81c"}),(0,it.jsx)("th",{children:"\uc801\ub9bd(\uce74\ub4dc)"}),(0,it.jsx)("th",{children:"\uc801\ub9bd(\uae30\ud0c0)"}),(0,it.jsx)("th",{children:"\uc801\ub9bd\uae08 \uc0ac\uc6a9"}),(0,it.jsx)("th",{children:"\uc774\uccb4"}),(0,it.jsx)("th",{children:"\uae30\ud0c0"})]})}),(0,it.jsxs)("tbody",{children:[o.map((function(e){return(0,it.jsx)(iA,{department:e.department,card:e.card,donation_card:e.donation_card,donation_etc:e.donation_etc,saved_money:e.saved_money,transfer:e.transfer,etc:e.etc})})),(0,it.jsx)("tr",{children:(0,it.jsx)("td",{colSpan:7,children:""})}),(0,it.jsx)(iA,{department:"\uc804\uccb4",card:f("card"),donation_card:f("donation_card"),donation_etc:f("donation_etc"),saved_money:f("saved_money"),transfer:f("transfer"),etc:f("etc")}),(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{colSpan:4,children:"\uc804\uccb4 \ud569(\uce74\ub4dc + \uc801\ub9bd(\uce74\ub4dc + \uae30\ud0c0) + \uc774\uccb4 - \uc801\ub9bd \uae08\uc561 \uc81c\uc678)"}),(0,it.jsx)("td",{colSpan:3,children:(f("card")+f("donation_card")+f("donation_etc")+f("transfer")).toLocaleString("ko-KR",gA)})]})]})]}),(0,it.jsxs)(_d,{children:[(0,it.jsxs)("thead",{children:[(0,it.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,it.jsx)("th",{children:"\ub300\uad00"}),(0,it.jsx)("th",{children:"\uc801\ub9bd"})]}),(0,it.jsx)("tbody",{children:I?(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:(0,it.jsx)(wI,{animation:"border"})}),(0,it.jsx)("td",{children:(0,it.jsx)(wI,{animation:"border"})}),(0,it.jsx)("td",{children:(0,it.jsx)(wI,{animation:"border"})})]}):d.map((function(e,t){return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:e.date.format("yyyy-MM-DD")}),(0,it.jsx)("td",{children:e.study}),(0,it.jsx)("td",{children:e.donation})]})}))})]})]})]})},sA=function(t){var n=t.users,r=t.rentals,a=t.lockers,g=t.handleSave,o=t.defaultData,l=void 0===o?void 0:o,s=i((0,e.useState)({user_id:1,locker_id:1,rental_period:1,department:"",deposit:0,id_picture:"REGIST",rental_key:1,payment_required:!0,licenser_id:1}),2),c=s[0],I=s[1],u=i((0,e.useState)("1"),2),C=u[0],d=u[1];(0,e.useEffect)((function(){l?(I(l),d("".concat(l.user_id))):(I({user_id:1,locker_id:1,rental_period:1,department:"\uae30\ud0c0",deposit:0,id_picture:"REGIST",rental_key:1,payment_required:!0,licenser_id:1}),d("1"))}),[l]);var A=0===n.filter((function(e){return e.user_id===c.user_id})).length?{}:n.filter((function(e){return e.user_id===c.user_id}))[0],h=function(e){return 0!==r.filter((function(t){return t.locker_id===e})).length},m=a.filter((function(e){return!e.unavailable})).map((function(e){return(0,it.jsx)("option",{value:"".concat(e.locker_id),selected:e.locker_id===c.locker_id,disabled:h(e.locker_id),children:(t=e,"[\uadf8\ub8f9:".concat(t.location_group," - ").concat(t.location_y,"\ud589 ").concat(t.location_x,"\uc5f4] ").concat(t.locker_num,"\ubc88 \uc0ac\ubb3c\ud568 ").concat(h(t.locker_id)?"(\ub300\uc5ec\ub428)":""))});var t}));return(0,e.useEffect)((function(){var e=Number(C);if(""===C)I(nt(nt({},c),{},{user_id:1,user:{}}));else if(Number.isInteger(e)){var t=n.filter((function(t){return t.user_id===e}));if(0===t.length)return;I(nt(nt({},c),{},{user_id:t[0].user_id,user:t[0]}))}else{var r=n.filter((function(e){return e.num===C}));if(0===r.length)return;I(nt(nt({},c),{},{user_id:r[0].user_id,user:r[0]}))}}),[C]),(0,it.jsxs)(mn,{children:[(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"formLockerSelect",children:[(0,it.jsx)(mn.Label,{children:"\uc0ac\ubb3c\ud568\uc744 \uc120\ud0dd\ud558\uc2dc\uc624."}),(0,it.jsx)(mn.Select,{onChange:function(e){return I(nt(nt({},c),{},{locker_id:Number(e.target.value)}))},disabled:l,value:c.locker_id,children:m})]}),(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"formUserId",children:[(0,it.jsxs)(mn.Label,{children:["\uc0ac\uc6a9\uc790 ID\ub97c \uc785\ub825\ud558\uc2dc\uc624",A.username&&"(\uc120\ud0dd: [".concat(A.user_id,"] ").concat(A.username,")")]}),(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc0ac\uc6a9\uc790 ID \ub610\ub294 \uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud558\uc2dc\uc624.",onChange:function(e){return d(e.target.value)},disabled:l,value:C}),(0,it.jsx)(mn.Text,{className:"text-muted",children:"\ud574\ub2f9\ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ucc3e\uc9c0 \ubabb\ud55c\ub2e4\uba74 \uac00\uc7a5 \ub9c8\uc9c0\ub9c9\uc5d0 \ucc3e\uc740 \uc0ac\uc6a9\uc790\uac00 \uc120\ud0dd\ub429\ub2c8\ub2e4."})]}),(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"formRentalPeriod",children:[(0,it.jsx)(mn.Label,{children:"\uc784\ub300 \uac1c\uc6d4"}),(0,it.jsxs)(mn.Select,{"aria-label":"Locker Select",disabled:l,onChange:function(e){return I(nt(nt({},c),{},{rental_period:Number(e.target.value)}))},children:[(0,it.jsx)("option",{value:"1",selected:1===c.rental_period,children:"1\uac1c\uc6d4"}),(0,it.jsx)("option",{value:"2",selected:2===c.rental_period,children:"2\uac1c\uc6d4"}),(0,it.jsx)("option",{value:"3",selected:3===c.rental_period,children:"3\uac1c\uc6d4"}),(0,it.jsx)("option",{value:"4",selected:4===c.rental_period,children:"4\uac1c\uc6d4"}),(0,it.jsx)("option",{value:"5",selected:5===c.rental_period,children:"5\uac1c\uc6d4"}),(0,it.jsx)("option",{value:"6",selected:6===c.rental_period,children:"6\uac1c\uc6d4"})]})]}),(0,it.jsxs)(mn.Group,{className:"mb-3",controlId:"formDeposit",children:[(0,it.jsx)(mn.Label,{children:"\ubcf4\uc99d\uae08"}),(0,it.jsx)(mn.Control,{type:"number",placeholder:"\ubcf4\uc99d\uae08 \uc785\ub825",onChange:function(e){return I(nt(nt({},c),{},{deposit:Number(e.target.value)}))},value:"".concat(c.deposit)}),(0,it.jsx)(mn.Text,{className:"text-muted",children:"\uc5c6\ub2e4\uba74 0\uc744 \uc785\ub825\ud558\uc2dc\uc624"})]}),(0,it.jsxs)("div",{className:"mb-3",children:[(0,it.jsx)(mn.Label,{children:"\uc5f4\uc1e0: "}),(0,it.jsx)(mn.Check,{label:"\ubcf4\uad00",name:"group-key",type:"radio",id:"inline-radio-1",onChange:function(){return I(nt(nt({},c),{},{rental_key:0}))},defaultChecked:0===c.rental_key}),(0,it.jsx)(mn.Check,{label:"\ub300\uc5ec",name:"group-key",type:"radio",id:"inline-radio-2",onChange:function(){return I(nt(nt({},c),{},{rental_key:1}))},defaultChecked:1===c.rental_key}),(0,it.jsx)(mn.Check,{label:"\ubd84\uc2e4",name:"group-key",type:"radio",id:"inline-radio-3",onChange:function(){return I(nt(nt({},c),{},{rental_key:2}))},defaultChecked:2===c.rental_key})]}),(0,it.jsx)(mn.Group,{className:"mb-3",controlId:"formPaymentRequired",children:(0,it.jsx)(mn.Check,{type:"checkbox",label:"\uae30\ud55c\uc774 \ub05d\ub09c\ud6c4 \ube44\uc6a9\uc744 \ub0b4\uc57c\ud569\ub2c8\ub2e4.",onChange:function(){return I(nt(nt({},c),{},{payment_required:!c.payment_required}))},checked:c.payment_required})}),(0,it.jsx)(Gn,{variant:"primary",onClick:function(){return g(c)},children:l?"\uc218\uc815":"\ub4f1\ub85d"})]})},cA=function(e){return Ko.get("/api/locker",{params:{locker_id:e}})},IA={created:WI()("2022-04-26T07:36:40"),deadline:WI()("2022-05-15T07:36:40"),department:"\ud14c\uc2a4\ud2b8",deposit:0,locker_id:1,locker_rental_id:1,payment_required:!0,user_id:2,user:{age:27,birthday:"960306",chat_id:123412345,created:"2023-01-01T00:00:00",delete_que:"",department:"",gender:1,grade:20,modified:"2023-01-01T00:01:01",num:"010-1234-1234",sms:1,status:0,tg_name:null,user_id:2,username:"\uae40\uaddc\ud615",valid:!0},locker:{location_group:1,location_x:1,location_y:1,locker_id:1,locker_num:1,main_key:1,spare_key:0,unavailable:!1},vitalization:!0},uA={location:[{group_id:1,x:4,y:6},{group_id:2,x:2,y:2}]},CA=function(){var t=i((0,e.useState)(!1),2),n=t[0],r=t[1],a=i((0,e.useState)(""),2),g=a[0],o=a[1],l=i((0,e.useState)([IA]),2),s=l[0],c=l[1],I=i((0,e.useState)(IA),2),u=I[0],C=I[1],d=i((0,e.useState)([]),2),A=d[0],h=d[1],m=i((0,e.useState)([]),2),p=m[0],b=m[1],f=i((0,e.useState)(uA),2),y=f[0],Z=(f[1],i((0,e.useState)(1),2)),v=Z[0],G=Z[1];(0,e.useEffect)((function(){return W()}),[]),(0,e.useEffect)((function(){return k()}),[]),(0,e.useEffect)((function(){return S()}),[]);(0,e.useEffect)((function(){s.length>0&&C(s[0])}),[s]);var B,S=function(){gc(sessionStorage.getItem("Authorization")).then((function(e){return b(e)}))},k=function(){cA(0).then((function(e){return e.data})).then((function(e){return e.data})).then((function(e){return h(e)}))},W=function(){var e;(e=0,Ko.get("/api/locker/".concat(e))).then((function(e){return e.data})).then((function(e){return e.data})).then((function(e){return e.filter((function(e){return e.vitalization}))})).then((function(e){e.forEach((function(e){e.created=WI()(e.created).add(9,"h"),e.deadline=WI()(e.deadline).add(9,"h")})),Promise.all(e.map((function(e){return cA(e.locker_id).then((function(e){return e.data}))}))).then((function(t){e.forEach((function(e){e.locker=t.filter((function(t){return t.locker_id===e.locker_id}))[0]}))})).then((function(){Promise.all(e.map((function(e){return oc(sessionStorage.getItem("Authorization"),e.user_id)}))).then((function(t){e.forEach((function(e){e.user=t.filter((function(t){return t.user_id===e.user_id}))[0]})),c(e)}))}))}))},V=function(e){o(e?e.deadline.format("YYYY-MM-DD"):u.deadline.format("YYYY-MM-DD")),r(!0)},R=function(){var e,t;if(window.confirm("".concat(u.user.username,"\ub2d8\uc758 \ub300\uc5ec\ub97c \uc885\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))try{(e=u.locker_rental_id,t=!1,Ko.put("/api/locker/".concat(e),{vitalization:t})).then((function(){return W()})).catch((function(){alert("\ubcc0\uacbd \uc2e4\ud328")})),r(!1)}catch(IB){alert("\uc62c\ubc14\ub978 \uc785\ub825\uc774 \uc544\ub2d9\ub2c8\ub2e4.")}},w=function(e){var t,r,a=y.location.filter((function(t){return t.group_id===e}));0===a.length?s.filter((function(t){return t.locker.location_group===e})).map((function(e){(!t||e.locker.location_x>t)&&(t=e.locker.location_x),(!r||e.locker.location_y>r)&&(r=e.locker.location_y)})):(a=a[0],t=a.x,r=a.y);for(var g=[],o=function(a){for(var o=[],i=function(t){var g,i=s.filter((function(n){return n.locker.location_group===e&&n.locker.location_x===t+1&&n.locker.location_y===a+1})),l=a+1+t*r;if(i.length){var c="success";(i=i[0]).deadline.isBefore(WI()())&&(c="danger"),i.payment_required||(c="secondary");var I=n?"".concat(l).padStart(2,"0"):"[".concat(l,"\ubc88][").concat(i.department,"] ").concat(i.user.username),d=n?{borderInlineWidth:"0.5rem"}:{};g=(0,it.jsx)(BC,{bg:c,text:"white",onClick:function(){C(i),V(i)},border:u.locker_rental_id===i.locker_rental_id?"info":"",style:d,children:(0,it.jsx)(BC.Body,{children:(0,it.jsx)(BC.Title,{children:I})})})}else{var A=n?"".concat(l).padStart(2,"0"):"[".concat(l,"\ubc88]\uc5c6\uc74c");g=(0,it.jsx)(BC,{bg:"dark",text:"white",children:(0,it.jsx)(BC.Body,{children:(0,it.jsx)(BC.Title,{children:A})})})}var h=n?{paddingLeft:"1px",paddingRight:"1px"}:{};o.push((0,it.jsx)(pt,{style:h,children:g}))},l=0;l<t;l++)i(l);var c=n?{marginTop:"1px",marginBottom:"1px"}:{marginTop:"5px",marginBottom:"5px"};g.push((0,it.jsx)(qs,{style:c,children:o}))},i=0;i<r;i++)o(i);return g};return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)(yt,{children:[(0,it.jsx)(qs,{style:{textAlign:"center"},children:(0,it.jsxs)("h1",{children:["\uc0ac\ubb3c\ud568 \uc704\uce58 \uadf8\ub8f9"," ",(0,it.jsxs)(Na,{className:"d-inline-block",onSelect:function(e){return G(Number(e))},children:[(0,it.jsx)(Na.Toggle,{size:"lg",children:"".concat(v,"\ubc88")}),(0,it.jsxs)(Na.Menu,{children:[(0,it.jsx)(Na.Item,{eventKey:"1",children:"1\ubc88"}),(0,it.jsx)(Na.Item,{eventKey:"2",children:"2\ubc88"})]})]})]})}),n?null:(0,it.jsx)(yt,{children:w(v)}),(0,it.jsx)(qs,{children:(0,it.jsx)(pt,{children:(0,it.jsx)("div",{style:{width:10,height:10}})})}),(0,it.jsxs)(qs,{children:[n&&(0,it.jsx)(pt,{style:{maxWidth:"300px"},children:w(v)}),(0,it.jsxs)(pt,{children:[(0,it.jsx)(BC,{children:(0,it.jsxs)(BC.Body,{children:[(0,it.jsx)(BC.Title,{children:function(e){return"[\uadf8\ub8f9:".concat(e.location_group," - ").concat(e.location_y,"\ud589 ").concat(e.location_x,"\uc5f4] ").concat(e.locker_num,"\ubc88 \uc0ac\ubb3c\ud568 ").concat((t=e.locker_id,0!==s.filter((function(e){return e.locker_id===t})).length?"(\ub300\uc5ec\ub428)":""));var t}(u.locker)}),(0,it.jsxs)(BC.Text,{children:["\ub300\uc5ec \uc9c0\uc5ed: ",u.department]}),(0,it.jsxs)(BC.Text,{children:["\ub300\uc5ec \uc0ac\uc6a9\uc790:"," ","".concat(u.user.username,"(").concat(u.user.num,")")]}),(0,it.jsxs)(BC.Text,{children:["\uc5f4\uc1e0: ",(B=u.locker.main_key,0===B?"\ubcf4\uc720":1===B?"\ub300\uc5ec":2===B?"\ubd84\uc2e4":"\uc54c \uc218 \uc5c6\uc74c")]}),(0,it.jsxs)(BC.Text,{children:["\ub300\uc5ec\uc2dc\uc791\uc77c: ",u.created.format("YYYY-MM-DD")]}),(0,it.jsxs)(BC.Text,{children:["\ub300\uc5ec\ub9c8\uac10\uc77c:"," ",u.deadline.format("YYYY-MM-DD")+" \uae4c\uc9c0"]}),n&&(0,it.jsxs)(_a,{children:[(0,it.jsx)(mn.Control,{value:g,onChange:function(e){return o(e.target.value)},autoFocus:!0,placeholder:"YYYY-MM-DD"}),(0,it.jsx)(_a.Text,{children:"\uc73c\ub85c \uc218\uc815"})]}),(0,it.jsxs)(BC.Text,{children:["\ub300\uc5ec: ",u.vitalization?"\ub300\uc5ec\uc911":"\uc885\ub8cc\ub428"]}),(0,it.jsxs)(BC.Text,{children:["\ube44\uc6a9:"," ",u.payment_required?"\uc9c0\ubd88\ud568":"\uc9c0\ubd88\uc548\ud568"]}),(0,it.jsxs)(BC.Text,{children:["\ubcf4\uc99d\uae08: ",u.deposit," \uc6d0"]})]})}),n?(0,it.jsxs)(it.Fragment,{children:[(0,it.jsx)(Gn,{onClick:function(){return r(!1)},variant:"secondary",children:"\ucde8\uc18c"}),(0,it.jsx)(Gn,{onClick:function(){return R()},variant:"danger",children:"\ub300\uc5ec\uc885\ub8cc"})]}):(0,it.jsx)(Gn,{onClick:function(){return V()},children:"\uc218\uc815"})]}),(0,it.jsx)(pt,{children:n?(0,it.jsx)(sA,{users:p,rentals:s,lockers:A,handleSave:function(e){var t,n,a,o,i,l,s="".concat(g,"T").concat(u.deadline.subtract(9,"h").format("hh:mm:ss"));try{WI()(s),(t=u.locker_rental_id,n=e.locker_id,a=s,o=e.rental_key,i=e.payment_required,l=e.deposit,Ko.put("/api/locker/".concat(t),{deadline:a,locker_id:n,rental_key:o,payment_required:i,deposit:l})).then((function(){return W()})).catch((function(){alert("\ubcc0\uacbd \uc2e4\ud328")})),r(!1)}catch(IB){alert("\uc62c\ubc14\ub978 \uc785\ub825\uc774 \uc544\ub2d9\ub2c8\ub2e4.")}},defaultData:{user_id:u.user_id,locker_id:u.locker_id,rental_period:0,department:u.department,deposit:u.deposit,id_picture:"EDIT",rental_key:u.locker.main_key,payment_required:u.payment_required,licenser_id:1}}):(0,it.jsx)(sA,{users:p,rentals:s,lockers:A,handleSave:function(e){var t,n,r,a,g,o,i,l,s;(t=e.user_id,n=e.locker_id,r=e.department,a=e.rental_period,g=e.deposit,o=e.id_picture,i=e.rental_key,l=e.payment_required,s=e.licenser_id,Ko.post("/api/locker",{user_id:t,locker_id:n,department:r,rental_period:a,deposit:g,id_picture:o,rental_key:i,payment_required:l,licenser_id:s})).then((function(e){W(),alert("\ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4(id: ".concat(e.data.locker_rental_id,")"))}))}})})]})]})]})};Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};var dA=[{name:"ID",selector:function(e,t){return e.coupon_id}},{name:"\uc804\ud654\ubc88\ud638",selector:function(e,t){return e.tel},sortable:!0},{name:"\uc0c1\ud0dc",selector:function(e,t){return"usable"===e.status?"\uc801\ub9bd":"used"===e.status?"\uc0ac\uc6a9":"expire"===e.status?"\uae30\ud55c \ucd08\uacfc":"\uc54c \uc218 \uc5c6\uc74c"},sortable:!0},{name:"\uac2f\uc218",selector:function(e,t){return e.amount},sortable:!0},{name:"\uc77c\uc2dc",selector:function(e,t){return new Intl.DateTimeFormat("kr").format(new Date(e.created).addHours(9))},hide:"md"}],AA=function(){var t=i((0,e.useState)(""),2),n=t[0],r=t[1],a=i((0,e.useState)([]),2),g=a[0],o=a[1],l=i((0,e.useState)([]),2),s=l[0],c=l[1];(0,e.useEffect)((function(){var e={request_type:"all",device_id:2};qe(Oe().mark((function t(){var n;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ko.get("/api/coupons",{params:e});case 2:n=t.sent,o(n.data.data);case 4:case"end":return t.stop()}}),t)})))()}),[]),(0,e.useEffect)((function(){c([]);var e=I();qe(Oe().mark((function t(){var n,r;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e.map((function(e){return Ko.get("/api/coupons",{params:{request_type:"view",device_id:2,tel:e}})})));case 2:n=t.sent,r=n.map((function(t,n){return{tel:e[n],coupon_count:t.value.data.coupon_count}})),c(r);case 5:case"end":return t.stop()}}),t)})))()}),[n]);var I=function(){if(n.length<4)return[];var e=[];return g.filter((function(e){return e.tel.endsWith(n)})).forEach((function(t){return e.includes(t.tel)?null:e.push(t.tel)})),e};return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)(yt,{children:[(0,it.jsxs)(yt,{children:[(0,it.jsx)(qs,{style:{minHeight:"10px"}}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{children:"\uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694: "}),(0,it.jsx)(pt,{children:(0,it.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n})})]}),s.length>0&&(0,it.jsxs)(_d,{children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\ubc88\ud638"}),(0,it.jsx)("th",{children:"\ucfe0\ud3f0 \uac2f\uc218"})]})}),(0,it.jsx)("tbody",{children:s.map((function(e,t){return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:e.tel}),(0,it.jsx)("td",{children:"".concat(e.coupon_count)})]},t)}))})]})]}),(0,it.jsx)(To.ZP,{columns:dA,data:n?g.filter((function(e){return e.tel.endsWith(n)})):g,title:"\ucfe0\ud3f0 \uae30\ub85d",progressPending:!Boolean(g),pagination:!0})]})]})};function hA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ko.get("/api/commute",{params:{action:e,date:t,user_id:n},headers:{Authorization:sessionStorage.getItem("Authorization")}}).then((function(e){return e.data}))}function mA(e,t,n){return Ko.post("/api/commute",{action:e,qr_code:t,record:n},{}).then((function(e){return e.data}))}var pA,bA=Math.pow(2,31)-1;function fA(e,t,n){var r=n-Date.now();e.current=r<=bA?setTimeout(t,r):setTimeout((function(){return fA(e,t,n)}),bA)}function yA(){var t=En(),n=(0,e.useRef)();return cl((function(){return clearTimeout(n.current)})),(0,e.useMemo)((function(){var e=function(){return clearTimeout(n.current)};return{set:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t()&&(e(),a<=bA?n.current=setTimeout(r,a):fA(n,r,Date.now()+a))},clear:e}}),[])}var ZA=(pA={},(0,et.Z)(pA,Ri,"showing"),(0,et.Z)(pA,Xi,"showing show"),pA),vA=e.forwardRef((function(e,t){return(0,it.jsx)(Vl,nt(nt({},e),{},{ref:t,transitionClasses:ZA}))}));vA.displayName="ToastFade";var GA=vA,BA=e.createContext({onClose:function(){}}),SA=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],kA=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.closeLabel,g=void 0===a?"Close":a,o=t.closeVariant,i=t.closeButton,l=void 0===i||i,s=t.className,c=t.children,I=at(t,SA);r=It(r,"toast-header");var u=(0,e.useContext)(BA),C=Hn((function(e){null==u||null==u.onClose||u.onClose(e)}));return(0,it.jsxs)("div",nt(nt({ref:n},I),{},{className:ot()(r,s),children:[c,l&&(0,it.jsx)(El,{"aria-label":g,variant:o,onClick:C,"data-dismiss":"toast"})]}))}));kA.displayName="ToastHeader";var WA=kA,VA=["className","bsPrefix","as"],RA=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,a=e.as,g=void 0===a?"div":a,o=at(e,VA);return r=It(r,"toast-body"),(0,it.jsx)(g,nt({ref:t,className:ot()(n,r)},o))}));RA.displayName="ToastBody";var wA=RA,XA=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","onEntered","onExit","onExiting","onEnter","onEntering","onExited","bg"],JA=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,g=t.transition,o=void 0===g?GA:g,i=t.show,l=void 0===i||i,s=t.animation,c=void 0===s||s,I=t.delay,u=void 0===I?5e3:I,C=t.autohide,d=void 0!==C&&C,A=t.onClose,h=t.onEntered,m=t.onExit,p=t.onExiting,b=t.onEnter,f=t.onEntering,y=t.onExited,Z=t.bg,v=at(t,XA);r=It(r,"toast");var G=(0,e.useRef)(u),B=(0,e.useRef)(A);(0,e.useEffect)((function(){G.current=u,B.current=A}),[u,A]);var S=yA(),k=!(!d||!l),W=(0,e.useCallback)((function(){k&&(null==B.current||B.current())}),[k]);(0,e.useEffect)((function(){S.set(W,G.current)}),[S,W]);var V=(0,e.useMemo)((function(){return{onClose:A}}),[A]),R=!(!o||!c),w=(0,it.jsx)("div",nt(nt({},v),{},{ref:n,className:ot()(r,a,Z&&"bg-".concat(Z),!R&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,it.jsx)(BA.Provider,{value:V,children:R&&o?(0,it.jsx)(o,{in:l,onEnter:b,onEntering:f,onEntered:h,onExit:m,onExiting:p,onExited:y,unmountOnExit:!0,children:w}):w})}));JA.displayName="Toast";var YA=Object.assign(JA,{Body:wA,Header:WA}),xA=["bsPrefix","position","containerPosition","className","as"],HA={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},NA=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.position,a=e.containerPosition,g=e.className,o=e.as,i=void 0===o?"div":o,l=at(e,xA);return n=It(n,"toast-container"),(0,it.jsx)(i,nt(nt({ref:t},l),{},{className:ot()(n,r&&HA[r],a&&"position-".concat(a),g)}))}));NA.displayName="ToastContainer";var FA=NA,KA={ERROR:"error",NOT_ENTER:"not_enter",NOT_EXIT:"not_exit",EXITED:"exited",toColor:function(e){switch(e){case"error":return"danger";case"not_enter":return"secondary";case"not_exit":return"primary";case"exited":return"success";default:return null}}};Object.freeze(KA);var MA=function(t){var n=t.update,r=t.setUpdate,a=i((0,e.useState)(!0),2),g=a[0],o=a[1],l=i((0,e.useState)([]),2),s=l[0],c=l[1],I=WI()().format("YYYY-MM-DD");(0,e.useEffect)((function(){gc(sessionStorage.getItem("Authorization")).then((function(e){return e.filter((function(e){return e.grade>=15}))})).then((function(e){return e.filter((function(e){return 1!==e.user_id}))})).then(u)}),[]);var u=function(e){Promise.allSettled(e.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA("person",I,t.user_id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){return t.map((function(t,n){var r=e[n];if("fulfilled"!==t.status)r.status=KA.ERROR;else if(0===t.value.data.length)r.status=KA.NOT_ENTER;else{var a=t.value.data.pop();r.status=a.exit_time?KA.EXITED:KA.NOT_EXIT,r.enter_time=a.enter_time?WI()(a.enter_time).subtract(9,"hour"):null,r.exit_time=a.exit_time?WI()(a.exit_time).subtract(9,"hour"):null}return r}))})).then((function(e){return c(e)})).then((function(){return o(!1)}))},C=function(){var e=qe(Oe().mark((function e(a){var g,i,l,c,I,C,d,A;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=a.status===KA.NOT_EXIT,i=a.status===KA.NOT_EXIT?"exit":"enter",l="".concat(a.username,"\ub2d8, ").concat(a.status===KA.NOT_EXIT?"\ud1f4\uadfc":"\ucd9c\uadfc","\ud558\uc2dc\ub098\uc694?"),window.confirm(l)){e.next=5;break}return e.abrupt("return");case 5:if(c="\ubaa8\ub984",a.status===KA.NOT_EXIT){e.next=20;break}if(!window.confirm("\uc624\ud508\uc778\uac00\uc694?")){e.next=11;break}c="\uc624\ud508",e.next=20;break;case 11:if(!window.confirm("\ubbf8\ub4e4\uc778\uac00\uc694?")){e.next=15;break}c="\ubbf8\ub4e4",e.next=20;break;case 15:if(!window.confirm("\ub9c8\uac10\uc778\uac00\uc694?")){e.next=19;break}c="\ub9c8\uac10",e.next=20;break;case 19:return e.abrupt("return",window.alert("\uc62c\ubc14\ub978 \uc120\ud0dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."));case 20:return e.next=22,h=a.user_id,Ko.get("/api/users/".concat(h,"/qr.txt")).then((function(e){return e.data.message}));case 22:return I=e.sent,e.next=25,mA(i,I,c);case 25:"okay"===e.sent.message?(C="".concat(g?"\ud1f4\uadfc":"\ucd9c\uadfc","!"),"\ud655\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",t.showToast(C,"\ud655\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):(d="".concat(g?"\ud1f4\uadfc":"\ucd9c\uadfc"," \uc624\ub958!"),A="".concat(g?"\ud1f4\uadfc":"\ucd9c\uadfc","\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),t.showToast(d,A,"danger")),o(!0),u(s),r(n+1);case 30:case"end":return e.stop()}var h}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){switch(e.status){case"error":return(0,it.jsx)(Jc,{bg:"danger",children:"\uc5d0\ub7ec"});case"not_enter":return(0,it.jsx)(Jc,{bg:"secondary",children:"\ubaa8\ub984"});case"not_exit":return(0,it.jsx)(Jc,{bg:"primary",children:"\ucd9c\uadfc"});case"exited":return(0,it.jsx)(Jc,{bg:"success",children:"\ud1f4\uadfc"});default:return null}};return(0,it.jsxs)(pt,{children:[(0,it.jsx)(qs,{children:(0,it.jsx)("h1",{className:"text-center",children:"\uadfc\ud0dc \uad00\ub9ac"})}),(0,it.jsxs)(_d,{children:[(0,it.jsxs)("thead",{children:[(0,it.jsx)("th",{children:"\uc774\ub984"}),(0,it.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,it.jsx)("th",{children:"\ucd9c\uadfc \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\ud1f4\uadfc \uc2dc\uac04"})]}),(0,it.jsx)("tbody",{children:!g&&s?s.map((function(e){var t="";try{t="outline-".concat(KA.toColor(e.status))}catch(IB){console.error(IB)}return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:(0,it.jsx)(Gn,{size:"sm",variant:t,onClick:function(){return C(e)},children:e.username})}),(0,it.jsx)("td",{children:d(e)}),(0,it.jsx)("td",{children:e.enter_time?e.enter_time.format("HH:mm"):"-"}),(0,it.jsx)("td",{children:e.exit_time?e.exit_time.format("HH:mm"):"-"})]})})):(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{}),(0,it.jsx)("td",{}),(0,it.jsx)("td",{}),(0,it.jsx)("td",{})]})})]})]})},DA=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},EA=function(t){var n=t.update,r=i((0,e.useState)(!0),2),a=r[0],g=r[1],o=i((0,e.useState)(WI()()),2),l=o[0],s=o[1],c=i((0,e.useState)([]),2),I=c[0],u=c[1],C=i((0,e.useState)(!1),2),d=C[0],A=C[1],h=function(e){return{commute_id:e.commute_id,enter_time:WI()(e.enter_time),exit_time:WI()(e.exit_time),user:e.user,record:e.record}};return(0,e.useEffect)((function(){hA(d?"month":"date",l.format("YYYY-MM-DD")).then((function(e){return u(e.data.map(h))})).then((function(){return g(!1)}))}),[l,d,n]),(0,it.jsxs)(pt,{children:[(0,it.jsxs)(qs,{children:[(0,it.jsx)(pt,{md:8,children:(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:l.toDate(),onChange:function(e){g(!0),s(WI()(e))},customInput:(0,it.jsx)(DA,{}),disabled:a})}),(0,it.jsx)(pt,{md:4,children:(0,it.jsx)(Gn,{onClick:function(){g(!0),A(!d)},disabled:a,children:d?"\uc77c\ubcc4\ub85c \ubcc0\uacbd":"\uc6d4\ubcc4\ub85c \ubcc0\uacbd"})})]}),(0,it.jsxs)(_d,{children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc774\ub984"}),d&&(0,it.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,it.jsx)("th",{children:"\ucd9c\uadfc \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\ud1f4\uadfc \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\uae30\ub85d"})]})}),(0,it.jsx)("tbody",{children:a?(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{}),d&&(0,it.jsx)("td",{}),(0,it.jsx)("td",{}),(0,it.jsx)("td",{})]}):I.map((function(e){return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:e.user.username}),d&&(0,it.jsx)("td",{children:e.enter_time.subtract(9,"hour").format("YYYY-MM-DD")}),(0,it.jsx)("td",{children:e.enter_time.subtract(9,"hour").format("HH:mm")}),(0,it.jsx)("td",{children:e.exit_time.isValid()?e.exit_time.subtract(9,"hour").format("HH:mm"):"-"}),(0,it.jsx)("td",{children:e.record})]})}))})]})]})},zA=function(t){var n=i((0,e.useState)(1),2),r=n[0],a=n[1],g=i((0,e.useState)(""),2),o=g[0],l=g[1],s=i((0,e.useState)(""),2),c=s[0],I=s[1],u=i((0,e.useState)("light"),2),C=u[0],d=u[1],A=i((0,e.useState)(!1),2),h=A[0],m=A[1];return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(FA,{position:"top-start",children:(0,it.jsxs)(YA,{onClose:function(){return m(!1)},show:h,delay:1e4,autohide:!0,bg:C,children:[(0,it.jsxs)(YA.Header,{children:[(0,it.jsx)("strong",{className:"me-auto",children:o}),(0,it.jsx)("small",{})]}),(0,it.jsx)(YA.Body,{children:c})]})}),(0,it.jsx)(yt,{children:(0,it.jsxs)(qs,{children:[(0,it.jsx)(MA,{showToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(e),I(t),d(n||"light"),m(!0)},update:r,setUpdate:a}),(0,it.jsx)(EA,{update:r})]})})]})},TA=["bsPrefix","size","vertical","className","role","as"],LA=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.size,a=e.vertical,g=void 0!==a&&a,o=e.className,i=e.role,l=void 0===i?"group":i,s=e.as,c=void 0===s?"div":s,I=at(e,TA),u=It(n,"btn-group"),C=u;return g&&(C="".concat(u,"-vertical")),(0,it.jsx)(c,nt(nt({},I),{},{ref:t,role:l,className:ot()(o,C,r&&"".concat(u,"-").concat(r))}))}));LA.displayName="ButtonGroup";var UA=LA,jA=function(e,t){return Ko.delete("/api/books/".concat(e,"/admin"),{headers:{Authorization:t}}).then((function(e){return e.data}))},QA={container:{height:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},image:{height:"50vh",width:"80wh"}};function _A(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))}var OA=function(e){var t=i(e.split("_"),2),n=t[0],r=t[1];return"1"===n?"\uc2a4 ".concat(r):"2"===n?"\uc138\ubbf8\ub098\ub8f8":"3"===n?"\uc2a4\ud29c\ub514\uc624":"4"===n?"\ud640":"\uae30\ud0c0"},PA=1,qA="\uc6f9\uc0ac\uc774\ud2b8",$A=function(){var t="block",n=i((0,e.useState)(WI()().format("YYYY-MM-DD")),2),r=n[0],a=n[1],g=i((0,e.useState)(WI()("07:00","HH:mm")),2),o=g[0],l=g[1],s=i((0,e.useState)(WI()("23:00","HH:mm")),2),I=s[0],u=s[1],C=i((0,e.useState)("\uae30\ud0c0"),2),d=C[0],A=(C[1],i((0,e.useState)(""),2)),h=A[0],m=A[1],p=i((0,e.useState)(0),2),b=p[0],f=p[1],y=i((0,e.useState)({}),2),Z=y[0],v=y[1],G=i((0,e.useState)(0),2),B=G[0],S=G[1],k=i((0,e.useState)(""),2),W=k[0],V=k[1],R=i((0,e.useState)(""),2),w=R[0],X=R[1],J=i((0,e.useState)([]),2),Y=J[0],x=J[1],H=i((0,e.useState)(!1),2),N=H[0],F=H[1];(0,e.useEffect)((function(){m("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))}),[r]),(0,e.useEffect)((function(){o&&I&&Z&&f(Oa(Z.type,o,I))}),[I,Z,o]);var K=function(e,t,n){var r="".concat(e,"_").concat(t),a=nt({},Z);a[r]={type:e,no:t,enable:n},v(a)},M=function(){var e=qe(Oe().mark((function e(t){var n,r,a,g,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rejected"!==t.status){e.next=2;break}return e.abrupt("return",{result:!1,message:t.reason.response.data.message});case 2:return n=PA,r=t.book_id,e.next=6,iu(PA,t.book_id,"web.guard",W+(d?"."+d:""),b,w,"plin.pos.book");case 6:a=e.sent,o=0;case 8:if(!(o<60)){e.next=27;break}return e.next=11,_A(1);case 11:return e.next=13,lu(a.pay_id);case 13:if(!(g=e.sent).status.startsWith(gu)){e.next=18;break}return e.abrupt("return",{result:!0,message:"\uc131\uacf5"});case 18:if(!g.status.startsWith(ou)){e.next=23;break}return n&&r&&Fc(n,r,"Pay.".concat(ou)).then((function(e){return console.log(e)})),e.abrupt("return",{result:!1,message:g.comment});case 23:g.status.startsWith(au);case 24:o++,e.next=8;break;case 27:return e.abrupt("return",{result:!1,message:"\ub300\uae30 \uc2dc\uac04 \ucd08\uacfc"});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=qe(Oe().mark((function e(n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=M,e.next=3,Nc(null,PA,r,o.format("HH:mm:ss"),I.format("HH:mm:ss"),n.type,n.no,-5,d,W,w,t);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=qe(Oe().mark((function e(n,a,g){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=M,e.next=3,Nc(null,PA,r,a.format("HH:mm:ss"),g.format("HH:mm:ss"),n.type,n.no,-5,d,W,w,t);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(){var e=qe(Oe().mark((function e(t,n){var r,a,g,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="r_01",r=2===t.type?"seminar":3===t.type?"studio":4===t.type?"hall":"r_"+"".concat(t.no).padStart(2,"0"),a=sessionStorage.getItem("Authorization"),g=function(e){var t=function(e){return n=e,(t=WI()(WI()(n).format("HH:mm"),"HH:mm")).hour()+t.minute()/60;var t,n},n=t(e.startTime),r=t(e.endTime),a=t(o),g=t(I);return r>a&&n<g},i=n[r].filter(g).map((function(e){return e.id})),e.next=7,Promise.allSettled(i.map((function(e){return jA(e,a)})));case 7:return e.next=9,D(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=0===B?"\ub9c9\uae30 \uc804\ub7b5\uc744 \uc120\ud0dd\ud558\uc138\uc694.":1===B?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04\uc774 \ube44\uc5b4\uc788\ub2e4\uba74 \ub9c9\uae30':2===B?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \ube44\uc5b4\uc788\ub294 \uacf3 \ub9c9\uae30':3===B?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \uacb9\uce58\ub294 \uc608\uc57d\uc744 \ucde8\uc18c\uc2dc\ud0a4\uace0 \ub9c9\uae30':"\ub2e4\uc2dc \uc120\ud0dd\ud558\uc138\uc694.";return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)("div",{style:QA.container,children:[(0,it.jsx)(Rd,{style:QA.image,src:h}),(0,it.jsxs)("div",{style:{maxWidth:"768px"},children:[(0,it.jsx)(ud,{value:qA}),(0,it.jsx)(Zd,{value:r,setValue:function(e){return function(e,t,n){var r=WI()("".concat(e,":").concat(t,":").concat(n),"YYYY:MM:DD");r.isBefore(WI()(),"date")?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ub0a0\uc9dc\uc785\ub2c8\ub2e4."):a(r.format("YYYY-MM-DD"))}(e.getFullYear(),e.getMonth()+1,e.getDate())}}),(0,it.jsx)(Gd,{min_time:WI()("07:00","hh:mm"),max_time:WI()("23:00","hh:mm"),book_date:r,start_time:o,end_time:I,onSelectStartTime:function(e,t){var n=WI()("".concat(e,":").concat(t),"HH:mm");I&&n.isSameOrAfter(I)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):l(n)},onSelectEndTime:function(e,t){var n=WI()("".concat(e,":").concat(t),"HH:mm");o&&n.isSameOrBefore(o)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):u(n)}}),(0,it.jsxs)(mn.Group,{as:qs,controlId:"room",children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\ub300\uc5ec \uc7a5\uc18c"}),(0,it.jsxs)(pt,{sm:"10",children:[(0,it.jsxs)(pt,{style:{backgroundColor:"#82e0aa"},children:[(0,it.jsx)("span",{children:"\uc2a4\ud130\ub514 \ub8f8: "}),c(new Array(10)).map((function(e,t){return(0,it.jsx)(mn.Check,{inline:!0,label:t+1,name:"group1",type:"checkbox",checked:Z["1_".concat(t+1)]&&Z["1_".concat(t+1)].enable,onChange:function(e){return K(1,t+1,e.target.checked)}})})),(0,it.jsx)(mn.Check,{inline:!0,label:"\uc804\uccb4",name:"group1",type:"checkbox",checked:Z["1_1"]&&Z["1_1"].enable&&Z["1_2"]&&Z["1_2"].enable&&Z["1_3"]&&Z["1_3"].enable&&Z["1_4"]&&Z["1_4"].enable&&Z["1_5"]&&Z["1_5"].enable&&Z["1_6"]&&Z["1_6"].enable&&Z["1_7"]&&Z["1_7"].enable&&Z["1_8"]&&Z["1_8"].enable&&Z["1_9"]&&Z["1_9"].enable&&Z["1_10"]&&Z["1_10"].enable,onChange:function(e){var t=nt({},Z);c(new Array(10)).forEach((function(n,r){var a=r+1,g=e.target.checked,o="".concat(1,"_").concat(a);t[o]={type:1,no:a,enable:g}})),v(t)}})]}),(0,it.jsxs)(pt,{style:{backgroundColor:"#DAF7A6"},children:[(0,it.jsx)("span",{children:"\uae30\ud0c0 \uc7a5\uc18c: "}),(0,it.jsx)(mn.Check,{inline:!0,label:"\uc138\ubbf8\ub098\uc2e4",name:"group1",type:"checkbox",onChange:function(e){return K(2,1,e.target.checked)}}),(0,it.jsx)(mn.Check,{inline:!0,label:"\ud640",name:"group1",type:"checkbox",onChange:function(e){return K(4,1,e.target.checked)}})]})]})]}),(0,it.jsx)(ru,{paid:b,pay_type:W,region:d,etc_reason:w,setPayType:V,setEtcReason:X,options:["card","saved_money.d","transfer","etc"]}),(0,it.jsxs)(mn.Group,{as:qs,children:[(0,it.jsx)(mn.Label,{column:!0,sm:"2",children:"\ub9c9\uae30 \uc804\ub7b5"}),(0,it.jsx)(pt,{children:(0,it.jsxs)(za,{as:UA,variant:"outline-secondary",title:T,onSelect:function(e){return S(parseInt(e))},children:[(0,it.jsx)(Na.Item,{eventKey:1,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc804\uccb4\uac00 \ube44\uc5b4\uc788\ub294 \uac83\ub9cc \ub9c9\uae30'}),(0,it.jsx)(Na.Item,{eventKey:2,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \ube44\uc5b4\uc788\ub294 \uacf3\ub9cc \ub9c9\uae30'}),(0,it.jsx)(Na.Item,{eventKey:3,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \uacb9\uce58\ub294 \uc608\uc57d\uc744 \ucde8\uc18c\uc2dc\ud0a4\uace0 \ub9c9\uae30'})]})})]}),(0,it.jsx)(Gn,{as:pt,onClick:function(e){if(r)if(o)if(I)if(d)if(Z)if(0===Object.values(Z).length)alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else if(0===Object.values(Z).filter((function(e){return e.enable})).length)alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else if(B)if(W){F(!0);var t=Object.values(Z).filter((function(e){return e.enable})),n=function(e,n){return"rejected"===e.status?{result:!1,room:"".concat(t[n].type,"_").concat(t[n].no),message:e.reason.response.data.message}:{result:!0,room:"".concat(t[n].type,"_").concat(t[n].no),message:e.value.message}};if(1===B)Promise.allSettled(t.map(D)).then((function(e){return x(e.map(n))})).then((function(){return m("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return F(!1)}));else if(2===B){var a=Number(2*(I.hour()-o.hour())+(I.minute()-o.minute())/30);c(new Array(a)).map((function(e,t){var n=o.clone();n.add(30*t,"minute");var r=n.clone();return r.add(30,"minute"),{start_time:n,end_time:r}})).map((function(e){Promise.allSettled(t.map((function(t){return E(t,e.start_time,e.end_time)}))).then((function(e){return x(e.map(n))})).then((function(){return m("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return F(!1)}))}))}else if(3===B){xc(WI()(r).format("YYYY-MM-DD")).then((function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};return e.forEach((function(e,n){if(!WI()(e.book_date).isSame(WI()(r).format("YYYY-MM-DD")))return console.log(WI()(r).format("YYYY-MM-DD"));var a=new Date("".concat(e.book_date,"T").concat(e.start_time)),g=new Date("".concat(e.book_date,"T").concat(e.end_time)),o=WI()(a).format("HH:mm"),i=WI()(g).format("HH:mm"),l={id:e.book_id,name:"[".concat(e.department,"] ").concat(e.user.username," \ud3ec\ud568 ").concat(e.people_no,"\uba85\n").concat(o," - ").concat(i),type:"book",startTime:a,endTime:g,data:e};if(3===e.room.type)t.studio.push(l);else if(2===e.room.type)t.seminar.push(l);else if(4===e.room.type)t.hall.push(l);else if(1===e.room.type){var s=e.room.no;1===s?t.r_01.push(l):2===s?t.r_02.push(l):3===s?t.r_03.push(l):4===s?t.r_04.push(l):5===s?t.r_05.push(l):6===s?t.r_06.push(l):7===s?t.r_07.push(l):8===s?t.r_08.push(l):9===s?t.r_09.push(l):10===s&&t.r_10.push(l)}})),t})).then((function(e){Promise.allSettled(t.map((function(t){return z(t,e)}))).then((function(e){return x(e.map(n))})).then((function(){return m("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return F(!1)}))}))}}else alert("\uacb0\uc81c \ubc29\ubc95 \uc124\uc815 \ud544\uc694");else alert("\ub9c9\uae30 \uc804\ub7b5 \uc124\uc815 \ud544\uc694");else alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else alert("\uc9c0\uc5ed \uc124\uc815 \ud544\uc694");else alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694");else alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694");else alert("\ub0a0\uc9dc \uc124\uc815 \ud544\uc694")},variant:"primary",disabled:N,children:"\uc2e0\uccad"})]}),(0,it.jsxs)(_s,{show:Y.length>0,onHide:function(){return x([])},children:[(0,it.jsx)(_s.Header,{closeButton:!0,children:(0,it.jsx)(_s.Title,{children:"Modal heading"})}),(0,it.jsx)(_s.Body,{children:(0,it.jsxs)(_d,{children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,it.jsx)("th",{children:"\ub300\uc0c1"}),(0,it.jsx)("th",{children:"\uc0c1\uc138"})]})}),(0,it.jsx)("tbody",{children:0===Y.length?null:Y.map((function(e){return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:e.result?"\uc131\uacf5":"\uc2e4\ud328"}),(0,it.jsx)("td",{children:OA(e.room)}),(0,it.jsx)("td",{children:e.message})]})}))})]})}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{variant:"secondary",onClick:function(){return x([])},children:"Close"})})]})]})]})},eh={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"}},th=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,it.jsxs)(_s,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,it.jsx)(_s.Header,{children:(0,it.jsx)(_s.Title,{children:r})}),(0,it.jsx)(_s.Body,{children:a}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{onClick:n,children:"\ud655\uc778"})})]})},nh=function(t){console.log("DonationPage::props::".concat(JSON.stringify(t,null,2)));var n=Ce(),r=Ae(),a=i((0,e.useState)(0),2),g=a[0],o=a[1],l=i((0,e.useReducer)(wu,Zu,void 0),2),s=l[0],c=l[1],I=i((0,e.useState)(null),2),u=I[0],C=I[1];(0,e.useEffect)((function(){n.state?vu(c,n.state.user.username):r("/")}),[n.state,r]);var d=function(){Number(g)<1e3?C((0,it.jsx)(th,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"1000 \uc6d0 \ubd80\ud130 \uc801\ub9bd \uac00\ub2a5\ud569\ub2c8\ub2e4.",handleClose:function(){return C(null)}})):s.department?function(e,t,n,r,a,g){var o={user_id:e,cashier:t,pay_type:"donation.".concat(n),paid:r,comment:a,client_name:g};return Ko.post("/api/pays",o).then((function(e){return e.data})).then((function(e){return e.pay}))}(n.state.user.user_id,"web.guard",s.pay_type+(s.department?"."+s.department:""),g,s.pay_type_etc_reason,"plin.kiosk.book").then((function(e){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::pay::".concat(JSON.stringify(e,null,2))),C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694"}));setTimeout.apply(void 0,[function e(t,n){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::timer::".concat(JSON.stringify(n,null,2))),C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694(".concat(Math.round(n/2)," \ucd08)")})),n>0?lu(t).then((function(a){a.status.startsWith(gu)?(console.log("GuestBookPage::handleOnClickBook::postBook::postPay::pay_result::".concat(JSON.stringify(a,null,2))),C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \uc644\ub8cc",message:"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))):a.status.startsWith(ou)?C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:a.comment?a.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}})):a.status.startsWith(au)&&setTimeout.apply(void 0,[e,500].concat([t,n-1]))})).catch((function(e){console.error(e),C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))})):C((0,it.jsx)(th,{show:!0,title:"\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))},500].concat([e.pay_id,60]))})).catch((function(e){console.error(e),C((0,it.jsx)(th,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))})):C((0,it.jsx)(th,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694.",handleClose:function(){return C(null)}}))};return(0,it.jsxs)(yt,{style:eh.container,children:[(0,it.jsx)(ud,{value:s.username}),(0,it.jsx)(LI,{department:s.department,setDepartment:function(e){return Su(c,e)}}),(0,it.jsx)(ru,{paid:g,setPaid:o,pay_type:s.pay_type,region:s.department,etc_reason:s.pay_type_etc_reason,setPayType:function(e){return Vu(c,e)},setEtcReason:function(e){return Ru(c,e)},options:["card"]}),(0,it.jsxs)(qs,{children:[(0,it.jsx)(Gn,{as:pt,onClick:function(){return r("/books")},variant:"secondary",children:"\ucde8\uc18c"}),(0,it.jsx)(Gn,{as:pt,variant:"primary",onClick:function(){return d()},children:"\uc2e0\uccad"})]}),u]})},rh=function(t){var n=Ae(),r=i((0,e.useState)(""),2),a=r[0],g=r[1];(0,e.useEffect)((function(){Ko.get("/api/info",{timeout:1e3}).then((function(e){return e.data})).then((function(e){g(e.server_version),e.login||alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4!!!")}))}),[]);var o={minHeight:"10vw",fontSize:"2rem",textAlign:"center"},l={cursor:"pointer"};return(0,it.jsxs)(yt,{children:[(0,it.jsx)(ks,{}),(0,it.jsx)(qs,{style:o,children:(0,it.jsxs)("h1",{children:["\uc11c\ubc84 \ubc84\uc804: ",a," / \ud074\ub77c \ubc84\uc804:"," ",document.querySelector('meta[name="description"]').content]})}),(0,it.jsxs)(yt,{className:"admin-main-page-container",children:[(0,it.jsxs)(qs,{style:o,children:[(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#5499c7"}),onClick:function(){return n("/qr")},children:[(0,it.jsx)(RC,{}),"QR \uc778\uc99d"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#a9cce3"}),onClick:function(){return n("/users")},children:[(0,it.jsx)(VC,{}),"\ud68c\uc6d0"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#a3e4d7"}),onClick:function(){return n("/books")},children:[(0,it.jsx)(SC,{}),"\uc608\uc57d"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#a2d9ce"}),onClick:function(){return n("/lockers")},children:[(0,it.jsx)(JC,{}),"\uc0ac\ubb3c\ud568"]})]}),(0,it.jsxs)(qs,{style:o,children:[(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#a2d9ce"}),onClick:function(){return n("/configs")},children:[(0,it.jsx)(HC,{}),"\uc124\uc815"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#a9dfbf"}),onClick:function(){return n("/exports")},children:[(0,it.jsx)(kC,{}),"\ucd94\ucd9c"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#d5dbdb"}),onClick:function(){return n("/commute")},children:[(0,it.jsx)(wC,{}),"\ucd9c\ud1f4\uadfc \uad00\ub9ac"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#e59866"}),onClick:function(){return n("/coupon")},children:[(0,it.jsx)(XC,{}),"\ucfe0\ud3f0"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#f5b7b1"}),onClick:function(){return n("/accounts")},children:[(0,it.jsx)(wC,{}),"\ub9c8\uac10 \uc815\uc0b0"]})]}),(0,it.jsxs)(qs,{style:o,children:[(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#f9e79f"}),onClick:function(){return n("/statusBook")},children:[(0,it.jsx)(NC,{}),"\ub300\uad00 \uc815\ubcf4"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#58d68d"}),onClick:function(){return n("/chart")},children:[(0,it.jsx)(FC,{}),"\ud1b5\uacc4"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#e6b0aa"}),onClick:function(){return n("/blocker")},children:[(0,it.jsx)(YC,{}),"\ub9c9\uae30"]}),(0,it.jsxs)(pt,{style:nt(nt({},l),{},{backgroundColor:"#cd6155"}),onClick:function(){Ko.get("/api/logout",{timeout:1e3}).then((function(e){window.location.href="/logout"}))},children:[(0,it.jsx)(xC,{}),"\ub85c\uadf8\uc544\uc6c3"]})]})]})]})},ah=n(7326);function gh(e){return e+.5|0}var oh=function(e,t,n){return Math.max(Math.min(e,n),t)};function ih(e){return oh(gh(2.55*e),0,255)}function lh(e){return oh(gh(255*e),0,255)}function sh(e){return oh(gh(e/2.55)/100,0,1)}function ch(e){return oh(gh(100*e),0,100)}var Ih={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uh=c("0123456789ABCDEF"),Ch=function(e){return uh[15&e]},dh=function(e){return uh[(240&e)>>4]+uh[15&e]},Ah=function(e){return(240&e)>>4===(15&e)};function hh(e){var t=function(e){return Ah(e.r)&&Ah(e.g)&&Ah(e.b)&&Ah(e.a)}(e)?Ch:dh;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var mh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ph(e,t,n){var r=t*Math.min(n,1-n),a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function bh(e,t,n){var r=function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(a,4-a,1),0)};return[r(5),r(3),r(1)]}function fh(e,t,n){var r,a=ph(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function yh(e){var t,n,r,a=e.r/255,g=e.g/255,o=e.b/255,i=Math.max(a,g,o),l=Math.min(a,g,o),s=(i+l)/2;return i!==l&&(r=i-l,n=s>.5?r/(2-i-l):r/(i+l),t=function(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}(a,g,o,r,i),t=60*t+.5),[0|t,n||0,s]}function Zh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(lh)}function vh(e,t,n){return Zh(ph,e,t,n)}function Gh(e,t,n){return Zh(bh,e,t,n)}function Bh(e){return(e%360+360)%360}function Sh(e){var t,n=mh.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?ih(+n[5]):lh(+n[5]));var a=Bh(+n[2]),g=+n[3]/100,o=+n[4]/100;return{r:(t="hwb"===n[1]?function(e,t,n){return Zh(fh,e,t,n)}(a,g,o):"hsv"===n[1]?Gh(a,g,o):vh(a,g,o))[0],g:t[1],b:t[2],a:r}}}var kh,Wh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rh(e){kh||((kh=function(){var e,t,n,r,a,g={},o=Object.keys(Vh),i=Object.keys(Wh);for(e=0;e<o.length;e++){for(r=a=o[e],t=0;t<i.length;t++)n=i[t],a=a.replace(n,Wh[n]);n=parseInt(Vh[r],16),g[a]=[n>>16&255,n>>8&255,255&n]}return g}()).transparent=[0,0,0,0]);var t=kh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var wh=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Xh(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(sh(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}var Jh=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},Yh=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function xh(e,t,n){if(e){var r=yh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=vh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Hh(e,t){return e?Object.assign(t||{},e):e}function Nh(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=lh(e[3]))):(t=Hh(e,{r:0,g:0,b:0,a:1})).a=lh(t.a),t}function Fh(e){return"r"===e.charAt(0)?function(e){var t,n,r,a=wh.exec(e),g=255;if(a){if(a[7]!==t){var o=+a[7];g=a[8]?ih(o):oh(255*o,0,255)}return t=+a[1],n=+a[3],r=+a[5],{r:t=255&(a[2]?ih(t):oh(t,0,255)),g:n=255&(a[4]?ih(n):oh(n,0,255)),b:r=255&(a[6]?ih(r):oh(r,0,255)),a:g}}}(e):Sh(e)}var Kh=function(){function e(t){if((0,I.Z)(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=Nh(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Ih[e[1]],g:255&17*Ih[e[2]],b:255&17*Ih[e[3]],a:5===n?17*Ih[e[4]]:255}:7!==n&&9!==n||(t={r:Ih[e[1]]<<4|Ih[e[2]],g:Ih[e[3]]<<4|Ih[e[4]],b:Ih[e[5]]<<4|Ih[e[6]],a:9===n?Ih[e[7]]<<4|Ih[e[8]]:255})),t}(t)||Rh(t)||Fh(t)),this._rgb=n,this._valid=!!n}return(0,u.Z)(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=Hh(this._rgb);return e&&(e.a=sh(e.a)),e},set:function(e){this._rgb=Nh(e)}},{key:"rgbString",value:function(){return this._valid?Xh(this._rgb):void 0}},{key:"hexString",value:function(){return this._valid?hh(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=yh(e),n=t[0],r=ch(t[1]),a=ch(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(sh(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,a=e.rgb,g=t===n?.5:t,o=2*g-1,i=r.a-a.a,l=((o*i===-1?o:(o+i)/(1+o*i))+1)/2;n=1-l,r.r=255&l*r.r+n*a.r+.5,r.g=255&l*r.g+n*a.g+.5,r.b=255&l*r.b+n*a.b+.5,r.a=g*r.a+(1-g)*a.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=Yh(sh(e.r)),a=Yh(sh(e.g)),g=Yh(sh(e.b));return{r:lh(Jh(r+n*(Yh(sh(t.r))-r))),g:lh(Jh(a+n*(Yh(sh(t.g))-a))),b:lh(Jh(g+n*(Yh(sh(t.b))-g))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=lh(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=gh(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return xh(this._rgb,2,e),this}},{key:"darken",value:function(e){return xh(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return xh(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return xh(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=yh(e);n[0]=Bh(n[0]+t),n=vh(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function Mh(){}var Dh=function(){var e=0;return function(){return e++}}();function Eh(e){return null===e||"undefined"===typeof e}function zh(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Th(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Lh(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Uh(e,t){return Lh(e)?e:t}function jh(e,t){return"undefined"===typeof e?t:e}var Qh=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function _h(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Oh(e,t,n,r){var a,g,o;if(zh(e))if(g=e.length,r)for(a=g-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<g;a++)t.call(n,e[a],a);else if(Th(e))for(g=(o=Object.keys(e)).length,a=0;a<g;a++)t.call(n,e[o[a]],o[a])}function Ph(e,t){var n,r,a,g;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],g=t[n],a.datasetIndex!==g.datasetIndex||a.index!==g.index)return!1;return!0}function qh(e){if(zh(e))return e.map(qh);if(Th(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,a=0;a<r;++a)t[n[a]]=qh(e[n[a]]);return t}return e}function $h(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function em(e,t,n,r){if($h(e)){var a=t[e],g=n[e];Th(a)&&Th(g)?tm(a,g,r):t[e]=qh(g)}}function tm(e,t,n){var r=zh(t)?t:[t],a=r.length;if(!Th(e))return e;for(var g,o=(n=n||{}).merger||em,i=0;i<a;++i)if(Th(g=r[i]))for(var l=Object.keys(g),s=0,c=l.length;s<c;++s)o(l[s],e,g,n);return e}function nm(e,t){return tm(e,t,{merger:rm})}function rm(e,t,n){if($h(e)){var r=t[e],a=n[e];Th(r)&&Th(a)?nm(r,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=qh(a))}}var am={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function gm(e){var t=function(e){var t,n=e.split("."),r=[],a="",g=(0,y.Z)(n);try{for(g.s();!(t=g.n()).done;)(a+=t.value).endsWith("\\")?a=a.slice(0,-1)+".":(r.push(a),a="")}catch(o){g.e(o)}finally{g.f()}return r}(e);return function(e){var n,r=(0,y.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(""===a)break;e=e&&e[a]}}catch(g){r.e(g)}finally{r.f()}return e}}function om(e,t){return(am[t]||(am[t]=gm(t)))(e)}function im(e){return e.charAt(0).toUpperCase()+e.slice(1)}var lm=function(e){return"undefined"!==typeof e},sm=function(e){return"function"===typeof e},cm=function(e,t){if(e.size!==t.size)return!1;var n,r=(0,y.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!t.has(a))return!1}}catch(g){r.e(g)}finally{r.f()}return!0};var Im=Math.PI,um=2*Im,Cm=um+Im,dm=Number.POSITIVE_INFINITY,Am=Im/180,hm=Im/2,mm=Im/4,pm=2*Im/3,bm=Math.log10,fm=Math.sign;function ym(e,t,n){return Math.abs(e-t)<n}function Zm(e){var t=Math.round(e);e=ym(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(bm(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function vm(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Gm(e,t,n){var r,a,g;for(r=0,a=e.length;r<a;r++)g=e[r][n],isNaN(g)||(t.min=Math.min(t.min,g),t.max=Math.max(t.max,g))}function Bm(e){return e*(Im/180)}function Sm(e){return e*(180/Im)}function km(e){if(Lh(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function Wm(e,t){var n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r),g=Math.atan2(r,n);return g<-.5*Im&&(g+=um),{angle:g,distance:a}}function Vm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rm(e,t){return(e-t+Cm)%um-Im}function wm(e){return(e%um+um)%um}function Xm(e,t,n,r){var a=wm(e),g=wm(t),o=wm(n),i=wm(g-a),l=wm(o-a),s=wm(a-g),c=wm(a-o);return a===g||a===o||r&&g===o||i>l&&s<c}function Jm(e,t,n){return Math.max(t,Math.min(n,e))}function Ym(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function xm(e,t,n){n=n||function(n){return e[n]<t};for(var r,a=e.length-1,g=0;a-g>1;)n(r=g+a>>1)?g=r:a=r;return{lo:g,hi:a}}var Hm=function(e,t,n,r){return xm(e,n,r?function(r){var a=e[r][t];return a<n||a===n&&e[r+1][t]===n}:function(r){return e[r][t]<n})},Nm=function(e,t,n){return xm(e,n,(function(r){return e[r][t]>=n}))};var Fm=["push","pop","shift","splice","unshift"];function Km(e,t){var n=e._chartjs;if(n){var r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),r.length>0||(Fm.forEach((function(t){delete e[t]})),delete e._chartjs)}}function Mm(e){var t=new Set(e);return t.size===e.length?e:Array.from(t)}var Dm="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Em(e,t){var n=[],r=!1;return function(){for(var a=arguments.length,g=new Array(a),o=0;o<a;o++)g[o]=arguments[o];n=g,r||(r=!0,Dm.call(window,(function(){r=!1,e.apply(t,n)})))}}var zm=function(e){return"start"===e?"left":"end"===e?"right":"center"},Tm=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function Lm(e,t,n){var r=t.length,a=0,g=r;if(e._sorted){var o=e.iScale,i=e._parsed,l=o.axis,s=o.getUserBounds(),c=s.min,I=s.max,u=s.minDefined,C=s.maxDefined;u&&(a=Jm(Math.min(Hm(i,l,c).lo,n?r:Hm(t,l,o.getPixelForValue(c)).lo),0,r-1)),g=C?Jm(Math.max(Hm(i,o.axis,I,!0).hi+1,n?0:Hm(t,l,o.getPixelForValue(I),!0).hi+1),a,r)-a:r-a}return{start:a,count:g}}function Um(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=a,!0;var g=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,a),g}var jm=function(e){return 0===e||1===e},Qm=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*um/n)},_m=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*um/n)+1},Om={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*hm)},easeOutSine:function(e){return Math.sin(e*hm)},easeInOutSine:function(e){return-.5*(Math.cos(Im*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return jm(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return jm(e)?e:Qm(e,.075,.3)},easeOutElastic:function(e){return jm(e)?e:_m(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return jm(e)?e:e<.5?.5*Qm(2*e,t,.45):.5+.5*_m(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Om.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Om.easeInBounce(2*e):.5*Om.easeOutBounce(2*e-1)+.5}};function Pm(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function qm(e){return Pm(e)?e:new Kh(e)}function $m(e){return Pm(e)?e:new Kh(e).saturate(.5).darken(.1).hexString()}var ep=["x","y","borderWidth","radius","tension"],tp=["color","borderColor","backgroundColor"];var np=new Map;function rp(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=np.get(n);return r||(r=new Intl.NumberFormat(e,t),np.set(n,r)),r}(t,n).format(e)}var ap={values:function(e){return zh(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,a=this.chart.options.locale,g=e;if(n.length>1){var o=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(o<1e-4||o>1e15)&&(r="scientific"),g=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var i=bm(Math.abs(g)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),s={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(s,this.options.ticks.format),rp(e,a,s)},logarithmic:function(e,t,n){if(0===e)return"0";var r=n[t].significand||e/Math.pow(10,Math.floor(bm(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?ap.numeric.call(this,e,t,n):""}};var gp={formatters:ap};var op=Object.create(null),ip=Object.create(null);function lp(e,t){if(!t)return e;for(var n=t.split("."),r=0,a=n.length;r<a;++r){var g=n[r];e=e[g]||(e[g]=Object.create(null))}return e}function sp(e,t,n){return"string"===typeof t?tm(lp(e,t),n):tm(lp(e,""),t)}var cp=function(){function e(t,n){(0,I.Z)(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return $m(t.backgroundColor)},this.hoverBorderColor=function(e,t){return $m(t.borderColor)},this.hoverColor=function(e,t){return $m(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return(0,u.Z)(e,[{key:"set",value:function(e,t){return sp(this,e,t)}},{key:"get",value:function(e){return lp(this,e)}},{key:"describe",value:function(e,t){return sp(ip,e,t)}},{key:"override",value:function(e,t){return sp(op,e,t)}},{key:"route",value:function(e,t,n,r){var a,g=lp(this,e),o=lp(this,n),i="_"+t;Object.defineProperties(g,(a={},(0,et.Z)(a,i,{value:g[t],writable:!0}),(0,et.Z)(a,t,{enumerable:!0,get:function(){var e=this[i],t=o[r];return Th(e)?Object.assign({},t,e):jh(e,t)},set:function(e){this[i]=e}}),a))}},{key:"apply",value:function(e){var t=this;e.forEach((function(e){return e(t)}))}}]),e}(),Ip=new cp({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),e.set("animations",{colors:{type:"color",properties:tp},numbers:{type:"number",properties:ep}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:gp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}})}]);function up(e,t,n,r,a){var g=t[a];return g||(g=t[a]=e.measureText(a).width,n.push(a)),g>r&&(r=g),r}function Cp(e,t,n,r){var a=(r=r||{}).data=r.data||{},g=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},g=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var o,i,l,s,c,I=0,u=n.length;for(o=0;o<u;o++)if(void 0===(s=n[o])||null===s||zh(s)){if(zh(s))for(i=0,l=s.length;i<l;i++)void 0===(c=s[i])||null===c||zh(c)||(I=up(e,a,g,I,c))}else I=up(e,a,g,I,s);e.restore();var C=g.length/2;if(C>n.length){for(o=0;o<C;o++)delete a[g[o]];g.splice(0,C)}return I}function dp(e,t,n){var r=e.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((t-a)*r)/r+a}function Ap(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function hp(e,t,n,r){mp(e,t,n,r,null)}function mp(e,t,n,r,a){var g,o,i,l,s,c,I,u,C=t.pointStyle,d=t.rotation,A=t.radius,h=(d||0)*Am;if(C&&"object"===typeof C&&("[object HTMLImageElement]"===(g=C.toString())||"[object HTMLCanvasElement]"===g))return e.save(),e.translate(n,r),e.rotate(h),e.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),void e.restore();if(!(isNaN(A)||A<=0)){switch(e.beginPath(),C){default:a?e.ellipse(n,r,a/2,A,0,0,um):e.arc(n,r,A,0,um),e.closePath();break;case"triangle":c=a?a/2:A,e.moveTo(n+Math.sin(h)*c,r-Math.cos(h)*A),h+=pm,e.lineTo(n+Math.sin(h)*c,r-Math.cos(h)*A),h+=pm,e.lineTo(n+Math.sin(h)*c,r-Math.cos(h)*A),e.closePath();break;case"rectRounded":l=A-(s=.516*A),o=Math.cos(h+mm)*l,I=Math.cos(h+mm)*(a?a/2-s:l),i=Math.sin(h+mm)*l,u=Math.sin(h+mm)*(a?a/2-s:l),e.arc(n-I,r-i,s,h-Im,h-hm),e.arc(n+u,r-o,s,h-hm,h),e.arc(n+I,r+i,s,h,h+hm),e.arc(n-u,r+o,s,h+hm,h+Im),e.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*A,c=a?a/2:l,e.rect(n-c,r-l,2*c,2*l);break}h+=mm;case"rectRot":I=Math.cos(h)*(a?a/2:A),o=Math.cos(h)*A,i=Math.sin(h)*A,u=Math.sin(h)*(a?a/2:A),e.moveTo(n-I,r-i),e.lineTo(n+u,r-o),e.lineTo(n+I,r+i),e.lineTo(n-u,r+o),e.closePath();break;case"crossRot":h+=mm;case"cross":I=Math.cos(h)*(a?a/2:A),o=Math.cos(h)*A,i=Math.sin(h)*A,u=Math.sin(h)*(a?a/2:A),e.moveTo(n-I,r-i),e.lineTo(n+I,r+i),e.moveTo(n+u,r-o),e.lineTo(n-u,r+o);break;case"star":I=Math.cos(h)*(a?a/2:A),o=Math.cos(h)*A,i=Math.sin(h)*A,u=Math.sin(h)*(a?a/2:A),e.moveTo(n-I,r-i),e.lineTo(n+I,r+i),e.moveTo(n+u,r-o),e.lineTo(n-u,r+o),h+=mm,I=Math.cos(h)*(a?a/2:A),o=Math.cos(h)*A,i=Math.sin(h)*A,u=Math.sin(h)*(a?a/2:A),e.moveTo(n-I,r-i),e.lineTo(n+I,r+i),e.moveTo(n+u,r-o),e.lineTo(n-u,r+o);break;case"line":o=a?a/2:Math.cos(h)*A,i=Math.sin(h)*A,e.moveTo(n-o,r-i),e.lineTo(n+o,r+i);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(h)*(a?a/2:A),r+Math.sin(h)*A);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function pp(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function bp(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function fp(e){e.restore()}function yp(e,t,n,r,a){if(!t)return e.lineTo(n.x,n.y);if("middle"===a){var g=(t.x+n.x)/2;e.lineTo(g,t.y),e.lineTo(g,n.y)}else"after"===a!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Zp(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function vp(e,t,n,r,a){if(a.strikethrough||a.underline){var g=e.measureText(r),o=t-g.actualBoundingBoxLeft,i=t+g.actualBoundingBoxRight,l=n-g.actualBoundingBoxAscent,s=n+g.actualBoundingBoxDescent,c=a.strikethrough?(l+s)/2:s;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,c),e.lineTo(i,c),e.stroke()}}function Gp(e,t){var n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Bp(e,t,n,r,a){var g,o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=zh(t)?t:[t],s=i.strokeWidth>0&&""!==i.strokeColor;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Eh(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),g=0;g<l.length;++g)o=l[g],i.backdrop&&Gp(e,i.backdrop),s&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Eh(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(o,n,r,i.maxWidth)),e.fillText(o,n,r,i.maxWidth),vp(e,n,r,o,i),r+=Number(a.lineHeight);e.restore()}function Sp(e,t){var n=t.x,r=t.y,a=t.w,g=t.h,o=t.radius;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Im,Im,!0),e.lineTo(n,r+g-o.bottomLeft),e.arc(n+o.bottomLeft,r+g-o.bottomLeft,o.bottomLeft,Im,hm,!0),e.lineTo(n+a-o.bottomRight,r+g),e.arc(n+a-o.bottomRight,r+g-o.bottomRight,o.bottomRight,hm,0,!0),e.lineTo(n+a,r+o.topRight),e.arc(n+a-o.topRight,r+o.topRight,o.topRight,0,-hm,!0),e.lineTo(n+o.topLeft,r)}var kp=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Wp=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vp(e,t){var n=(""+e).match(kp);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var Rp=function(e){return+e||0};function wp(e,t){var n,r={},a=Th(t),g=a?Object.keys(t):t,o=Th(e)?a?function(n){return jh(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},i=(0,y.Z)(g);try{for(i.s();!(n=i.n()).done;){var l=n.value;r[l]=Rp(o(l))}}catch(s){i.e(s)}finally{i.f()}return r}function Xp(e){return wp(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Jp(e){return wp(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yp(e){var t=Xp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xp(e,t){e=e||{},t=t||Ip.font;var n=jh(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=jh(e.style,t.style);r&&!(""+r).match(Wp)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);var a={family:jh(e.family,t.family),lineHeight:Vp(jh(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:jh(e.weight,t.weight),string:""};return a.string=function(e){return!e||Eh(e.size)||Eh(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Hp(e,t,n,r){var a,g,o,i=!0;for(a=0,g=e.length;a<g;++a)if(void 0!==(o=e[a])&&(void 0!==t&&"function"===typeof o&&(o=o(t),i=!1),void 0!==n&&zh(o)&&(o=o[n%o.length],i=!1),void 0!==o))return r&&!i&&(r.cacheable=!1),o}function Np(e,t){return Object.assign(Object.create(e),t)}function Fp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]},g=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=_p("_fallback",e));var o=(t={},(0,et.Z)(t,Symbol.toStringTag,"Object"),(0,et.Z)(t,"_cacheable",!0),(0,et.Z)(t,"_scopes",e),(0,et.Z)(t,"_rootScopes",g),(0,et.Z)(t,"_fallback",r),(0,et.Z)(t,"_getTarget",a),(0,et.Z)(t,"override",(function(t){return Fp([t].concat(c(e)),n,g,r)})),t);return new Proxy(o,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return zp(t,r,(function(){return function(e,t,n,r){var a,g,o=(0,y.Z)(t);try{for(o.s();!(g=o.n()).done;){var i=g.value;if("undefined"!==typeof(a=_p(Dp(i,e),n)))return Ep(e,a)?jp(n,r,e,a):a}}catch(l){o.e(l)}finally{o.f()}}(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return Op(e).includes(t)},ownKeys:function(e){return Op(e)},set:function(e,t,n){var r=e._storage||(e._storage=a());return e[t]=r[t]=n,delete e._keys,!0}})}function Kp(e,t,n,r){var a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Mp(e,r),setContext:function(t){return Kp(e,t,n,r)},override:function(a){return Kp(e.override(a),t,n,r)}};return new Proxy(a,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return zp(e,t,(function(){return function(e,t,n){var r=e._proxy,a=e._context,g=e._subProxy,o=e._descriptors,i=r[t];sm(i)&&o.isScriptable(t)&&(i=function(e,t,n,r){var a=n._proxy,g=n._context,o=n._subProxy,i=n._stack;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e);var l=t(g,o||r);i.delete(e),Ep(e,l)&&(l=jp(a._scopes,a,e,l));return l}(t,i,e,n));zh(i)&&i.length&&(i=function(e,t,n,r){var a=n._proxy,g=n._context,o=n._subProxy,i=n._descriptors;if("undefined"!==typeof g.index&&r(e))return t[g.index%t.length];if(Th(t[0])){var l=t,s=a._scopes.filter((function(e){return e!==l}));t=[];var c,I=(0,y.Z)(l);try{for(I.s();!(c=I.n()).done;){var u=jp(s,a,e,c.value);t.push(Kp(u,g,o&&o[e],i))}}catch(C){I.e(C)}finally{I.f()}}return t}(t,i,e,o.isIndexable));Ep(t,i)&&(i=Kp(i,a,g&&g[t],o));return i}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function Mp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,a=e._indexable,g=void 0===a?t.indexable:a,o=e._allKeys;return{allKeys:void 0===o?t.allKeys:o,scriptable:r,indexable:g,isScriptable:sm(r)?r:function(){return r},isIndexable:sm(g)?g:function(){return g}}}var Dp=function(e,t){return e?e+im(t):t},Ep=function(e,t){return Th(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function zp(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function Tp(e,t,n){return sm(e)?e(t,n):e}var Lp=function(e,t){return!0===e?t:"string"===typeof e?om(t,e):void 0};function Up(e,t,n,r,a){var g,o=(0,y.Z)(t);try{for(o.s();!(g=o.n()).done;){var i=g.value,l=Lp(n,i);if(l){e.add(l);var s=Tp(l._fallback,n,a);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===l&&"undefined"!==typeof r&&n!==r)return null}}catch(c){o.e(c)}finally{o.f()}return!1}function jp(e,t,n,r){var a=t._rootScopes,g=Tp(t._fallback,n,r),o=[].concat(c(e),c(a)),i=new Set;i.add(r);var l=Qp(i,o,n,g||n,r);return null!==l&&(("undefined"===typeof g||g===n||null!==(l=Qp(i,o,g,l,r)))&&Fp(Array.from(i),[""],a,g,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var a=r[t];if(zh(a)&&Th(n))return n;return a||{}}(t,n,r)})))}function Qp(e,t,n,r,a){for(;n;)n=Up(e,t,n,r,a);return n}function _p(e,t){var n,r=(0,y.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a){var g=a[e];if("undefined"!==typeof g)return g}}}catch(o){r.e(o)}finally{r.f()}}function Op(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=(0,y.Z)(e);try{for(r.s();!(t=r.n()).done;){var a,g=t.value,o=(0,y.Z)(Object.keys(g).filter((function(e){return!e.startsWith("_")})));try{for(o.s();!(a=o.n()).done;){var i=a.value;n.add(i)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function Pp(e,t,n,r){var a,g,o,i,l=e.iScale,s=this._parsing.key,c=void 0===s?"r":s,I=new Array(r);for(a=0,g=r;a<g;++a)i=t[o=a+n],I[a]={r:l.parse(om(i,c),o)};return I}var qp=Number.EPSILON||1e-14,$p=function(e,t){return t<e.length&&!e[t].skip&&e[t]},eb=function(e){return"x"===e?"y":"x"};function tb(e,t,n,r){var a=e.skip?t:e,g=t,o=n.skip?t:n,i=Vm(g,a),l=Vm(o,g),s=i/(i+l),c=l/(i+l),I=r*(s=isNaN(s)?0:s),u=r*(c=isNaN(c)?0:c);return{previous:{x:g.x-I*(o.x-a.x),y:g.y-I*(o.y-a.y)},next:{x:g.x+u*(o.x-a.x),y:g.y+u*(o.y-a.y)}}}function nb(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",g=eb(a),o=e.length,i=Array(o).fill(0),l=Array(o),s=$p(e,0);for(t=0;t<o;++t)if(n=r,r=s,s=$p(e,t+1),r){if(s){var c=s[a]-r[a];i[t]=0!==c?(s[g]-r[g])/c:0}l[t]=n?s?fm(i[t-1])!==fm(i[t])?0:(i[t-1]+i[t])/2:i[t-1]:i[t]}!function(e,t,n){for(var r,a,g,o,i,l=e.length,s=$p(e,0),c=0;c<l-1;++c)i=s,s=$p(e,c+1),i&&s&&(ym(t[c],0,qp)?n[c]=n[c+1]=0:(r=n[c]/t[c],a=n[c+1]/t[c],(o=Math.pow(r,2)+Math.pow(a,2))<=9||(g=3/Math.sqrt(o),n[c]=r*g*t[c],n[c+1]=a*g*t[c])))}(e,i,l),function(e,t){for(var n,r,a,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",o=eb(g),i=e.length,l=$p(e,0),s=0;s<i;++s)if(r=a,a=l,l=$p(e,s+1),a){var c=a[g],I=a[o];r&&(n=(c-r[g])/3,a["cp1".concat(g)]=c-n,a["cp1".concat(o)]=I-n*t[s]),l&&(n=(l[g]-c)/3,a["cp2".concat(g)]=c+n,a["cp2".concat(o)]=I+n*t[s])}}(e,l,a)}function rb(e,t,n){return Math.max(Math.min(e,n),t)}function ab(e,t,n,r,a){var g,o,i,l;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)nb(e,a);else{var s=r?e[e.length-1]:e[0];for(g=0,o=e.length;g<o;++g)l=tb(s,i=e[g],e[Math.min(g+1,o-(r?0:1))%o],t.tension),i.cp1x=l.previous.x,i.cp1y=l.previous.y,i.cp2x=l.next.x,i.cp2y=l.next.y,s=i}t.capBezierPoints&&function(e,t){var n,r,a,g,o,i=pp(e[0],t);for(n=0,r=e.length;n<r;++n)o=g,g=i,i=n<r-1&&pp(e[n+1],t),g&&(a=e[n],o&&(a.cp1x=rb(a.cp1x,t.left,t.right),a.cp1y=rb(a.cp1y,t.top,t.bottom)),i&&(a.cp2x=rb(a.cp2x,t.left,t.right),a.cp2y=rb(a.cp2y,t.top,t.bottom)))}(e,n)}function gb(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ob(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ib(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var lb=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};var sb=["top","right","bottom","left"];function cb(e,t,n){var r={};n=n?"-"+n:"";for(var a=0;a<4;a++){var g=sb[a];r[g]=parseFloat(e[t+"-"+g+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var Ib=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function ub(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,a=lb(n),g="border-box"===a.boxSizing,o=cb(a,"padding"),i=cb(a,"border","width"),l=function(e,t){var n,r,a=e.touches,g=a&&a.length?a[0]:e,o=g.offsetX,i=g.offsetY,l=!1;if(Ib(o,i,e.target))n=o,r=i;else{var s=t.getBoundingClientRect();n=g.clientX-s.left,r=g.clientY-s.top,l=!0}return{x:n,y:r,box:l}}(e,n),s=l.x,c=l.y,I=l.box,u=o.left+(I&&i.left),C=o.top+(I&&i.top),d=t.width,A=t.height;return g&&(d-=o.width+i.width,A-=o.height+i.height),{x:Math.round((s-u)/d*n.width/r),y:Math.round((c-C)/A*n.height/r)}}var Cb=function(e){return Math.round(10*e)/10};function db(e,t,n,r){var a=lb(e),g=cb(a,"margin"),o=ib(a.maxWidth,e,"clientWidth")||dm,i=ib(a.maxHeight,e,"clientHeight")||dm,l=function(e,t,n){var r,a;if(void 0===t||void 0===n){var g=ob(e);if(g){var o=g.getBoundingClientRect(),i=lb(g),l=cb(i,"border","width"),s=cb(i,"padding");t=o.width-s.width-l.width,n=o.height-s.height-l.height,r=ib(i.maxWidth,g,"clientWidth"),a=ib(i.maxHeight,g,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||dm,maxHeight:a||dm}}(e,t,n),s=l.width,c=l.height;if("content-box"===a.boxSizing){var I=cb(a,"border","width"),u=cb(a,"padding");s-=u.width+I.width,c-=u.height+I.height}return s=Math.max(0,s-g.width),c=Math.max(0,r?s/r:c-g.height),s=Cb(Math.min(s,o,l.maxWidth)),c=Cb(Math.min(c,i,l.maxHeight)),s&&!c&&(c=Cb(s/2)),(void 0!==t||void 0!==n)&&r&&l.height&&c>l.height&&(c=l.height,s=Cb(Math.floor(c*r))),{width:s,height:c}}function Ab(e,t,n){var r=t||1,a=Math.floor(e.height*r),g=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);var o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==a||o.width!==g)&&(e.currentDevicePixelRatio=r,o.height=a,o.width=g,e.ctx.setTransform(r,0,0,r,0,0),!0)}var hb=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(IB){}return e}();function mb(e,t){var n=function(e,t){return lb(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function pb(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function bb(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function fb(e,t,n,r){var a={x:e.cp2x,y:e.cp2y},g={x:t.cp1x,y:t.cp1y},o=pb(e,a,n),i=pb(a,g,n),l=pb(g,t,n),s=pb(o,i,n),c=pb(i,l,n);return pb(s,c,n)}function yb(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function Zb(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function vb(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Gb(e){return"angle"===e?{between:Xm,compare:Rm,normalize:wm}:{between:Ym,compare:function(e,t){return e-t},normalize:function(e){return e}}}function Bb(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function Sb(e,t,n){if(!n)return[e];for(var r,a,g,o=n.property,i=n.start,l=n.end,s=t.length,c=Gb(o),I=c.compare,u=c.between,C=c.normalize,d=function(e,t,n){var r,a,g=n.property,o=n.start,i=n.end,l=Gb(g),s=l.between,c=l.normalize,I=t.length,u=e.start,C=e.end,d=e.loop;if(d){for(u+=I,C+=I,r=0,a=I;r<a&&s(c(t[u%I][g]),o,i);++r)u--,C--;u%=I,C%=I}return C<u&&(C+=I),{start:u,end:C,loop:d,style:e.style}}(e,t,n),A=d.start,h=d.end,m=d.loop,p=d.style,b=[],f=!1,y=null,Z=function(){return f||u(i,g,r)&&0!==I(i,g)},v=function(){return!f||0===I(l,r)||u(l,g,r)},G=A,B=A;G<=h;++G)(a=t[G%s]).skip||(r=C(a[o]))!==g&&(f=u(r,i,l),null===y&&Z()&&(y=0===I(r,i)?G:B),null!==y&&v()&&(b.push(Bb({start:y,end:G,loop:m,count:s,style:p})),y=null),B=G,g=r);return null!==y&&b.push(Bb({start:y,end:h,loop:m,count:s,style:p})),b}function kb(e,t){for(var n=[],r=e.segments,a=0;a<r.length;a++){var g=Sb(r[a],e.points,t);g.length&&n.push.apply(n,c(g))}return n}function Wb(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var a=e._chart.getContext(),g=Vb(e.options),o=e._datasetIndex,i=e.options.spanGaps,l=n.length,s=[],c=g,I=t[0].start,u=I;function C(e,t,r,a){var g=i?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=g;for(;n[t%l].skip;)t+=g;e%l!==t%l&&(s.push({start:e%l,end:t%l,loop:r,style:a}),c=a,I=t%l)}}var d,A=(0,y.Z)(t);try{for(A.s();!(d=A.n()).done;){var h=d.value;I=i?I:h.start;var m=n[I%l],p=void 0;for(u=I+1;u<=h.end;u++){var b=n[u%l];Rb(p=Vb(r.setContext(Np(a,{type:"segment",p0:m,p1:b,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:o}))),c)&&C(I,u-1,h.loop,c),m=b,c=p}I<u-1&&C(I,u-1,h.loop,c)}}catch(f){A.e(f)}finally{A.f()}return s}(e,t,n,r):t}function Vb(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Rb(e,t){if(!t)return!1;var n=[],r=function(e,t){return Pm(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}var wb=function(){function e(){(0,I.Z)(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return(0,u.Z)(e,[{key:"_notify",value:function(e,t,n,r){var a=t.listeners[r],g=t.duration;a.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:g,currentStep:Math.min(n-t.start,g)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=Dm.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,a){if(r.running&&r.items.length){for(var g,o=r.items,i=o.length-1,l=!1;i>=0;--i)(g=o[i])._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),l=!0):(o[i]=o[o.length-1],o.pop());l&&(a.draw(),e._notify(a,r,t,"progress")),o.length||(r.running=!1,e._notify(a,r,t,"complete"),r.initial=!1),n+=o.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,c(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),Xb=new wb,Jb="transparent",Yb={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=qm(e||Jb),a=r.valid&&qm(t||Jb);return a&&a.valid?a.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},xb=function(){function e(t,n,r,a){(0,I.Z)(this,e);var g=n[r];a=Hp([t.to,a,g,t.from]);var o=Hp([t.from,g,a]);this._active=!0,this._fn=t.fn||Yb[t.type||typeof o],this._easing=Om[t.easing]||Om.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=a,this._promises=void 0}return(0,u.Z)(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],a=n-this._start,g=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(g,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Hp([e.to,t,r,e.from]),this._from=Hp([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,a=this._prop,g=this._from,o=this._loop,i=this._to;if(this._active=g!==i&&(o||n<r),!this._active)return this._target[a]=i,void this._notify(!0);n<0?this._target[a]=g:(t=n/r%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[a]=this._fn(g,i,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}(),Hb=function(){function e(t,n){(0,I.Z)(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return(0,u.Z)(e,[{key:"configure",value:function(e){if(Th(e)){var t=Object.keys(Ip.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((function(r){var a=e[r];if(Th(a)){for(var g={},o=0,i=t;o<i.length;o++){var l=i[o];g[l]=a[l]}(zh(a.properties)&&a.properties||[r]).forEach((function(e){e!==r&&n.has(e)||n.set(e,g)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var a=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),a=0;a<r.length;a++){var g=e[r[a]];g&&g.active()&&n.push(g.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),a}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,a=[],g=e.$animations||(e.$animations={}),o=Object.keys(t),i=Date.now();for(n=o.length-1;n>=0;--n){var l=o[n];if("$"!==l.charAt(0))if("options"!==l){var s=t[l],I=g[l],u=r.get(l);if(I){if(u&&I.active()){I.update(u,s,i);continue}I.cancel()}u&&u.duration?(g[l]=I=new xb(u,e,l,s),a.push(I)):e[l]=s}else a.push.apply(a,c(this._animateOptions(e,t)))}return a}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(Xb.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function Nb(e,t){var n=e&&e.options||{},r=n.reverse,a=void 0===n.min?t:0,g=void 0===n.max?t:0;return{start:r?g:a,end:r?a:g}}function Fb(e,t){var n,r,a=[],g=e._getSortedDatasetMetas(t);for(n=0,r=g.length;n<r;++n)a.push(g[n].index);return a}function Kb(e,t,n){var r,a,g,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e.keys,s="single"===i.mode;if(null!==t){for(r=0,a=l.length;r<a;++r){if((g=+l[r])===n){if(i.all)continue;break}Lh(o=e.values[g])&&(s||0===t||fm(t)===fm(o))&&(t+=o)}return t}}function Mb(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Db(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Eb(e,t,n,r){var a,g=(0,y.Z)(t.getMatchingVisibleMetas(r).reverse());try{for(g.s();!(a=g.n()).done;){var o=a.value,i=e[o.index];if(n&&i>0||!n&&i<0)return o.index}}catch(l){g.e(l)}finally{g.f()}return null}function zb(e,t){for(var n,r=e.chart,a=e._cachedMeta,g=r._stacks||(r._stacks={}),o=a.iScale,i=a.vScale,l=a.index,s=o.axis,c=i.axis,I=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,i,a),u=t.length,C=0;C<u;++C){var d=t[C],A=d[s],h=d[c];(n=(d._stacks||(d._stacks={}))[c]=Db(g,I,A))[l]=h,n._top=Eb(n,i,!0,a.type),n._bottom=Eb(n,i,!1,a.type),(n._visualValues||(n._visualValues={}))[l]=h}}function Tb(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function Lb(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;var a,g=(0,y.Z)(t);try{for(g.s();!(a=g.n()).done;){var o=a.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[n]&&delete o[r]._visualValues[n]}}catch(i){g.e(i)}finally{g.f()}}}var Ub=function(e){return"reset"===e||"none"===e},jb=function(e,t){return t?e:Object.assign({},e)},Qb=function(){function e(t,n){(0,I.Z)(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof e?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof e?this.constructor:void 0).dataElementType,this.initialize()}return(0,u.Z)(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&Lb(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},a=t.xAxisID=jh(n.xAxisID,Tb(e,"x")),g=t.yAxisID=jh(n.yAxisID,Tb(e,"y")),o=t.rAxisID=jh(n.rAxisID,Tb(e,"r")),i=t.indexAxis,l=t.iAxisID=r(i,a,g,o),s=t.vAxisID=r(i,g,a,o);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(g),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(s)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&Km(this._data,this),e._stacked&&Lb(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),r=n.data||(n.data=[]),a=this._data;if(Th(r))this._data=function(e){var t,n,r,a=Object.keys(e),g=new Array(a.length);for(t=0,n=a.length;t<n;++t)r=a[t],g[t]={x:r,y:e[r]};return g}(r);else if(a!==r){if(a){Km(a,this);var g=this._cachedMeta;Lb(g),g._parsed=[]}r&&Object.isExtensible(r)&&(t=this,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Fm.forEach((function(t){var n="_onData"+im(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,a=new Array(t),g=0;g<t;g++)a[g]=arguments[g];var o=r.apply(this,a);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,a)})),o}})})))),this._syncList=[],this._data=r}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var a=t._stacked;t._stacked=Mb(t.vScale,t),t.stack!==n.stack&&(r=!0,Lb(t),t.stack=n.stack),this._resyncElements(e),(r||a!==t._stacked)&&zb(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,a,g=this._cachedMeta,o=this._data,i=g.iScale,l=g._stacked,s=i.axis,c=0===e&&t===o.length||g._sorted,I=e>0&&g._parsed[e-1];if(!1===this._parsing)g._parsed=o,g._sorted=!0,a=o;else{a=zh(o[e])?this.parseArrayData(g,o,e,t):Th(o[e])?this.parseObjectData(g,o,e,t):this.parsePrimitiveData(g,o,e,t);for(n=0;n<t;++n)g._parsed[n+e]=r=a[n],c&&((null===r[s]||I&&r[s]<I[s])&&(c=!1),I=r);g._sorted=c}l&&zb(this,a)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var a,g,o,i=e.iScale,l=e.vScale,s=i.axis,c=l.axis,I=i.getLabels(),u=i===l,C=new Array(r);for(a=0,g=r;a<g;++a){var d;o=a+n,C[a]=(d={},(0,et.Z)(d,s,u||i.parse(I[o],o)),(0,et.Z)(d,c,l.parse(t[o],o)),d)}return C}},{key:"parseArrayData",value:function(e,t,n,r){var a,g,o,i,l=e.xScale,s=e.yScale,c=new Array(r);for(a=0,g=r;a<g;++a)i=t[o=a+n],c[a]={x:l.parse(i[0],o),y:s.parse(i[1],o)};return c}},{key:"parseObjectData",value:function(e,t,n,r){var a,g,o,i,l=e.xScale,s=e.yScale,c=this._parsing,I=c.xAxisKey,u=void 0===I?"x":I,C=c.yAxisKey,d=void 0===C?"y":C,A=new Array(r);for(a=0,g=r;a<g;++a)i=t[o=a+n],A[a]={x:l.parse(om(i,u),o),y:s.parse(om(i,d),o)};return A}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,a=this._cachedMeta,g=t[e.axis];return Kb({keys:Fb(r,!0),values:t._stacks[e.axis]._visualValues},g,a.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var a=n[t.axis],g=null===a?NaN:a,o=r&&n._stacks[t.axis];r&&o&&(r.values=o,g=Kb(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,g),e.max=Math.max(e.max,g)}},{key:"getMinMax",value:function(e,t){var n,r,a=this._cachedMeta,g=a._parsed,o=a._sorted&&e===a.iScale,i=g.length,l=this._getOtherScale(e),s=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:Fb(n,!0),values:null}}(t,a,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},I=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,a=t.minDefined,g=t.maxDefined;return{min:a?n:Number.NEGATIVE_INFINITY,max:g?r:Number.POSITIVE_INFINITY}}(l),u=I.min,C=I.max;function d(){var t=(r=g[n])[l.axis];return!Lh(r[e.axis])||u>t||C<t}for(n=0;n<i&&(d()||(this.updateRangeFromParsed(c,e,r,s),!o));++n);if(o)for(n=i-1;n>=0;--n)if(!d()){this.updateRangeFromParsed(c,e,r,s);break}return c}},{key:"getAllParsedValues",value:function(e){var t,n,r,a=this._cachedMeta._parsed,g=[];for(t=0,n=a.length;t<n;++t)Lh(r=a[t][e.axis])&&g.push(r);return g}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,a;return Th(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a,disabled:!1===e}}(jh(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=Nb(e,n),a=Nb(t,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],g=n.chartArea,o=[],i=this._drawStart||0,l=this._drawCount||a.length-i,s=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,g,i,l),e=i;e<i+l;++e){var c=a[e];c.hidden||(c.active&&s?o.push(c):c.draw(t,g))}for(e=0;e<o.length;++e)o[e].draw(t,g)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var g=this._cachedMeta.data[e];r=g.$context||(g.$context=function(e,t,n){return Np(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,g)),r.parsed=this.getParsed(e),r.raw=a.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Np(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,a="active"===n,g=this._cachedDataOpts,o=e+"-"+n,i=g[o],l=this.enableOptionSharing&&lm(r);if(i)return jb(i,l);var s=this.chart.config,c=s.datasetElementScopeKeys(this._type,e),I=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=s.getOptionScopes(this.getDataset(),c),C=Object.keys(Ip.elements[e]),d=s.resolveNamedOptions(u,C,(function(){return t.getContext(r,a,n)}),I);return d.$shared&&(d.$shared=l,g[o]=Object.freeze(jb(d,l))),d}},{key:"_resolveAnimations",value:function(e,t,n){var r,a=this.chart,g=this._cachedDataOpts,o="animation-".concat(t),i=g[o];if(i)return i;if(!1!==a.options.animation){var l=this.chart.config,s=l.datasetAnimationScopeKeys(this._type,t),c=l.getOptionScopes(this.getDataset(),s);r=l.createResolver(c,this.getContext(e,n,t))}var I=new Hb(a,r&&r.animations);return r&&r._cacheable&&(g[o]=Object.freeze(I)),I}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||Ub(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(n),g=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:g}}},{key:"updateElement",value:function(e,t,n,r){Ub(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!Ub(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var a=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,a=(0,y.Z)(this._syncList);try{for(a.s();!(t=a.n()).done;){var g=i(t.value,3),o=g[0],l=g[1],s=g[2];this[o](l,s)}}catch(C){a.e(C)}finally{a.f()}this._syncList=[];var c=r.length,I=n.length,u=Math.min(I,c);u&&this.parse(0,u),I>c?this._insertElements(c,I-c,e):I<c&&this._removeElements(I,c-I)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this._cachedMeta,g=a.data,o=e+t,i=function(e){for(e.length+=t,n=e.length-1;n>=o;n--)e[n]=e[n-t]};for(i(g),n=e;n<o;++n)g[n]=new this.dataElementType;this._parsing&&i(a._parsed),this.parse(e,t),r&&this.updateElements(g,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&Lb(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=i(e,3),n=t[0],r=t[1],a=t[2];this[n](r,a)}this.chart._dataChanges.push([this.index].concat(c(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function _b(e){var t,n,r,a,g=e.iScale,o=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],a=0,g=n.length;a<g;a++)r=r.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=Mm(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(g,e.type),i=g._length,l=function(){32767!==r&&-32768!==r&&(lm(a)&&(i=Math.min(i,Math.abs(r-a)||i)),a=r)};for(t=0,n=o.length;t<n;++t)r=g.getPixelForValue(o[t]),l();for(a=void 0,t=0,n=g.ticks.length;t<n;++t)r=g.getPixelForTick(t),l();return i}function Ob(e,t,n,r){return zh(e)?function(e,t,n,r){var a=n.parse(e[0],r),g=n.parse(e[1],r),o=Math.min(a,g),i=Math.max(a,g),l=o,s=i;Math.abs(o)>Math.abs(i)&&(l=i,s=o),t[n.axis]=s,t._custom={barStart:l,barEnd:s,start:a,end:g,min:o,max:i}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Pb(e,t,n,r){var a,g,o,i,l=e.iScale,s=e.vScale,c=l.getLabels(),I=l===s,u=[];for(a=n,g=n+r;a<g;++a)i=t[a],(o={})[l.axis]=I||l.parse(c[a],a),u.push(Ob(i,o,s,a));return u}function qb(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function $b(e,t,n,r){var a=t.borderSkipped,g={};if(a)if(!0!==a){var o=function(e){var t,n,r,a,g;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(a="end",g="start"):(a="start",g="end"),{start:n,end:r,reverse:t,top:a,bottom:g}}(e),i=o.start,l=o.end,s=o.reverse,c=o.top,I=o.bottom;"middle"===a&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?a=c:(n._bottom||0)===r?a=I:(g[ef(I,i,l,s)]=!0,a=c)),g[ef(a,i,l,s)]=!0,e.borderSkipped=g}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=g}function ef(e,t,n,r){var a,g,o;return r?(o=n,e=tf(e=(a=e)===(g=t)?o:a===o?g:a,n,t)):e=tf(e,t,n),e}function tf(e,t,n){return"start"===e?t:"end"===e?n:e}function nf(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,et.Z)(Qb,"defaults",{}),(0,et.Z)(Qb,"datasetElementType",null),(0,et.Z)(Qb,"dataElementType",null);var rf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return Pb(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return Pb(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var a,g,o,i,l=e.iScale,s=e.vScale,c=this._parsing,I=c.xAxisKey,u=void 0===I?"x":I,C=c.yAxisKey,d=void 0===C?"y":C,A="x"===l.axis?u:d,h="x"===s.axis?u:d,m=[];for(a=n,g=n+r;a<g;++a)i=t[a],(o={})[l.axis]=l.parse(om(i,A),a),m.push(Ob(om(i,h),o,s,a));return m}},{key:"updateRangeFromParsed",value:function(e,t,r,a){es((0,A.Z)(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,a);var g=r._custom;g&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,g.min),e.max=Math.max(e.max,g.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e),g=a._custom,o=qb(g)?"["+g.start+", "+g.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:o}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,es((0,A.Z)(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,g=this.index,o=this._cachedMeta.vScale,i=o.getBasePixel(),l=o.isHorizontal(),s=this._getRuler(),c=this._getSharedOptions(t,r),I=c.sharedOptions,u=c.includeOptions,C=t;C<t+n;C++){var d=this.getParsed(C),A=a||Eh(d[o.axis])?{base:i,head:i}:this._calculateBarValuePixels(C),h=this._calculateBarIndexPixels(C,s),m=(d._stacks||{})[o.axis],p={horizontal:l,base:A.base,enableBorderRadius:!m||qb(d._custom)||g===m._top||g===m._bottom,x:l?A.head:h.center,y:l?h.center:A.head,height:l?h.size:Math.abs(A.size),width:l?Math.abs(A.size):h.size};u&&(p.options=I||this.resolveDataElementOptions(C,e[C].active?"active":r));var b=p.options||e[C].options;$b(p,b,m,g),nf(p,b,s.ratio),this.updateElement(e[C],C,p,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,a=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),g=r.options.stacked,o=[],i=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(Eh(r)||isNaN(r))return!0},l=(0,y.Z)(a);try{for(l.s();!(n=l.n()).done;){var s=n.value;if((void 0===t||!i(s))&&((!1===g||-1===o.indexOf(s.stack)||void 0===g&&void 0===s.stack)&&o.push(s.stack),s.index===e))break}}catch(c){l.e(c)}finally{l.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),a=void 0!==t?r.indexOf(t):-1;return-1===a?r.length-1:a}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,a=r.iScale,g=[];for(e=0,t=r.data.length;e<t;++e)g.push(a.getPixelForValue(this.getParsed(e)[a.axis],e));var o=n.barThickness;return{min:o||_b(r),pixels:g,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:n.grouped,ratio:o?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,a=r.vScale,g=r._stacked,o=r.index,i=this.options,l=i.base,s=i.minBarLength,c=l||0,I=this.getParsed(e),u=I._custom,C=qb(u),d=I[a.axis],A=0,h=g?this.applyStack(a,I,g):d;h!==d&&(A=h-d,h=d),C&&(d=u.barStart,h=u.barEnd-u.barStart,0!==d&&fm(d)!==fm(u.barEnd)&&(A=0),A+=d);var m=Eh(l)||C?A:l,p=a.getPixelForValue(m);if(n=(t=this.chart.getDataVisibility(e)?a.getPixelForValue(A+h):p)-p,Math.abs(n)<s){n=function(e,t,n){return 0!==e?fm(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,a,c)*s,d===c&&(p-=n/2);var b=a.getPixelForDecimal(0),f=a.getPixelForDecimal(1),y=Math.min(b,f),Z=Math.max(b,f);t=(p=Math.max(Math.min(p,Z),y))+n,g&&!C&&(I._stacks[a.axis]._visualValues[o]=a.getValueForPixel(t)-a.getValueForPixel(p))}if(p===a.getPixelForValue(c)){var v=fm(n)*a.getLineWidthForValue(c)/2;p+=v,n-=v}return{size:n,base:p,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,a=t.scale,g=this.options,o=g.skipNull,i=jh(g.maxBarThickness,1/0);if(t.grouped){var l=o?this._getStackCount(e):t.stackCount,s="flex"===g.barThickness?function(e,t,n,r){var a=t.pixels,g=a[e],o=e>0?a[e-1]:null,i=e<a.length-1?a[e+1]:null,l=n.categoryPercentage;null===o&&(o=g-(null===i?t.end-t.start:i-g)),null===i&&(i=g+g-o);var s=g-(g-Math.min(o,i))/2*l;return{chunk:Math.abs(i-o)/2*l/r,ratio:n.barPercentage,start:s}}(e,t,g,l):function(e,t,n,r){var a,g,o=n.barThickness;return Eh(o)?(a=t.min*n.categoryPercentage,g=n.barPercentage):(a=o*r,g=1),{chunk:a/r,ratio:g,start:t.pixels[e]-a/2}}(e,t,g,l),c=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);n=s.start+s.chunk*c+s.chunk/2,r=Math.min(i,s.chunk*s.ratio)}else n=a.getPixelForValue(this.getParsed(e)[a.axis],e),r=Math.min(i,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,a=0;a<r;++a)null!==this.getParsed(a)[t.axis]&&n[a].draw(this._ctx)}}]),n}(Qb);(0,et.Z)(rf,"id","bar"),(0,et.Z)(rf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,et.Z)(rf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var af=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,es((0,A.Z)(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,a){for(var g=es((0,A.Z)(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,a),o=0;o<g.length;o++)g[o]._custom=this.resolveDataElementOptions(o+r).radius;return g}},{key:"parseArrayData",value:function(e,t,r,a){for(var g=es((0,A.Z)(n.prototype),"parseArrayData",this).call(this,e,t,r,a),o=0;o<g.length;o++){var i=t[r+o];g[o]._custom=jh(i[2],this.resolveDataElementOptions(o+r).radius)}return g}},{key:"parseObjectData",value:function(e,t,r,a){for(var g=es((0,A.Z)(n.prototype),"parseObjectData",this).call(this,e,t,r,a),o=0;o<g.length;o++){var i=t[r+o];g[o]._custom=jh(i&&i.r&&+i.r,this.resolveDataElementOptions(o+r).radius)}return g}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,a=t.yScale,g=this.getParsed(e),o=r.getLabelForValue(g.x),i=a.getLabelForValue(g.y),l=g._custom;return{label:n[e]||"",value:"("+o+", "+i+(l?", "+l:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,g=this._cachedMeta,o=g.iScale,i=g.vScale,l=this._getSharedOptions(t,r),s=l.sharedOptions,c=l.includeOptions,I=o.axis,u=i.axis,C=t;C<t+n;C++){var d=e[C],A=!a&&this.getParsed(C),h={},m=h[I]=a?o.getPixelForDecimal(.5):o.getPixelForValue(A[I]),p=h[u]=a?i.getBasePixel():i.getPixelForValue(A[u]);h.skip=isNaN(m)||isNaN(p),c&&(h.options=s||this.resolveDataElementOptions(C,d.active?"active":r),a&&(h.options.radius=0)),this.updateElement(d,C,h,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),a=es((0,A.Z)(n.prototype),"resolveDataElementOptions",this).call(this,e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));var g=a.radius;return"active"!==t&&(a.radius=0),a.radius+=jh(r&&r._custom,g),a}}]),n}(Qb);(0,et.Z)(af,"id","bubble"),(0,et.Z)(af,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,et.Z)(af,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var gf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var a;return(0,I.Z)(this,n),(a=t.call(this,e,r)).enableOptionSharing=!0,a.innerRadius=void 0,a.outerRadius=void 0,a.offsetX=void 0,a.offsetY=void 0,a}return(0,u.Z)(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var a,g,o=function(e){return+n[e]};if(Th(n[e])){var i=this._parsing.key,l=void 0===i?"value":i;o=function(e){return+om(n[e],l)}}for(a=e,g=e+t;a<g;++a)r._parsed[a]=o(a)}}},{key:"_getRotation",value:function(){return Bm(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return Bm(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=um,t=-um,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){var r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),g=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+g)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,a=this._cachedMeta,g=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(g)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min((t=this.options.cutout,n=i,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n),1),s=this._getRingWeight(this.index),c=this._getRotationExtents(),I=c.circumference,u=function(e,t,n){var r=1,a=1,g=0,o=0;if(t<um){var i=e,l=i+t,s=Math.cos(i),c=Math.sin(i),I=Math.cos(l),u=Math.sin(l),C=function(e,t,r){return Xm(e,i,l,!0)?1:Math.max(t,t*n,r,r*n)},d=function(e,t,r){return Xm(e,i,l,!0)?-1:Math.min(t,t*n,r,r*n)},A=C(0,s,I),h=C(hm,c,u),m=d(Im,s,I),p=d(Im+hm,c,u);r=(A-m)/2,a=(h-p)/2,g=-(A+m)/2,o=-(h+p)/2}return{ratioX:r,ratioY:a,offsetX:g,offsetY:o}}(c.rotation,I,l),C=u.ratioX,d=u.ratioY,A=u.offsetX,h=u.offsetY,m=(r.width-o)/C,p=(r.height-o)/d,b=Math.max(Math.min(m,p)/2,0),f=Qh(this.options.radius,b),y=(f-Math.max(f*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=A*f,this.offsetY=h*f,a.total=this.calculateTotal(),this.outerRadius=f-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*s,0),this.updateElements(g,0,g.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/um)}},{key:"updateElements",value:function(e,t,n,r){var a,g="reset"===r,o=this.chart,i=o.chartArea,l=o.options.animation,s=(i.left+i.right)/2,c=(i.top+i.bottom)/2,I=g&&l.animateScale,u=I?0:this.innerRadius,C=I?0:this.outerRadius,d=this._getSharedOptions(t,r),A=d.sharedOptions,h=d.includeOptions,m=this._getRotation();for(a=0;a<t;++a)m+=this._circumference(a,g);for(a=t;a<t+n;++a){var p=this._circumference(a,g),b=e[a],f={x:s+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+p,circumference:p,outerRadius:C,innerRadius:u};h&&(f.options=A||this.resolveDataElementOptions(a,b.active?"active":r)),m+=p,this.updateElement(b,a,f,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var a=t._parsed[e];null===a||isNaN(a)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(a))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?um*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=rp(t._parsed[e],n.options.locale);return{label:r[e]||"",value:a}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,a,g,o=0,i=this.chart;if(!e)for(t=0,n=i.data.datasets.length;t<n;++t)if(i.isDatasetVisible(t)){e=(r=i.getDatasetMeta(t)).data,a=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(g=a.resolveDataElementOptions(t)).borderAlign&&(o=Math.max(o,g.borderWidth||0,g.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(jh(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(Qb);(0,et.Z)(gf,"id","doughnut"),(0,et.Z)(gf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,et.Z)(gf,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),(0,et.Z)(gf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,a=n.color;return t.labels.map((function(t,n){var g=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:a,lineWidth:g.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});var of=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,es((0,A.Z)(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,a=void 0===r?[]:r,g=t._dataset,o=this.chart._animationsDisabled,i=Lm(t,a,o),l=i.start,s=i.count;this._drawStart=l,this._drawCount=s,Um(t)&&(l=0,s=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!g._decimated,n.points=a;var c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(a,l,s,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,g=this._cachedMeta,o=g.iScale,i=g.vScale,l=g._stacked,s=g._dataset,c=this._getSharedOptions(t,r),I=c.sharedOptions,u=c.includeOptions,C=o.axis,d=i.axis,A=this.options,h=A.spanGaps,m=A.segment,p=vm(h)?h:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||"none"===r,f=t+n,y=e.length,Z=t>0&&this.getParsed(t-1),v=0;v<y;++v){var G=e[v],B=b?G:{};if(v<t||v>=f)B.skip=!0;else{var S=this.getParsed(v),k=Eh(S[d]),W=B[C]=o.getPixelForValue(S[C],v),V=B[d]=a||k?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,S,l):S[d],v);B.skip=isNaN(W)||isNaN(V)||k,B.stop=v>0&&Math.abs(S[C]-Z[C])>p,m&&(B.parsed=S,B.raw=s.data[v]),u&&(B.options=I||this.resolveDataElementOptions(v,G.active?"active":r)),b||this.updateElement(G,v,B,r),Z=S}}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var a=r[0].size(this.resolveDataElementOptions(0)),g=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,g)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),es((0,A.Z)(n.prototype),"draw",this).call(this)}}]),n}(Qb);(0,et.Z)(of,"id","line"),(0,et.Z)(of,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,et.Z)(of,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var lf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e,r){var a;return(0,I.Z)(this,n),(a=t.call(this,e,r)).innerRadius=void 0,a.outerRadius=void 0,a}return(0,u.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=rp(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:a}}},{key:"parseObjectData",value:function(e,t,n,r){return Pp.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var a=e.getParsed(r).r;!isNaN(a)&&e.chart.getDataVisibility(r)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(r/2,0),g=(a-Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-g*this.index,this.innerRadius=this.outerRadius-g}},{key:"updateElements",value:function(e,t,n,r){var a,g="reset"===r,o=this.chart,i=o.options.animation,l=this._cachedMeta.rScale,s=l.xCenter,c=l.yCenter,I=l.getIndexAngle(0)-.5*Im,u=I,C=360/this.countVisibleElements();for(a=0;a<t;++a)u+=this._computeAngle(a,r,C);for(a=t;a<t+n;a++){var d=e[a],A=u,h=u+this._computeAngle(a,r,C),m=o.getDataVisibility(a)?l.getDistanceFromCenterForValue(this.getParsed(a).r):0;u=h,g&&(i.animateScale&&(m=0),i.animateRotate&&(A=h=I));var p={x:s,y:c,innerRadius:0,outerRadius:m,startAngle:A,endAngle:h,options:this.resolveDataElementOptions(a,d.active?"active":r)};this.updateElement(d,a,p,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?Bm(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(Qb);(0,et.Z)(lf,"id","polarArea"),(0,et.Z)(lf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,et.Z)(lf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,a=n.color;return t.labels.map((function(t,n){var g=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:a,lineWidth:g.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var sf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(gf);(0,et.Z)(sf,"id","pie"),(0,et.Z)(sf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var cf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return Pp.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],a=t.iScale.getLabels();if(n.points=r,"resize"!==e){var g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0);var o={_loop:!0,_fullLoop:a.length===r.length,options:g};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a=this._cachedMeta.rScale,g="reset"===r,o=t;o<t+n;o++){var i=e[o],l=this.resolveDataElementOptions(o,i.active?"active":r),s=a.getPointPositionForValue(o,this.getParsed(o).r),c=g?a.xCenter:s.x,I=g?a.yCenter:s.y,u={x:c,y:I,angle:s.angle,skip:isNaN(c)||isNaN(I),options:l};this.updateElement(i,o,u,r)}}}]),n}(Qb);(0,et.Z)(cf,"id","radar"),(0,et.Z)(cf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,et.Z)(cf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var If=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,a=t.yScale,g=this.getParsed(e),o=r.getLabelForValue(g.x),i=a.getLabelForValue(g.y);return{label:n[e]||"",value:"("+o+", "+i+")"}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,a=this.chart._animationsDisabled,g=Lm(t,r,a),o=g.start,i=g.count;if(this._drawStart=o,this._drawCount=i,Um(t)&&(o=0,i=r.length),this.options.showLine){this.datasetElementType||this.addElements();var l=t.dataset,s=t._dataset;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!s._decimated,l.points=r;var c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,o,i,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),es((0,A.Z)(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,g=this._cachedMeta,o=g.iScale,i=g.vScale,l=g._stacked,s=g._dataset,c=this.resolveDataElementOptions(t,r),I=this.getSharedOptions(c),u=this.includeOptions(r,I),C=o.axis,d=i.axis,A=this.options,h=A.spanGaps,m=A.segment,p=vm(h)?h:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||a||"none"===r,f=t>0&&this.getParsed(t-1),y=t;y<t+n;++y){var Z=e[y],v=this.getParsed(y),G=b?Z:{},B=Eh(v[d]),S=G[C]=o.getPixelForValue(v[C],y),k=G[d]=a||B?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,v,l):v[d],y);G.skip=isNaN(S)||isNaN(k)||B,G.stop=y>0&&Math.abs(v[C]-f[C])>p,m&&(G.parsed=v,G.raw=s.data[y]),u&&(G.options=I||this.resolveDataElementOptions(y,Z.active?"active":r)),b||this.updateElement(Z,y,G,r),f=v}this.updateSharedOptions(I,r,c)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var a=e.dataset,g=a.options&&a.options.borderWidth||0;if(!t.length)return g;var o=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(g,o,i)/2}}]),n}(Qb);(0,et.Z)(If,"id","scatter"),(0,et.Z)(If,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,et.Z)(If,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var uf=Object.freeze({__proto__:null,BarController:rf,BubbleController:af,DoughnutController:gf,LineController:of,PieController:sf,PolarAreaController:lf,RadarController:cf,ScatterController:If});function Cf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var df=function(){function e(t){(0,I.Z)(this,e),(0,et.Z)(this,"options",void 0),this.options=t||{}}return(0,u.Z)(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return Cf()}},{key:"parse",value:function(){return Cf()}},{key:"format",value:function(){return Cf()}},{key:"add",value:function(){return Cf()}},{key:"diff",value:function(){return Cf()}},{key:"startOf",value:function(){return Cf()}},{key:"endOf",value:function(){return Cf()}}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}(),Af={_date:df};function hf(e,t,n,r){var a=e.controller,g=e.data,o=e._sorted,i=a._cachedMeta.iScale;if(i&&t===i.axis&&"r"!==t&&o&&g.length){var l=i._reversePixels?Nm:Hm;if(!r)return l(g,t,n);if(a._sharedOptions){var s=g[0],c="function"===typeof s.getRange&&s.getRange(t);if(c){var I=l(g,t,n-c),u=l(g,t,n+c);return{lo:I.lo,hi:u.hi}}}}return{lo:0,hi:g.length-1}}function mf(e,t,n,r,a){for(var g=e.getSortedVisibleDatasetMetas(),o=n[t],i=0,l=g.length;i<l;++i)for(var s=g[i],c=s.index,I=s.data,u=hf(g[i],t,o,a),C=u.lo,d=u.hi,A=C;A<=d;++A){var h=I[A];h.skip||r(h,c,A)}}function pf(e,t,n,r,a){var g=[];if(!a&&!e.isPointInArea(t))return g;return mf(e,n,t,(function(n,o,i){(a||pp(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&g.push({element:n,datasetIndex:o,index:i})}),!0),g}function bf(e,t,n,r,a,g){var o=[],i=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var a=t?Math.abs(e.x-r.x):0,g=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(g,2))}}(n),l=Number.POSITIVE_INFINITY;return mf(e,n,t,(function(n,s,c){var I=n.inRange(t.x,t.y,a);if(!r||I){var u=n.getCenterPoint(a);if(!!g||e.isPointInArea(u)||I){var C=i(t,u);C<l?(o=[{element:n,datasetIndex:s,index:c}],l=C):C===l&&o.push({element:n,datasetIndex:s,index:c})}}})),o}function ff(e,t,n,r,a,g){return g||e.isPointInArea(t)?"r"!==n||r?bf(e,t,n,r,a,g):function(e,t,n,r){var a=[];return mf(e,n,t,(function(e,n,g){var o=e.getProps(["startAngle","endAngle"],r),i=o.startAngle,l=o.endAngle;Xm(Wm(e,{x:t.x,y:t.y}).angle,i,l)&&a.push({element:e,datasetIndex:n,index:g})})),a}(e,t,n,a):[]}function yf(e,t,n,r,a){var g=[],o="x"===n?"inXRange":"inYRange",i=!1;return mf(e,n,t,(function(e,r,l){e[o](t[n],a)&&(g.push({element:e,datasetIndex:r,index:l}),i=i||e.inRange(t.x,t.y,a))})),r&&!i?[]:g}var Zf={evaluateInteractionItems:mf,modes:{index:function(e,t,n,r){var a=ub(t,e),g=n.axis||"x",o=n.includeInvisible||!1,i=n.intersect?pf(e,a,g,r,o):ff(e,a,g,!1,r,o),l=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=i[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset:function(e,t,n,r){var a=ub(t,e),g=n.axis||"xy",o=n.includeInvisible||!1,i=n.intersect?pf(e,a,g,r,o):ff(e,a,g,!1,r,o);if(i.length>0){var l=i[0].datasetIndex,s=e.getDatasetMeta(l).data;i=[];for(var c=0;c<s.length;++c)i.push({element:s[c],datasetIndex:l,index:c})}return i},point:function(e,t,n,r){return pf(e,ub(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var a=ub(t,e),g=n.axis||"xy",o=n.includeInvisible||!1;return ff(e,a,g,n.intersect,r,o)},x:function(e,t,n,r){return yf(e,ub(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return yf(e,ub(t,e),"y",n.intersect,r)}}},vf=["left","top","right","bottom"];function Gf(e,t){return e.filter((function(e){return e.pos===t}))}function Bf(e,t){return e.filter((function(e){return-1===vf.indexOf(e.pos)&&e.box.axis===t}))}function Sf(e,t){return e.sort((function(e,n){var r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight}))}function kf(e,t){var n,r,a,g=function(e){var t,n={},r=(0,y.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,g=a.stack,o=a.pos,i=a.stackWeight;if(g&&vf.includes(o)){var l=n[g]||(n[g]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}}}catch(s){r.e(s)}finally{r.f()}return n}(e),o=t.vBoxMaxWidth,i=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var l=(a=e[n]).box.fullSize,s=g[a.stack],c=s&&a.stackWeight/s.weight;a.horizontal?(a.width=c?c*o:l&&t.availableWidth,a.height=i):(a.width=o,a.height=c?c*i:l&&t.availableHeight)}return g}function Wf(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Vf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Rf(e,t,n,r){var a=n.pos,g=n.box,o=e.maxPadding;if(!Th(a)){n.size&&(e[a]-=n.size);var i=r[n.stack]||{size:0,count:1};i.size=Math.max(i.size,n.horizontal?g.height:g.width),n.size=i.size/i.count,e[a]+=n.size}g.getPadding&&Vf(o,g.getPadding());var l=Math.max(0,t.outerWidth-Wf(o,e,"left","right")),s=Math.max(0,t.outerHeight-Wf(o,e,"top","bottom")),c=l!==e.w,I=s!==e.h;return e.w=l,e.h=s,n.horizontal?{same:c,other:I}:{same:I,other:c}}function wf(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Xf(e,t,n,r){var a,g,o,i,l,s,c=[];for(a=0,g=e.length,l=0;a<g;++a){(i=(o=e[a]).box).update(o.width||t.w,o.height||t.h,wf(o.horizontal,t));var I=Rf(t,n,o,r),u=I.same,C=I.other;l|=u&&c.length,s=s||C,i.fullSize||c.push(o)}return l&&Xf(c,t,n,r)||s}function Jf(e,t,n,r,a){e.top=n,e.left=t,e.right=t+r,e.bottom=n+a,e.width=r,e.height=a}function Yf(e,t,n,r){var a,g=n.padding,o=t.x,i=t.y,l=(0,y.Z)(e);try{for(l.s();!(a=l.n()).done;){var s=a.value,c=s.box,I=r[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/I.weight||1;if(s.horizontal){var C=t.w*u,d=I.size||c.height;lm(I.start)&&(i=I.start),c.fullSize?Jf(c,g.left,i,n.outerWidth-g.right-g.left,d):Jf(c,t.left+I.placed,i,C,d),I.start=i,I.placed+=C,i=c.bottom}else{var A=t.h*u,h=I.size||c.width;lm(I.start)&&(o=I.start),c.fullSize?Jf(c,o,g.top,h,n.outerHeight-g.bottom-g.top):Jf(c,o,t.top+I.placed,h,A),I.start=o,I.placed+=A,o=c.right}}}catch(m){l.e(m)}finally{l.f()}t.x=o,t.y=i}var xf=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},Hf=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},Nf=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},Ff=function(e,t,n,r){if(e){var a=Yp(e.options.layout.padding),g=Math.max(t-a.width,0),o=Math.max(n-a.height,0),i=function(e){var t=function(e){var t,n,r,a,g,o,i=[];for(t=0,n=(e||[]).length;t<n;++t){var l=r=e[t];a=l.position;var s=l.options;g=s.stack;var c=s.stackWeight;o=void 0===c?1:c,i.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:g&&a+g,stackWeight:o})}return i}(e),n=Sf(t.filter((function(e){return e.box.fullSize})),!0),r=Sf(Gf(t,"left"),!0),a=Sf(Gf(t,"right")),g=Sf(Gf(t,"top"),!0),o=Sf(Gf(t,"bottom")),i=Bf(t,"x"),l=Bf(t,"y");return{fullSize:n,leftAndTop:r.concat(g),rightAndBottom:a.concat(l).concat(o).concat(i),chartArea:Gf(t,"chartArea"),vertical:r.concat(a).concat(l),horizontal:g.concat(o).concat(i)}}(e.boxes),l=i.vertical,s=i.horizontal;Oh(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var c=l.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,I=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:g,availableHeight:o,vBoxMaxWidth:g/2/c,hBoxMaxHeight:o/2}),u=Object.assign({},a);Vf(u,Yp(r));var C=Object.assign({maxPadding:u,w:g,h:o,x:a.left,y:a.top},a),d=kf(l.concat(s),I);Xf(i.fullSize,C,I,d),Xf(l,C,I,d),Xf(s,C,I,d)&&Xf(l,C,I,d),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(C),Yf(i.leftAndTop,C,I,d),C.x+=C.w,C.y+=C.h,Yf(i.rightAndBottom,C,I,d),e.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},Oh(i.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})}))}},Kf=function(){function e(){(0,I.Z)(this,e)}return(0,u.Z)(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),Mf=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(Kf),Df="$chartjs",Ef={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zf=function(e){return null===e||""===e};var Tf=!!hb&&{passive:!0};function Lf(e,t,n){e.canvas.removeEventListener(t,n,Tf)}function Uf(e,t){var n,r=(0,y.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a===t||a.contains(t))return!0}}catch(g){r.e(g)}finally{r.f()}}function jf(e,t,n){var r=e.canvas,a=new MutationObserver((function(e){var t,a=!1,g=(0,y.Z)(e);try{for(g.s();!(t=g.n()).done;){var o=t.value;a=(a=a||Uf(o.addedNodes,r))&&!Uf(o.removedNodes,r)}}catch(i){g.e(i)}finally{g.f()}a&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}function Qf(e,t,n){var r=e.canvas,a=new MutationObserver((function(e){var t,a=!1,g=(0,y.Z)(e);try{for(g.s();!(t=g.n()).done;){var o=t.value;a=(a=a||Uf(o.removedNodes,r))&&!Uf(o.addedNodes,r)}}catch(i){g.e(i)}finally{g.f()}a&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}var _f=new Map,Of=0;function Pf(){var e=window.devicePixelRatio;e!==Of&&(Of=e,_f.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function qf(e,t,n){var r=e.canvas,a=r&&ob(r);if(a){var g=Em((function(e,t){var r=a.clientWidth;n(e,t),r<a.clientWidth&&n()}),window),o=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||g(n,r)}));return o.observe(a),function(e,t){_f.size||window.addEventListener("resize",Pf),_f.set(e,t)}(e,g),o}}function $f(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){_f.delete(e),_f.size||window.removeEventListener("resize",Pf)}(e)}function ey(e,t,n){var r=e.canvas,a=Em((function(t){null!==e.ctx&&n(function(e,t){var n=Ef[e.type]||e.type,r=ub(e,t),a=r.x,g=r.y;return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==g?g:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,Tf)}(r,t,a),a}var ty=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[Df]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zf(a)){var g=mb(e,"width");void 0!==g&&(e.width=g)}if(zf(r))if(""===e.style.height)e.height=e.width/(t||2);else{var o=mb(e,"height");void 0!==o&&(e.height=o)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t[Df])return!1;var n=t[Df].initial;["height","width"].forEach((function(e){var r=n[e];Eh(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t[Df],!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),a={attach:jf,detach:Qf,resize:qf}[t]||ey;r[t]=a(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:$f,detach:$f,resize:$f}[t]||Lf)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return db(e,t,n,r)}},{key:"isAttached",value:function(e){var t=ob(e);return!(!t||!t.isConnected)}}]),n}(Kf);var ny=function(){function e(){(0,I.Z)(this,e),(0,et.Z)(this,"x",void 0),(0,et.Z)(this,"y",void 0),(0,et.Z)(this,"active",!1),(0,et.Z)(this,"options",void 0),(0,et.Z)(this,"$animations",void 0)}return(0,u.Z)(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return vm(this.x)&&vm(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var a={};return e.forEach((function(e){a[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),a}}]),e}();function ry(e,t){var n=e.options.ticks,r=function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(r,a))}(e),a=Math.min(n.maxTicksLimit||r,r),g=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],o=g.length,i=g[0],l=g[o-1],s=[];if(o>a)return function(e,t,n,r){var a,g=0,o=n[0];for(r=Math.ceil(r),a=0;a<e.length;a++)a===o&&(t.push(e[a]),o=n[++g*r])}(t,s,g,o/a),s;var c=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),a=t.length/n;if(!r)return Math.max(a,1);for(var g=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),o=0,i=g.length-1;o<i;o++){var l=g[o];if(l>a)return l}return Math.max(a,1)}(g,t,a);if(o>0){var I,u,C=o>1?Math.round((l-i)/(o-1)):null;for(ay(t,s,c,Eh(C)?0:i-C,i),I=0,u=o-1;I<u;I++)ay(t,s,c,g[I],g[I+1]);return ay(t,s,c,l,Eh(C)?t.length:l+C),s}return ay(t,s,c),s}function ay(e,t,n,r,a){var g,o,i,l=jh(r,0),s=Math.min(jh(a,e.length),e.length),c=0;for(n=Math.ceil(n),a&&(n=(g=a-r)/Math.floor(g/n)),i=l;i<0;)c++,i=Math.round(l+c*n);for(o=Math.max(l,0);o<s;o++)o===i&&(t.push(e[o]),c++,i=Math.round(l+c*n))}(0,et.Z)(ny,"defaults",{}),(0,et.Z)(ny,"defaultRoutes",void 0);var gy=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n},oy=function(e,t){return Math.min(t||e,e)};function iy(e,t){for(var n=[],r=e.length/t,a=e.length,g=0;g<a;g+=r)n.push(e[Math.floor(g)]);return n}function ly(e,t,n){var r,a=e.ticks.length,g=Math.min(t,a-1),o=e._startPixel,i=e._endPixel,l=1e-6,s=e.getPixelForTick(g);if(!(n&&(r=1===a?Math.max(s-o,i-s):0===t?(e.getPixelForTick(1)-s)/2:(s-e.getPixelForTick(g-1))/2,(s+=g<t?r:-r)<o-l||s>i+l)))return s}function sy(e){return e.drawTicks?e.tickLength:0}function cy(e,t){if(!e.display)return 0;var n=xp(e.font,t),r=Yp(e.padding);return(zh(e.text)?e.text.length:1)*n.lineHeight+r.height}function Iy(e,t,n){var r=zm(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var uy=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return(0,u.Z)(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=Uh(e,Number.POSITIVE_INFINITY),t=Uh(t,Number.NEGATIVE_INFINITY),n=Uh(n,Number.POSITIVE_INFINITY),r=Uh(r,Number.NEGATIVE_INFINITY),{min:Uh(e,n),max:Uh(t,r),minDefined:Lh(e),maxDefined:Lh(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,a=n.max,g=n.minDefined,o=n.maxDefined;if(g&&o)return{min:r,max:a};for(var i=this.getMatchingVisibleMetas(),l=0,s=i.length;l<s;++l)t=i[l].controller.getMinMax(this,e),g||(r=Math.min(r,t.min)),o||(a=Math.max(a,t.max));return{min:Uh(r=o&&r>a?a:r,Uh(a=g&&r>a?r:a,r)),max:Uh(a,Uh(r,a))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){_h(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,a=r.beginAtZero,g=r.grace,o=r.ticks,i=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,a=e.max,g=Qh(t,(a-r)/2),o=function(e,t){return n&&0===e?0:e+t};return{min:o(r,-Math.abs(g)),max:o(a,g)}}(this,g,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=i<this.ticks.length;this._convertTicksToLabels(l?iy(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=ry(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){_h(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){_h(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){_h(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),_h(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){_h(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,a=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=_h(a.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){_h(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){_h(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,a=r.ticks,g=oy(this.ticks.length,r.ticks.maxTicksLimit),o=a.minRotation||0,i=a.maxRotation,l=o;if(!this._isVisible()||!a.display||o>=i||g<=1||!this.isHorizontal())this.labelRotation=o;else{var s=this._getLabelSizes(),c=s.widest.width,I=s.highest.height,u=Jm(this.chart.width-c,0,this.maxWidth);c+6>(e=r.offset?this.maxWidth/g:u/(g-1))&&(e=u/(g-(r.offset?.5:1)),t=this.maxHeight-sy(r.grid)-a.padding-cy(r.title,this.chart.options.font),n=Math.sqrt(c*c+I*I),l=Sm(Math.min(Math.asin(Jm((s.highest.height+6)/e,-1,1)),Math.asin(Jm(t/n,-1,1))-Math.asin(Jm(I/n,-1,1)))),l=Math.max(o,Math.min(i,l))),this.labelRotation=l}}},{key:"afterCalculateLabelRotation",value:function(){_h(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){_h(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,a=n.title,g=n.grid,o=this._isVisible(),i=this.isHorizontal();if(o){var l=cy(a,t.options.font);if(i?(e.width=this.maxWidth,e.height=sy(g)+l):(e.height=this.maxHeight,e.width=sy(g)+l),r.display&&this.ticks.length){var s=this._getLabelSizes(),c=s.first,I=s.last,u=s.widest,C=s.highest,d=2*r.padding,A=Bm(this.labelRotation),h=Math.cos(A),m=Math.sin(A);if(i){var p=r.mirror?0:m*u.width+h*C.height;e.height=Math.min(this.maxHeight,e.height+p+d)}else{var b=r.mirror?0:h*u.width+m*C.height;e.width=Math.min(this.maxWidth,e.width+b+d)}this._calculatePadding(c,I,m,h)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var a=this.options,g=a.ticks,o=g.align,i=g.padding,l=a.position,s=0!==this.labelRotation,c="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var I=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),C=0,d=0;s?c?(C=r*e.width,d=n*t.height):(C=n*e.height,d=r*t.width):"start"===o?d=t.width:"end"===o?C=e.width:"inner"!==o&&(C=e.width/2,d=t.width/2),this.paddingLeft=Math.max((C-I+i)*this.width/(this.width-I),0),this.paddingRight=Math.max((d-u+i)*this.width/(this.width-u),0)}else{var A=t.height/2,h=e.height/2;"start"===o?(A=0,h=e.height):"end"===o&&(A=t.height,h=0),this.paddingTop=A+i,this.paddingBottom=h+i}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){_h(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Eh(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=iy(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,t,n){var r,a,g,o,i,l,s,c,I,u,C,d=this.ctx,A=this._longestTextCache,h=[],m=[],p=Math.floor(t/oy(t,n)),b=0,f=0;for(r=0;r<t;r+=p){if(o=e[r].label,i=this._resolveTickFontOptions(r),d.font=l=i.string,s=A[l]=A[l]||{data:{},gc:[]},c=i.lineHeight,I=u=0,Eh(o)||zh(o)){if(zh(o))for(a=0,g=o.length;a<g;++a)Eh(C=o[a])||zh(C)||(I=up(d,s.data,s.gc,I,C),u+=c)}else I=up(d,s.data,s.gc,I,o),u=c;h.push(I),m.push(u),b=Math.max(I,b),f=Math.max(u,f)}!function(e,t){Oh(e,(function(e){var n,r=e.gc,a=r.length/2;if(a>t){for(n=0;n<a;++n)delete e.data[r[n]];r.splice(0,a)}}))}(A,t);var y=h.indexOf(b),Z=m.indexOf(f),v=function(e){return{width:h[e]||0,height:m[e]||0}};return{first:v(0),last:v(t-1),widest:v(y),highest:v(Z),widths:h,heights:m}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return Jm(this._alignToPixels?dp(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return Np(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Np(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=Bm(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),g=e.autoSkipPadding||0,o=a?a.widest.width+g:0,i=a?a.highest.height+g:0;return this.isHorizontal()?i*n>o*r?o/n:i/r:i*r<o*n?i/n:o/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,a,g,o,i,l,s,c,I,u,C=this.axis,d=this.chart,A=this.options,h=A.grid,m=A.position,p=A.border,b=h.offset,f=this.isHorizontal(),y=this.ticks.length+(b?1:0),Z=sy(h),v=[],G=p.setContext(this.getContext()),B=G.display?G.width:0,S=B/2,k=function(e){return dp(d,e,B)};if("top"===m)t=k(this.bottom),o=this.bottom-Z,l=t-S,c=k(e.top)+S,u=e.bottom;else if("bottom"===m)t=k(this.top),c=e.top,u=k(e.bottom)-S,o=t+S,l=this.top+Z;else if("left"===m)t=k(this.right),g=this.right-Z,i=t-S,s=k(e.left)+S,I=e.right;else if("right"===m)t=k(this.left),s=e.left,I=k(e.right)-S,g=t+S,i=this.left+Z;else if("x"===C){if("center"===m)t=k((e.top+e.bottom)/2+.5);else if(Th(m)){var W=Object.keys(m)[0],V=m[W];t=k(this.chart.scales[W].getPixelForValue(V))}c=e.top,u=e.bottom,l=(o=t+S)+Z}else if("y"===C){if("center"===m)t=k((e.left+e.right)/2);else if(Th(m)){var R=Object.keys(m)[0],w=m[R];t=k(this.chart.scales[R].getPixelForValue(w))}i=(g=t-S)-Z,s=e.left,I=e.right}var X=jh(A.ticks.maxTicksLimit,y),J=Math.max(1,Math.ceil(y/X));for(n=0;n<y;n+=J){var Y=this.getContext(n),x=h.setContext(Y),H=p.setContext(Y),N=x.lineWidth,F=x.color,K=H.dash||[],M=H.dashOffset,D=x.tickWidth,E=x.tickColor,z=x.tickBorderDash||[],T=x.tickBorderDashOffset;void 0!==(r=ly(this,n,b))&&(a=dp(d,r,N),f?g=i=s=I=a:o=l=c=u=a,v.push({tx1:g,ty1:o,tx2:i,ty2:l,x1:s,y1:c,x2:I,y2:u,width:N,color:F,borderDash:K,borderDashOffset:M,tickWidth:D,tickColor:E,tickBorderDash:z,tickBorderDashOffset:T}))}return this._ticksLength=y,this._borderValue=t,v}},{key:"_computeLabelItems",value:function(e){var t,n,r,a,g,o,i,l,s,c,I,u=this.axis,C=this.options,d=C.position,A=C.ticks,h=this.isHorizontal(),m=this.ticks,p=A.align,b=A.crossAlign,f=A.padding,y=A.mirror,Z=sy(C.grid),v=Z+f,G=y?-f:v,B=-Bm(this.labelRotation),S=[],k="middle";if("top"===d)g=this.bottom-G,o=this._getXAxisLabelAlignment();else if("bottom"===d)g=this.top+G,o=this._getXAxisLabelAlignment();else if("left"===d){var W=this._getYAxisLabelAlignment(Z);o=W.textAlign,a=W.x}else if("right"===d){var V=this._getYAxisLabelAlignment(Z);o=V.textAlign,a=V.x}else if("x"===u){if("center"===d)g=(e.top+e.bottom)/2+v;else if(Th(d)){var R=Object.keys(d)[0],w=d[R];g=this.chart.scales[R].getPixelForValue(w)+v}o=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===d)a=(e.left+e.right)/2-v;else if(Th(d)){var X=Object.keys(d)[0],J=d[X];a=this.chart.scales[X].getPixelForValue(J)}o=this._getYAxisLabelAlignment(Z).textAlign}"y"===u&&("start"===p?k="top":"end"===p&&(k="bottom"));var Y=this._getLabelSizes();for(t=0,n=m.length;t<n;++t){r=m[t].label;var x=A.setContext(this.getContext(t));i=this.getPixelForTick(t)+A.labelOffset,s=(l=this._resolveTickFontOptions(t)).lineHeight;var H=(c=zh(r)?r.length:1)/2,N=x.color,F=x.textStrokeColor,K=x.textStrokeWidth,M=o;h?(a=i,"inner"===o&&(M=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),I="top"===d?"near"===b||0!==B?-c*s+s/2:"center"===b?-Y.highest.height/2-H*s+s:-Y.highest.height+s/2:"near"===b||0!==B?s/2:"center"===b?Y.highest.height/2-H*s:Y.highest.height-c*s,y&&(I*=-1),0===B||x.showLabelBackdrop||(a+=s/2*Math.sin(B))):(g=i,I=(1-c)*s/2);var D=void 0;if(x.showLabelBackdrop){var E=Yp(x.backdropPadding),z=Y.heights[t],T=Y.widths[t],L=I-E.top,U=0-E.left;switch(k){case"middle":L-=z/2;break;case"bottom":L-=z}switch(o){case"center":U-=T/2;break;case"right":U-=T}D={left:U,top:L,width:T+E.width,height:z+E.height,color:x.backdropColor}}S.push({label:r,font:l,textOffset:I,options:{rotation:B,color:N,strokeColor:F,strokeWidth:K,textAlign:M,textBaseline:k,translation:[a,g],backdrop:D}})}return S}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-Bm(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,a=r.position,g=r.ticks,o=g.crossAlign,i=g.mirror,l=g.padding,s=e+l,c=this._getLabelSizes().widest.width;return"left"===a?i?(n=this.right+l,"near"===o?t="left":"center"===o?(t="center",n+=c/2):(t="right",n+=c)):(n=this.right-s,"near"===o?t="right":"center"===o?(t="center",n-=c/2):(t="left",n=this.left)):"right"===a?i?(n=this.left+l,"near"===o?t="right":"center"===o?(t="center",n-=c/2):(t="left",n-=c)):(n=this.left+s,"near"===o?t="left":"center"===o?(t="center",n+=c/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,a=this.width,g=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,a,g),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,a=this.ctx,g=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o=function(e,t,n){n.width&&n.color&&(a.save(),a.lineWidth=n.width,a.strokeStyle=n.color,a.setLineDash(n.borderDash||[]),a.lineDashOffset=n.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(r.display)for(t=0,n=g.length;t<n;++t){var i=g[t];r.drawOnChartArea&&o({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),r.drawTicks&&o({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options,r=n.border,a=n.grid,g=r.setContext(this.getContext()),o=r.display?g.width:0;if(o){var i,l,s,c,I=a.setContext(this.getContext(0)).lineWidth,u=this._borderValue;this.isHorizontal()?(i=dp(e,this.left,o)-o/2,l=dp(e,this.right,I)+I/2,s=c=u):(s=dp(e,this.top,o)-o/2,c=dp(e,this.bottom,I)+I/2,i=l=u),t.save(),t.lineWidth=g.width,t.strokeStyle=g.color,t.beginPath(),t.moveTo(i,s),t.lineTo(l,c),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&bp(t,n);var r,a=this.getLabelItems(e),g=(0,y.Z)(a);try{for(g.s();!(r=g.n()).done;){var o=r.value,i=o.options,l=o.font;Bp(t,o.label,0,o.textOffset,l,i)}}catch(s){g.e(s)}finally{g.f()}n&&fp(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,a=t.reverse;if(r.display){var g=xp(r.font),o=Yp(r.padding),i=r.align,l=g.lineHeight/2;"bottom"===n||"center"===n||Th(n)?(l+=o.bottom,zh(r.text)&&(l+=g.lineHeight*(r.text.length-1))):l+=o.top;var s=function(e,t,n,r){var a,g,o,i=e.top,l=e.left,s=e.bottom,c=e.right,I=e.chart,u=I.chartArea,C=I.scales,d=0,A=s-i,h=c-l;if(e.isHorizontal()){if(g=Tm(r,l,c),Th(n)){var m=Object.keys(n)[0],p=n[m];o=C[m].getPixelForValue(p)+A-t}else o="center"===n?(u.bottom+u.top)/2+A-t:gy(e,n,t);a=c-l}else{if(Th(n)){var b=Object.keys(n)[0],f=n[b];g=C[b].getPixelForValue(f)-h+t}else g="center"===n?(u.left+u.right)/2-h+t:gy(e,n,t);o=Tm(r,s,i),d="left"===n?-hm:hm}return{titleX:g,titleY:o,maxWidth:a,rotation:d}}(this,l,n,i),c=s.titleX,I=s.titleY,u=s.maxWidth,C=s.rotation;Bp(e,r.text,0,0,g,{color:r.color,maxWidth:u,rotation:C,textAlign:Iy(i,n,a),textBaseline:"middle",translation:[c,I]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,a=jh(t.grid&&t.grid.z,-1),g=jh(t.border&&t.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:a,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:g,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",g=[];for(t=0,n=r.length;t<n;++t){var o=r[t];o[a]!==this.id||e&&o.type!==e||g.push(o)}return g}},{key:"_resolveTickFontOptions",value:function(e){return xp(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(ny),Cy=function(){function e(t,n,r){(0,I.Z)(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return(0,u.Z)(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,a=e.id,g=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,function(e,t,n){var r=tm(Object.create(null),[n?Ip.get(n):{},Ip.get(t),e.defaults]);Ip.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),a=r.pop(),g=[e].concat(r).join("."),o=t[n].split("."),i=o.pop(),l=o.join(".");Ip.route(g,a,l,i)}))}(t,e.defaultRoutes);e.descriptors&&Ip.describe(t,e.descriptors)}(e,g,t),this.override&&Ip.override(e.id,e.overrides)),g}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Ip[r]&&(delete Ip[r][n],this.override&&delete op[n])}}]),e}();var dy=function(){function e(){(0,I.Z)(this,e),this.controllers=new Cy(Qb,"datasets",!0),this.elements=new Cy(ny,"elements"),this.plugins=new Cy(Object,"plugins"),this.scales=new Cy(uy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return(0,u.Z)(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;c(t).forEach((function(t){var a=n||r._getRegistryForType(t);n||a.isForType(t)||a===r.plugins&&t.id?r._exec(e,a,t):Oh(t,(function(t){var a=n||r._getRegistryForType(t);r._exec(e,a,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=im(e);_h(n["before"+r],[],n),t[e](n),_h(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),Ay=new dy,hy=function(){function e(){(0,I.Z)(this,e),this._init=[]}return(0,u.Z)(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var a=r?this._descriptors(e).filter(r):this._descriptors(e),g=this._notify(a,e,t,n);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),g}},{key:"_notify",value:function(e,t,n,r){r=r||{};var a,g=(0,y.Z)(e);try{for(g.s();!(a=g.n()).done;){var o=a.value,i=o.plugin;if(!1===_h(i[n],[t,r,o.options],i)&&r.cancelable)return!1}}catch(l){g.e(l)}finally{g.f()}return!0}},{key:"invalidate",value:function(){Eh(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=jh(n.options&&n.options.plugins,{}),a=function(e){for(var t={},n=[],r=Object.keys(Ay.plugins.items),a=0;a<r.length;a++)n.push(Ay.getPlugin(r[a]));for(var g=e.plugins||[],o=0;o<g.length;o++){var i=g[o];-1===n.indexOf(i)&&(n.push(i),t[i.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var a,g=t.plugins,o=t.localIds,i=[],l=e.getContext(),s=(0,y.Z)(g);try{for(s.s();!(a=s.n()).done;){var c=a.value,I=c.id,u=my(n[I],r);null!==u&&i.push({plugin:c,options:py(e.config,{plugin:c,local:o[I]},u,l)})}}catch(C){s.e(C)}finally{s.f()}return i}(e,a,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function my(e,t){return t||!1!==e?!0===e?{}:e:null}function py(e,t,n,r){var a=t.plugin,g=t.local,o=e.pluginScopeKeys(a),i=e.getOptionScopes(n,o);return g&&a.defaults&&i.push(a.defaults),e.createResolver(i,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function by(e,t){var n=Ip.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function fy(e){if("x"===e||"y"===e||"r"===e)return e}function yy(e){if(fy(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,g=n;a<g.length;a++){var o=g[a],i=o.axis||("top"===(l=o.position)||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0)||e.length>1&&fy(e[0].toLowerCase());if(i)return i}var l;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Zy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function vy(e,t){var n=op[e.type]||{scales:{}},r=t.scales||{},a=by(e.type,t),g=Object.create(null);return Object.keys(r).forEach((function(t){var o=r[t];if(!Th(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));var i=yy(t,o,function(e,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter((function(t){return t.xAxisID===e||t.yAxisID===e}));if(n.length)return Zy(e,"x",n[0])||Zy(e,"y",n[0])}return{}}(t,e),Ip.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(i,a),s=n.scales||{};g[t]=nm(Object.create(null),[{axis:i},o,s[i],s[l]])})),e.data.datasets.forEach((function(n){var a=n.type||e.type,o=n.indexAxis||by(a,t),i=(op[a]||{}).scales||{};Object.keys(i).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),a=n[t+"AxisID"]||t;g[a]=g[a]||Object.create(null),nm(g[a],[{axis:t},r[a],i[e]])}))})),Object.keys(g).forEach((function(e){var t=g[e];nm(t,[Ip.scales[t.type],Ip.scale])})),g}function Gy(e){var t=e.options||(e.options={});t.plugins=jh(t.plugins,{}),t.scales=vy(e,t)}function By(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var Sy=new Map,ky=new Set;function Wy(e,t){var n=Sy.get(e);return n||(n=t(),Sy.set(e,n),ky.add(n)),n}var Vy=function(e,t,n){var r=om(t,n);void 0!==r&&e.add(r)},Ry=function(){function e(t){(0,I.Z)(this,e),this._config=function(e){return(e=e||{}).data=By(e.data),Gy(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return(0,u.Z)(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=By(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),Gy(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return Wy(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return Wy("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return Wy("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return Wy("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(c(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,a=this.type,g=this._cachedScopes(e,n),o=g.get(t);if(o)return o;var i=new Set;t.forEach((function(t){e&&(i.add(e),t.forEach((function(t){return Vy(i,e,t)}))),t.forEach((function(e){return Vy(i,r,e)})),t.forEach((function(e){return Vy(i,op[a]||{},e)})),t.forEach((function(e){return Vy(i,Ip,e)})),t.forEach((function(e){return Vy(i,ip,e)}))}));var l=Array.from(i);return 0===l.length&&l.push(Object.create(null)),ky.has(t)&&g.set(t,l),l}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,op[t]||{},Ip.datasets[t]||{},{type:t},Ip,ip]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],a={$shared:!0},g=wy(this._resolverCache,e,r),o=g.resolver,i=g.subPrefixes,l=o;(function(e,t){var n,r=Mp(e),a=r.isScriptable,g=r.isIndexable,o=(0,y.Z)(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,l=a(i),s=g(i),c=(s||l)&&e[i];if(l&&(sm(c)||Xy(c))||s&&zh(c))return!0}}catch(I){o.e(I)}finally{o.f()}return!1})(o,t)&&(a.$shared=!1,l=Kp(o,n=sm(n)?n():n,this.createResolver(e,n,i)));var s,c=(0,y.Z)(t);try{for(c.s();!(s=c.n()).done;){var I=s.value;a[I]=l[I]}}catch(u){c.e(u)}finally{c.f()}return a}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,a=wy(this._resolverCache,e,n).resolver;return Th(t)?Kp(a,t,void 0,r):a}}]),e}();function wy(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var a=n.join(),g=r.get(a);g||(g={resolver:Fp(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(a,g));return g}var Xy=function(e){return Th(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||sm(e[n])}),!1)};var Jy=["top","bottom","left","right","chartArea"];function Yy(e,t){return"top"===e||"bottom"===e||-1===Jy.indexOf(e)&&"x"===t}function xy(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Hy(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),_h(n&&n.onComplete,[e],t)}function Ny(e){var t=e.chart,n=t.options.animation;_h(n&&n.onProgress,[e],t)}function Fy(e){return gb()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Ky={},My=function(e){var t=Fy(e);return Object.values(Ky).filter((function(e){return e.canvas===t})).pop()};function Dy(e,t,n){for(var r=0,a=Object.keys(e);r<a.length;r++){var g=a[r],o=+g;if(o>=t){var i=e[g];delete e[g],(n>0||o>t)&&(e[o+n]=i)}}}function Ey(e,t,n){return e.options.clip?e[n]:t[n]}var zy=function(){function e(t,n){var r=this;(0,I.Z)(this,e);var a=this.config=new Ry(n),g=Fy(t),o=My(g);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var i=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!gb()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Mf:ty}(g)),this.platform.updateConfig(a);var l=this.platform.acquireContext(g,i.aspectRatio),s=l&&l.canvas,c=s&&s.height,u=s&&s.width;this.id=Dh(),this.ctx=l,this.canvas=s,this.width=u,this.height=c,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),g=0;g<r;g++)a[g]=arguments[g];return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}((function(e){return r.update(e)}),i.resizeDelay||0),this._dataChanges=[],Ky[this.id]=this,l&&s?(Xb.listen(this,"complete",Hy),Xb.listen(this,"progress",Ny),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return(0,u.Z)(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,a=this.height,g=this._aspectRatio;return Eh(t)?n&&g?g:a?r/a:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return Ay}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ab(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return Ap(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Xb.stop(this),this}},{key:"resize",value:function(e,t){Xb.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,g=this.platform.getMaximumSize(r,e,t,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=g.width,this.height=g.height,this._aspectRatio=this.aspectRatio,Ab(this,o,!0)&&(this.notifyPlugins("resize",{size:g}),_h(n.onResize,[this,g],this),this.attached&&this._doResize(i)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){Oh(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,a=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),g=[];n&&(g=g.concat(Object.keys(n).map((function(e){var t=n[e],r=yy(e,t),a="r"===r,g="x"===r;return{options:t,dposition:a?"chartArea":g?"bottom":"left",dtype:a?"radialLinear":g?"category":"linear"}})))),Oh(g,(function(n){var g=n.options,o=g.id,i=yy(o,g),l=jh(g.type,n.dtype);void 0!==g.position&&Yy(g.position,i)===Yy(n.dposition)||(g.position=n.dposition),a[o]=!0;var s=null;o in r&&r[o].type===l?s=r[o]:(s=new(Ay.getScale(l))({id:o,type:l,ctx:e.ctx,chart:e}),r[s.id]=s);s.init(g,t)})),Oh(a,(function(e,t){e||delete r[t]})),Oh(r,(function(t){Nf(e,t,t.options),xf(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(xy("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var a=r[e],g=this.getDatasetMeta(e),o=a.type||this.config.type;if(g.type&&g.type!==o&&(this._destroyDatasetMeta(e),g=this.getDatasetMeta(e)),g.type=o,g.indexAxis=a.indexAxis||by(o,this.options),g.order=a.order||0,g.index=e,g.label=""+a.label,g.visible=this.isDatasetVisible(e),g.controller)g.controller.updateIndex(e),g.controller.linkScales();else{var i=Ay.getController(o),l=Ip.datasets[o],s=l.datasetElementType,c=l.dataElementType;Object.assign(i,{dataElementType:Ay.getElement(c),datasetElementType:s&&Ay.getElement(s)}),g.controller=new i(this,e),n.push(g.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;Oh(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var g=0,o=0,i=this.data.datasets.length;o<i;o++){var l=this.getDatasetMeta(o).controller,s=!r&&-1===a.indexOf(l);l.buildOrUpdateElements(s),g=Math.max(+l.getMaxOverflow(),g)}g=this._minPadding=n.layout.autoPadding?g:0,this._updateLayout(g),r||Oh(a,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xy("z","_idx"));var c=this._active,I=this._lastEvent;I?this._eventHandler(I,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;Oh(this.scales,(function(t){Hf(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);cm(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=this._getUniformDataChanges()||[],r=(0,y.Z)(n);try{for(r.s();!(e=r.n()).done;){var a=e.value,g=a.method,o=a.start,i=a.count;Dy(t,o,"_removeElements"===g?-i:i)}}catch(l){r.e(l)}finally{r.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),a=1;a<t;a++)if(!cm(r,n(a)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){Ff(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Oh(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,c(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,a=this.data.datasets.length;r<a;++r)this._updateDataset(r,sm(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Xb.has(this)?this.attached&&!Xb.running(this)&&Xb.start(this):(this.draw(),Hy({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,a=[];for(t=0,n=r.length;t<n;++t){var g=r[t];e&&!g.visible||a.push(g)}return a}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,a=function(e,t){var n=e.xScale,r=e.yScale;return n&&r?{left:Ey(n,t,"left"),right:Ey(n,t,"right"),top:Ey(r,t,"top"),bottom:Ey(r,t,"bottom")}:t}(e,this.chartArea),g={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",g)&&(r&&bp(t,{left:!1===n.left?0:a.left-n.left,right:!1===n.right?this.width:a.right+n.right,top:!1===n.top?0:a.top-n.top,bottom:!1===n.bottom?this.height:a.bottom+n.bottom}),e.controller.draw(),r&&fp(t),g.cancelable=!1,this.notifyPlugins("afterDatasetDraw",g))}},{key:"isPointInArea",value:function(e){return pp(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var a=Zf.modes[t];return"function"===typeof a?a(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=Np(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",a=this.getDatasetMeta(e),g=a.controller._resolveAnimations(void 0,r);lm(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),g.update(a,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),Xb.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ap(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ky[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};Oh(this.options.events,(function(a){return function(r,a){n.addEventListener(e,r,a),t[r]=a}(a,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,a=function(t,a){r.addEventListener(e,t,a),n[t]=a},g=function(t,a){n[t]&&(r.removeEventListener(e,t,a),delete n[t])},o=function(t,n){e.canvas&&e.resize(t,n)},i=function n(){g("attach",n),e.attached=!0,e.resize(),a("resize",o),a("detach",t)};t=function(){e.attached=!1,g("resize",o),e._stop(),e._resize(0,0),a("attach",i)},r.isAttached(this.canvas)?i():t()}},{key:"unbindEvents",value:function(){var e=this;Oh(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},Oh(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,a,g,o=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),a=0,g=e.length;a<g;++a){var i=(r=e[a])&&this.getDatasetMeta(r.datasetIndex).controller;i&&i[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,a=t.getDatasetMeta(n);if(!a)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:a.data[r],index:r}}));!Ph(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter((function(t){return t.plugin.id===e})).length}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,a=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},g=a(t,e),o=n?e:a(e,t);g.length&&this.updateHoverStyle(g,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,a)){var g=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(g||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,a=void 0===r?[]:r,g=this.options,o=t,i=this._getActiveElements(e,a,n,o),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),s=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,_h(g.onHover,[e,i,this],this),l&&_h(g.onClick,[e,i,this],this));var c=!Ph(i,a);return(c||t)&&(this._active=i,this._updateHoverStyles(i,a,t)),this._lastEvent=s,c}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}],[{key:"register",value:function(){Ay.add.apply(Ay,arguments),Ty()}},{key:"unregister",value:function(){Ay.remove.apply(Ay,arguments),Ty()}}]),e}();function Ty(){return Oh(zy.instances,(function(e){return e._plugins.invalidate()}))}function Ly(e,t,n,r){var a=wp(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),g=(n-t)/2,o=Math.min(g,r*t/2),i=function(e){var t=(n-Math.min(g,e))*r/2;return Jm(e,0,Math.min(g,t))};return{outerStart:i(a.outerStart),outerEnd:i(a.outerEnd),innerStart:Jm(a.innerStart,0,o),innerEnd:Jm(a.innerEnd,0,o)}}function Uy(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function jy(e,t,n,r,a,g){var o=t.x,i=t.y,l=t.startAngle,s=t.pixelMargin,c=t.innerRadius,I=Math.max(t.outerRadius+r+n-s,0),u=c>0?c+r+n+s:0,C=0,d=a-l;if(r){var A=((c>0?c-r:0)+(I>0?I-r:0))/2;C=(d-(0!==A?d*A/(A+r):d))/2}var h=(d-Math.max(.001,d*I-n/Im)/I)/2,m=l+h+C,p=a-h-C,b=Ly(t,u,I,p-m),f=b.outerStart,y=b.outerEnd,Z=b.innerStart,v=b.innerEnd,G=I-f,B=I-y,S=m+f/G,k=p-y/B,W=u+Z,V=u+v,R=m+Z/W,w=p-v/V;if(e.beginPath(),g){var X=(S+k)/2;if(e.arc(o,i,I,S,X),e.arc(o,i,I,X,k),y>0){var J=Uy(B,k,o,i);e.arc(J.x,J.y,y,k,p+hm)}var Y=Uy(V,p,o,i);if(e.lineTo(Y.x,Y.y),v>0){var x=Uy(V,w,o,i);e.arc(x.x,x.y,v,p+hm,w+Math.PI)}var H=(p-v/u+(m+Z/u))/2;if(e.arc(o,i,u,p-v/u,H,!0),e.arc(o,i,u,H,m+Z/u,!0),Z>0){var N=Uy(W,R,o,i);e.arc(N.x,N.y,Z,R+Math.PI,m-hm)}var F=Uy(G,m,o,i);if(e.lineTo(F.x,F.y),f>0){var K=Uy(G,S,o,i);e.arc(K.x,K.y,f,m-hm,S)}}else{e.moveTo(o,i);var M=Math.cos(S)*I+o,D=Math.sin(S)*I+i;e.lineTo(M,D);var E=Math.cos(k)*I+o,z=Math.sin(k)*I+i;e.lineTo(E,z)}e.closePath()}function Qy(e,t,n,r,a){var g=t.fullCircles,o=t.startAngle,i=t.circumference,l=t.options,s=l.borderWidth,c=l.borderJoinStyle,I=l.borderDash,u=l.borderDashOffset,C="inner"===l.borderAlign;if(s){e.setLineDash(I||[]),e.lineDashOffset=u,C?(e.lineWidth=2*s,e.lineJoin=c||"round"):(e.lineWidth=s,e.lineJoin=c||"bevel");var d=t.endAngle;if(g){jy(e,t,n,r,d,a);for(var A=0;A<g;++A)e.stroke();isNaN(i)||(d=o+(i%um||um))}C&&function(e,t,n){var r=t.startAngle,a=t.pixelMargin,g=t.x,o=t.y,i=t.outerRadius,l=t.innerRadius,s=a/i;e.beginPath(),e.arc(g,o,i,r-s,n+s),l>a?(s=a/l,e.arc(g,o,l,n+s,r-s,!0)):e.arc(g,o,a,n+hm,r-hm),e.closePath(),e.clip()}(e,t,d),g||(jy(e,t,n,r,d,a),e.stroke())}}(0,et.Z)(zy,"defaults",Ip),(0,et.Z)(zy,"instances",Ky),(0,et.Z)(zy,"overrides",op),(0,et.Z)(zy,"registry",Ay),(0,et.Z)(zy,"version","4.4.0"),(0,et.Z)(zy,"getChart",My);var _y=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),r=t.call(this),(0,et.Z)((0,ah.Z)(r),"circumference",void 0),(0,et.Z)((0,ah.Z)(r),"endAngle",void 0),(0,et.Z)((0,ah.Z)(r),"fullCircles",void 0),(0,et.Z)((0,ah.Z)(r),"innerRadius",void 0),(0,et.Z)((0,ah.Z)(r),"outerRadius",void 0),(0,et.Z)((0,ah.Z)(r),"pixelMargin",void 0),(0,et.Z)((0,ah.Z)(r),"startAngle",void 0),r.options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign((0,ah.Z)(r),e),r}return(0,u.Z)(n,[{key:"inRange",value:function(e,t,n){var r=Wm(this.getProps(["x","y"],n),{x:e,y:t}),a=r.angle,g=r.distance,o=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),i=o.startAngle,l=o.endAngle,s=o.innerRadius,c=o.outerRadius,I=o.circumference,u=(this.options.spacing+this.options.borderWidth)/2,C=jh(I,l-i)>=um||Xm(a,i,l),d=Ym(g,s+u,c+u);return C&&d}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),n=t.x,r=t.y,a=t.startAngle,g=t.endAngle,o=t.innerRadius,i=t.outerRadius,l=this.options,s=l.offset,c=(a+g)/2,I=(o+i+l.spacing+s)/2;return{x:n+Math.cos(c)*I,y:r+Math.sin(c)*I}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/4,a=(t.spacing||0)/2,g=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>um?Math.floor(n/um):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);var i=r*(1-Math.sin(Math.min(Im,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,a){var g=t.fullCircles,o=t.startAngle,i=t.circumference,l=t.endAngle;if(g){jy(e,t,n,r,l,a);for(var s=0;s<g;++s)e.fill();isNaN(i)||(l=o+(i%um||um))}jy(e,t,n,r,l,a),e.fill()}(e,this,i,a,g),Qy(e,this,i,a,g),e.restore()}}}]),n}(ny);function Oy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=jh(n.borderCapStyle,t.borderCapStyle),e.setLineDash(jh(n.borderDash,t.borderDash)),e.lineDashOffset=jh(n.borderDashOffset,t.borderDashOffset),e.lineJoin=jh(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=jh(n.borderWidth,t.borderWidth),e.strokeStyle=jh(n.borderColor,t.borderColor)}function Py(e,t,n){e.lineTo(n.x,n.y)}function qy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,a=n.start,g=void 0===a?0:a,o=n.end,i=void 0===o?r-1:o,l=t.start,s=t.end,c=Math.max(g,l),I=Math.min(i,s),u=g<l&&i<l||g>s&&i>s;return{count:r,start:c,loop:t.loop,ilen:I<c&&!u?r+I-c:I-c}}function $y(e,t,n,r){var a,g,o,i=t.points,l=t.options,s=qy(i,n,r),c=s.count,I=s.start,u=s.loop,C=s.ilen,d=function(e){return e.stepped?yp:e.tension||"monotone"===e.cubicInterpolationMode?Zp:Py}(l),A=r||{},h=A.move,m=void 0===h||h,p=A.reverse;for(a=0;a<=C;++a)(g=i[(I+(p?C-a:a))%c]).skip||(m?(e.moveTo(g.x,g.y),m=!1):d(e,o,g,p,l.stepped),o=g);return u&&d(e,o,g=i[(I+(p?C:0))%c],p,l.stepped),!!u}function eZ(e,t,n,r){var a,g,o,i,l,s,c=t.points,I=qy(c,n,r),u=I.count,C=I.start,d=I.ilen,A=r||{},h=A.move,m=void 0===h||h,p=A.reverse,b=0,f=0,y=function(e){return(C+(p?d-e:e))%u},Z=function(){i!==l&&(e.lineTo(b,l),e.lineTo(b,i),e.lineTo(b,s))};for(m&&(g=c[y(0)],e.moveTo(g.x,g.y)),a=0;a<=d;++a)if(!(g=c[y(a)]).skip){var v=g.x,G=g.y,B=0|v;B===o?(G<i?i=G:G>l&&(l=G),b=(f*b+v)/++f):(Z(),e.lineTo(v,G),o=B,f=0,i=l=G),s=G}Z()}function tZ(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?eZ:$y}(0,et.Z)(_y,"id","arc"),(0,et.Z)(_y,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,et.Z)(_y,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,et.Z)(_y,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});var nZ="function"===typeof Path2D;function rZ(e,t,n,r){nZ&&!t.options.segment?function(e,t,n,r){var a=t._path;a||(a=t._path=new Path2D,t.path(a,n,r)&&a.closePath()),Oy(e,t.options),e.stroke(a)}(e,t,n,r):function(e,t,n,r){var a,g=t.segments,o=t.options,i=tZ(t),l=(0,y.Z)(g);try{for(l.s();!(a=l.n()).done;){var s=a.value;Oy(e,o,s.style),e.beginPath(),i(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(c){l.e(c)}finally{l.f()}}(e,t,n,r)}var aZ=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign((0,ah.Z)(r),e),r}return(0,u.Z)(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;ab(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,a=n.length;if(!a)return[];var g=!!e._loop,o=function(e,t,n,r){var a=0,g=t-1;if(n&&!r)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(g+=a);g>a&&e[g%t].skip;)g--;return{start:a,end:g%=t}}(n,a,g,r),i=o.start,l=o.end;return Wb(e,!0===r?[{start:i,end:l,loop:g}]:function(e,t,n,r){var a,g=e.length,o=[],i=t,l=e[t];for(a=t+1;a<=n;++a){var s=e[a%g];s.skip||s.stop?l.skip||(r=!1,o.push({start:t%g,end:(a-1)%g,loop:r}),t=i=s.stop?a:null):(i=a,l.skip&&(t=a)),l=s}return null!==i&&o.push({start:t%g,end:i%g,loop:r}),o}(n,i,l<i?l+a:l,!!e._fullLoop&&0===i&&l===a-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],a=this.points,g=kb(this,{property:t,start:r,end:r});if(g.length){var o,i,l=[],s=function(e){return e.stepped?bb:e.tension||"monotone"===e.cubicInterpolationMode?fb:pb}(n);for(o=0,i=g.length;o<i;++o){var c=g[o],I=c.start,u=c.end,C=a[I],d=a[u];if(C!==d){var A=s(C,d,Math.abs((r-C[t])/(d[t]-C[t])),n.stepped);A[t]=e[t],l.push(A)}else l.push(C)}return 1===l.length?l[0]:l}}},{key:"pathSegment",value:function(e,t,n){return tZ(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,a=tZ(this),g=this._loop;t=t||0,n=n||this.points.length-t;var o,i=(0,y.Z)(r);try{for(i.s();!(o=i.n()).done;){g&=a(e,this,o.value,{start:t,end:t+n-1})}}catch(l){i.e(l)}finally{i.f()}return!!g}},{key:"draw",value:function(e,t,n,r){var a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),rZ(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(ny);function gZ(e,t,n,r){var a=e.options,g=e.getProps([n],r)[n];return Math.abs(t-g)<a.radius+a.hitRadius}(0,et.Z)(aZ,"id","line"),(0,et.Z)(aZ,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,et.Z)(aZ,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,et.Z)(aZ,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});var oZ=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),r=t.call(this),(0,et.Z)((0,ah.Z)(r),"parsed",void 0),(0,et.Z)((0,ah.Z)(r),"skip",void 0),(0,et.Z)((0,ah.Z)(r),"stop",void 0),r.options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign((0,ah.Z)(r),e),r}return(0,u.Z)(n,[{key:"inRange",value:function(e,t,n){var r=this.options,a=this.getProps(["x","y"],n),g=a.x,o=a.y;return Math.pow(e-g,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return gZ(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return gZ(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!pp(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,hp(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(ny);function iZ(e,t){var n,r,a,g,o,i=e.getProps(["x","y","base","width","height"],t),l=i.x,s=i.y,c=i.base,I=i.width,u=i.height;return e.horizontal?(o=u/2,n=Math.min(l,c),r=Math.max(l,c),a=s-o,g=s+o):(n=l-(o=I/2),r=l+o,a=Math.min(s,c),g=Math.max(s,c)),{left:n,top:a,right:r,bottom:g}}function lZ(e,t,n,r){return e?0:Jm(t,n,r)}function sZ(e){var t=iZ(e),n=t.right-t.left,r=t.bottom-t.top,a=function(e,t,n){var r=e.options.borderWidth,a=e.borderSkipped,g=Xp(r);return{t:lZ(a.top,g.top,0,n),r:lZ(a.right,g.right,0,t),b:lZ(a.bottom,g.bottom,0,n),l:lZ(a.left,g.left,0,t)}}(e,n/2,r/2),g=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,a=e.options.borderRadius,g=Jp(a),o=Math.min(t,n),i=e.borderSkipped,l=r||Th(a);return{topLeft:lZ(!l||i.top||i.left,g.topLeft,0,o),topRight:lZ(!l||i.top||i.right,g.topRight,0,o),bottomLeft:lZ(!l||i.bottom||i.left,g.bottomLeft,0,o),bottomRight:lZ(!l||i.bottom||i.right,g.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:g},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,g.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(a.b,a.r))}}}}function cZ(e,t,n,r){var a=null===t,g=null===n,o=e&&!(a&&g)&&iZ(e,r);return o&&(a||Ym(t,o.left,o.right))&&(g||Ym(n,o.top,o.bottom))}function IZ(e,t){e.rect(t.x,t.y,t.w,t.h)}function uZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,g=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+r,y:e.y+a,w:e.w+g,h:e.h+o,radius:e.radius}}(0,et.Z)(oZ,"id","point"),(0,et.Z)(oZ,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,et.Z)(oZ,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var CZ=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign((0,ah.Z)(r),e),r}return(0,u.Z)(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,a=r.borderColor,g=r.backgroundColor,o=sZ(this),i=o.inner,l=o.outer,s=(t=l.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?Sp:IZ;e.save(),l.w===i.w&&l.h===i.h||(e.beginPath(),s(e,uZ(l,n,i)),e.clip(),s(e,uZ(i,-n,l)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),s(e,uZ(i,n)),e.fillStyle=g,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return cZ(this,e,t,n)}},{key:"inXRange",value:function(e,t){return cZ(this,e,null,t)}},{key:"inYRange",value:function(e,t){return cZ(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,a=t.base,g=t.horizontal;return{x:g?(n+a)/2:n,y:g?r:(r+a)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(ny);(0,et.Z)(CZ,"id","bar"),(0,et.Z)(CZ,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,et.Z)(CZ,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var dZ=Object.freeze({__proto__:null,ArcElement:_y,BarElement:CZ,LineElement:aZ,PointElement:oZ}),AZ=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hZ=AZ.map((function(e){return e.replace("rgb(","rgba(").replace(")",", 0.5)")}));function mZ(e){return AZ[e%AZ.length]}function pZ(e){return hZ[e%hZ.length]}function bZ(e){var t=0;return function(n,r){var a=e.getDatasetMeta(r).controller;a instanceof gf?t=function(e,t){return e.backgroundColor=e.data.map((function(){return mZ(t++)})),t}(n,t):a instanceof lf?t=function(e,t){return e.backgroundColor=e.data.map((function(){return pZ(t++)})),t}(n,t):a&&(t=function(e,t){return e.borderColor=mZ(t),e.backgroundColor=pZ(t),++t}(n,t))}}function fZ(e){var t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var yZ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(e,t,n){if(n.enabled){var r=e.config,a=r.data.datasets,g=r.options,o=g.elements;if(n.forceOverride||!(fZ(a)||(i=g,i&&(i.borderColor||i.backgroundColor))||o&&fZ(o))){var i,l=bZ(e);a.forEach(l)}}}};function ZZ(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vZ(e){e.data.datasets.forEach((function(e){ZZ(e)}))}var GZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,a){var g=t._data,o=t.indexAxis,i=e.getDatasetMeta(a),l=g||t.data;if("y"!==Hp([o,e.options.indexAxis])&&i.controller.supportsDecimation){var s=e.scales[i.xAxisID];if(("linear"===s.type||"time"===s.type)&&!e.options.parsing){var c=function(e,t){var n=t.length,r=0,a=e.iScale,g=a.getUserBounds(),o=g.min,i=g.max,l=g.minDefined,s=g.maxDefined;return l&&(r=Jm(Hm(t,a.axis,o).lo,0,n-1)),{start:r,count:s?Jm(Hm(t,a.axis,i).hi+1,r,n)-r:n-r}}(i,l),I=c.start,u=c.count;if(u<=(n.threshold||4*r))ZZ(t);else{var C;switch(Eh(g)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":C=function(e,t,n,r,a){var g=a.samples||r;if(g>=n)return e.slice(t,t+n);var o,i,l,s,c,I=[],u=(n-2)/(g-2),C=0,d=t+n-1,A=t;for(I[C++]=e[A],o=0;o<g-2;o++){var h=0,m=0,p=void 0,b=Math.floor((o+1)*u)+1+t,f=Math.min(Math.floor((o+2)*u)+1,n)+t,y=f-b;for(p=b;p<f;p++)h+=e[p].x,m+=e[p].y;h/=y,m/=y;var Z=Math.floor(o*u)+1+t,v=Math.min(Math.floor((o+1)*u)+1,n)+t,G=e[A],B=G.x,S=G.y;for(l=s=-1,p=Z;p<v;p++)(s=.5*Math.abs((B-h)*(e[p].y-S)-(B-e[p].x)*(m-S)))>l&&(l=s,i=e[p],c=p);I[C++]=i,A=c}return I[C++]=e[d],I}(l,I,u,r,n);break;case"min-max":C=function(e,t,n,r){var a,g,o,i,l,s,c,I,u,C,d=0,A=0,h=[],m=t+n-1,p=e[t].x,b=e[m].x-p;for(a=t;a<t+n;++a){o=((g=e[a]).x-p)/b*r,i=g.y;var f=0|o;if(f===l)i<u?(u=i,s=a):i>C&&(C=i,c=a),d=(A*d+g.x)/++A;else{var y=a-1;if(!Eh(s)&&!Eh(c)){var Z=Math.min(s,c),v=Math.max(s,c);Z!==I&&Z!==y&&h.push(nt(nt({},e[Z]),{},{x:d})),v!==I&&v!==y&&h.push(nt(nt({},e[v]),{},{x:d}))}a>0&&y!==I&&h.push(e[y]),h.push(g),l=f,A=0,u=C=i,s=c=I=a}}return h}(l,I,u,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=C}}}}))}else vZ(e)},destroy:function(e){vZ(e)}};function BZ(e,t,n,r){if(!r){var a=t[e],g=n[e];return"angle"===e&&(a=wm(a),g=wm(g)),{property:e,start:a,end:g}}}function SZ(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function kZ(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function WZ(e,t){var n=[],r=!1;return zh(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,a=void 0===r?null:r,g=n.y,o=void 0===g?null:g,i=t.points,l=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=SZ(t,n,i);var r=i[t],g=i[n];null!==o?(l.push({x:r.x,y:o}),l.push({x:g.x,y:o})):null!==a&&(l.push({x:a,y:r.y}),l.push({x:a,y:g.y}))})),l}(e,t),n.length?new aZ({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function VZ(e){return e&&!1!==e.fill}function RZ(e,t,n){var r,a=e[t].fill,g=[t];if(!n)return a;for(;!1!==a&&-1===g.indexOf(a);){if(!Lh(a))return a;if(!(r=e[a]))return!1;if(r.visible)return a;g.push(a),a=r.fill}return!1}function wZ(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=jh(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Th(r))return!isNaN(r.value)&&r;var a=parseFloat(r);return Lh(a)&&Math.floor(a)===a?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function XZ(e,t,n){for(var r=[],a=0;a<n.length;a++){var g=JZ(n[a],t,"x"),o=g.first,i=g.last,l=g.point;if(!(!l||o&&i))if(o)r.unshift(l);else if(e.push(l),!i)break}e.push.apply(e,r)}function JZ(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var a=r[n],g=e.segments,o=e.points,i=!1,l=!1,s=0;s<g.length;s++){var c=g[s],I=o[c.start][n],u=o[c.end][n];if(Ym(a,I,u)){i=a===I,l=a===u;break}}return{first:i,last:l,point:r}}var YZ=function(){function e(t){(0,I.Z)(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return(0,u.Z)(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,a=this.y,g=this.radius;return t=t||{start:0,end:um},e.arc(r,a,g,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,a=e.angle;return{x:t+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}]),e}();function xZ(e){var t=e.chart,n=e.fill,r=e.line;if(Lh(n))return function(e,t){var n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,a=[],g=r.segments,o=r.points,i=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),a=0;a<r.length;a++){var g=r[a];if(g.index===t)break;g.hidden||n.unshift(g.dataset)}return n}(t,n);i.push(WZ({x:null,y:t.bottom},r));for(var l=0;l<g.length;l++)for(var s=g[l],c=s.start;c<=s.end;c++)XZ(a,o[c],i);return new aZ({points:a,options:{}})}(e);if("shape"===n)return!0;var a=function(e){var t=e.scale||{};if(t.getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,a=t.getLabels().length,g=r.reverse?t.max:t.min,o=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Th(e)?e.value:t.getBaseValue()}(n,t,g),i=[];if(r.grid.circular){var l=t.getPointPositionForValue(0,g);return new YZ({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(var s=0;s<a;++s)i.push(t.getPointPositionForValue(s,o));return i}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=e.fill,a=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Th(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(r,n);if(Lh(a)){var g=n.isHorizontal();return{x:g?a:null,y:g?null:a}}return null}(e)}(e);return a instanceof YZ?a:WZ(a,r)}function HZ(e,t,n){var r=xZ(t),a=t.line,g=t.scale,o=t.axis,i=a.options,l=i.fill,s=i.backgroundColor,c=l||{},I=c.above,u=void 0===I?s:I,C=c.below,d=void 0===C?s:C;r&&a.points.length&&(bp(e,n),function(e,t){var n=t.line,r=t.target,a=t.above,g=t.below,o=t.area,i=t.scale,l=n._loop?"angle":t.axis;e.save(),"x"===l&&g!==a&&(NZ(e,r,o.top),FZ(e,{line:n,target:r,color:a,scale:i,property:l}),e.restore(),e.save(),NZ(e,r,o.bottom));FZ(e,{line:n,target:r,color:g,scale:i,property:l}),e.restore()}(e,{line:a,target:r,above:u,below:d,area:n,scale:g,axis:o}),fp(e))}function NZ(e,t,n){var r=t.segments,a=t.points,g=!0,o=!1;e.beginPath();var i,l=(0,y.Z)(r);try{for(l.s();!(i=l.n()).done;){var s=i.value,c=s.start,I=s.end,u=a[c],C=a[SZ(c,I,a)];g?(e.moveTo(u.x,u.y),g=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),(o=!!t.pathSegment(e,s,{move:o}))?e.closePath():e.lineTo(C.x,n)}}catch(d){l.e(d)}finally{l.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function FZ(e,t){var n,r=t.line,a=t.target,g=t.property,o=t.color,i=t.scale,l=function(e,t,n){var r,a=e.segments,g=e.points,o=t.points,i=[],l=(0,y.Z)(a);try{for(l.s();!(r=l.n()).done;){var s=r.value,c=s.start,I=s.end;I=SZ(c,I,g);var u=BZ(n,g[c],g[I],s.loop);if(t.segments){var C,d=kb(t,u),A=(0,y.Z)(d);try{for(A.s();!(C=A.n()).done;){var h,m=C.value,p=BZ(n,o[m.start],o[m.end],m.loop),b=Sb(s,g,p),f=(0,y.Z)(b);try{for(f.s();!(h=f.n()).done;){var Z=h.value;i.push({source:Z,target:m,start:(0,et.Z)({},n,kZ(u,p,"start",Math.max)),end:(0,et.Z)({},n,kZ(u,p,"end",Math.min))})}}catch(v){f.e(v)}finally{f.f()}}}catch(v){A.e(v)}finally{A.f()}}else i.push({source:s,target:u,start:g[c],end:g[I]})}}catch(v){l.e(v)}finally{l.f()}return i}(r,a,g),s=(0,y.Z)(l);try{for(s.s();!(n=s.n()).done;){var c=n.value,I=c.source,u=c.target,C=c.start,d=c.end,A=I.style,h=(void 0===A?{}:A).backgroundColor,m=void 0===h?o:h,p=!0!==a;e.save(),e.fillStyle=m,KZ(e,i,p&&BZ(g,C,d)),e.beginPath();var b=!!r.pathSegment(e,I),f=void 0;if(p){b?e.closePath():MZ(e,a,d,g);var Z=!!a.pathSegment(e,u,{move:b,reverse:!0});(f=b&&Z)||MZ(e,a,C,g)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}catch(v){s.e(v)}finally{s.f()}}function KZ(e,t,n){var r=t.chart.chartArea,a=r.top,g=r.bottom,o=n||{},i=o.property,l=o.start,s=o.end;"x"===i&&(e.beginPath(),e.rect(l,a,s-l,g-a),e.clip())}function MZ(e,t,n,r){var a=t.interpolate(n,r);a&&e.lineTo(a.x,a.y)}var DZ={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,a,g,o,i=(e.data.datasets||[]).length,l=[];for(a=0;a<i;++a)o=null,(g=(r=e.getDatasetMeta(a)).dataset)&&g.options&&g instanceof aZ&&(o={visible:e.isDatasetVisible(a),index:a,fill:wZ(g,a,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:g}),r.$filler=o,l.push(o);for(a=0;a<i;++a)(o=l[a])&&!1!==o.fill&&(o.fill=RZ(l,a,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,a=e.getSortedVisibleDatasetMetas(),g=e.chartArea,o=a.length-1;o>=0;--o){var i=a[o].$filler;i&&(i.line.updateControlPoints(g,i.axis),r&&i.fill&&HZ(e.ctx,i,g))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),a=r.length-1;a>=0;--a){var g=r[a].$filler;VZ(g)&&HZ(e.ctx,g,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;VZ(r)&&"beforeDatasetDraw"===n.drawTime&&HZ(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},EZ=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,a=e.boxWidth,g=void 0===a?t:a;return e.usePointStyle&&(r=Math.min(r,t),g=e.pointStyleWidth||Math.min(g,t)),{boxWidth:g,boxHeight:r,itemHeight:Math.max(t,r)}},zZ=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return(0,u.Z)(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=_h(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,a=e.labels,g=xp(a.font),o=g.size,i=this._computeTitleHeight(),l=EZ(a,o),s=l.boxWidth,c=l.itemHeight;t.font=g.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(i,o,s,c)+10):(r=this.maxHeight,n=this._fitCols(i,g,s,c)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var a=this.ctx,g=this.maxWidth,o=this.options.labels.padding,i=this.legendHitBoxes=[],l=this.lineWidths=[0],s=r+o,c=e;a.textAlign="left",a.textBaseline="middle";var I=-1,u=-s;return this.legendItems.forEach((function(e,C){var d=n+t/2+a.measureText(e.text).width;(0===C||l[l.length-1]+d+2*o>g)&&(c+=s,l[l.length-(C>0?0:1)]=0,u+=s,I++),i[C]={left:0,top:u,row:I,width:d,height:r},l[l.length-1]+=d+o})),c}},{key:"_fitCols",value:function(e,t,n,r){var a=this.ctx,g=this.maxHeight,o=this.options.labels.padding,i=this.legendHitBoxes=[],l=this.columnSizes=[],s=g-e,c=o,I=0,u=0,C=0,d=0;return this.legendItems.forEach((function(e,g){var A=function(e,t,n,r,a){var g=function(e,t,n,r){var a=e.text;a&&"string"!==typeof a&&(a=a.reduce((function(e,t){return e.length>t.length?e:t})));return t+n.size/2+r.measureText(a).width}(r,e,t,n),o=function(e,t,n){var r=e;"string"!==typeof t.text&&(r=TZ(t,n));return r}(a,r,t.lineHeight);return{itemWidth:g,itemHeight:o}}(n,t,a,e,r),h=A.itemWidth,m=A.itemHeight;g>0&&u+m+2*o>s&&(c+=I+o,l.push({width:I,height:u}),C+=I+o,d++,I=u=0),i[g]={left:C,top:u,col:d,width:h,height:m},I=Math.max(I,h),u+=m+o})),c+=I,l.push({width:I,height:u}),c}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,a=n.labels.padding,g=yb(n.rtl,this.left,this.width);if(this.isHorizontal()){var o,i=0,l=Tm(r,this.left+a,this.right-this.lineWidths[i]),s=(0,y.Z)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;i!==c.row&&(i=c.row,l=Tm(r,this.left+a,this.right-this.lineWidths[i])),c.top+=this.top+e+a,c.left=g.leftForLtr(g.x(l),c.width),l+=c.width+a}}catch(h){s.e(h)}finally{s.f()}}else{var I,u=0,C=Tm(r,this.top+e+a,this.bottom-this.columnSizes[u].height),d=(0,y.Z)(t);try{for(d.s();!(I=d.n()).done;){var A=I.value;A.col!==u&&(u=A.col,C=Tm(r,this.top+e+a,this.bottom-this.columnSizes[u].height)),A.top=C,A.left+=this.left+a,A.left=g.leftForLtr(g.x(A.left),A.width),C+=A.height+a}}catch(h){d.e(h)}finally{d.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;bp(e,this),this._draw(),fp(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,a=this.lineWidths,g=this.ctx,o=n.align,i=n.labels,l=Ip.color,s=yb(n.rtl,this.left,this.width),c=xp(i.font),I=i.padding,u=c.size,C=u/2;this.drawTitle(),g.textAlign=s.textAlign("left"),g.textBaseline="middle",g.lineWidth=.5,g.font=c.string;var d=EZ(i,u),A=d.boxWidth,h=d.boxHeight,m=d.itemHeight,p=this.isHorizontal(),b=this._computeTitleHeight();e=p?{x:Tm(o,this.left+I,this.right-a[0]),y:this.top+I+b,line:0}:{x:this.left+I,y:Tm(o,this.top+b+I,this.bottom-r[0].height),line:0},Zb(this.ctx,n.textDirection);var f=m+I;this.legendItems.forEach((function(d,y){g.strokeStyle=d.fontColor,g.fillStyle=d.fontColor;var Z=g.measureText(d.text).width,v=s.textAlign(d.textAlign||(d.textAlign=i.textAlign)),G=A+C+Z,B=e.x,S=e.y;if(s.setWidth(t.width),p?y>0&&B+G+I>t.right&&(S=e.y+=f,e.line++,B=e.x=Tm(o,t.left+I,t.right-a[e.line])):y>0&&S+f>t.bottom&&(B=e.x=B+r[e.line].width+I,e.line++,S=e.y=Tm(o,t.top+b+I,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(A)||A<=0||isNaN(h)||h<0)){g.save();var r=jh(n.lineWidth,1);if(g.fillStyle=jh(n.fillStyle,l),g.lineCap=jh(n.lineCap,"butt"),g.lineDashOffset=jh(n.lineDashOffset,0),g.lineJoin=jh(n.lineJoin,"miter"),g.lineWidth=r,g.strokeStyle=jh(n.strokeStyle,l),g.setLineDash(jh(n.lineDash,[])),i.usePointStyle){var a={radius:h*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},o=s.xPlus(e,A/2);mp(g,a,o,t+C,i.pointStyleWidth&&A)}else{var c=t+Math.max((u-h)/2,0),I=s.leftForLtr(e,A),d=Jp(n.borderRadius);g.beginPath(),Object.values(d).some((function(e){return 0!==e}))?Sp(g,{x:I,y:c,w:A,h:h,radius:d}):g.rect(I,c,A,h),g.fill(),0!==r&&g.stroke()}g.restore()}}(s.x(B),S,d),B=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(v,B+A+C,p?B+G:t.right,n.rtl),function(e,t,n){Bp(g,n.text,e,t+m/2,c,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(B),S,d),p)e.x+=G+I;else if("string"!==typeof d.text){var k=c.lineHeight;e.y+=TZ(d,k)+I}else e.y+=f})),vb(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=xp(t.font),r=Yp(t.padding);if(t.display){var a,g=yb(e.rtl,this.left,this.width),o=this.ctx,i=t.position,l=n.size/2,s=r.top+l,I=this.left,u=this.width;if(this.isHorizontal())u=Math.max.apply(Math,c(this.lineWidths)),a=this.top+s,I=Tm(e.align,I,this.right-u);else{var C=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);a=s+Tm(e.align,this.top,this.bottom-C-e.labels.padding-this._computeTitleHeight())}var d=Tm(i,I,I+u);o.textAlign=g.textAlign(zm(i)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Bp(o,t.text,d,a,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=xp(e.font),n=Yp(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,a;if(Ym(e,this.left,this.right)&&Ym(t,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(Ym(e,(r=a[n]).left,r.left+r.width)&&Ym(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n,r,a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var g=this._hoveredItem,o=(r=a,null!==(n=g)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);g&&!o&&_h(t.onLeave,[e,g,this],this),this._hoveredItem=a,a&&!o&&_h(t.onHover,[e,a,this],this)}else a&&_h(t.onClick,[e,a,this],this)}}}]),n}(ny);function TZ(e,t){return t*(e.text?e.text.length:0)}var LZ={id:"legend",_element:zZ,start:function(e,t,n){var r=e.legend=new zZ({ctx:e.ctx,options:n,chart:e});Nf(e,r,n),xf(e,r)},stop:function(e){Hf(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;Nf(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),t.hidden=!0):(a.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,a=n.pointStyle,g=n.textAlign,o=n.color,i=n.useBorderRadius,l=n.borderRadius;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),s=Yp(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:a||n.pointStyle,rotation:n.rotation,textAlign:g||n.textAlign,borderRadius:i&&(l||n.borderRadius),datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},UZ=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return(0,u.Z)(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=zh(n.text)?n.text.length:1;this._padding=Yp(n.padding);var a=r*xp(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,a=this.top,g=this.left,o=this.bottom,i=this.right,l=this.options,s=l.align,c=0;return this.isHorizontal()?(n=Tm(s,g,i),r=a+e,t=i-g):("left"===l.position?(n=g+e,r=Tm(s,o,a),c=-.5*Im):(n=i-e,r=Tm(s,a,o),c=.5*Im),t=o-a),{titleX:n,titleY:r,maxWidth:t,rotation:c}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=xp(t.font),r=n.lineHeight/2+this._padding.top,a=this._drawArgs(r),g=a.titleX,o=a.titleY,i=a.maxWidth,l=a.rotation;Bp(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:l,textAlign:zm(t.align),textBaseline:"middle",translation:[g,o]})}}}]),n}(ny);var jZ={id:"title",_element:UZ,start:function(e,t,n){!function(e,t){var n=new UZ({ctx:e.ctx,options:t,chart:e});Nf(e,n,t),xf(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;Hf(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;Nf(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},QZ=new WeakMap,_Z={id:"subtitle",start:function(e,t,n){var r=new UZ({ctx:e.ctx,options:n,chart:e});Nf(e,r,n),xf(e,r),QZ.set(e,r)},stop:function(e){Hf(e,QZ.get(e)),QZ.delete(e)},beforeUpdate:function(e,t,n){var r=QZ.get(e);Nf(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},OZ={average:function(e){if(!e.length)return!1;var t,n,r=0,a=0,g=0;for(t=0,n=e.length;t<n;++t){var o=e[t].element;if(o&&o.hasValue()){var i=o.tooltipPosition();r+=i.x,a+=i.y,++g}}return{x:r/g,y:a/g}},nearest:function(e,t){if(!e.length)return!1;var n,r,a,g=t.x,o=t.y,i=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var l=e[n].element;if(l&&l.hasValue()){var s=Vm(t,l.getCenterPoint());s<i&&(i=s,a=l)}}if(a){var c=a.tooltipPosition();g=c.x,o=c.y}return{x:g,y:o}}};function PZ(e,t){return t&&(zh(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function qZ(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function $Z(e,t){var n=t.element,r=t.datasetIndex,a=t.index,g=e.getDatasetMeta(r).controller,o=g.getLabelAndValue(a),i=o.label,l=o.value;return{chart:e,label:i,parsed:g.getParsed(a),raw:e.data.datasets[r].data[a],formattedValue:l,dataset:g.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function ev(e,t){var n=e.chart.ctx,r=e.body,a=e.footer,g=e.title,o=t.boxWidth,i=t.boxHeight,l=xp(t.bodyFont),s=xp(t.titleFont),c=xp(t.footerFont),I=g.length,u=a.length,C=r.length,d=Yp(t.padding),A=d.height,h=0,m=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(m+=e.beforeBody.length+e.afterBody.length,I&&(A+=I*s.lineHeight+(I-1)*t.titleSpacing+t.titleMarginBottom),m)&&(A+=C*(t.displayColors?Math.max(i,l.lineHeight):l.lineHeight)+(m-C)*l.lineHeight+(m-1)*t.bodySpacing);u&&(A+=t.footerMarginTop+u*c.lineHeight+(u-1)*t.footerSpacing);var p=0,b=function(e){h=Math.max(h,n.measureText(e).width+p)};return n.save(),n.font=s.string,Oh(e.title,b),n.font=l.string,Oh(e.beforeBody.concat(e.afterBody),b),p=t.displayColors?o+2+t.boxPadding:0,Oh(r,(function(e){Oh(e.before,b),Oh(e.lines,b),Oh(e.after,b)})),p=0,n.font=c.string,Oh(e.footer,b),n.restore(),{width:h+=d.width,height:A}}function tv(e,t,n,r){var a=n.x,g=n.width,o=e.width,i=e.chartArea,l=i.left,s=i.right,c="center";return"center"===r?c=a<=(l+s)/2?"left":"right":a<=g/2?c="left":a>=o-g/2&&(c="right"),function(e,t,n,r){var a=r.x,g=r.width,o=n.caretSize+n.caretPadding;return"left"===e&&a+g+o>t.width||"right"===e&&a-g-o<0||void 0}(c,e,t,n)&&(c="center"),c}function nv(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||tv(e,t,n,r),yAlign:r}}function rv(e,t,n,r){var a=e.caretSize,g=e.caretPadding,o=e.cornerRadius,i=n.xAlign,l=n.yAlign,s=a+g,c=Jp(o),I=c.topLeft,u=c.topRight,C=c.bottomLeft,d=c.bottomRight,A=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,i),h=function(e,t,n){var r=e.y,a=e.height;return"top"===t?r+=n:r-="bottom"===t?a+n:a/2,r}(t,l,s);return"center"===l?"left"===i?A+=s:"right"===i&&(A-=s):"left"===i?A-=Math.max(I,C)+a:"right"===i&&(A+=Math.max(u,d)+a),{x:Jm(A,0,r.width-t.width),y:Jm(h,0,r.height-t.height)}}function av(e,t,n){var r=Yp(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function gv(e){return PZ([],qZ(e))}function ov(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var iv={beforeTitle:Mh,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Mh,beforeBody:Mh,beforeLabel:Mh,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return Eh(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Mh,afterBody:Mh,beforeFooter:Mh,footer:Mh,afterFooter:Mh};function lv(e,t,n,r){var a=e[t].call(n,r);return"undefined"===typeof a?iv[t].call(n,r):a}var sv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return(0,u.Z)(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,a=new Hb(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Np(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=lv(n,"beforeTitle",this,e),a=lv(n,"title",this,e),g=lv(n,"afterTitle",this,e),o=[];return o=PZ(o,qZ(r)),o=PZ(o,qZ(a)),o=PZ(o,qZ(g))}},{key:"getBeforeBody",value:function(e,t){return gv(lv(t.callbacks,"beforeBody",this,e))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,a=[];return Oh(e,(function(e){var t={before:[],lines:[],after:[]},g=ov(r,e);PZ(t.before,qZ(lv(g,"beforeLabel",n,e))),PZ(t.lines,lv(g,"label",n,e)),PZ(t.after,qZ(lv(g,"afterLabel",n,e))),a.push(t)})),a}},{key:"getAfterBody",value:function(e,t){return gv(lv(t.callbacks,"afterBody",this,e))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=lv(n,"beforeFooter",this,e),a=lv(n,"footer",this,e),g=lv(n,"afterFooter",this,e),o=[];return o=PZ(o,qZ(r)),o=PZ(o,qZ(a)),o=PZ(o,qZ(g))}},{key:"_createItems",value:function(e){var t,n,r=this,a=this._active,g=this.chart.data,o=[],i=[],l=[],s=[];for(t=0,n=a.length;t<n;++t)s.push($Z(this.chart,a[t]));return e.filter&&(s=s.filter((function(t,n,r){return e.filter(t,n,r,g)}))),e.itemSort&&(s=s.sort((function(t,n){return e.itemSort(t,n,g)}))),Oh(s,(function(t){var n=ov(e.callbacks,t);o.push(lv(n,"labelColor",r,t)),i.push(lv(n,"labelPointStyle",r,t)),l.push(lv(n,"labelTextColor",r,t))})),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=s,s}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),a=this._active,g=[];if(a.length){var o=OZ[r.position].call(this,a,this._eventPosition);g=this._createItems(r),this.title=this.getTitle(g,r),this.beforeBody=this.getBeforeBody(g,r),this.body=this.getBody(g,r),this.afterBody=this.getAfterBody(g,r),this.footer=this.getFooter(g,r);var i=this._size=ev(this,r),l=Object.assign({},o,i),s=nv(this.chart,r,l),c=rv(r,l,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,n={opacity:1,x:c.x,y:c.y,width:i.width,height:i.height,caretX:o.x,caretY:o.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=g,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var a=this.getCaretPosition(e,n,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,a,g,o,i,l,s=this.xAlign,c=this.yAlign,I=n.caretSize,u=Jp(n.cornerRadius),C=u.topLeft,d=u.topRight,A=u.bottomLeft,h=u.bottomRight,m=e.x,p=e.y,b=t.width,f=t.height;return"center"===c?(i=p+f/2,"left"===s?(a=(r=m)-I,o=i+I,l=i-I):(a=(r=m+b)+I,o=i-I,l=i+I),g=r):(a="left"===s?m+Math.max(C,A)+I:"right"===s?m+b-Math.max(d,h)-I:this.caretX,"top"===c?(i=(o=p)-I,r=a-I,g=a+I):(i=(o=p+f)+I,r=a+I,g=a-I),l=o),{x1:r,x2:a,x3:g,y1:o,y2:i,y3:l}}},{key:"drawTitle",value:function(e,t,n){var r,a,g,o=this.title,i=o.length;if(i){var l=yb(n.rtl,this.x,this.width);for(e.x=av(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=xp(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,g=0;g<i;++g)t.fillText(o[g],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,g+1===i&&(e.y+=n.titleMarginBottom-a)}}},{key:"_drawColorBox",value:function(e,t,n,r,a){var g=this.labelColors[n],o=this.labelPointStyles[n],i=a.boxHeight,l=a.boxWidth,s=xp(a.bodyFont),I=av(this,"left",a),u=r.x(I),C=i<s.lineHeight?(s.lineHeight-i)/2:0,d=t.y+C;if(a.usePointStyle){var A={radius:Math.min(l,i)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},h=r.leftForLtr(u,l)+l/2,m=d+i/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,hp(e,A,h,m),e.strokeStyle=g.borderColor,e.fillStyle=g.backgroundColor,hp(e,A,h,m)}else{e.lineWidth=Th(g.borderWidth)?Math.max.apply(Math,c(Object.values(g.borderWidth))):g.borderWidth||1,e.strokeStyle=g.borderColor,e.setLineDash(g.borderDash||[]),e.lineDashOffset=g.borderDashOffset||0;var p=r.leftForLtr(u,l),b=r.leftForLtr(r.xPlus(u,1),l-2),f=Jp(g.borderRadius);Object.values(f).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Sp(e,{x:p,y:d,w:l,h:i,radius:f}),e.fill(),e.stroke(),e.fillStyle=g.backgroundColor,e.beginPath(),Sp(e,{x:b,y:d+1,w:l-2,h:i-2,radius:f}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(p,d,l,i),e.strokeRect(p,d,l,i),e.fillStyle=g.backgroundColor,e.fillRect(b,d+1,l-2,i-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,a,g,o,i,l,s,c=this.body,I=n.bodySpacing,u=n.bodyAlign,C=n.displayColors,d=n.boxHeight,A=n.boxWidth,h=n.boxPadding,m=xp(n.bodyFont),p=m.lineHeight,b=0,f=yb(n.rtl,this.x,this.width),y=function(n){t.fillText(n,f.x(e.x+b),e.y+p/2),e.y+=p+I},Z=f.textAlign(u);for(t.textAlign=u,t.textBaseline="middle",t.font=m.string,e.x=av(this,Z,n),t.fillStyle=n.bodyColor,Oh(this.beforeBody,y),b=C&&"right"!==Z?"center"===u?A/2+h:A+2+h:0,o=0,l=c.length;o<l;++o){for(r=c[o],a=this.labelTextColors[o],t.fillStyle=a,Oh(r.before,y),g=r.lines,C&&g.length&&(this._drawColorBox(t,e,o,f,n),p=Math.max(m.lineHeight,d)),i=0,s=g.length;i<s;++i)y(g[i]),p=m.lineHeight;Oh(r.after,y)}b=0,p=m.lineHeight,Oh(this.afterBody,y),e.y-=I}},{key:"drawFooter",value:function(e,t,n){var r,a,g=this.footer,o=g.length;if(o){var i=yb(n.rtl,this.x,this.width);for(e.x=av(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=i.textAlign(n.footerAlign),t.textBaseline="middle",r=xp(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,a=0;a<o;++a)t.fillText(g[a],i.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var a=this.xAlign,g=this.yAlign,o=e.x,i=e.y,l=n.width,s=n.height,c=Jp(r.cornerRadius),I=c.topLeft,u=c.topRight,C=c.bottomLeft,d=c.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+I,i),"top"===g&&this.drawCaret(e,t,n,r),t.lineTo(o+l-u,i),t.quadraticCurveTo(o+l,i,o+l,i+u),"center"===g&&"right"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+l,i+s-d),t.quadraticCurveTo(o+l,i+s,o+l-d,i+s),"bottom"===g&&this.drawCaret(e,t,n,r),t.lineTo(o+C,i+s),t.quadraticCurveTo(o,i+s,o,i+s-C),"center"===g&&"left"===a&&this.drawCaret(e,t,n,r),t.lineTo(o,i+I),t.quadraticCurveTo(o,i,o+I,i),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){var g=OZ[e.position].call(this,this._active,this._eventPosition);if(!g)return;var o=this._size=ev(this,e),i=Object.assign({},g,this._size),l=nv(t,e,i),s=rv(e,i,l,t);r._to===s.x&&a._to===s.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=g.x,this.caretY=g.y,this._resolveAnimations().update(this,s))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var g=Yp(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,r,t),Zb(e,t.textDirection),a.y+=g.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),vb(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,a=e.map((function(e){var t=e.datasetIndex,r=e.index,a=n.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[r],index:r}})),g=!Ph(r,a),o=this._positionChanged(a,t);(g||o)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,a=this._active||[],g=this._getActiveElements(e,a,t,n),o=this._positionChanged(g,e),i=t||!Ph(g,a)||o;return i&&(this._active=g,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}},{key:"_getActiveElements",value:function(e,t,n,r){var a=this.options;if("mouseout"===e.type)return[];if(!r)return t;var g=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&g.reverse(),g}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,a=this.options,g=OZ[a.position].call(this,e,t);return!1!==g&&(n!==g.x||r!==g.y)}}]),n}(ny);(0,et.Z)(sv,"positioners",OZ);var cv={id:"tooltip",_element:sv,positioners:OZ,afterInit:function(e,t,n){n&&(e.tooltip=new sv({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",nt(nt({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Iv=Object.freeze({__proto__:null,Colors:yZ,Decimation:GZ,Filler:DZ,Legend:LZ,SubTitle:_Z,Title:jZ,Tooltip:cv});function uv(e,t,n,r){var a=e.indexOf(t);return-1===a?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):a!==e.lastIndexOf(t)?n:a}function Cv(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var dv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return(0,u.Z)(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,a=this.getLabels(),g=(0,y.Z)(t);try{for(g.s();!(r=g.n()).done;){var o=r.value,i=o.index,l=o.label;a[i]===l&&a.splice(i,1)}}catch(s){g.e(s)}finally{g.f()}this._addedLabels=[]}es((0,A.Z)(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(Eh(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:Jm(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:uv(n,e,jh(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),a=r.min,g=r.max;"ticks"===this.options.bounds&&(t||(a=0),n||(g=this.getLabels().length-1)),this.min=a,this.max=g}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var g=e;g<=t;g++)r.push({value:g});return r}},{key:"getLabelForValue",value:function(e){return Cv.call(this,e)}},{key:"configure",value:function(){es((0,A.Z)(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(uy);function Av(e,t){var n,r,a,g,o=[],i=e.bounds,l=e.step,s=e.min,c=e.max,I=e.precision,u=e.count,C=e.maxTicks,d=e.maxDigits,A=e.includeBounds,h=l||1,m=C-1,p=t.min,b=t.max,f=!Eh(s),y=!Eh(c),Z=!Eh(u),v=(b-p)/(d+1),G=Zm((b-p)/m/h)*h;if(G<1e-14&&!f&&!y)return[{value:p},{value:b}];(g=Math.ceil(b/G)-Math.floor(p/G))>m&&(G=Zm(g*G/m/h)*h),Eh(I)||(n=Math.pow(10,I),G=Math.ceil(G*n)/n),"ticks"===i?(r=Math.floor(p/G)*G,a=Math.ceil(b/G)*G):(r=p,a=b),f&&y&&l&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((c-s)/l,G/1e3)?(G=(c-s)/(g=Math.round(Math.min((c-s)/G,C))),r=s,a=c):Z?G=((a=y?c:a)-(r=f?s:r))/(g=u-1):g=ym(g=(a-r)/G,Math.round(g),G/1e3)?Math.round(g):Math.ceil(g);var B=Math.max(km(G),km(r));n=Math.pow(10,Eh(I)?B:I),r=Math.round(r*n)/n,a=Math.round(a*n)/n;var S=0;for(f&&(A&&r!==s?(o.push({value:s}),r<s&&S++,ym(Math.round((r+S*G)*n)/n,s,hv(s,v,e))&&S++):r<s&&S++);S<g;++S){var k=Math.round((r+S*G)*n)/n;if(y&&k>c)break;o.push({value:k})}return y&&A&&a!==c?o.length&&ym(o[o.length-1].value,c,hv(c,v,e))?o[o.length-1].value=c:o.push({value:c}):y&&a!==c||o.push({value:a}),o}function hv(e,t,n){var r=n.horizontal,a=Bm(n.minRotation),g=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/g,o)}(0,et.Z)(dv,"id","category"),(0,et.Z)(dv,"defaults",{ticks:{callback:Cv}});var mv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return(0,u.Z)(n,[{key:"parse",value:function(e,t){return Eh(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,a=this.min,g=this.max,o=function(e){return a=n?a:e},i=function(e){return g=r?g:e};if(e){var l=fm(a),s=fm(g);l<0&&s<0?i(0):l>0&&s>0&&o(0)}if(a===g){var c=0===g?1:Math.abs(.05*g);i(g+c),e||o(a-c)}this.min=a,this.max=g}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=Av({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Gm(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(es((0,A.Z)(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var a=(r-t)/Math.max(e.length-1,1)/2;t-=a,r+=a}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return rp(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(uy),pv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,I.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Lh(t)?t:0,this.max=Lh(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=Bm(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(mv);(0,et.Z)(pv,"id","linear"),(0,et.Z)(pv,"defaults",{ticks:{callback:gp.formatters.numeric}});var bv=function(e){return Math.floor(bm(e))},fv=function(e,t){return Math.pow(10,bv(e)+t)};function yv(e){return 1===e/Math.pow(10,bv(e))}function Zv(e,t,n){var r=Math.pow(10,n),a=Math.floor(e/r);return Math.ceil(t/r)-a}function vv(e,t){var n=t.min,r=t.max;n=Uh(e.min,n);for(var a=[],g=bv(n),o=function(e,t){for(var n=bv(t-e);Zv(e,t,n)>10;)n++;for(;Zv(e,t,n)<10;)n--;return Math.min(n,bv(e))}(n,r),i=o<0?Math.pow(10,Math.abs(o)):1,l=Math.pow(10,o),s=g>o?Math.pow(10,g):0,c=Math.round((n-s)*i)/i,I=Math.floor((n-s)/l/10)*l*10,u=Math.floor((c-I)/Math.pow(10,o)),C=Uh(e.min,Math.round((s+I+u*Math.pow(10,o))*i)/i);C<r;)a.push({value:C,major:yv(C),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(u=2,i=++o>=0?1:i),C=Math.round((s+I+u*Math.pow(10,o))*i)/i;var d=Uh(e.max,C);return a.push({value:d,major:yv(d),significand:u}),a}var Gv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return(0,u.Z)(n,[{key:"parse",value:function(e,t){var n=mv.prototype.parse.apply(this,[e,t]);if(0!==n)return Lh(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Lh(t)?Math.max(0,t):null,this.max=Lh(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Lh(this._userMin)&&(this.min=t===fv(this.min,0)?fv(this.min,-1):fv(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,a=this.max,g=function(e){return r=t?r:e},o=function(e){return a=n?a:e};r===a&&(r<=0?(g(1),o(10)):(g(fv(r,-1)),o(fv(a,1)))),r<=0&&g(fv(a,-1)),a<=0&&o(fv(r,1)),this.min=r,this.max=a}},{key:"buildTicks",value:function(){var e=this.options,t=vv({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Gm(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":rp(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;es((0,A.Z)(n.prototype),"configure",this).call(this),this._startValue=bm(e),this._valueRange=bm(this.max)-bm(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(bm(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(uy);function Bv(e){var t=e.ticks;if(t.display&&e.display){var n=Yp(t.backdropPadding);return jh(t.font&&t.font.size,Ip.font.size)+n.height}return 0}function Sv(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function kv(e){for(var t,n,r,a={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},g=Object.assign({},a),o=[],i=[],l=e._pointLabels.length,s=e.options.pointLabels,c=s.centerPointLabels?Im/l:0,I=0;I<l;I++){var u=s.setContext(e.getPointLabelContext(I));i[I]=u.padding;var C=e.getPointPosition(I,e.drawingArea+i[I],c),d=xp(u.font),A=(t=e.ctx,n=d,r=zh(r=e._pointLabels[I])?r:[r],{w:Cp(t,n.string,r),h:r.length*n.lineHeight});o[I]=A;var h=wm(e.getIndexAngle(I)+c),m=Math.round(Sm(h));Wv(g,a,h,Sv(m,C.x,A.w,0,180),Sv(m,C.y,A.h,90,270))}e.setCenterPoint(a.l-g.l,g.r-a.r,a.t-g.t,g.b-a.b),e._pointLabelItems=function(e,t,n){for(var r,a=[],g=e._pointLabels.length,o=e.options,i=o.pointLabels,l=i.centerPointLabels,s=i.display,c={extra:Bv(o)/2,additionalAngle:l?Im/g:0},I=0;I<g;I++){c.padding=n[I],c.size=t[I];var u=Vv(e,I,c);a.push(u),"auto"===s&&(u.visible=Rv(u,r),u.visible&&(r=u))}return a}(e,o,i)}function Wv(e,t,n,r,a){var g=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),i=0,l=0;r.start<t.l?(i=(t.l-r.start)/g,e.l=Math.min(e.l,t.l-i)):r.end>t.r&&(i=(r.end-t.r)/g,e.r=Math.max(e.r,t.r+i)),a.start<t.t?(l=(t.t-a.start)/o,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Vv(e,t,n){var r=e.drawingArea,a=n.extra,g=n.additionalAngle,o=n.padding,i=n.size,l=e.getPointPosition(t,r+a+o,g),s=Math.round(Sm(wm(l.angle+hm))),c=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,i.h,s),I=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(s),u=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,i.w,I);return{visible:!0,x:l.x,y:c,textAlign:I,left:u,top:c,right:u+i.w,bottom:c+i.h}}function Rv(e,t){if(!t)return!0;var n=e.left,r=e.top,a=e.right,g=e.bottom;return!(pp({x:n,y:r},t)||pp({x:n,y:g},t)||pp({x:a,y:r},t)||pp({x:a,y:g},t))}function wv(e,t,n){var r=n.left,a=n.top,g=n.right,o=n.bottom,i=t.backdropColor;if(!Eh(i)){var l=Jp(t.borderRadius),s=Yp(t.backdropPadding);e.fillStyle=i;var c=r-s.left,I=a-s.top,u=g-r+s.width,C=o-a+s.height;Object.values(l).some((function(e){return 0!==e}))?(e.beginPath(),Sp(e,{x:c,y:I,w:u,h:C,radius:l}),e.fill()):e.fillRect(c,I,u,C)}}function Xv(e,t,n,r){var a=e.ctx;if(n)a.arc(e.xCenter,e.yCenter,t,0,um);else{var g=e.getPointPosition(0,t);a.moveTo(g.x,g.y);for(var o=1;o<r;o++)g=e.getPointPosition(o,t),a.lineTo(g.x,g.y)}}(0,et.Z)(Gv,"id","logarithmic"),(0,et.Z)(Gv,"defaults",{ticks:{callback:gp.formatters.logarithmic,major:{enabled:!0}}});var Jv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return(0,u.Z)(n,[{key:"setDimensions",value:function(){var e=this._padding=Yp(Bv(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=Lh(t)&&!isNaN(t)?t:0,this.max=Lh(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Bv(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;mv.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=_h(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?kv(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return wm(e*(um/(this._pointLabels.length||1))+Bm(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(Eh(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(Eh(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return Np(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-hm+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),Xv(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,a=this.ctx,g=this.options,o=g.angleLines,i=g.grid,l=g.border,s=this._pointLabels.length;if(g.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,a=t-1;a>=0;a--){var g=e._pointLabelItems[a];if(g.visible){var o=r.setContext(e.getPointLabelContext(a));wv(n,o,g);var i=xp(o.font),l=g.x,s=g.y,c=g.textAlign;Bp(n,e._pointLabels[a],l,s+i.lineHeight/2,i,{color:o.color,textAlign:c,textBaseline:"middle"})}}}(this,s),i.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var a=r.getContext(n),g=i.setContext(a),o=l.setContext(a);!function(e,t,n,r,a){var g=e.ctx,o=t.circular,i=t.color,l=t.lineWidth;!o&&!r||!i||!l||n<0||(g.save(),g.strokeStyle=i,g.lineWidth=l,g.setLineDash(a.dash),g.lineDashOffset=a.dashOffset,g.beginPath(),Xv(e,n,o,r),g.closePath(),g.stroke(),g.restore())}(r,g,t,s,o)}})),o.display){for(a.save(),e=s-1;e>=0;e--){var c=o.setContext(this.getPointLabelContext(e)),I=c.color,u=c.lineWidth;u&&I&&(a.lineWidth=u,a.strokeStyle=I,a.setLineDash(c.borderDash),a.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(g.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(n.x,n.y),a.stroke())}a.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var a,g,o=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(o,i){if(0!==i||n.reverse){var l=r.setContext(e.getContext(i)),s=xp(l.font);if(a=e.getDistanceFromCenterForValue(e.ticks[i].value),l.showLabelBackdrop){t.font=s.string,g=t.measureText(o.label).width,t.fillStyle=l.backdropColor;var c=Yp(l.backdropPadding);t.fillRect(-g/2-c.left,-a-s.size/2-c.top,g+c.width,s.size+c.height)}Bp(t,o.label,0,-a,s,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(mv);(0,et.Z)(Jv,"id","radialLinear"),(0,et.Z)(Jv,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:gp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),(0,et.Z)(Jv,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,et.Z)(Jv,"descriptors",{angleLines:{_fallback:"grid"}});var Yv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xv=Object.keys(Yv);function Hv(e,t){return e-t}function Nv(e,t){if(Eh(t))return null;var n=e._adapter,r=e._parseOpts,a=r.parser,g=r.round,o=r.isoWeekday,i=t;return"function"===typeof a&&(i=a(i)),Lh(i)||(i="string"===typeof a?n.parse(i,a):n.parse(i)),null===i?null:(g&&(i="week"!==g||!vm(o)&&!0!==o?n.startOf(i,g):n.startOf(i,"isoWeek",o)),+i)}function Fv(e,t,n,r){for(var a=xv.length,g=xv.indexOf(e);g<a-1;++g){var o=Yv[xv[g]],i=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(i*o.size))<=r)return xv[g]}return xv[a-1]}function Kv(e,t,n){if(n){if(n.length){var r=xm(n,t),a=r.lo,g=r.hi;e[n[a]>=t?n[a]:n[g]]=!0}}else e[t]=!0}function Mv(e,t,n){var r,a,g=[],o={},i=t.length;for(r=0;r<i;++r)o[a=t[r]]=r,g.push({value:a,major:!1});return 0!==i&&n?function(e,t,n,r){var a,g,o=e._adapter,i=+o.startOf(t[0].value,r),l=t[t.length-1].value;for(a=i;a<=l;a=+o.add(a,1,r))(g=n[a])>=0&&(t[g].major=!0);return t}(e,g,o,n):g}var Dv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return(0,u.Z)(n,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.time||(e.time={}),a=this._adapter=new Af._date(e.adapters.date);a.init(t),nm(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},es((0,A.Z)(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:Nv(this,e)}},{key:"beforeLayout",value:function(){es((0,A.Z)(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),a=r.min,g=r.max,o=r.minDefined,i=r.maxDefined;function l(e){o||isNaN(e.min)||(a=Math.min(a,e.min)),i||isNaN(e.max)||(g=Math.max(g,e.max))}o&&i||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),a=Lh(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),g=Lh(g)&&!isNaN(g)?g:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,g-1),this.max=Math.max(a+1,g)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var a=this.min,g=function(e,t,n){for(var r=0,a=e.length;r<a&&e[r]<t;)r++;for(;a>r&&e[a-1]>n;)a--;return r>0||a<e.length?e.slice(r,a):e}(r,a,this.max);return this._unit=t.unit||(n.autoSkip?Fv(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,n,r,a){for(var g=xv.length-1;g>=xv.indexOf(n);g--){var o=xv[g];if(Yv[o].common&&e._adapter.diff(a,r,o)>=t-1)return o}return xv[n?xv.indexOf(n):0]}(this,g.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=xv.indexOf(e)+1,n=xv.length;t<n;++t)if(Yv[xv[t]].common)return xv[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&g.reverse(),Mv(this,g,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,a=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),a=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);var g=n.length<3?.5:.25;r=Jm(r,0,g),a=Jm(a,0,g),this._offsets={start:r,end:a,factor:1/(r+1+a)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,a=this.max,g=this.options,o=g.time,i=o.unit||Fv(o.minUnit,r,a,this._getLabelCapacity(r)),l=jh(g.ticks.stepSize,1),s="week"===i&&o.isoWeekday,c=vm(s)||!0===s,I={},u=r;if(c&&(u=+n.startOf(u,"isoWeek",s)),u=+n.startOf(u,c?"day":i),n.diff(a,r,i)>1e5*l)throw new Error(r+" and "+a+" are too far apart with stepSize of "+l+" "+i);var C="data"===g.ticks.source&&this.getDataTimestamps();for(e=u,t=0;e<a;e=+n.add(e,l,i),t++)Kv(I,e,C);return e!==a&&"ticks"!==g.bounds&&1!==t||Kv(I,e,C),Object.keys(I).sort(Hv).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"format",value:function(e,t){var n=this.options.time.displayFormats,r=this._unit,a=t||n[r];return this._adapter.format(e,a)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var a=this.options,g=a.ticks.callback;if(g)return _h(g,[e,t,n],this);var o=a.time.displayFormats,i=this._unit,l=this._majorUnit,s=i&&o[i],c=l&&o[l],I=n[t],u=l&&c&&I&&I.major;return this._adapter.format(e,r||(u?c:s))}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=Bm(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),g=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*g,h:n*g+o*a}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,Mv(this,[e],this._majorUnit),r),g=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/g.w:this.height/g.h)-1;return o>0?o:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(Nv(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return Mm(e.sort(Hv))}}]),n}(uy);function Ev(e,t,n){var r,a,g,o,i=0,l=e.length-1;if(n){if(t>=e[i].pos&&t<=e[l].pos){var s=Hm(e,"pos",t);i=s.lo,l=s.hi}var c=e[i];r=c.pos,g=c.time;var I=e[l];a=I.pos,o=I.time}else{if(t>=e[i].time&&t<=e[l].time){var u=Hm(e,"time",t);i=u.lo,l=u.hi}var C=e[i];r=C.time,g=C.pos;var d=e[l];a=d.time,o=d.pos}var A=a-r;return A?g+(o-g)*(t-r)/A:g}(0,et.Z)(Dv,"id","time"),(0,et.Z)(Dv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var zv=function(e){(0,C.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,I.Z)(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return(0,u.Z)(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ev(t,this.min),this._tableRange=Ev(t,this.max)-this._minPos,es((0,A.Z)(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,a,g,o=this.min,i=this.max,l=[],s=[];for(t=0,n=e.length;t<n;++t)(a=e[t])>=o&&a<=i&&l.push(a);if(l.length<2)return[{time:o,pos:0},{time:i,pos:1}];for(t=0,n=l.length;t<n;++t)g=l[t+1],r=l[t-1],a=l[t],Math.round((g+r)/2)!==a&&s.push({time:a,pos:t/(n-1)});return s}},{key:"_generate",value:function(){var e=this.min,t=this.max,r=es((0,A.Z)(n.prototype),"getDataTimestamps",this).call(this);return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((function(e,t){return e-t}))}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(Ev(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Ev(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(Dv);(0,et.Z)(zv,"id","timeseries"),(0,et.Z)(zv,"defaults",Dv.defaults);var Tv=[uf,dZ,Iv,Object.freeze({__proto__:null,CategoryScale:dv,LinearScale:pv,LogarithmicScale:Gv,RadialLinearScale:Jv,TimeScale:Dv,TimeSeriesScale:zv})];zy.register.apply(zy,c(Tv));var Lv=Oe().mark(Uv);function Uv(){var e,t,n;return Oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,0;case 2:0,e=1;case 4:if(!(e<10)){r.next=16;break}t=1<<e,n=1;case 7:if(!(n<=t)){r.next=13;break}return r.next=10,n/t;case 10:n+=2,r.next=7;break;case 13:e++,r.next=4;break;case 16:r.next=2;break;case 18:case"end":return r.stop()}}),Lv)}function jv(e,t,n){return e.backgroundColor=e.backgroundColor||t,e.borderColor=e.borderColor||n,e.backgroundColor===t&&e.borderColor===n}function Qv(e,t,n){var r=e.next().value;return"function"===typeof t?t(Object.assign({colors:r},n)):r}var _v={id:"autocolors",beforeUpdate:function(e,t,n){var r=n.mode,a=void 0===r?"dataset":r,g=n.enabled,o=void 0===g||g,i=n.customize,l=n.repeat;if(o){var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Oe().mark((function t(){var n,r,a,g,o;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Uv(),r=n.next();case 2:if(r.done){t.next=22;break}a=Gh(Math.round(360*r.value),.6,.8),g=0;case 5:if(!(g<e)){t.next=11;break}return t.next=8,{background:Xh({r:a[0],g:a[1],b:a[2],a:192}),border:Xh({r:a[0],g:a[1],b:a[2],a:144})};case 8:g++,t.next=5;break;case 11:a=Gh(Math.round(360*r.value),.6,.5),o=0;case 13:if(!(o<e)){t.next=19;break}return t.next=16,{background:Xh({r:a[0],g:a[1],b:a[2],a:192}),border:Xh({r:a[0],g:a[1],b:a[2],a:144})};case 16:o++,t.next=13;break;case 19:r=n.next(),t.next=2;break;case 22:case"end":return t.stop()}}),t)}))()}(l);if(n.offset)for(var c=0;c<n.offset;c++)s.next();if("label"===a)return function(e,t,n){var r,a={},g=(0,y.Z)(e.data.datasets);try{for(g.s();!(r=g.n()).done;){var o,i=r.value,l=null!==(o=i.label)&&void 0!==o?o:"";a[l]||(a[l]=Qv(t,n,{chart:e,datasetIndex:0,dataIndex:void 0,label:l}));var s=a[l];jv(i,s.background,s.border)}}catch(c){g.e(c)}finally{g.f()}}(e,s,i);var I,u="dataset"===a,C=Qv(s,i,{chart:e,datasetIndex:0,dataIndex:u?void 0:0}),d=(0,y.Z)(e.data.datasets);try{for(d.s();!(I=d.n()).done;){var A=I.value;if(u)jv(A,C.background,C.border)&&(C=Qv(s,i,{chart:e,datasetIndex:A.index}));else{for(var h=[],m=[],p=0;p<A.data.length;p++)h.push(C.background),m.push(C.border),C=Qv(s,i,{chart:e,datasetIndex:A.index,dataIndex:p});jv(A,h,m)}}}catch(b){d.e(b)}finally{d.f()}}}};var Ov=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Pv="label";function qv(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $v(e,t){e.labels=t}function eG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pv,r=[];e.datasets=t.map((function(t){var a=e.datasets.find((function(e){return e[n]===t[n]}));return a&&t.data&&!r.includes(a)?(r.push(a),Object.assign(a,t),a):nt({},t)}))}function tG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pv,n={labels:[],datasets:[]};return $v(n,e.labels),eG(n,e.datasets,t),n}function nG(t,n){var r=t.height,a=void 0===r?150:r,g=t.width,o=void 0===g?300:g,i=t.redraw,l=void 0!==i&&i,s=t.datasetIdKey,c=t.type,I=t.data,u=t.options,C=t.plugins,d=void 0===C?[]:C,A=t.fallbackContent,h=t.updateMode,m=at(t,Ov),p=(0,e.useRef)(null),b=(0,e.useRef)(),f=function(){p.current&&(b.current=new zy(p.current,{type:c,data:tG(I,s),options:u&&nt({},u),plugins:d}),qv(n,b.current))},y=function(){qv(n,null),b.current&&(b.current.destroy(),b.current=null)};return(0,e.useEffect)((function(){!l&&b.current&&u&&function(e,t){var n=e.options;n&&t&&Object.assign(n,t)}(b.current,u)}),[l,u]),(0,e.useEffect)((function(){!l&&b.current&&$v(b.current.config.data,I.labels)}),[l,I.labels]),(0,e.useEffect)((function(){!l&&b.current&&I.datasets&&eG(b.current.config.data,I.datasets,s)}),[l,I.datasets]),(0,e.useEffect)((function(){b.current&&(l?(y(),setTimeout(f)):b.current.update(h))}),[l,u,I.labels,I.datasets,h]),(0,e.useEffect)((function(){b.current&&(y(),setTimeout(f))}),[c]),(0,e.useEffect)((function(){return f(),function(){return y()}}),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:a,width:o},m),A)}var rG=(0,e.forwardRef)(nG);function aG(t,n){return zy.register(n),(0,e.forwardRef)((function(n,r){return e.createElement(rG,Object.assign({},n,{ref:r,type:t}))}))}var gG=aG("line",of),oG=aG("bar",rf),iG=n(763),lG=n.n(iG),sG="/api/snackbar/";function cG(){return Ko.get("".concat(sG,"product")).then((function(e){return e.data}))}function IG(e){return Ko.get("".concat(sG,"stock"),{params:{barcode:e}}).then((function(e){return e.data}))}zy.register(_v);var uG=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},CG=function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko.get("/api/logs",{params:{date:t,type:"book.del.record",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dG=function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko.get("/api/logs",{params:{date:t,type:"user.book.cancel",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),AG=function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko.get("/api/logs",{params:{date:t,type:"admin.book.delete",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hG=function(){var e=qe(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(WI()(t).isoWeekday()>=6)){e.next=14;break}return e.t0=Mu,e.next=5,Nu();case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.t2=Mu,e.next=10,Fu();case 10:e.t3=e.sent,r=(0,e.t2)(e.t3),e.next=24;break;case 14:return e.t4=Mu,e.next=17,xu();case 17:return e.t5=e.sent,n=(0,e.t4)(e.t5),e.t6=Mu,e.next=22,Hu();case 22:e.t7=e.sent,r=(0,e.t6)(e.t7);case 24:return e.abrupt("return",{open:n,close:r});case 27:e.prev=27,e.t8=e.catch(0),console.log(e.t8);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),mG=function(t){var n=t.selectDateDuration,r=t.selectDate,a=i((0,e.useState)("\uc608\uc57d \uad00\ub828 \uc815\ubcf4"),2),g=a[0],o=a[1],l=i((0,e.useState)([]),2),s=l[0],I=l[1],u=i((0,e.useState)([]),2),C=u[0],d=u[1],A=i((0,e.useState)([]),2),h=A[0],m=A[1],p=i((0,e.useState)([]),2),b=p[0],f=p[1],y=c(new Array(n)).map((function(e,t){return WI()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),Z=function(){var e=qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,Promise.allSettled(y.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uc608\uc57d \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=3,Z();case 3:return o("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\ub178\uc1fc \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=6,v();case 6:return o("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uc0ac\uc6a9\uc790 \ucde8\uc18c \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=9,G();case 9:return o("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uad00\ub9ac\uc790 \uc0ad\uc81c \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=12,B();case 12:o("\uc608\uc57d \uad00\ub828 \uc815\ubcf4");case 13:case"end":return e.stop()}}),e)})))()}),[r,n]);var v=function(){var e=qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,Promise.allSettled(y.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CG(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,Promise.allSettled(y.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dG(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,Promise.allSettled(y.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AG(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=s.map((function(e){return e.filter((function(e){return 400===e.status})).length})),k=s.map((function(e,t){return e.filter((function(e){return e.pay&&"confirm"===e.pay.status})).length-S[t]})),W=s.map((function(e){return e.filter((function(e){return!e.pay||"confirm"!==e.pay.status})).length})),V=C.map((function(e){return e.length})),R=h.map((function(e){return e.length})),w=b.map((function(e){return e.length})),X={labels:y,datasets:[{id:1,label:"\ube44\uc6a9\uc744 \uc9c0\ubd88\ud55c \uc608\uc57d",data:k},{id:2,label:"\ube44\uc6a9\uc774 \uc9c0\ubd88\ub418\uc9c0 \uc54a\uc740 \uc608\uc57d",data:W},{id:3,label:"\uc790\ub3d9\uc0dd\uc131\ub41c \uc608\uc57d",data:S},{id:4,label:"\ub178\uc1fc",data:V},{id:5,label:"\uc0ac\uc6a9\uc790 \ucde8\uc18c",data:R},{id:6,label:"\uad00\ub9ac\uc790 \ucde8\uc18c",data:w}]},J={plugins:{title:{display:!0,text:g}}};return(0,it.jsx)(gG,{datasetIdKey:"id",data:X,options:J})},pG=function(t){var n=t.selectDateDuration,r=t.selectDate,a=i((0,e.useState)("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669"),2),g=a[0],o=a[1],l=i((0,e.useState)([{}]),2),s=l[0],I=l[1],u=c(new Array(n)).map((function(e,t){return WI()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),C=function(){var e=qe(Oe().mark((function e(){var t,n,r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t){var n={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};return e.forEach((function(e){var r=Du(e,t,(function(){}));Eu(n,e,r)})),n},e.next=3,Promise.allSettled(u.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:n=e.sent.map((function(e){return e.value})),r=n.map((function(e,n){return t(e,u[n])})),a={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]},r.forEach((function(e,t){var n={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};Object.entries(e).forEach((function(e){var t=i(e,2),r=t[0];t[1].filter((function(e){return 400!==e.data.status&&e.data.pay&&"confirm"===e.data.pay.status})).forEach((function(e){var t=Number(e.data.end_time.split(":")[0])-Number(e.data.start_time.split(":")[0]),a=Number(e.data.end_time.split(":")[1])-Number(e.data.start_time.split(":")[1]);n[r].push(t+(59===a?60:a)/60)}))})),Object.entries(n).map((function(e){return a[e[0]].push(lG().sum(e[1]))}))})),I(Object.entries(a).map((function(e,t){return{id:t,label:Ku(e[0]),hidden:!0,data:e[1]}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669(\uc608\uc57d \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=3,C();case 3:o("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669");case 4:case"end":return e.stop()}}),e)})))()}),[r,n]);var d={labels:u,datasets:s},A={plugins:{title:{display:!0,text:g}}};return(0,it.jsx)(gG,{datasetIdKey:"id",data:d,options:A})},bG=function(t){t.selectDateDuration;var n=t.selectDate,r=i((0,e.useState)({from:7,to:23}),2),a=r[0],g=r[1],o=i((0,e.useState)({r_01:!0,r_02:!0,r_03:!0,r_04:!0,r_05:!0,r_06:!0,r_07:!0,r_08:!0,r_09:!0,r_10:!0,seminar:!0,studio:!0,hall:!0}),2),l=o[0],s=(o[1],i((0,e.useState)("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9"),2)),I=s[0],u=s[1],C=i((0,e.useState)({r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]}),2),d=C[0],A=C[1],h=c(new Array(2*(a.to-a.from)+1)).map((function(e,t){return t/2+a.from})).map((function(e){return"".concat(Math.floor(e),":").padStart(3,"0")+"".concat(e%1*60).padStart(2,"0")})),m=function(){var e=qe(Oe().mark((function e(){var t,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};e.forEach((function(e){var r=Du(e,n.valueOf(),(function(){}));Eu(t,e,r)})),A(t)},e.next=3,xc(WI()(n).format("YYYY-MM-DD"));case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=qe(Oe().mark((function e(){var t,r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hG(n);case 3:t=e.sent,r=t.open,a=t.close,g({from:r,to:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9(\uc124\uc815 \ub370\uc774\ud130 \ub85c\ub529\uc911)"),e.next=3,p();case 3:return u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9(\uc608\uc57d \ub370\uc774\ud130 \ub85c\ub529\uc911)"),e.next=6,m();case 6:u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9");case 7:case"end":return e.stop()}}),e)})))()}),[n]);var b=function(e){return h.map((function(t){var r=WI()("".concat(WI()(n).format("YYYY-MM-DD")," ").concat(t));return e.filter((function(e){return WI()(e.startTime).isSameOrBefore(r)&&WI()(e.endTime).isSameOrAfter(r)})).length?1:0}))},f=Object.entries(l).filter((function(e){return e[1]})).map((function(e,t){var n=e[0];if("all"!==n)return{id:t,fill:!0,label:Ku(n),data:b(d[n])};for(var r=c(new Array(10)).map((function(e,t){return b(d["r_"+"".concat(t+1).padStart(2,"0")])})),a=[],g=function(e){a.push(r.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0))},o=0;o<r[0].length;o++)g(o);return{id:t,fill:!1,type:"line",label:"\uc2a4\ud130\ub514\ub8f8 \uc804\uccb4",data:a}})),y={scales:{x:{stacked:!0},y:{stacked:!0}},elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:I}}};return(0,it.jsx)(oG,{datasetIdKey:"id",options:y,data:{labels:h,datasets:f}})},fG=function(t){var n=t.selectDateDuration,r=t.selectDate,a=i((0,e.useState)([]),2),g=a[0],o=a[1],l=c(new Array(n)).map((function(e,t){return WI()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),s=function(){var e=qe(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,Promise.allSettled(l.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n=t,Ko.get("".concat(sG,"pay"),{params:{date:n}}).then((function(e){return e.data}))));case 1:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s()}),[r,n]),(0,it.jsx)(gG,{datasetIdKey:"id",data:{labels:l,datasets:[{id:1,fill:!0,type:"line",label:"\ucd1d \ub9e4\ucd9c",data:g.map((function(e){return e.reduce((function(e,t){return e+t.total_price}),0)}))},{id:2,fill:!0,type:"line",label:"\uc21c \uc218\uc775",data:g.map((function(e){return e.reduce((function(e,t){return e+t.total_price-(t.total_original_price+Math.floor(t.total_price/10))}),0)}))}]}})},yG=function(t){var n=t.selectDateDuration,r=t.selectDate,a=c(new Array(n)).map((function(e,t){return WI()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),g=i((0,e.useState)([]),2),o=(g[0],g[1]),l=i((0,e.useState)([]),2),s=l[0],I=l[1];(0,e.useEffect)((function(){var e=function(e){return nt(nt({},e),{},{createdDate:WI()(e.created).add(9,"hour").format("YYYY-MM-DD")})};qe(Oe().mark((function t(){var n,r,g,i;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cG();case 2:return n=t.sent,r=n.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IG(t.barcode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=6,Promise.allSettled(r);case 6:g=t.sent.map((function(e){return e.value})),i=g.map((function(t){var n=t.stocks.map(e),r=lG().groupBy(n,"createdDate"),g=t.quantity,o=c(a).reverse().map((function(e,t,n){return 0===t||r[n[t-1]]&&(g-=lG().sum(r[n[t-1]].map((function(e){return e.quantity})))),g})).reverse();return nt(nt({},t),{},{stocks:n,sortedData:r,quantityData:o})})),o(n),I(i);case 10:case"end":return t.stop()}}),t)})))()}),[n,r]);var u=s.map((function(e,t){return{id:t,label:e.product.name,hidden:!0,data:e.quantityData}}));return(0,it.jsx)(gG,{datasetIdKey:"id",data:{labels:a,datasets:u},options:{elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:"\uac01 \uc0c1\ud488\ubcc4 \uc7ac\uace0 \ud604\ud669"}}}})},ZG=function(t){var n=t.selectDateDuration,r=t.selectDate,a=c(new Array(n)).map((function(e,t){return WI()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),g=i((0,e.useState)([]),2),o=(g[0],g[1]),l=i((0,e.useState)([]),2),s=l[0],I=l[1];(0,e.useEffect)((function(){var e=function(e){return nt(nt({},e),{},{createdDate:WI()(e.created).add(9,"hour").format("YYYY-MM-DD")})};qe(Oe().mark((function t(){var n,r,g,i;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cG();case 2:return n=t.sent,r=n.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IG(t.barcode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=6,Promise.allSettled(r);case 6:g=t.sent.map((function(e){return e.value})),i=g.map((function(t){var n=t.stocks.map(e),r=lG().groupBy(n,"createdDate"),g=c(a).reverse().map((function(e,t,n){if(!r[e])return 0;var a=r[e];return a=a.filter((function(e){return"pay"===e.reason})),-lG().sum(a.map((function(e){return e.quantity})))})).reverse();return nt(nt({},t),{},{stocks:n,sortedData:r,quantityData:g})})),o(n),I(i);case 10:case"end":return t.stop()}}),t)})))()}),[n,r]);var u=s.map((function(e,t){return{id:t,label:e.product.name,hidden:!0,data:e.quantityData}}));return(0,it.jsx)(gG,{datasetIdKey:"id",data:{labels:a,datasets:u},options:{elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:"\uac01 \uc0c1\ud488\ubcc4 \ud310\ub9e4 \ud604\ud669"}}}})},vG=function(t){var n=i((0,e.useState)(new Date),2),r=n[0],a=n[1],g=i((0,e.useState)(7),2),o=g[0],l=g[1],s=i((0,e.useState)({room_book:!1,room_book_usage:!1,room_book_daily_usage:!1,snackbar_pay:!1,snackbar_product_stock:!1}),2),c=s[0],I=s[1];return(0,it.jsxs)("div",{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,it.jsx)("div",{style:{maxWidth:"40vw"},children:(0,it.jsx)(SI(),{dateFormat:"yyyy-MM-dd",selected:r,onChange:function(e){return a(e)},customInput:(0,it.jsx)(uG,{})})}),(0,it.jsx)("div",{children:(0,it.jsxs)(mn.Select,{onChange:function(e){return l(Number(e.target.value))},children:[(0,it.jsx)("option",{value:"7",children:"\uc77c\uc8fc\uc77c"}),(0,it.jsx)("option",{value:"14",children:"2\uc8fc\uc77c"}),(0,it.jsx)("option",{value:"31",children:"\ud55c\ub2ec\uc804"}),(0,it.jsx)("option",{value:"60",children:"\ub450\ub2ec\uc804"}),(0,it.jsx)("option",{value:"90",children:"\uc138\ub2ec\uc804"})]})}),(0,it.jsx)(mn,{children:(0,it.jsxs)("div",{className:"mb-3",children:[(0,it.jsx)(mn.Check,{type:"checkbox",label:"\uc608\uc57d \uad00\ub828 \uc815\ubcf4",onClick:function(e){return I(nt(nt({},c),{},{room_book:e.target.checked}))}}),(0,it.jsx)(mn.Check,{type:"checkbox",label:"\uc608\uc57d \uc2dc\uac04\ub300 \ubcc4 \uc0ac\uc6a9 \uc815\ubcf4",onClick:function(e){return I(nt(nt({},c),{},{room_book_usage:e.target.checked}))}})]})}),(0,it.jsx)(mn,{children:(0,it.jsx)("div",{className:"mb-3",children:(0,it.jsx)(mn.Check,{type:"checkbox",label:"\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669",onClick:function(e){return I(nt(nt({},c),{},{room_book_daily_usage:e.target.checked}))}})})})]}),(0,it.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:10},children:[c.room_book?(0,it.jsx)(mG,{selectDate:r,selectDateDuration:o}):null,c.room_book_usage?(0,it.jsx)(bG,{selectDate:r,selectDateDuration:o}):null,c.room_book_daily_usage?(0,it.jsx)(pG,{selectDate:r,selectDateDuration:o}):null,c.snackbar_pay?(0,it.jsx)(fG,{selectDate:r,selectDateDuration:o}):null,c.snackbar_product_stock?(0,it.jsx)(yG,{selectDate:r,selectDateDuration:o}):null,c.snackbar_product_stock?(0,it.jsx)(ZG,{selectDate:r,selectDateDuration:o}):null]})]})};function GG(e,t){return Array.isArray(e)?e.includes(t):e===t}var BG=e.createContext({});BG.displayName="AccordionContext";var SG=BG,kG=["as","bsPrefix","className","children","eventKey"],WG=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"div":r,g=t.bsPrefix,o=t.className,i=t.children,l=t.eventKey,s=at(t,kG),c=(0,e.useContext)(SG).activeEventKey;return g=It(g,"accordion-collapse"),(0,it.jsx)(Pi,nt(nt({ref:n,in:GG(c,l)},s),{},{className:ot()(o,g),children:(0,it.jsx)(a,{children:e.Children.only(i)})}))}));WG.displayName="AccordionCollapse";var VG=WG,RG=e.createContext({eventKey:""});RG.displayName="AccordionItemContext";var wG=RG,XG=["as","bsPrefix","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],JG=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"div":r,g=t.bsPrefix,o=t.className,i=t.onEnter,l=t.onEntering,s=t.onEntered,c=t.onExit,I=t.onExiting,u=t.onExited,C=at(t,XG);g=It(g,"accordion-body");var d=(0,e.useContext)(wG).eventKey;return(0,it.jsx)(VG,{eventKey:d,onEnter:i,onEntering:l,onEntered:s,onExit:c,onExiting:I,onExited:u,children:(0,it.jsx)(a,nt(nt({ref:n},C),{},{className:ot()(o,g)}))})}));JG.displayName="AccordionBody";var YG=JG,xG=["as","bsPrefix","className","onClick"];var HG=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"button":r,g=t.bsPrefix,o=t.className,i=t.onClick,l=at(t,xG);g=It(g,"accordion-button");var s=(0,e.useContext)(wG).eventKey,I=function(t,n){var r=(0,e.useContext)(SG),a=r.activeEventKey,g=r.onSelect,o=r.alwaysOpen;return function(e){var r=t===a?null:t;o&&(r=Array.isArray(a)?a.includes(t)?a.filter((function(e){return e!==t})):[].concat(c(a),[t]):[t]),null==g||g(r,e),null==n||n(e)}}(s,i),u=(0,e.useContext)(SG).activeEventKey;return"button"===a&&(l.type="button"),(0,it.jsx)(a,nt(nt({ref:n,onClick:I},l),{},{"aria-expanded":Array.isArray(u)?u.includes(s):s===u,className:ot()(o,g,!GG(u,s)&&"collapsed")}))}));HG.displayName="AccordionButton";var NG=HG,FG=["as","bsPrefix","className","children","onClick"],KG=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"h2":n,a=e.bsPrefix,g=e.className,o=e.children,i=e.onClick,l=at(e,FG);return a=It(a,"accordion-header"),(0,it.jsx)(r,nt(nt({ref:t},l),{},{className:ot()(g,a),children:(0,it.jsx)(NG,{onClick:i,children:o})}))}));KG.displayName="AccordionHeader";var MG=KG,DG=["as","bsPrefix","className","eventKey"],EG=e.forwardRef((function(t,n){var r=t.as,a=void 0===r?"div":r,g=t.bsPrefix,o=t.className,i=t.eventKey,l=at(t,DG);g=It(g,"accordion-item");var s=(0,e.useMemo)((function(){return{eventKey:i}}),[i]);return(0,it.jsx)(wG.Provider,{value:s,children:(0,it.jsx)(a,nt(nt({ref:n},l),{},{className:ot()(o,g)}))})}));EG.displayName="AccordionItem";var zG=EG,TG=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],LG=e.forwardRef((function(t,n){var r=qr(t,{activeKey:"onSelect"}),a=r.as,g=void 0===a?"div":a,o=r.activeKey,i=r.bsPrefix,l=r.className,s=r.onSelect,c=r.flush,I=r.alwaysOpen,u=at(r,TG),C=It(i,"accordion"),d=(0,e.useMemo)((function(){return{activeEventKey:o,onSelect:s,alwaysOpen:I}}),[o,s,I]);return(0,it.jsx)(SG.Provider,{value:d,children:(0,it.jsx)(g,nt(nt({ref:n},u),{},{className:ot()(l,C,c&&"".concat(C,"-flush"))}))})}));LG.displayName="Accordion";var UG=Object.assign(LG,{Button:NG,Collapse:VG,Item:zG,Header:MG,Body:YG}),jG={lessThanXSeconds:{one:"1\ucd08 \ubbf8\ub9cc",other:"{{count}}\ucd08 \ubbf8\ub9cc"},xSeconds:{one:"1\ucd08",other:"{{count}}\ucd08"},halfAMinute:"30\ucd08",lessThanXMinutes:{one:"1\ubd84 \ubbf8\ub9cc",other:"{{count}}\ubd84 \ubbf8\ub9cc"},xMinutes:{one:"1\ubd84",other:"{{count}}\ubd84"},aboutXHours:{one:"\uc57d 1\uc2dc\uac04",other:"\uc57d {{count}}\uc2dc\uac04"},xHours:{one:"1\uc2dc\uac04",other:"{{count}}\uc2dc\uac04"},xDays:{one:"1\uc77c",other:"{{count}}\uc77c"},aboutXWeeks:{one:"\uc57d 1\uc8fc",other:"\uc57d {{count}}\uc8fc"},xWeeks:{one:"1\uc8fc",other:"{{count}}\uc8fc"},aboutXMonths:{one:"\uc57d 1\uac1c\uc6d4",other:"\uc57d {{count}}\uac1c\uc6d4"},xMonths:{one:"1\uac1c\uc6d4",other:"{{count}}\uac1c\uc6d4"},aboutXYears:{one:"\uc57d 1\ub144",other:"\uc57d {{count}}\ub144"},xYears:{one:"1\ub144",other:"{{count}}\ub144"},overXYears:{one:"1\ub144 \uc774\uc0c1",other:"{{count}}\ub144 \uc774\uc0c1"},almostXYears:{one:"\uac70\uc758 1\ub144",other:"\uac70\uc758 {{count}}\ub144"}},QG=function(e,t,n){var r,a=jG[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?r+" \ud6c4":r+" \uc804":r},_G=n(6840),OG={date:(0,_G.Z)({formats:{full:"y\ub144 M\uc6d4 d\uc77c EEEE",long:"y\ub144 M\uc6d4 d\uc77c",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,_G.Z)({formats:{full:"a H\uc2dc mm\ubd84 ss\ucd08 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,_G.Z)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},PG={lastWeek:"'\uc9c0\ub09c' eeee p",yesterday:"'\uc5b4\uc81c' p",today:"'\uc624\ub298' p",tomorrow:"'\ub0b4\uc77c' p",nextWeek:"'\ub2e4\uc74c' eeee p",other:"P"},qG=function(e,t,n,r){return PG[e]},$G=n(7325),eB={ordinalNumber:function(e,t){var n=Number(e);switch(String(null===t||void 0===t?void 0:t.unit)){case"minute":case"second":return String(n);case"date":return n+"\uc77c";default:return n+"\ubc88\uc9f8"}},era:(0,$G.Z)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["\uae30\uc6d0\uc804","\uc11c\uae30"]},defaultWidth:"wide"}),quarter:(0,$G.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,$G.Z)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],wide:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},defaultWidth:"wide"}),day:(0,$G.Z)({values:{narrow:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],abbreviated:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],wide:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},defaultWidth:"wide"}),dayPeriod:(0,$G.Z)({values:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultFormattingWidth:"wide"})},tB=eB,nB=n(6884),rB={ordinalNumber:(0,n(586).Z)({matchPattern:/^(\d+)(\uc77c|\ubc88\uc9f8)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,nB.Z)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(\uae30\uc6d0\uc804|\uc11c\uae30)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|\uae30\uc6d0\uc804)/i,/^(ad|\uc11c\uae30)/i]},defaultParseWidth:"any"}),quarter:(0,nB.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\uc0ac?\ubd84\uae30/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,nB.Z)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])\uc6d4/i,wide:/^(1[012]|[123456789])\uc6d4/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\uc6d4?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,nB.Z)({matchPatterns:{narrow:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,short:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,abbreviated:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,wide:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]\uc694\uc77c/},defaultMatchWidth:"wide",parsePatterns:{any:[/^\uc77c/,/^\uc6d4/,/^\ud654/,/^\uc218/,/^\ubaa9/,/^\uae08/,/^\ud1a0/]},defaultParseWidth:"any"}),dayPeriod:(0,nB.Z)({matchPatterns:{any:/^(am|pm|\uc624\uc804|\uc624\ud6c4|\uc790\uc815|\uc815\uc624|\uc544\uce68|\uc800\ub141|\ubc24)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|\uc624\uc804)/i,pm:/^(pm|\uc624\ud6c4)/i,midnight:/^\uc790\uc815/i,noon:/^\uc815\uc624/i,morning:/^\uc544\uce68/i,afternoon:/^\uc624\ud6c4/i,evening:/^\uc800\ub141/i,night:/^\ubc24/i}},defaultParseWidth:"any"})},aB={code:"ko",formatDistance:QG,formatLong:OG,formatRelative:qG,localize:tB,match:rB,options:{weekStartsOn:0,firstWeekContainsDate:1}},gB=function(e){var t=e.value,n=e.onClick;return(0,it.jsx)("span",{className:"h1 d-inline-block bg-primary rounded text-white",onClick:n,children:t})};Object.freeze({ERROR:"error",NOT_ENTER:"not_enter",NOT_EXIT:"not_exit",EXITED:"exited",toColor:function(e){switch(e){case"error":return"danger";case"not_enter":return"secondary";case"not_exit":return"primary";case"exited":return"success";default:return null}}});var oB={WEEK:1,MONTH:2};Object.freeze(oB);var iB=function(t){var n=i((0,e.useState)(Date.now()),2),r=n[0],a=n[1],g=i((0,e.useState)(Date.now()+6048e5),2),o=g[0],l=g[1],s=i((0,e.useState)([]),2),I=s[0],u=s[1],C=i((0,e.useState)([]),2),d=C[0],A=C[1],h=i((0,e.useState)(oB.WEEK),2),m=h[0],p=h[1],b=i((0,e.useState)(0),2),f=b[0],y=b[1],Z=function(e){return 400!==e.status&&(!e.pay||!e.pay.pay_type.startsWith("etc."))},v=function(){var e=qe(Oe().mark((function e(t,n){var r,a,g;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(new Array(n)).map((function(e,n){return WI()(t).add(n,"day").format("YYYY-MM-DD")})),e.next=3,Promise.allSettled(r.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent.map((function(e){return e.value})),g={start_date:r[0],end_date:r[n-1],seminar_total_count:0,hall_total_count:0,study_total_count:0,study_total_sec:0},a.forEach((function(e){e.filter(Z).forEach((function(e){if(e.room)if(1===e.room.type){g.study_total_count++;var t=60*Number(e.start_time.split(":")[0])+Number(e.start_time.split(":")[1]),n=60*Number(e.end_time.split(":")[0])+Number(e.end_time.split(":")[1]);1339===n&&(n=1440),g.study_total_sec+=n-t}else 2===e.room.type?g.seminar_total_count++:4===e.room.type&&g.hall_total_count++;else;}))})),e.abrupt("return",g);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){qe(Oe().mark((function e(){var t,n,a,g,i,l,s,c,I,C,d,A;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(y(0),t=0,n=WI()(r),a=WI()(o),g=a.diff(n,"day")+1,i=[],l=0;l<=g;l++)s=WI()(r).add(l,"day"),((m===oB.MONTH?s.date()===WI()(s.format("yyyy-MM-DD")).endOf("month").date():6===s.day())||s.isSame(a,"day"))&&(c={start_date:n.format("YYYY-MM-DD"),end_date:s.format("YYYY-MM-DD"),due:s.diff(n,"day")+1},i.push(c),n.add(c.due,"day"));I=[],C=0,d=i;case 9:if(!(C<d.length)){e.next=22;break}return A=d[C],t++,y(Math.round(t/i.length*100)),e.t0=I,e.next=16,v(A.start_date,A.due);case 16:e.t1=e.sent,e.t2={status:"fulfilled",value:e.t1},e.t0.push.call(e.t0,e.t2);case 19:C++,e.next=9;break;case 22:u(I.map((function(e,t){return"fulfilled"!==e.status?{start_date:i[t].start_date,end_date:i[t].end_date,due:i[t].due,seminar_total_count:-1,hall_total_count:-1,study_total_count:-1,study_total_sec:-1}:nt(nt({},e.value),{},{due:i[t].due})})));case 23:case"end":return e.stop()}}),e)})))()}),[r,o,m]);var G=function(){var e=qe(Oe().mark((function e(t,n){var r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(new Array(n)).map((function(e,n){return WI()(t).add(n,"day").format("YYYY-MM-DD")})),e.next=3,Promise.allSettled(r.map(function(){var e=qe(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent.map((function(e){return e.value})),e.abrupt("return",a.map((function(e,t){var n=e.filter(Z).map((function(e){var t={date:e.book_date.slice(5).replace("-","/"),start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),due_hour:"0",department:e.department?e.department:"-",place:"-"};if(e.room){var n=60*Number(e.start_time.split(":")[0])+Number(e.start_time.split(":")[1]),r=60*Number(e.end_time.split(":")[0])+Number(e.end_time.split(":")[1]);1339===r&&(r=1440),t.due_hour=((r-n)/60).toFixed(1),1===e.room.type?t.place="\uc2a4\ud130\ub514\ub8f8 ".concat(e.room.no):2===e.room.type?t.place="\uc138\ubbf8\ub098":3===e.room.type?t.place="\ucee8\ud37c\ub7f0\uc2a4":4===e.room.type&&(t.place="\ud640")}else t.due_hour="0";return t}));return{date:r[t],detail:n}})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,it.jsxs)(yt,{children:[(0,it.jsx)(ks,{}),(0,it.jsxs)("div",{className:"text-center d-flex flex-row",children:[(0,it.jsxs)("span",{className:"h3",style:{minWidth:"8rem"},children:[(0,it.jsxs)("div",{className:"form-check form-check-inline",children:[(0,it.jsx)("input",{className:"form-check-input",type:"radio",name:"sumDuration",id:"sumDurationWeek",value:"week",checked:m===oB.WEEK,onChange:function(){return p(oB.WEEK)}}),(0,it.jsx)("label",{className:"form-check-label",htmlFor:"sumDurationWeek",children:"\uc8fc\uac04"})]}),(0,it.jsxs)("div",{className:"form-check form-check-inline",children:[(0,it.jsx)("input",{className:"form-check-input",type:"radio",name:"sumDuration",id:"sumDurationMonth",value:"month",checked:m===oB.MONTH,onChange:function(){return p(oB.MONTH)}}),(0,it.jsx)("label",{className:"form-check-label",htmlFor:"sumDurationMonth",children:"\uc6d4\uac04"})]})]}),(0,it.jsx)(SI(),{dateFormat:m===oB.MONTH?"yyyy-MM":"yyyy-MM-dd",selected:r,onChange:a,customInput:(0,it.jsx)(gB,{}),locale:aB,showMonthYearPicker:m===oB.MONTH}),(0,it.jsx)("span",{className:"h1",children:"~"}),(0,it.jsx)(SI(),{dateFormat:m===oB.MONTH?"yyyy-MM":"yyyy-MM-dd",selected:o,onChange:m===oB.MONTH?function(e){return l(WI()(e).endOf("month").toDate())}:l,customInput:(0,it.jsx)(gB,{}),locale:aB,showMonthYearPicker:m===oB.MONTH})]}),(0,it.jsx)(rA,{now:f}),(0,it.jsxs)(_d,{bordered:!0,children:[(0,it.jsxs)("thead",{className:"text-center",children:[(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{colSpan:2,children:"\uae30\uac04"}),(0,it.jsx)("th",{children:"\ud640"}),(0,it.jsx)("th",{children:"\uc138\ubbf8\ub098\uc2e4"}),(0,it.jsx)("th",{colSpan:4,children:"\uc2a4\ud130\ub514\ub8f8"})]}),(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc2dc\uc791\uc77c"}),(0,it.jsx)("th",{children:"\ub9c8\uac10\uc77c"}),(0,it.jsx)("th",{children:"\ub300\uc5ec\ud69f\uc218"}),(0,it.jsx)("th",{children:"\ub300\uc5ec\ud69f\uc218"}),(0,it.jsx)("th",{children:"\ucd1d \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\ud3c9\uade0 \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\ucd1d \ud69f\uc218"}),(0,it.jsx)("th",{children:"\ud3c9\uade0 \ud69f\uc218"})]})]}),(0,it.jsx)("tbody",{className:"text-center",style:{fontSize:"20px"},children:I.map((function(e){return(0,it.jsxs)("tr",{onClick:function(){return t=e.start_date,n=e.due,G(t,n).then(A);var t,n},children:[(0,it.jsx)("td",{children:e.start_date.replaceAll("-","/")}),(0,it.jsx)("td",{children:e.end_date.replaceAll("-","/")}),(0,it.jsx)("td",{children:e.hall_total_count}),(0,it.jsx)("td",{children:e.seminar_total_count}),(0,it.jsx)("td",{children:e.study_total_sec/60}),(0,it.jsx)("td",{children:(e.study_total_sec/(60*e.due)).toFixed(2)}),(0,it.jsx)("td",{children:e.study_total_count}),(0,it.jsx)("td",{children:(e.study_total_count/7).toFixed(2)})]})}))})]}),d.map((function(e,t){return(0,it.jsx)(UG,{children:(0,it.jsxs)(UG.Item,{eventKey:"".concat(t),children:[(0,it.jsxs)(UG.Header,{children:[e.date," (",e.detail.length,"\uac74)"]}),(0,it.jsx)(UG.Body,{children:(0,it.jsxs)(_d,{children:[(0,it.jsx)("thead",{children:(0,it.jsxs)("tr",{children:[(0,it.jsx)("th",{children:"\uc77c\uc790"}),(0,it.jsx)("th",{children:"\uc785\uc2e4 \uc2dc\uac04"}),(0,it.jsx)("th",{children:"~"}),(0,it.jsx)("th",{children:"\ud1f4\uc2e4 \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\uc0ac\uc6a9 \uc2dc\uac04"}),(0,it.jsx)("th",{children:"\uc9c0\uc5ed"}),(0,it.jsx)("th",{children:"\uc7a5\uc18c"})]})}),(0,it.jsx)("tbody",{style:{fontSize:"20px"},children:e.detail.map((function(e){return(0,it.jsxs)("tr",{children:[(0,it.jsx)("td",{children:e.date}),(0,it.jsx)("td",{children:e.start_time}),(0,it.jsx)("td",{children:"~"}),(0,it.jsx)("td",{children:e.end_time}),(0,it.jsx)("td",{children:e.due_hour}),(0,it.jsx)("td",{children:e.department}),(0,it.jsx)("td",{children:e.place})]})}))})]})})]})})}))]})},lB=function(){var t=Ae(),n=i((0,e.useState)(!1),2),r=n[0],a=n[1],g=i((0,e.useState)(""),2),o=g[0],l=g[1],s=i((0,e.useState)(!1),2),c=s[0],I=s[1],u=i((0,e.useState)({chat_id:Math.round(Math.random()*Math.pow(10,10)),tg_name:"demo",username:"",age:"",gender:0,tel:"",otp:""}),2),C=u[0],d=u[1],A=function(){var e=qe(Oe().mark((function e(){var t,n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.username&&/[\uac00-\ud7a3]+/.test(C.username)){e.next=5;break}l("\ud55c\uae00 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694."),a(!0),e.next=43;break;case 5:if(C.age&&/\d+/.test(C.age)){e.next=10;break}l("\ub098\uc774\ub97c \uc785\ub825\ud558\uc138\uc694."),a(!0),e.next=43;break;case 10:if(C.gender){e.next=15;break}l("\uc131\ubcc4\uc744 \uc120\ud0dd\ud558\uc138\uc694."),a(!0),e.next=43;break;case 15:if(C.tel&&/\d{3}-?\d{4}-?\d{4}/.test(C.tel)){e.next=20;break}l("\uc62c\ubc14\ub978 \ud734\ub300\ud3f0 \ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694(\uc608\uc2dc: 010-1234-1234)."),a(!0),e.next=43;break;case 20:return(t=new FormData).append("chat_id",C.chat_id),t.append("tg_name",C.tg_name),e.next=25,fetch("/api/bot/users",{method:"POST",body:t});case 25:return e.next=27,e.sent.json();case 27:return n="/api/bot/users/by_chat_id/".concat(C.chat_id),t.append("username",C.username),t.append("age",C.age),t.append("gender",C.gender),t.append("num",C.tel),e.next=34,fetch(n,{method:"PUT",body:t});case 34:return e.next=36,e.sent.json();case 36:return e.next=38,fetch("".concat(n,"/sms"));case 38:return e.next=40,e.sent.json();case 40:r=e.sent,d(nt(nt({},C),{},{otp:r.sms})),I(!0);case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=qe(Oe().mark((function e(){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.otp&&/\d{6}/.test(C.username)||(l("OTP\ub97c \uc785\ub825\ud558\uc138\uc694."),a(!0)),n="/api/bot/users/by_chat_id/".concat(C.chat_id,"/sms"),(r=new FormData).append("sms",C.otp),e.next=6,fetch(n,{method:"POST",body:r});case 6:200!==e.sent.status?(l("OTP\ub97c \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud558\uc600\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694."),a(!0)):t("/",{replace:!0,state:{message:"\uac00\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,it.jsxs)(yt,{className:"g-1",children:[(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsx)("h1",{children:"\ud68c\uc6d0\uac00\uc785"})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputName",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\uc774\ub984"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc774\ub984",value:C.username,onChange:function(e){return d(nt(nt({},C),{},{username:e.target.value}))}})})]})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsxs)(mn.Group,{as:qs,controlId:"InputAge",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\ub098\uc774"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"number",placeholder:"\ub098\uc774",value:C.age,onChange:function(e){return d(nt(nt({},C),{},{age:"".concat(Number.parseInt(e.target.value))}))}})})]})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsxs)(mn.Group,{as:qs,controlId:"inputGender",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\uc131\ubcc4"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsxs)(UA,{className:"g-1",children:[(0,it.jsx)(Gn,{onClick:function(){return d(nt(nt({},C),{},{gender:1}))},variant:1===C.gender?"primary":"outline-primary",children:"\ub0a8\uc131"}),(0,it.jsx)(Gn,{onClick:function(){return d(nt(nt({},C),{},{gender:2}))},variant:2===C.gender?"primary":"outline-primary",children:"\uc5ec\uc131"})]})})]})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsxs)(mn.Group,{as:qs,controlId:"inputTel",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"\uc804\ud654\ubc88\ud638"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"text",placeholder:"\uc804\ud654\ubc88\ud638",value:C.tel,onChange:function(e){return d(nt(nt({},C),{},{tel:e.target.value}))}})})]})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsx)(Gn,{onClick:A,children:"OTP \uc778\uc99d"})}),(0,it.jsx)(qs,{className:"my-4",children:(0,it.jsxs)(mn.Group,{as:qs,controlId:"inputOTP",children:[(0,it.jsx)(mn.Label,{as:pt,sm:"2",children:"OTP"}),(0,it.jsx)(pt,{sm:"10",children:(0,it.jsx)(mn.Control,{type:"text",placeholder:"OTP",disabled:!c,value:C.otp,onChange:function(e){return d(nt(nt({},C),{},{otp:e.target.value}))}})})]})}),(0,it.jsx)(qs,{className:"my-2",children:(0,it.jsx)(Gn,{onClick:h,disabled:!c,children:"\uac00\uc785"})}),(0,it.jsxs)(_s,{show:r,onHide:function(){return a(!1)},children:[(0,it.jsx)(_s.Header,{closeButton:!0,children:(0,it.jsx)(_s.Title,{children:"\uc548\ub0b4"})}),(0,it.jsx)(_s.Body,{children:o}),(0,it.jsx)(_s.Footer,{children:(0,it.jsx)(Gn,{variant:"secondary",onClick:function(){return a(!1)},children:"\ub2eb\uae30"})})]})]})};var sB=function(){return document.addEventListener("contextmenu",(function(e){e.preventDefault()})),(0,it.jsxs)(we,{children:[(0,it.jsx)(Ve,{path:"/",exact:!0,element:(0,it.jsx)(EC,{})}),(0,it.jsx)(Ve,{path:"/admin/login",element:(0,it.jsx)(zo,{})}),(0,it.jsx)(Ve,{path:"/login",element:(0,it.jsx)(zo,{})}),(0,it.jsx)(Ve,{path:"/users",element:(0,it.jsx)(_c,{})}),(0,it.jsx)(Ve,{path:"/books",element:(0,it.jsx)(ju,{})}),(0,it.jsx)(Ve,{path:"/log/qr",element:(0,it.jsx)(Qo,{})}),(0,it.jsx)(Ve,{path:"/configs",element:(0,it.jsx)(jC,{})}),(0,it.jsx)(Ve,{path:"/exports",element:(0,it.jsx)(qC,{})}),(0,it.jsx)(Ve,{path:"/logs",exact:!0,element:(0,it.jsx)(gd,{})}),(0,it.jsx)(Ve,{path:"/guest/book",element:(0,it.jsx)(Yd,{})}),(0,it.jsx)(Ve,{path:"/guest/signup",element:(0,it.jsx)(lB,{})}),(0,it.jsx)(Ve,{path:"/guest/book_check",element:(0,it.jsx)(pd,{})}),(0,it.jsx)(Ve,{path:"/guest",element:(0,it.jsx)(Ed,{})}),(0,it.jsx)(Ve,{path:"/qr",element:(0,it.jsx)(Ud,{})}),(0,it.jsx)(Ve,{path:"/accounts",element:(0,it.jsx)(lA,{})}),(0,it.jsx)(Ve,{path:"/staff/book",element:(0,it.jsx)(Yd,{})}),(0,it.jsx)(Ve,{path:"/lockers",element:(0,it.jsx)(CA,{})}),(0,it.jsx)(Ve,{path:"/commute",element:(0,it.jsx)(zA,{})}),(0,it.jsx)(Ve,{path:"/blocker",element:(0,it.jsx)($A,{})}),(0,it.jsx)(Ve,{path:"/donation",element:(0,it.jsx)(nh,{})}),(0,it.jsx)(Ve,{path:"/admin",element:(0,it.jsx)(rh,{})}),(0,it.jsx)(Ve,{path:"/coupon",element:(0,it.jsx)(AA,{})}),(0,it.jsx)(Ve,{path:"/chart",element:(0,it.jsx)(vG,{})}),(0,it.jsx)(Ve,{path:"/statusBook",element:(0,it.jsx)(iB,{})}),(0,it.jsx)(Ve,{path:"/logout",element:(0,it.jsx)(We,{to:"/"})})]})},cB=document.getElementById("root");(0,r.s)(cB).render((0,it.jsx)(e.StrictMode,{children:(0,it.jsx)(Md,{children:(0,it.jsx)(De,{children:(0,it.jsx)(sB,{})})})}))}()}();
//# sourceMappingURL=main.a15ae036.js.map