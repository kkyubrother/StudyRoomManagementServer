/*! For license information please see main.c15f2191.js.LICENSE.txt */
!function(){var e={761:function(e,t,n){"use strict";n.d(t,{kZ:function(){return y}});var r=n(5652),a=n(4801),o=n(3265),g=n(9265);var i=n(3120),l=n(7902),c=n(881),s=n(543),I=n(3676);function u(e,t,n){void 0===n&&(n=!1);var u=(0,g.Re)(t),C=(0,g.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,I.NM)(t.width)/e.offsetWidth||1,r=(0,I.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),d=(0,c.Z)(t),A=(0,r.Z)(e,C,n),h={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(u||!u&&!n)&&(("body"!==(0,i.Z)(t)||(0,s.Z)(d))&&(h=function(e){return e!==(0,o.Z)(e)&&(0,g.Re)(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:(0,a.Z)(e);var t}(t)),(0,g.Re)(t)?((m=(0,r.Z)(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):d&&(m.x=(0,l.Z)(d))),{x:A.left+h.scrollLeft-m.x,y:A.top+h.scrollTop-m.y,width:A.width,height:A.height}}var C=n(9818),d=n(7467),A=n(5411),h=n(2570);function m(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function p(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var f={placement:"bottom",modifiers:[],strategy:"absolute"};function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function y(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?f:a;return function(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},f,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],l=!1,c={state:a,setOptions:function(n){var l="function"===typeof n?n(a.options):n;s(),a.options=Object.assign({},o,a.options,l),a.scrollParents={reference:(0,g.kK)(e)?(0,d.Z)(e):e.contextElement?(0,d.Z)(e.contextElement):[],popper:(0,d.Z)(t)};var I=function(e){var t=m(e);return h.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=I.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var g=o({state:a,name:t,instance:c,options:r}),l=function(){};i.push(g||l)}})),c.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(b(t,n)){a.rects={reference:u(t,(0,A.Z)(n),"fixed"===a.options.strategy),popper:(0,C.Z)(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],g=o.fn,i=o.options,s=void 0===i?{}:i,I=o.name;"function"===typeof g&&(a=g({state:a,options:s,name:I,instance:c})||a)}else a.reset=!1,r=-1}}},update:p((function(){return new Promise((function(e){c.forceUpdate(),e(a)}))})),destroy:function(){s(),l=!0}};if(!b(e,t))return c;function s(){i.forEach((function(e){return e()})),i=[]}return c.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}},1942:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9265);function a(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}},5652:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9265),a=n(3676),o=n(3265),g=n(8044);function i(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),l=1,c=1;t&&(0,r.Re)(e)&&(l=e.offsetWidth>0&&(0,a.NM)(i.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,a.NM)(i.height)/e.offsetHeight||1);var s=((0,r.kK)(e)?(0,o.Z)(e):window).visualViewport,I=!(0,g.Z)()&&n,u=(i.left+(I&&s?s.offsetLeft:0))/l,C=(i.top+(I&&s?s.offsetTop:0))/c,d=i.width/l,A=i.height/c;return{width:d,height:A,top:C,right:u+d,bottom:C+A,left:u,x:u,y:C}}},7427:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3265);function a(e){return(0,r.Z)(e).getComputedStyle(e)}},881:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9265);function a(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}},9818:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5652);function a(e){var t=(0,r.Z)(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}},3120:function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:function(){return r}})},5411:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(3265),a=n(3120),o=n(7427),g=n(9265);function i(e){return["table","td","th"].indexOf((0,a.Z)(e))>=0}var l=n(8779),c=n(3118);function s(e){return(0,g.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function I(e){for(var t=(0,r.Z)(e),n=s(e);n&&i(n)&&"static"===(0,o.Z)(n).position;)n=s(n);return n&&("html"===(0,a.Z)(n)||"body"===(0,a.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,g.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var n=(0,l.Z)(e);for((0,g.Zq)(n)&&(n=n.host);(0,g.Re)(n)&&["html","body"].indexOf((0,a.Z)(n))<0;){var r=(0,o.Z)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},8779:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(3120),a=n(881),o=n(9265);function g(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,a.Z)(e)}},3265:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:function(){return r}})},4801:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3265);function a(e){var t=(0,r.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},7902:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(5652),a=n(881),o=n(4801);function g(e){return(0,r.Z)((0,a.Z)(e)).left+(0,o.Z)(e).scrollLeft}},9265:function(e,t,n){"use strict";n.d(t,{Re:function(){return o},Zq:function(){return g},kK:function(){return a}});var r=n(3265);function a(e){return e instanceof(0,r.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,r.Z)(e).HTMLElement||e instanceof HTMLElement}function g(e){return"undefined"!==typeof ShadowRoot&&(e instanceof(0,r.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8044:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3118);function a(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},543:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7427);function a(e){var t=(0,r.Z)(e),n=t.overflow,a=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+a)}},7467:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(8779),a=n(543),o=n(3120),g=n(9265);function i(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,g.Re)(e)&&(0,a.Z)(e)?e:i((0,r.Z)(e))}var l=n(3265);function c(e,t){var n;void 0===t&&(t=[]);var o=i(e),g=o===(null==(n=e.ownerDocument)?void 0:n.body),s=(0,l.Z)(o),I=g?[s].concat(s.visualViewport||[],(0,a.Z)(o)?o:[]):o,u=t.concat(I);return g?u:u.concat(c((0,r.Z)(I)))}},2570:function(e,t,n){"use strict";n.d(t,{BL:function(){return c},Ct:function(){return h},F2:function(){return o},I:function(){return a},Pj:function(){return u},YP:function(){return d},bw:function(){return A},d7:function(){return i},k5:function(){return C},mv:function(){return l},t$:function(){return g},ut:function(){return s},we:function(){return r},xs:function(){return m},zV:function(){return I}});var r="top",a="bottom",o="right",g="left",i="auto",l=[r,a,o,g],c="start",s="end",I="clippingParents",u="viewport",C="popper",d="reference",A=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+s])}),[]),h=[].concat(l,[i]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+s])}),[]),m=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},8702:function(e,t,n){"use strict";var r=n(5532),a=n(9818),o=n(1942),g=n(5411),i=n(5376),l=n(4666),c=n(1340),s=n(2031),I=n(2570);t.Z={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,u=e.options,C=n.elements.arrow,d=n.modifiersData.popperOffsets,A=(0,r.Z)(n.placement),h=(0,i.Z)(A),m=[I.t$,I.F2].indexOf(A)>=0?"height":"width";if(C&&d){var p=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,c.Z)("number"!==typeof e?e:(0,s.Z)(e,I.mv))}(u.padding,n),f=(0,a.Z)(C),b="y"===h?I.we:I.t$,y="y"===h?I.I:I.F2,Z=n.rects.reference[m]+n.rects.reference[h]-d[h]-n.rects.popper[m],v=d[h]-n.rects.reference[h],G=(0,g.Z)(C),B=G?"y"===h?G.clientHeight||0:G.clientWidth||0:0,S=Z/2-v/2,k=p[b],W=B-f[m]-p[y],V=B/2-f[m]/2+S,R=(0,l.u)(k,V,W),w=h;n.modifiersData[o]=((t={})[w]=R,t.centerOffset=R-V,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&(0,o.Z)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},9224:function(e,t,n){"use strict";var r=n(2570),a=n(5411),o=n(3265),g=n(881),i=n(7427),l=n(5532),c=n(5227),s=n(3676),I={top:"auto",right:"auto",bottom:"auto",left:"auto"};function u(e){var t,n=e.popper,l=e.popperRect,c=e.placement,u=e.variation,C=e.offsets,d=e.position,A=e.gpuAcceleration,h=e.adaptive,m=e.roundOffsets,p=e.isFixed,f=C.x,b=void 0===f?0:f,y=C.y,Z=void 0===y?0:y,v="function"===typeof m?m({x:b,y:Z}):{x:b,y:Z};b=v.x,Z=v.y;var G=C.hasOwnProperty("x"),B=C.hasOwnProperty("y"),S=r.t$,k=r.we,W=window;if(h){var V=(0,a.Z)(n),R="clientHeight",w="clientWidth";if(V===(0,o.Z)(n)&&(V=(0,g.Z)(n),"static"!==(0,i.Z)(V).position&&"absolute"===d&&(R="scrollHeight",w="scrollWidth")),c===r.we||(c===r.t$||c===r.F2)&&u===r.ut)k=r.I,Z-=(p&&V===W&&W.visualViewport?W.visualViewport.height:V[R])-l.height,Z*=A?1:-1;if(c===r.t$||(c===r.we||c===r.I)&&u===r.ut)S=r.F2,b-=(p&&V===W&&W.visualViewport?W.visualViewport.width:V[w])-l.width,b*=A?1:-1}var X,J=Object.assign({position:d},h&&I),Y=!0===m?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:(0,s.NM)(t*r)/r||0,y:(0,s.NM)(n*r)/r||0}}({x:b,y:Z}):{x:b,y:Z};return b=Y.x,Z=Y.y,A?Object.assign({},J,((X={})[k]=B?"0":"",X[S]=G?"0":"",X.transform=(W.devicePixelRatio||1)<=1?"translate("+b+"px, "+Z+"px)":"translate3d("+b+"px, "+Z+"px, 0)",X)):Object.assign({},J,((t={})[k]=B?Z+"px":"",t[S]=G?b+"px":"",t.transform="",t))}t.Z={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,g=void 0===o||o,i=n.roundOffsets,s=void 0===i||i,I={placement:(0,l.Z)(t.placement),variation:(0,c.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,u(Object.assign({},I,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:g,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,u(Object.assign({},I,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},1217:function(e,t,n){"use strict";var r=n(3265),a={passive:!0};t.Z={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,g=o.scroll,i=void 0===g||g,l=o.resize,c=void 0===l||l,s=(0,r.Z)(t.elements.popper),I=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&I.forEach((function(e){e.addEventListener("scroll",n.update,a)})),c&&s.addEventListener("resize",n.update,a),function(){i&&I.forEach((function(e){e.removeEventListener("scroll",n.update,a)})),c&&s.removeEventListener("resize",n.update,a)}},data:{}}},5468:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r={left:"right",right:"left",bottom:"top",top:"bottom"};function a(e){return e.replace(/left|right|bottom|top/g,(function(e){return r[e]}))}var o=n(5532),g={start:"end",end:"start"};function i(e){return e.replace(/start|end/g,(function(e){return g[e]}))}var l=n(9913),c=n(5227),s=n(2570);var I={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var g=n.mainAxis,I=void 0===g||g,u=n.altAxis,C=void 0===u||u,d=n.fallbackPlacements,A=n.padding,h=n.boundary,m=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,b=void 0===f||f,y=n.allowedAutoPlacements,Z=t.options.placement,v=(0,o.Z)(Z),G=d||(v===Z||!b?[a(Z)]:function(e){if((0,o.Z)(e)===s.d7)return[];var t=a(e);return[i(e),t,i(t)]}(Z)),B=[Z].concat(G).reduce((function(e,n){return e.concat((0,o.Z)(n)===s.d7?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,g=n.rootBoundary,i=n.padding,I=n.flipVariations,u=n.allowedAutoPlacements,C=void 0===u?s.Ct:u,d=(0,c.Z)(r),A=d?I?s.bw:s.bw.filter((function(e){return(0,c.Z)(e)===d})):s.mv,h=A.filter((function(e){return C.indexOf(e)>=0}));0===h.length&&(h=A);var m=h.reduce((function(t,n){return t[n]=(0,l.Z)(e,{placement:n,boundary:a,rootBoundary:g,padding:i})[(0,o.Z)(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}(t,{placement:n,boundary:h,rootBoundary:m,padding:A,flipVariations:b,allowedAutoPlacements:y}):n)}),[]),S=t.rects.reference,k=t.rects.popper,W=new Map,V=!0,R=B[0],w=0;w<B.length;w++){var X=B[w],J=(0,o.Z)(X),Y=(0,c.Z)(X)===s.BL,x=[s.we,s.I].indexOf(J)>=0,H=x?"width":"height",N=(0,l.Z)(t,{placement:X,boundary:h,rootBoundary:m,altBoundary:p,padding:A}),F=x?Y?s.F2:s.t$:Y?s.I:s.we;S[H]>k[H]&&(F=a(F));var K=a(F),M=[];if(I&&M.push(N[J]<=0),C&&M.push(N[F]<=0,N[K]<=0),M.every((function(e){return e}))){R=X,V=!1;break}W.set(X,M)}if(V)for(var E=function(e){var t=B.find((function(t){var n=W.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},D=b?3:1;D>0;D--){if("break"===E(D))break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},1668:function(e,t,n){"use strict";var r=n(2570),a=n(9913);function o(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function g(e){return[r.we,r.F2,r.I,r.t$].some((function(t){return e[t]>=0}))}t.Z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,l=t.modifiersData.preventOverflow,c=(0,a.Z)(t,{elementContext:"reference"}),s=(0,a.Z)(t,{altBoundary:!0}),I=o(c,r),u=o(s,i,l),C=g(I),d=g(u);t.modifiersData[n]={referenceClippingOffsets:I,popperEscapeOffsets:u,isReferenceHidden:C,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":d})}}},5934:function(e,t,n){"use strict";var r=n(5532),a=n(2570);t.Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,g=n.offset,i=void 0===g?[0,0]:g,l=a.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var o=(0,r.Z)(e),g=[a.t$,a.we].indexOf(o)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,l=i[0],c=i[1];return l=l||0,c=(c||0)*g,[a.t$,a.F2].indexOf(o)>=0?{x:c,y:l}:{x:l,y:c}}(n,t.rects,i),e}),{}),c=l[t.placement],s=c.x,I=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=I),t.modifiersData[o]=l}}},545:function(e,t,n){"use strict";var r=n(6425);t.Z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,r.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},9790:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(2570),a=n(5532),o=n(5376);var g=n(4666),i=n(9818),l=n(5411),c=n(9913),s=n(5227),I=n(9139),u=n(3676);var C={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,C=e.name,d=n.mainAxis,A=void 0===d||d,h=n.altAxis,m=void 0!==h&&h,p=n.boundary,f=n.rootBoundary,b=n.altBoundary,y=n.padding,Z=n.tether,v=void 0===Z||Z,G=n.tetherOffset,B=void 0===G?0:G,S=(0,c.Z)(t,{boundary:p,rootBoundary:f,padding:y,altBoundary:b}),k=(0,a.Z)(t.placement),W=(0,s.Z)(t.placement),V=!W,R=(0,o.Z)(k),w="x"===R?"y":"x",X=t.modifiersData.popperOffsets,J=t.rects.reference,Y=t.rects.popper,x="function"===typeof B?B(Object.assign({},t.rects,{placement:t.placement})):B,H="number"===typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(X){if(A){var K,M="y"===R?r.we:r.t$,E="y"===R?r.I:r.F2,D="y"===R?"height":"width",z=X[R],j=z+S[M],T=z-S[E],L=v?-Y[D]/2:0,U=W===r.BL?J[D]:Y[D],Q=W===r.BL?-Y[D]:-J[D],_=t.elements.arrow,O=v&&_?(0,i.Z)(_):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,I.Z)(),q=P[M],$=P[E],ee=(0,g.u)(0,J[D],O[D]),te=V?J[D]/2-L-ee-q-H.mainAxis:U-ee-q-H.mainAxis,ne=V?-J[D]/2+L+ee+$+H.mainAxis:Q+ee+$+H.mainAxis,re=t.elements.arrow&&(0,l.Z)(t.elements.arrow),ae=re?"y"===R?re.clientTop||0:re.clientLeft||0:0,oe=null!=(K=null==N?void 0:N[R])?K:0,ge=z+te-oe-ae,ie=z+ne-oe,le=(0,g.u)(v?(0,u.VV)(j,ge):j,z,v?(0,u.Fp)(T,ie):T);X[R]=le,F[R]=le-z}if(m){var ce,se="x"===R?r.we:r.t$,Ie="x"===R?r.I:r.F2,ue=X[w],Ce="y"===w?"height":"width",de=ue+S[se],Ae=ue-S[Ie],he=-1!==[r.we,r.t$].indexOf(k),me=null!=(ce=null==N?void 0:N[w])?ce:0,pe=he?de:ue-J[Ce]-Y[Ce]-me+H.altAxis,fe=he?ue+J[Ce]+Y[Ce]-me-H.altAxis:Ae,be=v&&he?(0,g.q)(pe,ue,fe):(0,g.u)(v?pe:de,ue,v?fe:Ae);X[w]=be,F[w]=be-ue}t.modifiersData[C]=F}},requiresIfExists:["offset"]}},6425:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5532),a=n(5227),o=n(5376),g=n(2570);function i(e){var t,n=e.reference,i=e.element,l=e.placement,c=l?(0,r.Z)(l):null,s=l?(0,a.Z)(l):null,I=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2;switch(c){case g.we:t={x:I,y:n.y-i.height};break;case g.I:t={x:I,y:n.y+n.height};break;case g.F2:t={x:n.x+n.width,y:u};break;case g.t$:t={x:n.x-i.width,y:u};break;default:t={x:n.x,y:n.y}}var C=c?(0,o.Z)(c):null;if(null!=C){var d="y"===C?"height":"width";switch(s){case g.BL:t[C]=t[C]-(n[d]/2-i[d]/2);break;case g.ut:t[C]=t[C]+(n[d]/2-i[d]/2)}}return t}},9913:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(2570),a=n(3265),o=n(881),g=n(7902),i=n(8044);var l=n(7427),c=n(4801),s=n(3676);var I=n(7467),u=n(5411),C=n(9265),d=n(5652),A=n(8779),h=n(1942),m=n(3120);function p(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function f(e,t,n){return t===r.Pj?p(function(e,t){var n=(0,a.Z)(e),r=(0,o.Z)(e),l=n.visualViewport,c=r.clientWidth,s=r.clientHeight,I=0,u=0;if(l){c=l.width,s=l.height;var C=(0,i.Z)();(C||!C&&"fixed"===t)&&(I=l.offsetLeft,u=l.offsetTop)}return{width:c,height:s,x:I+(0,g.Z)(e),y:u}}(e,n)):(0,C.kK)(t)?function(e,t){var n=(0,d.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):p(function(e){var t,n=(0,o.Z)(e),r=(0,c.Z)(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=(0,s.Fp)(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),I=(0,s.Fp)(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+(0,g.Z)(e),C=-r.scrollTop;return"rtl"===(0,l.Z)(a||n).direction&&(u+=(0,s.Fp)(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:I,x:u,y:C}}((0,o.Z)(e)))}function b(e,t,n,r){var a="clippingParents"===t?function(e){var t=(0,I.Z)((0,A.Z)(e)),n=["absolute","fixed"].indexOf((0,l.Z)(e).position)>=0&&(0,C.Re)(e)?(0,u.Z)(e):e;return(0,C.kK)(n)?t.filter((function(e){return(0,C.kK)(e)&&(0,h.Z)(e,n)&&"body"!==(0,m.Z)(e)})):[]}(e):[].concat(t),o=[].concat(a,[n]),g=o[0],i=o.reduce((function(t,n){var a=f(e,n,r);return t.top=(0,s.Fp)(a.top,t.top),t.right=(0,s.VV)(a.right,t.right),t.bottom=(0,s.VV)(a.bottom,t.bottom),t.left=(0,s.Fp)(a.left,t.left),t}),f(e,g,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var y=n(6425),Z=n(1340),v=n(2031);function G(e,t){void 0===t&&(t={});var n=t,a=n.placement,g=void 0===a?e.placement:a,i=n.strategy,l=void 0===i?e.strategy:i,c=n.boundary,s=void 0===c?r.zV:c,I=n.rootBoundary,u=void 0===I?r.Pj:I,A=n.elementContext,h=void 0===A?r.k5:A,m=n.altBoundary,f=void 0!==m&&m,G=n.padding,B=void 0===G?0:G,S=(0,Z.Z)("number"!==typeof B?B:(0,v.Z)(B,r.mv)),k=h===r.k5?r.YP:r.k5,W=e.rects.popper,V=e.elements[f?k:h],R=b((0,C.kK)(V)?V:V.contextElement||(0,o.Z)(e.elements.popper),s,u,l),w=(0,d.Z)(e.elements.reference),X=(0,y.Z)({reference:w,element:W,strategy:"absolute",placement:g}),J=p(Object.assign({},W,X)),Y=h===r.k5?J:w,x={top:R.top-Y.top+S.top,bottom:Y.bottom-R.bottom+S.bottom,left:R.left-Y.left+S.left,right:Y.right-R.right+S.right},H=e.modifiersData.offset;if(h===r.k5&&H){var N=H[g];Object.keys(x).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";x[e]+=N[n]*t}))}return x}},2031:function(e,t,n){"use strict";function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:function(){return r}})},5532:function(e,t,n){"use strict";function r(e){return e.split("-")[0]}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:function(){return r}})},5376:function(e,t,n){"use strict";function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:function(){return r}})},5227:function(e,t,n){"use strict";function r(e){return e.split("-")[1]}n.d(t,{Z:function(){return r}})},3676:function(e,t,n){"use strict";n.d(t,{Fp:function(){return r},NM:function(){return o},VV:function(){return a}});var r=Math.max,a=Math.min,o=Math.round},1340:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9139);function a(e){return Object.assign({},(0,r.Z)(),e)}},3118:function(e,t,n){"use strict";function r(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:function(){return r}})},4666:function(e,t,n){"use strict";n.d(t,{q:function(){return o},u:function(){return a}});var r=n(3676);function a(e,t,n){return(0,r.Fp)(e,(0,r.VV)(t,n))}function o(e,t,n){var r=a(e,t,n);return r>n?n:r}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var g=a.apply(null,n);g&&e.push(g)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},4468:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a=function(e,t,n){var a,o=r[e];return a="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},o=n(6840),g={date:(0,o.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,o.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,o.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l=function(e,t,n,r){return i[e]},c=n(7325),s={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,c.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,c.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,c.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,c.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,c.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},I=n(6884),u={code:"en-US",formatDistance:a,formatLong:g,formatRelative:l,localize:s,match:{ordinalNumber:(0,n(586).Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,I.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,I.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,I.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,I.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,I.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},4408:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r={};function a(){return r}},3462:function(e,t){"use strict";var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a={p:r,P:function(e,t){var a,o=e.match(/(P+)(p+)?/)||[],g=o[1],i=o[2];if(!i)return n(e,t);switch(g){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",n(g,t)).replace("{{time}}",r(i,t))}};t.Z=a},4697:function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return r}})},5611:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(8527),a=n(4522),o=n(9853);function g(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getUTCFullYear(),g=new Date(0);g.setUTCFullYear(n+1,0,4),g.setUTCHours(0,0,0,0);var i=(0,o.Z)(g),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var c=(0,o.Z)(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}},9153:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(8527),a=n(9853),o=n(5611),g=n(4522);function i(e){(0,g.Z)(1,arguments);var t=(0,o.Z)(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=(0,a.Z)(n);return r}var l=6048e5;function c(e){(0,g.Z)(1,arguments);var t=(0,r.default)(e),n=(0,a.Z)(t).getTime()-i(t).getTime();return Math.round(n/l)+1}},9726:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(8527),a=n(4522),o=n(1230),g=n(9297),i=n(4408);function l(e,t){var n,l,c,s,I,u,C,d;(0,a.Z)(1,arguments);var A=(0,r.default)(e),h=A.getUTCFullYear(),m=(0,i.j)(),p=(0,g.Z)(null!==(n=null!==(l=null!==(c=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(I=t.locale)||void 0===I||null===(u=I.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==c?c:m.firstWeekContainsDate)&&void 0!==l?l:null===(C=m.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(h+1,0,p),f.setUTCHours(0,0,0,0);var b=(0,o.Z)(f,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var Z=(0,o.Z)(y,t);return A.getTime()>=b.getTime()?h+1:A.getTime()>=Z.getTime()?h:h-1}},9934:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(8527),a=n(1230),o=n(9726),g=n(4522),i=n(9297),l=n(4408);function c(e,t){var n,r,c,s,I,u,C,d;(0,g.Z)(1,arguments);var A=(0,l.j)(),h=(0,i.Z)(null!==(n=null!==(r=null!==(c=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(I=t.locale)||void 0===I||null===(u=I.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==c?c:A.firstWeekContainsDate)&&void 0!==r?r:null===(C=A.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),m=(0,o.Z)(e,t),p=new Date(0);p.setUTCFullYear(m,0,h),p.setUTCHours(0,0,0,0);var f=(0,a.Z)(p,t);return f}var s=6048e5;function I(e,t){(0,g.Z)(1,arguments);var n=(0,r.default)(e),o=(0,a.Z)(n,t).getTime()-c(n,t).getTime();return Math.round(o/s)+1}},8552:function(e,t,n){"use strict";n.d(t,{Do:function(){return g},Iu:function(){return o},qp:function(){return i}});var r=["D","DD"],a=["YY","YYYY"];function o(e){return-1!==r.indexOf(e)}function g(e){return-1!==a.indexOf(e)}function i(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},4522:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},9853:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=1,n=(0,r.default)(e),o=n.getUTCDay(),g=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-g),n.setUTCHours(0,0,0,0),n}},1230:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8527),a=n(4522),o=n(9297),g=n(4408);function i(e,t){var n,i,l,c,s,I,u,C;(0,a.Z)(1,arguments);var d=(0,g.j)(),A=(0,o.Z)(null!==(n=null!==(i=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(I=s.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,r.default)(e),m=h.getUTCDay(),p=(m<A?7:0)+m-A;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}},9297:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},9040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);return isNaN(g)?new Date(NaN):g?(n.setDate(n.getDate()+g),n):n}},2074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(4377),o=n(4522),g=36e5;function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.Z)(e,n*g)}},4377:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e).getTime(),g=(0,r.Z)(t);return new Date(n+g)}},1518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(4377),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.Z)(e,6e4*n)}},1104:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);if(isNaN(g))return new Date(NaN);if(!g)return n;var i=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+g+1,0);var c=l.getDate();return i>=c?l:(n.setFullYear(l.getFullYear(),l.getMonth(),i),n)}},20:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(9040),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t),g=7*n;return(0,a.default)(e,g)}},5105:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(1104),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,12*n)}},2729:function(e,t,n){"use strict";n.d(t,{qk:function(){return o},vh:function(){return a},yJ:function(){return r}});Math.pow(10,8);var r=6e4,a=36e5,o=1e3},9759:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(4697),a=n(8347),o=n(4522),g=864e5;function i(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),i=(0,a.default)(t),l=n.getTime()-(0,r.Z)(n),c=i.getTime()-(0,r.Z)(i);return Math.round((l-c)/g)}},5951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t),g=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return 12*g+i}},7223:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9254),a=n(4697),o=n(4522),g=6048e5;function i(e,t,n){(0,o.Z)(2,arguments);var i=(0,r.default)(e,n),l=(0,r.default)(t,n),c=i.getTime()-(0,a.Z)(i),s=l.getTime()-(0,a.Z)(l);return Math.round((c-s)/g)}},7415:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()-o.getFullYear()}},786:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}},4888:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},4565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(4408),a=n(8527),o=n(9297),g=n(4522);function i(e,t){var n,i,l,c,s,I,u,C;(0,g.Z)(1,arguments);var d=(0,r.j)(),A=(0,o.Z)(null!==(n=null!==(i=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(I=s.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,a.default)(e),m=h.getDay(),p=6+(m<A?-7:0)-(m-A);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}},1951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var r=n(9314),a=n(1633),o=n(8527),g=n(4522),i=864e5;var l=n(9153),c=n(5611),s=n(9934),I=n(9726);function u(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var C={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return u("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):u(n+1,2)},d:function(e,t){return u(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return u(e.getUTCHours()%12||12,t.length)},H:function(e,t){return u(e.getUTCHours(),t.length)},m:function(e,t){return u(e.getUTCMinutes(),t.length)},s:function(e,t){return u(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return u(Math.floor(r*Math.pow(10,n-3)),t.length)}},d="midnight",A="noon",h="morning",m="afternoon",p="evening",f="night",b={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return C.y(e,t)},Y:function(e,t,n,r){var a=(0,I.Z)(e,r),o=a>0?a:1-a;return"YY"===t?u(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):u(o,t.length)},R:function(e,t){return u((0,c.Z)(e),t.length)},u:function(e,t){return u(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return u(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return u(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return C.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return u(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=(0,s.Z)(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):u(a,t.length)},I:function(e,t,n){var r=(0,l.Z)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):u(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):C.d(e,t)},D:function(e,t,n){var r=function(e){(0,g.Z)(1,arguments);var t=(0,o.default)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/i)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):u(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return u(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return u(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return u(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?A:0===a?d:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?p:a>=12?m:a>=4?h:f,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return C.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):C.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):u(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):C.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):C.s(e,t)},S:function(e,t){return C.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Z(a);case"XXXX":case"XX":return v(a);default:return v(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Z(a);case"xxxx":case"xx":return v(a);default:return v(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+y(a,":");default:return"GMT"+v(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+y(a,":");default:return"GMT"+v(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return u(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return u((r._originalDate||e).getTime(),t.length)}};function y(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var g=t||"";return n+String(a)+g+u(o,2)}function Z(e,t){return e%60===0?(e>0?"-":"+")+u(Math.abs(e)/60,2):v(e,t)}function v(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+u(Math.floor(a/60),2)+n+u(a%60,2)}var G=b,B=n(3462),S=n(4697),k=n(8552),W=n(9297),V=n(4408),R=n(4468),w=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J=/^'([^]*?)'?$/,Y=/''/g,x=/[a-zA-Z]/;function H(e,t,n){var i,l,c,s,I,u,C,d,A,h,m,p,f,b,y,Z,v,J;(0,g.Z)(2,arguments);var Y=String(t),H=(0,V.j)(),F=null!==(i=null!==(l=null===n||void 0===n?void 0:n.locale)&&void 0!==l?l:H.locale)&&void 0!==i?i:R.Z,K=(0,W.Z)(null!==(c=null!==(s=null!==(I=null!==(u=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==u?u:null===n||void 0===n||null===(C=n.locale)||void 0===C||null===(d=C.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==I?I:H.firstWeekContainsDate)&&void 0!==s?s:null===(A=H.locale)||void 0===A||null===(h=A.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==c?c:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=(0,W.Z)(null!==(m=null!==(p=null!==(f=null!==(b=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==b?b:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(Z=y.options)||void 0===Z?void 0:Z.weekStartsOn)&&void 0!==f?f:H.weekStartsOn)&&void 0!==p?p:null===(v=H.locale)||void 0===v||null===(J=v.options)||void 0===J?void 0:J.weekStartsOn)&&void 0!==m?m:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw new RangeError("locale must contain localize property");if(!F.formatLong)throw new RangeError("locale must contain formatLong property");var E=(0,o.default)(e);if(!(0,r.default)(E))throw new RangeError("Invalid time value");var D=(0,S.Z)(E),z=(0,a.Z)(E,D),j={firstWeekContainsDate:K,weekStartsOn:M,locale:F,_originalDate:E},T=Y.match(X).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,B.Z[t])(e,F.formatLong):e})).join("").match(w).map((function(r){if("''"===r)return"'";var a=r[0];if("'"===a)return N(r);var o=G[a];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,k.Do)(r)||(0,k.qp)(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,k.Iu)(r)||(0,k.qp)(r,t,String(e)),o(z,r,F.localize,j);if(a.match(x))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r})).join("");return T}function N(e){var t=e.match(J);return t?t[1].replace(Y,"'"):e}},6114:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDate();return n}},467:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getDay();return n}},1537:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getHours();return n}},6975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(8527),a=n(9254),o=n(4522);function g(e){return(0,o.Z)(1,arguments),(0,a.default)(e,{weekStartsOn:1})}function i(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=t.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var i=g(a),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var c=g(l);return t.getTime()>=i.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function l(e){(0,o.Z)(1,arguments);var t=i(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=g(n);return r}var c=6048e5;function s(e){(0,o.Z)(1,arguments);var t=(0,r.default)(e),n=g(t).getTime()-l(t).getTime();return Math.round(n/c)+1}},4424:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMinutes();return n}},3747:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth();return n}},639:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=Math.floor(t.getMonth()/3)+1;return n}},2295:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getSeconds();return n}},4460:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getTime();return n}},2599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){return(0,a.Z)(1,arguments),(0,r.default)(e).getFullYear()}},9420:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()>o.getTime()}},9579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()<o.getTime()}},6971:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(4522);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){return(0,r.Z)(1,arguments),e instanceof Date||"object"===a(e)&&"[object Date]"===Object.prototype.toString.call(e)}},7508:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},4690:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8347),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},5375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},4845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(3006),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getTime()===o.getTime()}},1750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e),o=(0,r.default)(t);return n.getFullYear()===o.getFullYear()}},9314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(6971),a=n(8527),o=n(4522);function g(e){if((0,o.Z)(1,arguments),!(0,r.default)(e)&&"number"!==typeof e)return!1;var t=(0,a.default)(e);return!isNaN(Number(t))}},7262:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e,t){(0,a.Z)(2,arguments);var n=(0,r.default)(e).getTime(),o=(0,r.default)(t.start).getTime(),g=(0,r.default)(t.end).getTime();if(!(o<=g))throw new RangeError("Invalid interval");return n>=o&&n<=g}},6840:function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}n.d(t,{Z:function(){return r}})},7325:function(e,t,n){"use strict";function r(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var g=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[g]}return r[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:function(){return r}})},6884:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,g=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(g);if(!i)return null;var l,c=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],I=Array.isArray(s)?o(s,(function(e){return e.test(c)})):a(s,(function(e){return e.test(c)}));l=e.valueCallback?e.valueCallback(I):I,l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(c.length);return{value:l,rest:u}}}function a(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function o(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}n.d(t,{Z:function(){return r}})},586:function(e,t,n){"use strict";function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],o=t.match(e.parsePattern);if(!o)return null;var g=e.valueCallback?e.valueCallback(o[0]):o[0];g=n.valueCallback?n.valueCallback(g):g;var i=t.slice(a.length);return{value:g,rest:i}}}n.d(t,{Z:function(){return r}})},9333:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function g(e){var t,n;if((0,a.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==o(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},1056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8527),a=n(4522);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function g(e){var t,n;if((0,a.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==o(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},9831:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(2729),a=n(4522),o=n(9297);function g(e,t){var n;(0,a.Z)(1,arguments);var r=(0,o.Z)(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var g,i=I(e);if(i.date){var l=u(i.date,r);g=C(l.restDateString,l.year)}if(!g||isNaN(g.getTime()))return new Date(NaN);var c,s=g.getTime(),d=0;if(i.time&&(d=A(i.time),isNaN(d)))return new Date(NaN);if(!i.timezone){var h=new Date(s+d),p=new Date(0);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return c=m(i.timezone),isNaN(c)?new Date(NaN):new Date(s+d+c)}var i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=i.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function u(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function C(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var r=!!n[4],a=d(n[1]),o=d(n[2])-1,g=d(n[3]),i=d(n[4]),c=d(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}(t,i,c):new Date(NaN);var s=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(p[t]||(f(e)?29:28))}(t,o,g)&&function(e,t){return t>=1&&t<=(f(e)?366:365)}(t,a)?(s.setUTCFullYear(t,o,Math.max(a,g)),s):new Date(NaN)}function d(e){return e?parseInt(e):1}function A(e){var t=e.match(c);if(!t)return NaN;var n=h(t[1]),a=h(t[2]),o=h(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,o)?n*r.vh+a*r.yJ+1e3*o:NaN}function h(e){return e&&parseFloat(e.replace(",","."))||0}function m(e){if("Z"===e)return 0;var t=e.match(s);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,o)?n*(a*r.vh+o*r.yJ):NaN}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function f(e){return e%400===0||e%4===0&&e%100!==0}},3216:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ag}});var r=n(4468),a=n(1633),o=n(8527);function g(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var i=n(3462),l=n(4697),c=n(8552),s=n(9297),I=n(4522);function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){function e(){f(this,e),Z(this,"subPriority",0)}return y(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),G=function(e){C(n,e);var t=A(n);function n(e,r,a,o,g){var i;return f(this,n),(i=t.call(this)).value=e,i.validateValue=r,i.setValue=a,i.priority=o,g&&(i.subPriority=g),i}return y(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(v),B=function(e){C(n,e);var t=A(n);function n(){var e;f(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Z(m(e=t.call.apply(t,[this].concat(a))),"priority",10),Z(m(e),"subPriority",-1),e}return y(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(v);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"run",value:function(e,t,n,r){var a=this.parse(e,t,n,r);return a?{setter:new G(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}])&&S(t.prototype,n),r&&S(t,r),e}();function W(e){return W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,e);var t,n,r,a=X(o);function o(){var e;V(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(Y(e=a.call.apply(a,[this].concat(n))),"priority",140),H(Y(e),"incompatibleTokens",["R","u","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}])&&R(t.prototype,n),r&&R(t,r),o}(k),F=n(2729),K=/^(1[0-2]|0?\d)/,M=/^(3[0-1]|[0-2]?\d)/,E=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,D=/^(5[0-3]|[0-4]?\d)/,z=/^(2[0-3]|[0-1]?\d)/,j=/^(2[0-4]|[0-1]?\d)/,T=/^(1[0-1]|0?\d)/,L=/^(1[0-2]|0?\d)/,U=/^[0-5]?\d/,Q=/^[0-5]?\d/,_=/^\d/,O=/^\d{1,2}/,P=/^\d{1,3}/,q=/^\d{1,4}/,$=/^-?\d+/,ee=/^-?\d/,te=/^-?\d{1,2}/,ne=/^-?\d{1,3}/,re=/^-?\d{1,4}/,ae=/^([+-])(\d{2})(\d{2})?|Z/,oe=/^([+-])(\d{2})(\d{2})|Z/,ge=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ie=/^([+-])(\d{2}):(\d{2})|Z/,le=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function ce(e,t){return e?{value:t(e.value),rest:e.rest}:e}function se(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ie(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,g=n[5]?parseInt(n[5],10):0;return{value:r*(a*F.vh+o*F.yJ+g*F.qk),rest:t.slice(n[0].length)}}function ue(e){return se($,e)}function Ce(e,t){switch(e){case 1:return se(_,t);case 2:return se(O,t);case 3:return se(P,t);case 4:return se(q,t);default:return se(new RegExp("^\\d{1,"+e+"}"),t)}}function de(e,t){switch(e){case 1:return se(ee,t);case 2:return se(te,t);case 3:return se(ne,t);case 4:return se(re,t);default:return se(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ae(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function he(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var o=a+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function me(e){return e%400===0||e%4===0&&e%100!==0}function pe(e){return pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t){return ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ye(e,t)}function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var a=Be(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==pe(t)&&"function"!==typeof t?Ge(e):t}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(o,e);var t,n,r,a=Ze(o);function o(){var e;fe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Se(Ge(e=a.call.apply(a,[this].concat(n))),"priority",130),Se(Ge(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return ce(Ce(4,e),r);case"yo":return ce(n.ordinalNumber(e,{unit:"year"}),r);default:return ce(Ce(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var a=he(n.year,r);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}])&&be(t.prototype,n),r&&be(t,r),o}(k),We=n(9726),Ve=n(1230);function Re(e){return Re="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ne(e);if(t){var a=Ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==Re(t)&&"function"!==typeof t?He(e):t}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(o,e);var t,n,r,a=Ye(o);function o(){var e;we(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fe(He(e=a.call.apply(a,[this].concat(n))),"priority",130),Fe(He(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return ce(Ce(4,e),r);case"Yo":return ce(n.ordinalNumber(e,{unit:"year"}),r);default:return ce(Ce(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var a=(0,We.Z)(e,r);if(n.isTwoDigitYear){var o=he(n.year,a);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,Ve.Z)(e,r)}var g="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(g,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,Ve.Z)(e,r)}}])&&Xe(t.prototype,n),r&&Xe(t,r),o}(k),Me=n(9853);function Ee(e){return Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var a=Qe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Ee(t)&&"function"!==typeof t?Ue(e):t}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(o,e);var t,n,r,a=Te(o);function o(){var e;De(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e(Ue(e=a.call.apply(a,[this].concat(n))),"priority",130),_e(Ue(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t){return de("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,Me.Z)(r)}}])&&ze(t.prototype,n),r&&ze(t,r),o}(k);function Pe(e){return Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var a=at(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Pe(t)&&"function"!==typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(o,e);var t,n,r,a=tt(o);function o(){var e;qe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ot(rt(e=a.call.apply(a,[this].concat(n))),"priority",130),ot(rt(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t){return de("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}])&&$e(t.prototype,n),r&&$e(t,r),o}(k);function it(e){return it="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},st(e,t)}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var a=dt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){return!t||"object"!==it(t)&&"function"!==typeof t?Ct(e):t}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,e);var t,n,r,a=It(o);function o(){var e;lt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At(Ct(e=a.call.apply(a,[this].concat(n))),"priority",120),At(Ct(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return Ce(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}])&&ct(t.prototype,n),r&&ct(t,r),o}(k);function mt(e){return mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bt(e,t)}function yt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var a=Gt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){return!t||"object"!==mt(t)&&"function"!==typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(o,e);var t,n,r,a=yt(o);function o(){var e;pt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bt(vt(e=a.call.apply(a,[this].concat(n))),"priority",120),Bt(vt(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return Ce(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}])&&ft(t.prototype,n),r&&ft(t,r),o}(k);function kt(e){return kt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rt(e,t)}function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var a=Yt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==kt(t)&&"function"!==typeof t?Jt(e):t}function Jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(o,e);var t,n,r,a=wt(o);function o(){var e;Wt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xt(Jt(e=a.call.apply(a,[this].concat(n))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),xt(Jt(e),"priority",110),e}return t=o,(n=[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return ce(se(K,e),r);case"MM":return ce(Ce(2,e),r);case"Mo":return ce(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}])&&Vt(t.prototype,n),r&&Vt(t,r),o}(k);function Nt(e){return Nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Nt(t)&&"function"!==typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(o,e);var t,n,r,a=Et(o);function o(){var e;Ft(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(zt(e=a.call.apply(a,[this].concat(n))),"priority",110),Tt(zt(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return ce(se(K,e),r);case"LL":return ce(Ce(2,e),r);case"Lo":return ce(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}])&&Kt(t.prototype,n),r&&Kt(t,r),o}(k),Ut=n(9934);function Qt(e){return Qt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t){return Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pt(e,t)}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var a=tn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){return!t||"object"!==Qt(t)&&"function"!==typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(g,e);var t,n,r,a=qt(g);function g(){var e;_t(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(en(e=a.call.apply(a,[this].concat(n))),"priority",100),nn(en(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return t=g,n=[{key:"parse",value:function(e,t,n){switch(t){case"w":return se(D,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,Ve.Z)(function(e,t,n){(0,I.Z)(2,arguments);var r=(0,o.default)(e),a=(0,s.Z)(t),g=(0,Ut.Z)(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*g),r}(e,n,r),r)}}],n&&Ot(t.prototype,n),r&&Ot(t,r),g}(k),an=n(9153);function on(e){return on="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t){return cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cn(e,t)}function sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var a=Cn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return In(this,n)}}function In(e,t){return!t||"object"!==on(t)&&"function"!==typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var An=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(g,e);var t,n,r,a=sn(g);function g(){var e;gn(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dn(un(e=a.call.apply(a,[this].concat(n))),"priority",100),dn(un(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return t=g,n=[{key:"parse",value:function(e,t,n){switch(t){case"I":return se(D,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,Me.Z)(function(e,t){(0,I.Z)(2,arguments);var n=(0,o.default)(e),r=(0,s.Z)(t),a=(0,an.Z)(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,n))}}],n&&ln(t.prototype,n),r&&ln(t,r),g}(k);function hn(e){return hn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e,t){return fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fn(e,t)}function bn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var a=vn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(e,t){return!t||"object"!==hn(t)&&"function"!==typeof t?Zn(e):t}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e){return vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vn(e)}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn=[31,28,31,30,31,30,31,31,30,31,30,31],Sn=[31,29,31,30,31,30,31,31,30,31,30,31],kn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(o,e);var t,n,r,a=bn(o);function o(){var e;mn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gn(Zn(e=a.call.apply(a,[this].concat(n))),"priority",90),Gn(Zn(e),"subPriority",1),Gn(Zn(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"d":return se(M,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){var n=me(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Sn[r]:t>=1&&t<=Bn[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}])&&pn(t.prototype,n),r&&pn(t,r),o}(k);function Wn(e){return Wn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wn(e,t)}function Xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var a=xn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Wn(t)&&"function"!==typeof t?Yn(e):t}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xn(e)}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(o,e);var t,n,r,a=Xn(o);function o(){var e;Vn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hn(Yn(e=a.call.apply(a,[this].concat(n))),"priority",90),Hn(Yn(e),"subpriority",1),Hn(Yn(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return se(E,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return me(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}])&&Rn(t.prototype,n),r&&Rn(t,r),o}(k),Fn=n(4408);function Kn(e,t,n){var r,a,g,i,l,c,u,C;(0,I.Z)(2,arguments);var d=(0,Fn.j)(),A=(0,s.Z)(null!==(r=null!==(a=null!==(g=null!==(i=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==i?i:null===n||void 0===n||null===(l=n.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==g?g:d.weekStartsOn)&&void 0!==a?a:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==r?r:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,o.default)(e),m=(0,s.Z)(t),p=h.getUTCDay(),f=m%7,b=(f+7)%7,y=(b<A?7:0)+m-p;return h.setUTCDate(h.getUTCDate()+y),h}function Mn(e){return Mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zn(e,t)}function jn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Un(e);if(t){var a=Un(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){return!t||"object"!==Mn(t)&&"function"!==typeof t?Ln(e):t}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Un(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(o,e);var t,n,r,a=jn(o);function o(){var e;En(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qn(Ln(e=a.call.apply(a,[this].concat(n))),"priority",90),Qn(Ln(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Kn(e,n,r)).setUTCHours(0,0,0,0),e}}])&&Dn(t.prototype,n),r&&Dn(t,r),o}(k);function On(e){return On="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return $n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$n(e,t)}function er(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var a=rr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==On(t)&&"function"!==typeof t?nr(e):t}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(o,e);var t,n,r,a=er(o);function o(){var e;Pn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ar(nr(e=a.call.apply(a,[this].concat(n))),"priority",90),ar(nr(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return ce(Ce(t.length,e),a);case"eo":return ce(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Kn(e,n,r)).setUTCHours(0,0,0,0),e}}])&&qn(t.prototype,n),r&&qn(t,r),o}(k);function gr(e){return gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t){return cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cr(e,t)}function sr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var a=Cr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ir(this,n)}}function Ir(e,t){return!t||"object"!==gr(t)&&"function"!==typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(o,e);var t,n,r,a=sr(o);function o(){var e;ir(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dr(ur(e=a.call.apply(a,[this].concat(n))),"priority",90),dr(ur(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return ce(Ce(t.length,e),a);case"co":return ce(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Kn(e,n,r)).setUTCHours(0,0,0,0),e}}])&&lr(t.prototype,n),r&&lr(t,r),o}(k);function hr(e){return hr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hr(e)}function mr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fr(e,t)}function br(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vr(e);if(t){var a=vr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(e,t){return!t||"object"!==hr(t)&&"function"!==typeof t?Zr(e):t}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(g,e);var t,n,r,a=br(g);function g(){var e;mr(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gr(Zr(e=a.call.apply(a,[this].concat(n))),"priority",90),Gr(Zr(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return t=g,n=[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Ce(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return ce(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return ce(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return ce(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return ce(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,I.Z)(2,arguments);var n=(0,s.Z)(t);n%7===0&&(n-=7);var r=1,a=(0,o.default)(e),g=a.getUTCDay(),i=((n%7+7)%7<r?7:0)+n-g;return a.setUTCDate(a.getUTCDate()+i),a}(e,n),e.setUTCHours(0,0,0,0),e}}],n&&pr(t.prototype,n),r&&pr(t,r),g}(k);function Sr(e){return Sr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vr(e,t)}function Rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jr(e);if(t){var a=Jr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wr(this,n)}}function wr(e,t){return!t||"object"!==Sr(t)&&"function"!==typeof t?Xr(e):t}function Xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(o,e);var t,n,r,a=Rr(o);function o(){var e;kr(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yr(Xr(e=a.call.apply(a,[this].concat(n))),"priority",80),Yr(Xr(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ae(n),0,0,0),e}}])&&Wr(t.prototype,n),r&&Wr(t,r),o}(k);function Hr(e){return Hr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kr(e,t)}function Mr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var a=zr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==Hr(t)&&"function"!==typeof t?Dr(e):t}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(o,e);var t,n,r,a=Mr(o);function o(){var e;Nr(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jr(Dr(e=a.call.apply(a,[this].concat(n))),"priority",80),jr(Dr(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ae(n),0,0,0),e}}])&&Fr(t.prototype,n),r&&Fr(t,r),o}(k);function Lr(e){return Lr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return _r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_r(e,t)}function Or(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var a=$r(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){return!t||"object"!==Lr(t)&&"function"!==typeof t?qr(e):t}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ta=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(o,e);var t,n,r,a=Or(o);function o(){var e;Ur(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ea(qr(e=a.call.apply(a,[this].concat(n))),"priority",80),ea(qr(e),"incompatibleTokens",["a","b","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ae(n),0,0,0),e}}])&&Qr(t.prototype,n),r&&Qr(t,r),o}(k);function na(e){return na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t){return oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oa(e,t)}function ga(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ca(e);if(t){var a=ca(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ia(this,n)}}function ia(e,t){return!t||"object"!==na(t)&&"function"!==typeof t?la(e):t}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(o,e);var t,n,r,a=ga(o);function o(){var e;ra(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sa(la(e=a.call.apply(a,[this].concat(n))),"priority",70),sa(la(e),"incompatibleTokens",["H","K","k","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"h":return se(L,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}])&&aa(t.prototype,n),r&&aa(t,r),o}(k);function ua(e){return ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t){return Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Aa(e,t)}function ha(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fa(e);if(t){var a=fa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ma(this,n)}}function ma(e,t){return!t||"object"!==ua(t)&&"function"!==typeof t?pa(e):t}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(e)}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ya=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(o,e);var t,n,r,a=ha(o);function o(){var e;Ca(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ba(pa(e=a.call.apply(a,[this].concat(n))),"priority",70),ba(pa(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"H":return se(z,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}])&&da(t.prototype,n),r&&da(t,r),o}(k);function Za(e){return Za="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ba(e,t)}function Sa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Va(e);if(t){var a=Va(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){return!t||"object"!==Za(t)&&"function"!==typeof t?Wa(e):t}function Wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(e)}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wa=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(o,e);var t,n,r,a=Sa(o);function o(){var e;va(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ra(Wa(e=a.call.apply(a,[this].concat(n))),"priority",70),Ra(Wa(e),"incompatibleTokens",["h","H","k","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"K":return se(T,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}])&&Ga(t.prototype,n),r&&Ga(t,r),o}(k);function Xa(e){return Xa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(e)}function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t){return xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xa(e,t)}function Ha(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var a=Ka(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Na(this,n)}}function Na(e,t){return!t||"object"!==Xa(t)&&"function"!==typeof t?Fa(e):t}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(e)}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ea=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(o,e);var t,n,r,a=Ha(o);function o(){var e;Ja(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ma(Fa(e=a.call.apply(a,[this].concat(n))),"priority",70),Ma(Fa(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"k":return se(j,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}])&&Ya(t.prototype,n),r&&Ya(t,r),o}(k);function Da(e){return Da="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ta(e,t)}function La(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_a(e);if(t){var a=_a(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ua(this,n)}}function Ua(e,t){return!t||"object"!==Da(t)&&"function"!==typeof t?Qa(e):t}function Qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(o,e);var t,n,r,a=La(o);function o(){var e;za(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oa(Qa(e=a.call.apply(a,[this].concat(n))),"priority",60),Oa(Qa(e),"incompatibleTokens",["t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"m":return se(U,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}])&&ja(t.prototype,n),r&&ja(t,r),o}(k);function qa(e){return qa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},to(e,t)}function no(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var a=oo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ro(this,n)}}function ro(e,t){return!t||"object"!==qa(t)&&"function"!==typeof t?ao(e):t}function ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var io=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(o,e);var t,n,r,a=no(o);function o(){var e;$a(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return go(ao(e=a.call.apply(a,[this].concat(n))),"priority",50),go(ao(e),"incompatibleTokens",["t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t,n){switch(t){case"s":return se(Q,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ce(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}])&&eo(t.prototype,n),r&&eo(t,r),o}(k);function lo(e){return lo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(e)}function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Io(e,t)}function uo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ho(e);if(t){var a=ho(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Co(this,n)}}function Co(e,t){return!t||"object"!==lo(t)&&"function"!==typeof t?Ao(e):t}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ho(e){return ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ho(e)}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var po=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(o,e);var t,n,r,a=uo(o);function o(){var e;co(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mo(Ao(e=a.call.apply(a,[this].concat(n))),"priority",30),mo(Ao(e),"incompatibleTokens",["t","T"]),e}return t=o,(n=[{key:"parse",value:function(e,t){return ce(Ce(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}])&&so(t.prototype,n),r&&so(t,r),o}(k);function fo(e){return fo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(e)}function bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e,t){return Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zo(e,t)}function vo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=So(e);if(t){var a=So(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Go(this,n)}}function Go(e,t){return!t||"object"!==fo(t)&&"function"!==typeof t?Bo(e):t}function Bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(e){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},So(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wo=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}(o,e);var t,n,r,a=vo(o);function o(){var e;bo(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ko(Bo(e=a.call.apply(a,[this].concat(n))),"priority",10),ko(Bo(e),"incompatibleTokens",["t","T","x"]),e}return t=o,(n=[{key:"parse",value:function(e,t){switch(t){case"X":return Ie(ae,e);case"XX":return Ie(oe,e);case"XXXX":return Ie(ge,e);case"XXXXX":return Ie(le,e);default:return Ie(ie,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}])&&yo(t.prototype,n),r&&yo(t,r),o}(k);function Vo(e){return Vo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(e)}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xo(e,t){return Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xo(e,t)}function Jo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var a=Ho(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yo(this,n)}}function Yo(e,t){return!t||"object"!==Vo(t)&&"function"!==typeof t?xo(e):t}function xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ho(e)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(o,e);var t,n,r,a=Jo(o);function o(){var e;Ro(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return No(xo(e=a.call.apply(a,[this].concat(n))),"priority",10),No(xo(e),"incompatibleTokens",["t","T","X"]),e}return t=o,(n=[{key:"parse",value:function(e,t){switch(t){case"x":return Ie(ae,e);case"xx":return Ie(oe,e);case"xxxx":return Ie(ge,e);case"xxxxx":return Ie(le,e);default:return Ie(ie,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}])&&wo(t.prototype,n),r&&wo(t,r),o}(k);function Ko(e){return Ko="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Do(e,t)}function zo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var a=Lo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jo(this,n)}}function jo(e,t){return!t||"object"!==Ko(t)&&"function"!==typeof t?To(e):t}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lo(e)}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qo=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(o,e);var t,n,r,a=zo(o);function o(){var e;Mo(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uo(To(e=a.call.apply(a,[this].concat(n))),"priority",40),Uo(To(e),"incompatibleTokens","*"),e}return t=o,(n=[{key:"parse",value:function(e){return ue(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}])&&Eo(t.prototype,n),r&&Eo(t,r),o}(k);function _o(e){return _o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(e)}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qo(e,t){return qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qo(e,t)}function $o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ng(e);if(t){var a=ng(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return eg(this,n)}}function eg(e,t){return!t||"object"!==_o(t)&&"function"!==typeof t?tg(e):t}function tg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ng(e){return ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ng(e)}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ag=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qo(e,t)}(o,e);var t,n,r,a=$o(o);function o(){var e;Oo(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rg(tg(e=a.call.apply(a,[this].concat(n))),"priority",20),rg(tg(e),"incompatibleTokens","*"),e}return t=o,(n=[{key:"parse",value:function(e){return ue(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}])&&Po(t.prototype,n),r&&Po(t,r),o}(k),og={G:new N,y:new ke,Y:new Ke,R:new Oe,u:new gt,Q:new ht,q:new St,M:new Ht,L:new Lt,w:new rn,I:new An,d:new kn,D:new Nn,E:new _n,e:new or,c:new Ar,i:new Br,a:new xr,b:new Tr,B:new ta,h:new Ia,H:new ya,K:new wa,k:new Ea,m:new Pa,s:new io,S:new po,X:new Wo,x:new Fo,t:new Qo,T:new ag};function gg(e){return gg="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(e)}function ig(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return lg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lg(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,g=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return g=e.done,e},e:function(e){i=!0,o=e},f:function(){try{g||null==n.return||n.return()}finally{if(i)throw o}}}}function lg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ig=/^'([^]*?)'?$/,ug=/''/g,Cg=/\S/,dg=/[a-zA-Z]/;function Ag(e,t,n,u){var C,d,A,h,m,p,f,b,y,Z,v,G,S,k,W,V,R,w;(0,I.Z)(3,arguments);var X=String(e),J=String(t),Y=(0,Fn.j)(),x=null!==(C=null!==(d=null===u||void 0===u?void 0:u.locale)&&void 0!==d?d:Y.locale)&&void 0!==C?C:r.Z;if(!x.match)throw new RangeError("locale must contain match property");var H=(0,s.Z)(null!==(A=null!==(h=null!==(m=null!==(p=null===u||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==p?p:null===u||void 0===u||null===(f=u.locale)||void 0===f||null===(b=f.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==m?m:Y.firstWeekContainsDate)&&void 0!==h?h:null===(y=Y.locale)||void 0===y||null===(Z=y.options)||void 0===Z?void 0:Z.firstWeekContainsDate)&&void 0!==A?A:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=(0,s.Z)(null!==(v=null!==(G=null!==(S=null!==(k=null===u||void 0===u?void 0:u.weekStartsOn)&&void 0!==k?k:null===u||void 0===u||null===(W=u.locale)||void 0===W||null===(V=W.options)||void 0===V?void 0:V.weekStartsOn)&&void 0!==S?S:Y.weekStartsOn)&&void 0!==G?G:null===(R=Y.locale)||void 0===R||null===(w=R.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==v?v:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===J)return""===X?(0,o.default)(n):new Date(NaN);var F,K={firstWeekContainsDate:H,weekStartsOn:N,locale:x},M=[new B],E=J.match(sg).map((function(e){var t=e[0];return t in i.Z?(0,i.Z[t])(e,x.formatLong):e})).join("").match(cg),D=[],z=ig(E);try{var j=function(){var t=F.value;null!==u&&void 0!==u&&u.useAdditionalWeekYearTokens||!(0,c.Do)(t)||(0,c.qp)(t,J,e),null!==u&&void 0!==u&&u.useAdditionalDayOfYearTokens||!(0,c.Iu)(t)||(0,c.qp)(t,J,e);var n=t[0],r=og[n];if(r){var a=r.incompatibleTokens;if(Array.isArray(a)){var o=D.find((function(e){return a.includes(e.token)||e.token===n}));if(o)throw new RangeError("The format string mustn't contain `".concat(o.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));D.push({token:n,fullToken:t});var g=r.run(X,t,x.match,K);if(!g)return{v:new Date(NaN)};M.push(g.setter),X=g.rest}else{if(n.match(dg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=hg(t)),0!==X.indexOf(t))return{v:new Date(NaN)};X=X.slice(t.length)}};for(z.s();!(F=z.n()).done;){var T=j();if("object"===gg(T))return T.v}}catch(ee){z.e(ee)}finally{z.f()}if(X.length>0&&Cg.test(X))return new Date(NaN);var L=M.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return M.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),U=(0,o.default)(n);if(isNaN(U.getTime()))return new Date(NaN);var Q,_=(0,a.Z)(U,(0,l.Z)(U)),O={},P=ig(L);try{for(P.s();!(Q=P.n()).done;){var q=Q.value;if(!q.validate(_,K))return new Date(NaN);var $=q.set(_,O,K);Array.isArray($)?(_=$[0],g(O,$[1])):_=$}}catch(ee){P.e(ee)}finally{P.f()}return _}function hg(e){return e.match(Ig)[1].replace(ug,"'")}},2618:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);return n.setHours(g),n}},7227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);return n.setMinutes(g),n}},2363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(8527),o=n(4522);function g(e){(0,o.Z)(1,arguments);var t=(0,a.default)(e),n=t.getFullYear(),r=t.getMonth(),g=new Date(0);return g.setFullYear(n,r+1,0),g.setHours(0,0,0,0),g.getDate()}function i(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),i=(0,r.Z)(t),l=n.getFullYear(),c=n.getDate(),s=new Date(0);s.setFullYear(l,i,15),s.setHours(0,0,0,0);var I=g(s);return n.setMonth(i,Math.min(c,I)),n}},5765:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9297),a=n(8527),o=n(2363),g=n(4522);function i(e,t){(0,g.Z)(2,arguments);var n=(0,a.default)(e),i=(0,r.Z)(t),l=Math.floor(n.getMonth()/3)+1,c=i-l;return(0,o.default)(n,n.getMonth()+3*c)}},9292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);return n.setSeconds(g),n}},5617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(8527),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,a.default)(e),g=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(g),n)}},8347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}},5719:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},3006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=t.getMonth(),o=n-n%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}},9254:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(8527),a=n(9297),o=n(4522),g=n(4408);function i(e,t){var n,i,l,c,s,I,u,C;(0,o.Z)(1,arguments);var d=(0,g.j)(),A=(0,a.Z)(null!==(n=null!==(i=null!==(l=null!==(c=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==c?c:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(I=s.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==l?l:d.weekStartsOn)&&void 0!==i?i:null===(u=d.locale)||void 0===u||null===(C=u.options)||void 0===C?void 0:C.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=(0,r.default)(e),m=h.getDay(),p=(m<A?7:0)+m-A;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}},7235:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(8527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.default)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},6753:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9040),a=n(4522),o=n(9297);function g(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(t);return(0,r.default)(e,-n)}},4433:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(2074),a=n(4522),o=n(9297);function g(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(t);return(0,r.default)(e,-n)}},1633:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(4377),a=n(4522),o=n(9297);function g(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(t);return(0,r.Z)(e,-n)}},4851:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(1518),a=n(4522),o=n(9297);function g(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(t);return(0,r.default)(e,-n)}},8030:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(1104),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},7503:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(20),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},7602:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(9297),a=n(5105),o=n(4522);function g(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(t);return(0,a.default)(e,-n)}},8527:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(4522);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===a(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},7473:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},2110:function(e,t,n){"use strict";var r=n(7441),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return r.isMemo(e)?g:i[e.$$typeof]||a}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[r.Memo]=g;var c=Object.defineProperty,s=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,C=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var a=C(n);a&&a!==d&&e(t,a,r)}var g=s(n);I&&(g=g.concat(I(n)));for(var i=l(t),A=l(n),h=0;h<g.length;++h){var m=g[h];if(!o[m]&&(!r||!r[m])&&(!A||!A[m])&&(!i||!i[m])){var p=u(n,m);try{c(t,m,p)}catch(f){}}}}return t}},2176:function(e){"use strict";e.exports=function(e,t,n,r,a,o,g,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,g,i],s=0;(l=new Error(t.replace(/%s/g,(function(){return c[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},2095:function(e){e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},9066:function(e,t,n){var r=n(7197),a=n(1587),o=n(3581),g=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":g&&g in Object(e)?a(e):o(e)}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},7255:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var g=-1,i=n(t((r-e)/(a||1)),0),l=Array(i);i--;)l[o?i:++g]=e,e+=a;return l}},2446:function(e,t,n){var r=n(7197),a=n(8950),o=n(3629),g=n(152),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(g(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},821:function(e,t,n){var r=n(6050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7810:function(e,t,n){var r=n(2095),a=n(4857),o=n(5660),g=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(a(t).replace(g,"")),e,"")}}},6381:function(e,t,n){var r=n(7255),a=n(3195),o=n(1495);e.exports=function(e){return function(t,n,g){return g&&"number"!=typeof g&&a(t,n,g)&&(n=g=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),g=void 0===g?t<n?1:-1:o(g),r(t,n,g,e)}}},2658:function(e,t,n){var r=n(7009),a=n(9753),o=n(2582),g=n(3518),i=r.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),(n=null==n?0:l(a(n),292))&&i(e)){var r=(g(e)+"e").split("e"),c=t(r[0]+"e"+(+r[1]+n));return+((r=(g(c)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1587:function(e,t,n){var r=n(7197),a=Object.prototype,o=a.hasOwnProperty,g=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(l){}var a=g.call(e);return r&&(t?e[i]=n:delete e[i]),a}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(9231),a=n(1473),o=n(6800),g=n(8092);e.exports=function(e,t,n){if(!g(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&o(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var r=n(1032),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+a+"]",g="\\d+",i="[\\u2700-\\u27bf]",l="["+n+"]",c="[^\\ud800-\\udfff"+a+g+t+n+r+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",u="["+r+"]",C="(?:"+l+"|"+c+")",d="(?:"+u+"|"+c+")",A="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",h="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?",f=p+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,I].join("|")+")"+p+m+")*"),b="(?:"+[i,s,I].join("|")+")"+f,y=RegExp([u+"?"+l+"+"+A+"(?="+[o,u,"$"].join("|")+")",d+"+"+h+"(?="+[o,u+C,"$"].join("|")+")",u+"?"+C+"+"+A,u+"+"+h,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",g,b].join("|"),"g");e.exports=function(e){return e.match(y)||[]}},4857:function(e,t,n){var r=n(5868),a=n(3518),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=a(e))&&e.replace(o,r).replace(g,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),a=n(4635);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},4786:function(e,t,n){var r=n(9066),a=n(8092);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),a=n(3141);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var a,o="Expected a function",g="__lodash_hash_undefined__",i="__lodash_placeholder__",l=16,c=32,s=64,I=128,u=256,C=1/0,d=9007199254740991,A=NaN,h=4294967295,m=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",s],["rearg",u]],p="[object Arguments]",f="[object Array]",b="[object Boolean]",y="[object Date]",Z="[object Error]",v="[object Function]",G="[object GeneratorFunction]",B="[object Map]",S="[object Number]",k="[object Object]",W="[object Promise]",V="[object RegExp]",R="[object Set]",w="[object String]",X="[object Symbol]",J="[object WeakMap]",Y="[object ArrayBuffer]",x="[object DataView]",H="[object Float32Array]",N="[object Float64Array]",F="[object Int8Array]",K="[object Int16Array]",M="[object Int32Array]",E="[object Uint8Array]",D="[object Uint8ClampedArray]",z="[object Uint16Array]",j="[object Uint32Array]",T=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,_=/[&<>"']/g,O=RegExp(Q.source),P=RegExp(_.source),q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ae.source),ge=/^\s+/,ie=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,Ie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,Ce=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Ge="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Be="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",ke="A-Z\\xc0-\\xd6\\xd8-\\xde",We="\\ufe0e\\ufe0f",Ve="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['\u2019]",we="[\\ud800-\\udfff]",Xe="["+Ve+"]",Je="["+Ge+"]",Ye="\\d+",xe="[\\u2700-\\u27bf]",He="["+Se+"]",Ne="[^\\ud800-\\udfff"+Ve+Ye+Be+Se+ke+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ke="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+ke+"]",ze="(?:"+He+"|"+Ne+")",je="(?:"+De+"|"+Ne+")",Te="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Le="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+Je+"|"+Fe+")"+"?",Qe="[\\ufe0e\\ufe0f]?",_e=Qe+Ue+("(?:\\u200d(?:"+[Ke,Me,Ee].join("|")+")"+Qe+Ue+")*"),Oe="(?:"+[xe,Me,Ee].join("|")+")"+_e,Pe="(?:"+[Ke+Je+"?",Je,Me,Ee,we].join("|")+")",qe=RegExp(Re,"g"),$e=RegExp(Je,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Pe+_e,"g"),tt=RegExp([De+"?"+He+"+"+Te+"(?="+[Xe,De,"$"].join("|")+")",je+"+"+Le+"(?="+[Xe,De+ze,"$"].join("|")+")",De+"?"+ze+"+"+Te,De+"+"+Le,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ye,Oe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Ge+We+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,gt={};gt[H]=gt[N]=gt[F]=gt[K]=gt[M]=gt[E]=gt[D]=gt[z]=gt[j]=!0,gt[p]=gt[f]=gt[Y]=gt[b]=gt[x]=gt[y]=gt[Z]=gt[v]=gt[B]=gt[S]=gt[k]=gt[V]=gt[R]=gt[w]=gt[J]=!1;var it={};it[p]=it[f]=it[Y]=it[x]=it[b]=it[y]=it[H]=it[N]=it[F]=it[K]=it[M]=it[B]=it[S]=it[k]=it[V]=it[R]=it[w]=it[X]=it[E]=it[D]=it[z]=it[j]=!0,it[Z]=it[v]=it[J]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,st=parseInt,It="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,Ct=It||ut||Function("return this")(),dt=t&&!t.nodeType&&t,At=dt&&e&&!e.nodeType&&e,ht=At&&At.exports===dt,mt=ht&&It.process,pt=function(){try{var e=At&&At.require&&At.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),ft=pt&&pt.isArrayBuffer,bt=pt&&pt.isDate,yt=pt&&pt.isMap,Zt=pt&&pt.isRegExp,vt=pt&&pt.isSet,Gt=pt&&pt.isTypedArray;function Bt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var g=e[a];t(r,g,n(g),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var g=e[n];t(g,n,e)&&(o[a++]=g)}return o}function wt(e,t){return!!(null==e?0:e.length)&&Et(e,t,0)>-1}function Xt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Jt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Yt(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function xt(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Ht(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Tt("length");function Kt(e,t,n){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=n,!1})),r}function Mt(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function Et(e,t,n){return t===t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,zt,n)}function Dt(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function zt(e){return e!==e}function jt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:A}function Tt(e){return function(t){return null==t?a:t[e]}}function Lt(e){return function(t){return null==e?a:e[t]}}function Ut(e,t,n,r,a){return a(e,(function(e,a,o){n=r?(r=!1,e):t(n,e,a,o)})),n}function Qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var g=t(e[r]);g!==a&&(n=n===a?g:n+g)}return n}function _t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ot(e){return e?e.slice(0,An(e)+1).replace(ge,""):e}function Pt(e){return function(t){return e(t)}}function qt(e,t){return Jt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Et(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Et(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Lt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Lt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+lt[e]}function gn(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var g=e[n];g!==t&&g!==i||(e[n]=i,o[a++]=n)}return o}function In(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Cn(e){return gn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function dn(e){return gn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function An(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hn=Lt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?Ct:mn.defaults(Ct.Object(),t,mn.pick(Ct,at))).Array,r=t.Date,ie=t.Error,Ge=t.Function,Be=t.Math,Se=t.Object,ke=t.RegExp,We=t.String,Ve=t.TypeError,Re=n.prototype,we=Ge.prototype,Xe=Se.prototype,Je=t["__core-js_shared__"],Ye=we.toString,xe=Xe.hasOwnProperty,He=0,Ne=function(){var e=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Xe.toString,Ke=Ye.call(Se),Me=Ct._,Ee=ke("^"+Ye.call(xe).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),De=ht?t.Buffer:a,ze=t.Symbol,je=t.Uint8Array,Te=De?De.allocUnsafe:a,Le=cn(Se.getPrototypeOf,Se),Ue=Se.create,Qe=Xe.propertyIsEnumerable,_e=Re.splice,Oe=ze?ze.isConcatSpreadable:a,Pe=ze?ze.iterator:a,et=ze?ze.toStringTag:a,nt=function(){try{var e=uo(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),lt=t.clearTimeout!==Ct.clearTimeout&&t.clearTimeout,It=r&&r.now!==Ct.Date.now&&r.now,ut=t.setTimeout!==Ct.setTimeout&&t.setTimeout,dt=Be.ceil,At=Be.floor,mt=Se.getOwnPropertySymbols,pt=De?De.isBuffer:a,Ft=t.isFinite,Lt=Re.join,pn=cn(Se.keys,Se),fn=Be.max,bn=Be.min,yn=r.now,Zn=t.parseInt,vn=Be.random,Gn=Re.reverse,Bn=uo(t,"DataView"),Sn=uo(t,"Map"),kn=uo(t,"Promise"),Wn=uo(t,"Set"),Vn=uo(t,"WeakMap"),Rn=uo(Se,"create"),wn=Vn&&new Vn,Xn={},Jn=Mo(Bn),Yn=Mo(Sn),xn=Mo(kn),Hn=Mo(Wn),Nn=Mo(Vn),Fn=ze?ze.prototype:a,Kn=Fn?Fn.valueOf:a,Mn=Fn?Fn.toString:a;function En(e){if(ri(e)&&!Lg(e)&&!(e instanceof Tn)){if(e instanceof jn)return e;if(xe.call(e,"__wrapped__"))return Eo(e)}return new jn(e)}var Dn=function(){function e(){}return function(t){if(!ni(t))return{};if(Ue)return Ue(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function zn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qn;++t<n;)this.add(e[t])}function On(e){var t=this.__data__=new Un(e);this.size=t.size}function Pn(e,t){var n=Lg(e),r=!n&&Tg(e),a=!n&&!r&&Og(e),o=!n&&!r&&!a&&Ii(e),g=n||r||a||o,i=g?_t(e.length,We):[],l=i.length;for(var c in e)!t&&!xe.call(e,c)||g&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||i.push(c);return i}function qn(e){var t=e.length;return t?e[_r(0,t-1)]:a}function $n(e,t){return No(Ra(e),lr(t,0,e.length))}function er(e){return No(Ra(e))}function tr(e,t,n){(n!==a&&!Dg(e[t],n)||n===a&&!(t in e))&&gr(e,t,n)}function nr(e,t,n){var r=e[t];xe.call(e,t)&&Dg(r,n)&&(n!==a||t in e)||gr(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Dg(e[n][0],t))return n;return-1}function ar(e,t,n,r){return Cr(e,(function(e,a,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&wa(t,Ji(t),e)}function gr(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var r=-1,o=t.length,g=n(o),i=null==e;++r<o;)g[r]=i?a:Wi(e,t[r]);return g}function lr(e,t,n){return e===e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,g){var i,l=1&t,c=2&t,s=4&t;if(n&&(i=o?n(e,r,o,g):n(e)),i!==a)return i;if(!ni(e))return e;var I=Lg(e);if(I){if(i=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ra(e,i)}else{var u=ho(e),C=u==v||u==G;if(Og(e))return Ga(e,l);if(u==k||u==p||C&&!o){if(i=c||C?{}:po(e),!l)return c?function(e,t){return wa(e,Ao(e),t)}(e,function(e,t){return e&&wa(t,Yi(t),e)}(i,e)):function(e,t){return wa(e,Co(e),t)}(e,or(i,e))}else{if(!it[u])return o?e:{};i=function(e,t,n){var r=e.constructor;switch(t){case Y:return Ba(e);case b:case y:return new r(+e);case x:return function(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case H:case N:case F:case K:case M:case E:case D:case z:case j:return Sa(e,n);case B:return new r;case S:case w:return new r(e);case V:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case X:return a=e,Kn?Se(Kn.call(a)):{}}var a}(e,u,l)}}g||(g=new On);var d=g.get(e);if(d)return d;g.set(e,i),li(e)?e.forEach((function(r){i.add(cr(r,t,n,r,e,g))})):ai(e)&&e.forEach((function(r,a){i.set(a,cr(r,t,n,a,e,g))}));var A=I?a:(s?c?oo:ao:c?Yi:Ji)(e);return kt(A||e,(function(r,a){A&&(r=e[a=r]),nr(i,a,cr(r,t,n,a,e,g))})),i}function sr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var o=n[r],g=t[o],i=e[o];if(i===a&&!(o in e)||!g(i))return!1}return!0}function Ir(e,t,n){if("function"!=typeof e)throw new Ve(o);return Jo((function(){e.apply(a,n)}),t)}function ur(e,t,n,r){var a=-1,o=wt,g=!0,i=e.length,l=[],c=t.length;if(!i)return l;n&&(t=Jt(t,Pt(n))),r?(o=Xt,g=!1):t.length>=200&&(o=$t,g=!1,t=new _n(t));e:for(;++a<i;){var s=e[a],I=null==n?s:n(s);if(s=r||0!==s?s:0,g&&I===I){for(var u=c;u--;)if(t[u]===I)continue e;l.push(s)}else o(t,I,r)||l.push(s)}return l}En.templateSettings={escape:q,evaluate:$,interpolate:ee,variable:"",imports:{_:En}},En.prototype=zn.prototype,En.prototype.constructor=En,jn.prototype=Dn(zn.prototype),jn.prototype.constructor=jn,Tn.prototype=Dn(zn.prototype),Tn.prototype.constructor=Tn,Ln.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===g?a:n}return xe.call(t,e)?t[e]:a},Ln.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==a:xe.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===a?g:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,!0)},Un.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?a:t[n][1]},Un.prototype.has=function(e){return rr(this.__data__,e)>-1},Un.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(Sn||Un),string:new Ln}},Qn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Qn.prototype.get=function(e){return so(this,e).get(e)},Qn.prototype.has=function(e){return so(this,e).has(e)},Qn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_n.prototype.add=_n.prototype.push=function(e){return this.__data__.set(e,g),this},_n.prototype.has=function(e){return this.__data__.has(e)},On.prototype.clear=function(){this.__data__=new Un,this.size=0},On.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},On.prototype.get=function(e){return this.__data__.get(e)},On.prototype.has=function(e){return this.__data__.has(e)},On.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qn(r)}return n.set(e,t),this.size=n.size,this};var Cr=Ya(yr),dr=Ya(Zr,!0);function Ar(e,t){var n=!0;return Cr(e,(function(e,r,a){return n=!!t(e,r,a)})),n}function hr(e,t,n){for(var r=-1,o=e.length;++r<o;){var g=e[r],i=t(g);if(null!=i&&(l===a?i===i&&!si(i):n(i,l)))var l=i,c=g}return c}function mr(e,t){var n=[];return Cr(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}function pr(e,t,n,r,a){var o=-1,g=e.length;for(n||(n=fo),a||(a=[]);++o<g;){var i=e[o];t>0&&n(i)?t>1?pr(i,t-1,n,r,a):Yt(a,i):r||(a[a.length]=i)}return a}var fr=xa(),br=xa(!0);function yr(e,t){return e&&fr(e,t,Ji)}function Zr(e,t){return e&&br(e,t,Ji)}function vr(e,t){return Rt(t,(function(t){return $g(e[t])}))}function Gr(e,t){for(var n=0,r=(t=ba(t,e)).length;null!=e&&n<r;)e=e[Ko(t[n++])];return n&&n==r?e:a}function Br(e,t,n){var r=t(e);return Lg(e)?r:Yt(r,n(e))}function Sr(e){return null==e?e===a?"[object Undefined]":"[object Null]":et&&et in Se(e)?function(e){var t=xe.call(e,et),n=e[et];try{e[et]=a;var r=!0}catch(g){}var o=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Fe.call(e)}(e)}function kr(e,t){return e>t}function Wr(e,t){return null!=e&&xe.call(e,t)}function Vr(e,t){return null!=e&&t in Se(e)}function Rr(e,t,r){for(var o=r?Xt:wt,g=e[0].length,i=e.length,l=i,c=n(i),s=1/0,I=[];l--;){var u=e[l];l&&t&&(u=Jt(u,Pt(t))),s=bn(u.length,s),c[l]=!r&&(t||g>=120&&u.length>=120)?new _n(l&&u):a}u=e[0];var C=-1,d=c[0];e:for(;++C<g&&I.length<s;){var A=u[C],h=t?t(A):A;if(A=r||0!==A?A:0,!(d?$t(d,h):o(I,h,r))){for(l=i;--l;){var m=c[l];if(!(m?$t(m,h):o(e[l],h,r)))continue e}d&&d.push(h),I.push(A)}}return I}function wr(e,t,n){var r=null==(e=Vo(e,t=ba(t,e)))?e:e[Ko(qo(t))];return null==r?a:Bt(r,e,n)}function Xr(e){return ri(e)&&Sr(e)==p}function Jr(e,t,n,r,o){return e===t||(null==e||null==t||!ri(e)&&!ri(t)?e!==e&&t!==t:function(e,t,n,r,o,g){var i=Lg(e),l=Lg(t),c=i?f:ho(e),s=l?f:ho(t),I=(c=c==p?k:c)==k,u=(s=s==p?k:s)==k,C=c==s;if(C&&Og(e)){if(!Og(t))return!1;i=!0,I=!1}if(C&&!I)return g||(g=new On),i||Ii(e)?no(e,t,n,r,o,g):function(e,t,n,r,a,o,g){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Y:return!(e.byteLength!=t.byteLength||!o(new je(e),new je(t)));case b:case y:case S:return Dg(+e,+t);case Z:return e.name==t.name&&e.message==t.message;case V:case w:return e==t+"";case B:var i=ln;case R:var l=1&r;if(i||(i=In),e.size!=t.size&&!l)return!1;var c=g.get(e);if(c)return c==t;r|=2,g.set(e,t);var s=no(i(e),i(t),r,a,o,g);return g.delete(e),s;case X:if(Kn)return Kn.call(e)==Kn.call(t)}return!1}(e,t,c,n,r,o,g);if(!(1&n)){var d=I&&xe.call(e,"__wrapped__"),A=u&&xe.call(t,"__wrapped__");if(d||A){var h=d?e.value():e,m=A?t.value():t;return g||(g=new On),o(h,m,n,r,g)}}if(!C)return!1;return g||(g=new On),function(e,t,n,r,o,g){var i=1&n,l=ao(e),c=l.length,s=ao(t).length;if(c!=s&&!i)return!1;var I=c;for(;I--;){var u=l[I];if(!(i?u in t:xe.call(t,u)))return!1}var C=g.get(e),d=g.get(t);if(C&&d)return C==t&&d==e;var A=!0;g.set(e,t),g.set(t,e);var h=i;for(;++I<c;){var m=e[u=l[I]],p=t[u];if(r)var f=i?r(p,m,u,t,e,g):r(m,p,u,e,t,g);if(!(f===a?m===p||o(m,p,n,r,g):f)){A=!1;break}h||(h="constructor"==u)}if(A&&!h){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(A=!1)}return g.delete(e),g.delete(t),A}(e,t,n,r,o,g)}(e,t,n,r,Jr,o))}function Yr(e,t,n,r){var o=n.length,g=o,i=!r;if(null==e)return!g;for(e=Se(e);o--;){var l=n[o];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<g;){var c=(l=n[o])[0],s=e[c],I=l[1];if(i&&l[2]){if(s===a&&!(c in e))return!1}else{var u=new On;if(r)var C=r(s,I,c,e,t,u);if(!(C===a?Jr(I,s,3,r,u):C))return!1}}return!0}function xr(e){return!(!ni(e)||(t=e,Ne&&Ne in t))&&($g(e)?Ee:pe).test(Mo(e));var t}function Hr(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?Lg(e)?Dr(e[0],e[1]):Er(e):dl(e)}function Nr(e){if(!Bo(e))return pn(e);var t=[];for(var n in Se(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ni(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Bo(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}function Kr(e,t){return e<t}function Mr(e,t){var r=-1,a=Qg(e)?n(e.length):[];return Cr(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}function Er(e){var t=Io(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Yr(n,e,t)}}function Dr(e,t){return Zo(e)&&So(t)?ko(Ko(e),t):function(n){var r=Wi(n,e);return r===a&&r===t?Vi(n,e):Jr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&fr(t,(function(g,i){if(o||(o=new On),ni(g))!function(e,t,n,r,o,g,i){var l=wo(e,n),c=wo(t,n),s=i.get(c);if(s)return void tr(e,n,s);var I=g?g(l,c,n+"",e,t,i):a,u=I===a;if(u){var C=Lg(c),d=!C&&Og(c),A=!C&&!d&&Ii(c);I=c,C||d||A?Lg(l)?I=l:_g(l)?I=Ra(l):d?(u=!1,I=Ga(c,!0)):A?(u=!1,I=Sa(c,!0)):I=[]:gi(c)||Tg(c)?(I=l,Tg(l)?I=fi(l):ni(l)&&!$g(l)||(I=po(c))):u=!1}u&&(i.set(c,I),o(I,c,r,g,i),i.delete(c));tr(e,n,I)}(e,t,i,n,zr,r,o);else{var l=r?r(wo(e,i),g,i+"",e,t,o):a;l===a&&(l=g),tr(e,i,l)}}),Yi)}function jr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:a}function Tr(e,t,n){t=t.length?Jt(t,(function(e){return Lg(e)?function(t){return Gr(t,1===e.length?e[0]:e)}:e})):[ol];var r=-1;t=Jt(t,Pt(co()));var a=Mr(e,(function(e,n,a){var o=Jt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(a,(function(e,t){return function(e,t,n){var r=-1,a=e.criteria,o=t.criteria,g=a.length,i=n.length;for(;++r<g;){var l=ka(a[r],o[r]);if(l)return r>=i?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Lr(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var g=t[r],i=Gr(e,g);n(i,g)&&ea(o,ba(g,e),i)}return o}function Ur(e,t,n,r){var a=r?Dt:Et,o=-1,g=t.length,i=e;for(e===t&&(t=Ra(t)),n&&(i=Jt(e,Pt(n)));++o<g;)for(var l=0,c=t[o],s=n?n(c):c;(l=a(i,s,l,r))>-1;)i!==e&&_e.call(i,l,1),_e.call(e,l,1);return e}function Qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==o){var o=a;bo(a)?_e.call(e,a,1):ua(e,a)}}return e}function _r(e,t){return e+At(vn()*(t-e+1))}function Or(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=At(t/2))&&(e+=e)}while(t);return n}function Pr(e,t){return Yo(Wo(e,t,ol),e+"")}function qr(e){return qn(Di(e))}function $r(e,t){var n=Di(e);return No(n,lr(t,0,n.length))}function ea(e,t,n,r){if(!ni(e))return e;for(var o=-1,g=(t=ba(t,e)).length,i=g-1,l=e;null!=l&&++o<g;){var c=Ko(t[o]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=i){var I=l[c];(s=r?r(I,c,l):a)===a&&(s=ni(I)?I:bo(t[o+1])?[]:{})}nr(l,c,s),l=l[c]}return e}var ta=wn?function(e,t){return wn.set(e,t),e}:ol,na=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nl(t),writable:!0})}:ol;function ra(e){return No(Di(e))}function aa(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var g=n(o);++a<o;)g[a]=e[a+t];return g}function oa(e,t){var n;return Cr(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}function ga(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t===t&&a<=2147483647){for(;r<a;){var o=r+a>>>1,g=e[o];null!==g&&!si(g)&&(n?g<=t:g<t)?r=o+1:a=o}return a}return ia(e,t,ol,n)}function ia(e,t,n,r){var o=0,g=null==e?0:e.length;if(0===g)return 0;for(var i=(t=n(t))!==t,l=null===t,c=si(t),s=t===a;o<g;){var I=At((o+g)/2),u=n(e[I]),C=u!==a,d=null===u,A=u===u,h=si(u);if(i)var m=r||A;else m=s?A&&(r||C):l?A&&C&&(r||!d):c?A&&C&&!d&&(r||!h):!d&&!h&&(r?u<=t:u<t);m?o=I+1:g=I}return bn(g,4294967294)}function la(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var g=e[n],i=t?t(g):g;if(!n||!Dg(i,l)){var l=i;o[a++]=0===g?0:g}}return o}function ca(e){return"number"==typeof e?e:si(e)?A:+e}function sa(e){if("string"==typeof e)return e;if(Lg(e))return Jt(e,sa)+"";if(si(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ia(e,t,n){var r=-1,a=wt,o=e.length,g=!0,i=[],l=i;if(n)g=!1,a=Xt;else if(o>=200){var c=t?null:Oa(e);if(c)return In(c);g=!1,a=$t,l=new _n}else l=t?[]:i;e:for(;++r<o;){var s=e[r],I=t?t(s):s;if(s=n||0!==s?s:0,g&&I===I){for(var u=l.length;u--;)if(l[u]===I)continue e;t&&l.push(I),i.push(s)}else a(l,I,n)||(l!==i&&l.push(I),i.push(s))}return i}function ua(e,t){return null==(e=Vo(e,t=ba(t,e)))||delete e[Ko(qo(t))]}function Ca(e,t,n,r){return ea(e,t,n(Gr(e,t)),r)}function da(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?aa(e,r?0:o,r?o+1:a):aa(e,r?o+1:0,r?a:o)}function Aa(e,t){var n=e;return n instanceof Tn&&(n=n.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,Yt([e],t.args))}),n)}function ha(e,t,r){var a=e.length;if(a<2)return a?Ia(e[0]):[];for(var o=-1,g=n(a);++o<a;)for(var i=e[o],l=-1;++l<a;)l!=o&&(g[o]=ur(g[o]||i,e[l],t,r));return Ia(pr(g,1),t,r)}function ma(e,t,n){for(var r=-1,o=e.length,g=t.length,i={};++r<o;){var l=r<g?t[r]:a;n(i,e[r],l)}return i}function pa(e){return _g(e)?e:[]}function fa(e){return"function"==typeof e?e:ol}function ba(e,t){return Lg(e)?e:Zo(e,t)?[e]:Fo(bi(e))}var ya=Pr;function Za(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:aa(e,t,n)}var va=lt||function(e){return Ct.clearTimeout(e)};function Ga(e,t){if(t)return e.slice();var n=e.length,r=Te?Te(n):new e.constructor(n);return e.copy(r),r}function Ba(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function Sa(e,t){var n=t?Ba(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ka(e,t){if(e!==t){var n=e!==a,r=null===e,o=e===e,g=si(e),i=t!==a,l=null===t,c=t===t,s=si(t);if(!l&&!s&&!g&&e>t||g&&i&&c&&!l&&!s||r&&i&&c||!n&&c||!o)return 1;if(!r&&!g&&!s&&e<t||s&&n&&o&&!r&&!g||l&&n&&o||!i&&o||!c)return-1}return 0}function Wa(e,t,r,a){for(var o=-1,g=e.length,i=r.length,l=-1,c=t.length,s=fn(g-i,0),I=n(c+s),u=!a;++l<c;)I[l]=t[l];for(;++o<i;)(u||o<g)&&(I[r[o]]=e[o]);for(;s--;)I[l++]=e[o++];return I}function Va(e,t,r,a){for(var o=-1,g=e.length,i=-1,l=r.length,c=-1,s=t.length,I=fn(g-l,0),u=n(I+s),C=!a;++o<I;)u[o]=e[o];for(var d=o;++c<s;)u[d+c]=t[c];for(;++i<l;)(C||o<g)&&(u[d+r[i]]=e[o++]);return u}function Ra(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function wa(e,t,n,r){var o=!n;n||(n={});for(var g=-1,i=t.length;++g<i;){var l=t[g],c=r?r(n[l],e[l],l,n,e):a;c===a&&(c=e[l]),o?gr(n,l,c):nr(n,l,c)}return n}function Xa(e,t){return function(n,r){var a=Lg(n)?St:ar,o=t?t():{};return a(n,e,co(r,2),o)}}function Ja(e){return Pr((function(t,n){var r=-1,o=n.length,g=o>1?n[o-1]:a,i=o>2?n[2]:a;for(g=e.length>3&&"function"==typeof g?(o--,g):a,i&&yo(n[0],n[1],i)&&(g=o<3?a:g,o=1),t=Se(t);++r<o;){var l=n[r];l&&e(t,l,r,g)}return t}))}function Ya(e,t){return function(n,r){if(null==n)return n;if(!Qg(n))return e(n,r);for(var a=n.length,o=t?a:-1,g=Se(n);(t?o--:++o<a)&&!1!==r(g[o],o,g););return n}}function xa(e){return function(t,n,r){for(var a=-1,o=Se(t),g=r(t),i=g.length;i--;){var l=g[e?i:++a];if(!1===n(o[l],l,o))break}return t}}function Ha(e){return function(t){var n=gn(t=bi(t))?dn(t):a,r=n?n[0]:t.charAt(0),o=n?Za(n,1).join(""):t.slice(1);return r[e]()+o}}function Na(e){return function(t){return xt($i(Ti(t).replace(qe,"")),e,"")}}function Fa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Dn(e.prototype),r=e.apply(n,t);return ni(r)?r:n}}function Ka(e){return function(t,n,r){var o=Se(t);if(!Qg(t)){var g=co(n,3);t=Ji(t),n=function(e){return g(o[e],e,o)}}var i=e(t,n,r);return i>-1?o[g?t[i]:i]:a}}function Ma(e){return ro((function(t){var n=t.length,r=n,g=jn.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new Ve(o);if(g&&!l&&"wrapper"==io(i))var l=new jn([],!0)}for(r=l?r:n;++r<n;){var c=io(i=t[r]),s="wrapper"==c?go(i):a;l=s&&vo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?l[io(s[0])].apply(l,s[3]):1==i.length&&vo(i)?l[c]():l.thru(i)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Lg(r))return l.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}}))}function Ea(e,t,r,o,g,i,l,c,s,u){var C=t&I,d=1&t,A=2&t,h=24&t,m=512&t,p=A?a:Fa(e);return function a(){for(var I=arguments.length,f=n(I),b=I;b--;)f[b]=arguments[b];if(h)var y=lo(a),Z=nn(f,y);if(o&&(f=Wa(f,o,g,h)),i&&(f=Va(f,i,l,h)),I-=Z,h&&I<u){var v=sn(f,y);return Qa(e,t,Ea,a.placeholder,r,f,v,c,s,u-I)}var G=d?r:this,B=A?G[e]:e;return I=f.length,c?f=Ro(f,c):m&&I>1&&f.reverse(),C&&s<I&&(f.length=s),this&&this!==Ct&&this instanceof a&&(B=p||Fa(B)),B.apply(G,f)}}function Da(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,a,o){t(r,n(e),a,o)})),r}(n,e,t(r),{})}}function za(e,t){return function(n,r){var o;if(n===a&&r===a)return t;if(n!==a&&(o=n),r!==a){if(o===a)return r;"string"==typeof n||"string"==typeof r?(n=sa(n),r=sa(r)):(n=ca(n),r=ca(r)),o=e(n,r)}return o}}function ja(e){return ro((function(t){return t=Jt(t,Pt(co())),Pr((function(n){var r=this;return e(t,(function(e){return Bt(e,r,n)}))}))}))}function Ta(e,t){var n=(t=t===a?" ":sa(t)).length;if(n<2)return n?Or(t,e):t;var r=Or(t,dt(e/Cn(t)));return gn(t)?Za(dn(r),0,e).join(""):r.slice(0,e)}function La(e){return function(t,r,o){return o&&"number"!=typeof o&&yo(t,r,o)&&(r=o=a),t=Ai(t),r===a?(r=t,t=0):r=Ai(r),function(e,t,r,a){for(var o=-1,g=fn(dt((t-e)/(r||1)),0),i=n(g);g--;)i[a?g:++o]=e,e+=r;return i}(t,r,o=o===a?t<r?1:-1:Ai(o),e)}}function Ua(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=pi(t),n=pi(n)),e(t,n)}}function Qa(e,t,n,r,o,g,i,l,I,u){var C=8&t;t|=C?c:s,4&(t&=~(C?s:c))||(t&=-4);var d=[e,t,o,C?g:a,C?i:a,C?a:g,C?a:i,l,I,u],A=n.apply(a,d);return vo(e)&&Xo(A,d),A.placeholder=r,xo(A,e,t)}function _a(e){var t=Be[e];return function(e,n){if(e=pi(e),(n=null==n?0:bn(hi(n),292))&&Ft(e)){var r=(bi(e)+"e").split("e");return+((r=(bi(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Oa=Wn&&1/In(new Wn([,-0]))[1]==C?function(e){return new Wn(e)}:sl;function Pa(e){return function(t){var n=ho(t);return n==B?ln(t):n==R?un(t):function(e,t){return Jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qa(e,t,r,g,C,d,A,h){var m=2&t;if(!m&&"function"!=typeof e)throw new Ve(o);var p=g?g.length:0;if(p||(t&=-97,g=C=a),A=A===a?A:fn(hi(A),0),h=h===a?h:hi(h),p-=C?C.length:0,t&s){var f=g,b=C;g=C=a}var y=m?a:go(e),Z=[e,t,r,g,C,f,b,d,A,h];if(y&&function(e,t){var n=e[1],r=t[1],a=n|r,o=a<131,g=r==I&&8==n||r==I&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!g)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Wa(c,l,t[4]):l,e[4]=c?sn(e[3],i):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Va(c,l,t[6]):l,e[6]=c?sn(e[5],i):t[6]);(l=t[7])&&(e[7]=l);r&I&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(Z,y),e=Z[0],t=Z[1],r=Z[2],g=Z[3],C=Z[4],!(h=Z[9]=Z[9]===a?m?0:e.length:fn(Z[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||t==l?function(e,t,r){var o=Fa(e);return function g(){for(var i=arguments.length,l=n(i),c=i,s=lo(g);c--;)l[c]=arguments[c];var I=i<3&&l[0]!==s&&l[i-1]!==s?[]:sn(l,s);return(i-=I.length)<r?Qa(e,t,Ea,g.placeholder,a,l,I,a,a,r-i):Bt(this&&this!==Ct&&this instanceof g?o:e,this,l)}}(e,t,h):t!=c&&33!=t||C.length?Ea.apply(a,Z):function(e,t,r,a){var o=1&t,g=Fa(e);return function t(){for(var i=-1,l=arguments.length,c=-1,s=a.length,I=n(s+l),u=this&&this!==Ct&&this instanceof t?g:e;++c<s;)I[c]=a[c];for(;l--;)I[c++]=arguments[++i];return Bt(u,o?r:this,I)}}(e,t,r,g);else var v=function(e,t,n){var r=1&t,a=Fa(e);return function t(){return(this&&this!==Ct&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,r);return xo((y?ta:Xo)(v,Z),e,t)}function $a(e,t,n,r){return e===a||Dg(e,Xe[n])&&!xe.call(r,n)?t:e}function eo(e,t,n,r,o,g){return ni(e)&&ni(t)&&(g.set(t,e),zr(e,t,a,eo,g),g.delete(t)),e}function to(e){return gi(e)?a:e}function no(e,t,n,r,o,g){var i=1&n,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var s=g.get(e),I=g.get(t);if(s&&I)return s==t&&I==e;var u=-1,C=!0,d=2&n?new _n:a;for(g.set(e,t),g.set(t,e);++u<l;){var A=e[u],h=t[u];if(r)var m=i?r(h,A,u,t,e,g):r(A,h,u,e,t,g);if(m!==a){if(m)continue;C=!1;break}if(d){if(!Nt(t,(function(e,t){if(!$t(d,t)&&(A===e||o(A,e,n,r,g)))return d.push(t)}))){C=!1;break}}else if(A!==h&&!o(A,h,n,r,g)){C=!1;break}}return g.delete(e),g.delete(t),C}function ro(e){return Yo(Wo(e,a,Uo),e+"")}function ao(e){return Br(e,Ji,Co)}function oo(e){return Br(e,Yi,Ao)}var go=wn?function(e){return wn.get(e)}:sl;function io(e){for(var t=e.name+"",n=Xn[t],r=xe.call(Xn,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function lo(e){return(xe.call(En,"placeholder")?En:e).placeholder}function co(){var e=En.iteratee||gl;return e=e===gl?Hr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Io(e){for(var t=Ji(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,So(a)]}return t}function uo(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return xr(n)?n:a}var Co=mt?function(e){return null==e?[]:(e=Se(e),Rt(mt(e),(function(t){return Qe.call(e,t)})))}:ml,Ao=mt?function(e){for(var t=[];e;)Yt(t,Co(e)),e=Le(e);return t}:ml,ho=Sr;function mo(e,t,n){for(var r=-1,a=(t=ba(t,e)).length,o=!1;++r<a;){var g=Ko(t[r]);if(!(o=null!=e&&n(e,g)))break;e=e[g]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&ti(a)&&bo(g,a)&&(Lg(e)||Tg(e))}function po(e){return"function"!=typeof e.constructor||Bo(e)?{}:Dn(Le(e))}function fo(e){return Lg(e)||Tg(e)||!!(Oe&&e&&e[Oe])}function bo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!ni(n))return!1;var r=typeof t;return!!("number"==r?Qg(n)&&bo(t,n.length):"string"==r&&t in n)&&Dg(n[t],e)}function Zo(e,t){if(Lg(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!si(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Se(t))}function vo(e){var t=io(e),n=En[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var r=go(n);return!!r&&e===r[0]}(Bn&&ho(new Bn(new ArrayBuffer(1)))!=x||Sn&&ho(new Sn)!=B||kn&&ho(kn.resolve())!=W||Wn&&ho(new Wn)!=R||Vn&&ho(new Vn)!=J)&&(ho=function(e){var t=Sr(e),n=t==k?e.constructor:a,r=n?Mo(n):"";if(r)switch(r){case Jn:return x;case Yn:return B;case xn:return W;case Hn:return R;case Nn:return J}return t});var Go=Je?$g:pl;function Bo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Xe)}function So(e){return e===e&&!ni(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in Se(n)))}}function Wo(e,t,r){return t=fn(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,g=fn(a.length-t,0),i=n(g);++o<g;)i[o]=a[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=a[o];return l[t]=r(i),Bt(e,this,l)}}function Vo(e,t){return t.length<2?e:Gr(e,aa(t,0,-1))}function Ro(e,t){for(var n=e.length,r=bn(t.length,n),o=Ra(e);r--;){var g=t[r];e[r]=bo(g,n)?o[g]:a}return e}function wo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Xo=Ho(ta),Jo=ut||function(e,t){return Ct.setTimeout(e,t)},Yo=Ho(na);function xo(e,t,n){var r=t+"";return Yo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(m,(function(n){var r="_."+n[0];t&n[1]&&!wt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(se):[]}(r),n)))}function Ho(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function No(e,t){var n=-1,r=e.length,o=r-1;for(t=t===a?r:t;++n<t;){var g=_r(n,o),i=e[g];e[g]=e[n],e[n]=i}return e.length=t,e}var Fo=function(e){var t=Hg(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,a){t.push(r?a.replace(Ce,"$1"):n||e)})),t}));function Ko(e){if("string"==typeof e||si(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Ye.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Eo(e){if(e instanceof Tn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=Ra(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Do=Pr((function(e,t){return _g(e)?ur(e,pr(t,1,_g,!0)):[]})),zo=Pr((function(e,t){var n=qo(t);return _g(n)&&(n=a),_g(e)?ur(e,pr(t,1,_g,!0),co(n,2)):[]})),jo=Pr((function(e,t){var n=qo(t);return _g(n)&&(n=a),_g(e)?ur(e,pr(t,1,_g,!0),a,n):[]}));function To(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:hi(n);return a<0&&(a=fn(r+a,0)),Mt(e,co(t,3),a)}function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==a&&(o=hi(n),o=n<0?fn(r+o,0):bn(o,r-1)),Mt(e,co(t,3),o,!0)}function Uo(e){return(null==e?0:e.length)?pr(e,1):[]}function Qo(e){return e&&e.length?e[0]:a}var _o=Pr((function(e){var t=Jt(e,pa);return t.length&&t[0]===e[0]?Rr(t):[]})),Oo=Pr((function(e){var t=qo(e),n=Jt(e,pa);return t===qo(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Rr(n,co(t,2)):[]})),Po=Pr((function(e){var t=qo(e),n=Jt(e,pa);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,a,t):[]}));function qo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var $o=Pr(eg);function eg(e,t){return e&&e.length&&t&&t.length?Ur(e,t):e}var tg=ro((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Qr(e,Jt(t,(function(e){return bo(e,n)?+e:e})).sort(ka)),r}));function ng(e){return null==e?e:Gn.call(e)}var rg=Pr((function(e){return Ia(pr(e,1,_g,!0))})),ag=Pr((function(e){var t=qo(e);return _g(t)&&(t=a),Ia(pr(e,1,_g,!0),co(t,2))})),og=Pr((function(e){var t=qo(e);return t="function"==typeof t?t:a,Ia(pr(e,1,_g,!0),a,t)}));function gg(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(_g(e))return t=fn(e.length,t),!0})),_t(t,(function(t){return Jt(e,Tt(t))}))}function ig(e,t){if(!e||!e.length)return[];var n=gg(e);return null==t?n:Jt(n,(function(e){return Bt(t,a,e)}))}var lg=Pr((function(e,t){return _g(e)?ur(e,t):[]})),cg=Pr((function(e){return ha(Rt(e,_g))})),sg=Pr((function(e){var t=qo(e);return _g(t)&&(t=a),ha(Rt(e,_g),co(t,2))})),Ig=Pr((function(e){var t=qo(e);return t="function"==typeof t?t:a,ha(Rt(e,_g),a,t)})),ug=Pr(gg);var Cg=Pr((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,ig(e,n)}));function dg(e){var t=En(e);return t.__chain__=!0,t}function Ag(e,t){return t(e)}var hg=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Tn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Ag,args:[o],thisArg:a}),new jn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var mg=Xa((function(e,t,n){xe.call(e,n)?++e[n]:gr(e,n,1)}));var pg=Ka(To),fg=Ka(Lo);function bg(e,t){return(Lg(e)?kt:Cr)(e,co(t,3))}function yg(e,t){return(Lg(e)?Wt:dr)(e,co(t,3))}var Zg=Xa((function(e,t,n){xe.call(e,n)?e[n].push(t):gr(e,n,[t])}));var vg=Pr((function(e,t,r){var a=-1,o="function"==typeof t,g=Qg(e)?n(e.length):[];return Cr(e,(function(e){g[++a]=o?Bt(t,e,r):wr(e,t,r)})),g})),Gg=Xa((function(e,t,n){gr(e,n,t)}));function Bg(e,t){return(Lg(e)?Jt:Mr)(e,co(t,3))}var Sg=Xa((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var kg=Pr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Tr(e,pr(t,1),[])})),Wg=It||function(){return Ct.Date.now()};function Vg(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,qa(e,I,a,a,a,a,t)}function Rg(e,t){var n;if("function"!=typeof t)throw new Ve(o);return e=hi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var wg=Pr((function(e,t,n){var r=1;if(n.length){var a=sn(n,lo(wg));r|=c}return qa(e,r,t,n,a)})),Xg=Pr((function(e,t,n){var r=3;if(n.length){var a=sn(n,lo(Xg));r|=c}return qa(t,r,e,n,a)}));function Jg(e,t,n){var r,g,i,l,c,s,I=0,u=!1,C=!1,d=!0;if("function"!=typeof e)throw new Ve(o);function A(t){var n=r,o=g;return r=g=a,I=t,l=e.apply(o,n)}function h(e){return I=e,c=Jo(p,t),u?A(e):l}function m(e){var n=e-s;return s===a||n>=t||n<0||C&&e-I>=i}function p(){var e=Wg();if(m(e))return f(e);c=Jo(p,function(e){var n=t-(e-s);return C?bn(n,i-(e-I)):n}(e))}function f(e){return c=a,d&&r?A(e):(r=g=a,l)}function b(){var e=Wg(),n=m(e);if(r=arguments,g=this,s=e,n){if(c===a)return h(s);if(C)return va(c),c=Jo(p,t),A(s)}return c===a&&(c=Jo(p,t)),l}return t=pi(t)||0,ni(n)&&(u=!!n.leading,i=(C="maxWait"in n)?fn(pi(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),b.cancel=function(){c!==a&&va(c),I=0,r=s=g=c=a},b.flush=function(){return c===a?l:f(Wg())},b}var Yg=Pr((function(e,t){return Ir(e,1,t)})),xg=Pr((function(e,t,n){return Ir(e,pi(t)||0,n)}));function Hg(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ve(o);var n=function n(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var g=e.apply(this,r);return n.cache=o.set(a,g)||o,g};return n.cache=new(Hg.Cache||Qn),n}function Ng(e){if("function"!=typeof e)throw new Ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Hg.Cache=Qn;var Fg=ya((function(e,t){var n=(t=1==t.length&&Lg(t[0])?Jt(t[0],Pt(co())):Jt(pr(t,1),Pt(co()))).length;return Pr((function(r){for(var a=-1,o=bn(r.length,n);++a<o;)r[a]=t[a].call(this,r[a]);return Bt(e,this,r)}))})),Kg=Pr((function(e,t){var n=sn(t,lo(Kg));return qa(e,c,a,t,n)})),Mg=Pr((function(e,t){var n=sn(t,lo(Mg));return qa(e,s,a,t,n)})),Eg=ro((function(e,t){return qa(e,u,a,a,a,t)}));function Dg(e,t){return e===t||e!==e&&t!==t}var zg=Ua(kr),jg=Ua((function(e,t){return e>=t})),Tg=Xr(function(){return arguments}())?Xr:function(e){return ri(e)&&xe.call(e,"callee")&&!Qe.call(e,"callee")},Lg=n.isArray,Ug=ft?Pt(ft):function(e){return ri(e)&&Sr(e)==Y};function Qg(e){return null!=e&&ti(e.length)&&!$g(e)}function _g(e){return ri(e)&&Qg(e)}var Og=pt||pl,Pg=bt?Pt(bt):function(e){return ri(e)&&Sr(e)==y};function qg(e){if(!ri(e))return!1;var t=Sr(e);return t==Z||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!gi(e)}function $g(e){if(!ni(e))return!1;var t=Sr(e);return t==v||t==G||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ei(e){return"number"==typeof e&&e==hi(e)}function ti(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ni(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ri(e){return null!=e&&"object"==typeof e}var ai=yt?Pt(yt):function(e){return ri(e)&&ho(e)==B};function oi(e){return"number"==typeof e||ri(e)&&Sr(e)==S}function gi(e){if(!ri(e)||Sr(e)!=k)return!1;var t=Le(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ye.call(n)==Ke}var ii=Zt?Pt(Zt):function(e){return ri(e)&&Sr(e)==V};var li=vt?Pt(vt):function(e){return ri(e)&&ho(e)==R};function ci(e){return"string"==typeof e||!Lg(e)&&ri(e)&&Sr(e)==w}function si(e){return"symbol"==typeof e||ri(e)&&Sr(e)==X}var Ii=Gt?Pt(Gt):function(e){return ri(e)&&ti(e.length)&&!!gt[Sr(e)]};var ui=Ua(Kr),Ci=Ua((function(e,t){return e<=t}));function di(e){if(!e)return[];if(Qg(e))return ci(e)?dn(e):Ra(e);if(Pe&&e[Pe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Pe]());var t=ho(e);return(t==B?ln:t==R?In:Di)(e)}function Ai(e){return e?(e=pi(e))===C||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function hi(e){var t=Ai(e),n=t%1;return t===t?n?t-n:t:0}function mi(e){return e?lr(hi(e),0,h):0}function pi(e){if("number"==typeof e)return e;if(si(e))return A;if(ni(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ni(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ot(e);var n=me.test(e);return n||fe.test(e)?st(e.slice(2),n?2:8):he.test(e)?A:+e}function fi(e){return wa(e,Yi(e))}function bi(e){return null==e?"":sa(e)}var yi=Ja((function(e,t){if(Bo(t)||Qg(t))wa(t,Ji(t),e);else for(var n in t)xe.call(t,n)&&nr(e,n,t[n])})),Zi=Ja((function(e,t){wa(t,Yi(t),e)})),vi=Ja((function(e,t,n,r){wa(t,Yi(t),e,r)})),Gi=Ja((function(e,t,n,r){wa(t,Ji(t),e,r)})),Bi=ro(ir);var Si=Pr((function(e,t){e=Se(e);var n=-1,r=t.length,o=r>2?t[2]:a;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var g=t[n],i=Yi(g),l=-1,c=i.length;++l<c;){var s=i[l],I=e[s];(I===a||Dg(I,Xe[s])&&!xe.call(e,s))&&(e[s]=g[s])}return e})),ki=Pr((function(e){return e.push(a,eo),Bt(Hi,a,e)}));function Wi(e,t,n){var r=null==e?a:Gr(e,t);return r===a?n:r}function Vi(e,t){return null!=e&&mo(e,t,Vr)}var Ri=Da((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nl(ol)),wi=Da((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]}),co),Xi=Pr(wr);function Ji(e){return Qg(e)?Pn(e):Nr(e)}function Yi(e){return Qg(e)?Pn(e,!0):Fr(e)}var xi=Ja((function(e,t,n){zr(e,t,n)})),Hi=Ja((function(e,t,n,r){zr(e,t,n,r)})),Ni=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Jt(t,(function(t){return t=ba(t,e),r||(r=t.length>1),t})),wa(e,oo(e),n),r&&(n=cr(n,7,to));for(var a=t.length;a--;)ua(n,t[a]);return n}));var Fi=ro((function(e,t){return null==e?{}:function(e,t){return Lr(e,t,(function(t,n){return Vi(e,n)}))}(e,t)}));function Ki(e,t){if(null==e)return{};var n=Jt(oo(e),(function(e){return[e]}));return t=co(t),Lr(e,n,(function(e,n){return t(e,n[0])}))}var Mi=Pa(Ji),Ei=Pa(Yi);function Di(e){return null==e?[]:qt(e,Ji(e))}var zi=Na((function(e,t,n){return t=t.toLowerCase(),e+(n?ji(t):t)}));function ji(e){return qi(bi(e).toLowerCase())}function Ti(e){return(e=bi(e))&&e.replace(ye,rn).replace($e,"")}var Li=Na((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ui=Na((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Qi=Ha("toLowerCase");var _i=Na((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Oi=Na((function(e,t,n){return e+(n?" ":"")+qi(t)}));var Pi=Na((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qi=Ha("toUpperCase");function $i(e,t,n){return e=bi(e),(t=n?a:t)===a?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(Ie)||[]}(e):e.match(t)||[]}var el=Pr((function(e,t){try{return Bt(e,a,t)}catch(n){return qg(n)?n:new ie(n)}})),tl=ro((function(e,t){return kt(t,(function(t){t=Ko(t),gr(e,t,wg(e[t],e))})),e}));function nl(e){return function(){return e}}var rl=Ma(),al=Ma(!0);function ol(e){return e}function gl(e){return Hr("function"==typeof e?e:cr(e,1))}var il=Pr((function(e,t){return function(n){return wr(n,e,t)}})),ll=Pr((function(e,t){return function(n){return wr(e,n,t)}}));function cl(e,t,n){var r=Ji(t),a=vr(t,r);null!=n||ni(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=vr(t,Ji(t)));var o=!(ni(n)&&"chain"in n)||!!n.chain,g=$g(e);return kt(a,(function(n){var r=t[n];e[n]=r,g&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),a=n.__actions__=Ra(this.__actions__);return a.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Yt([this.value()],arguments))})})),e}function sl(){}var Il=ja(Jt),ul=ja(Vt),Cl=ja(Nt);function dl(e){return Zo(e)?Tt(Ko(e)):function(e){return function(t){return Gr(t,e)}}(e)}var Al=La(),hl=La(!0);function ml(){return[]}function pl(){return!1}var fl=za((function(e,t){return e+t}),0),bl=_a("ceil"),yl=za((function(e,t){return e/t}),1),Zl=_a("floor");var vl=za((function(e,t){return e*t}),1),Gl=_a("round"),Bl=za((function(e,t){return e-t}),0);return En.after=function(e,t){if("function"!=typeof t)throw new Ve(o);return e=hi(e),function(){if(--e<1)return t.apply(this,arguments)}},En.ary=Vg,En.assign=yi,En.assignIn=Zi,En.assignInWith=vi,En.assignWith=Gi,En.at=Bi,En.before=Rg,En.bind=wg,En.bindAll=tl,En.bindKey=Xg,En.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Lg(e)?e:[e]},En.chain=dg,En.chunk=function(e,t,r){t=(r?yo(e,t,r):t===a)?1:fn(hi(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var g=0,i=0,l=n(dt(o/t));g<o;)l[i++]=aa(e,g,g+=t);return l},En.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},En.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Yt(Lg(r)?Ra(r):[r],pr(t,1))},En.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Jt(e,(function(e){if("function"!=typeof e[1])throw new Ve(o);return[n(e[0]),e[1]]})):[],Pr((function(n){for(var r=-1;++r<t;){var a=e[r];if(Bt(a[0],this,n))return Bt(a[1],this,n)}}))},En.conforms=function(e){return function(e){var t=Ji(e);return function(n){return sr(n,e,t)}}(cr(e,1))},En.constant=nl,En.countBy=mg,En.create=function(e,t){var n=Dn(e);return null==t?n:or(n,t)},En.curry=function e(t,n,r){var o=qa(t,8,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},En.curryRight=function e(t,n,r){var o=qa(t,l,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},En.debounce=Jg,En.defaults=Si,En.defaultsDeep=ki,En.defer=Yg,En.delay=xg,En.difference=Do,En.differenceBy=zo,En.differenceWith=jo,En.drop=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=n||t===a?1:hi(t))<0?0:t,r):[]},En.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,0,(t=r-(t=n||t===a?1:hi(t)))<0?0:t):[]},En.dropRightWhile=function(e,t){return e&&e.length?da(e,co(t,3),!0,!0):[]},En.dropWhile=function(e,t){return e&&e.length?da(e,co(t,3),!0):[]},En.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=hi(n))<0&&(n=-n>o?0:o+n),(r=r===a||r>o?o:hi(r))<0&&(r+=o),r=n>r?0:mi(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},En.filter=function(e,t){return(Lg(e)?Rt:mr)(e,co(t,3))},En.flatMap=function(e,t){return pr(Bg(e,t),1)},En.flatMapDeep=function(e,t){return pr(Bg(e,t),C)},En.flatMapDepth=function(e,t,n){return n=n===a?1:hi(n),pr(Bg(e,t),n)},En.flatten=Uo,En.flattenDeep=function(e){return(null==e?0:e.length)?pr(e,C):[]},En.flattenDepth=function(e,t){return(null==e?0:e.length)?pr(e,t=t===a?1:hi(t)):[]},En.flip=function(e){return qa(e,512)},En.flow=rl,En.flowRight=al,En.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},En.functions=function(e){return null==e?[]:vr(e,Ji(e))},En.functionsIn=function(e){return null==e?[]:vr(e,Yi(e))},En.groupBy=Zg,En.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},En.intersection=_o,En.intersectionBy=Oo,En.intersectionWith=Po,En.invert=Ri,En.invertBy=wi,En.invokeMap=vg,En.iteratee=gl,En.keyBy=Gg,En.keys=Ji,En.keysIn=Yi,En.map=Bg,En.mapKeys=function(e,t){var n={};return t=co(t,3),yr(e,(function(e,r,a){gr(n,t(e,r,a),e)})),n},En.mapValues=function(e,t){var n={};return t=co(t,3),yr(e,(function(e,r,a){gr(n,r,t(e,r,a))})),n},En.matches=function(e){return Er(cr(e,1))},En.matchesProperty=function(e,t){return Dr(e,cr(t,1))},En.memoize=Hg,En.merge=xi,En.mergeWith=Hi,En.method=il,En.methodOf=ll,En.mixin=cl,En.negate=Ng,En.nthArg=function(e){return e=hi(e),Pr((function(t){return jr(t,e)}))},En.omit=Ni,En.omitBy=function(e,t){return Ki(e,Ng(co(t)))},En.once=function(e){return Rg(2,e)},En.orderBy=function(e,t,n,r){return null==e?[]:(Lg(t)||(t=null==t?[]:[t]),Lg(n=r?a:n)||(n=null==n?[]:[n]),Tr(e,t,n))},En.over=Il,En.overArgs=Fg,En.overEvery=ul,En.overSome=Cl,En.partial=Kg,En.partialRight=Mg,En.partition=Sg,En.pick=Fi,En.pickBy=Ki,En.property=dl,En.propertyOf=function(e){return function(t){return null==e?a:Gr(e,t)}},En.pull=$o,En.pullAll=eg,En.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,co(n,2)):e},En.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ur(e,t,a,n):e},En.pullAt=tg,En.range=Al,En.rangeRight=hl,En.rearg=Eg,En.reject=function(e,t){return(Lg(e)?Rt:mr)(e,Ng(co(t,3)))},En.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=co(t,3);++r<o;){var g=e[r];t(g,r,e)&&(n.push(g),a.push(r))}return Qr(e,a),n},En.rest=function(e,t){if("function"!=typeof e)throw new Ve(o);return Pr(e,t=t===a?t:hi(t))},En.reverse=ng,En.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===a)?1:hi(t),(Lg(e)?$n:$r)(e,t)},En.set=function(e,t,n){return null==e?e:ea(e,t,n)},En.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:ea(e,t,n,r)},En.shuffle=function(e){return(Lg(e)?er:ra)(e)},En.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:hi(t),n=n===a?r:hi(n)),aa(e,t,n)):[]},En.sortBy=kg,En.sortedUniq=function(e){return e&&e.length?la(e):[]},En.sortedUniqBy=function(e,t){return e&&e.length?la(e,co(t,2)):[]},En.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=a),(n=n===a?h:n>>>0)?(e=bi(e))&&("string"==typeof t||null!=t&&!ii(t))&&!(t=sa(t))&&gn(e)?Za(dn(e),0,n):e.split(t,n):[]},En.spread=function(e,t){if("function"!=typeof e)throw new Ve(o);return t=null==t?0:fn(hi(t),0),Pr((function(n){var r=n[t],a=Za(n,0,t);return r&&Yt(a,r),Bt(e,this,a)}))},En.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},En.take=function(e,t,n){return e&&e.length?aa(e,0,(t=n||t===a?1:hi(t))<0?0:t):[]},En.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?aa(e,(t=r-(t=n||t===a?1:hi(t)))<0?0:t,r):[]},En.takeRightWhile=function(e,t){return e&&e.length?da(e,co(t,3),!1,!0):[]},En.takeWhile=function(e,t){return e&&e.length?da(e,co(t,3)):[]},En.tap=function(e,t){return t(e),e},En.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new Ve(o);return ni(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Jg(e,t,{leading:r,maxWait:t,trailing:a})},En.thru=Ag,En.toArray=di,En.toPairs=Mi,En.toPairsIn=Ei,En.toPath=function(e){return Lg(e)?Jt(e,Ko):si(e)?[e]:Ra(Fo(bi(e)))},En.toPlainObject=fi,En.transform=function(e,t,n){var r=Lg(e),a=r||Og(e)||Ii(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=a?r?new o:[]:ni(e)&&$g(o)?Dn(Le(e)):{}}return(a?kt:yr)(e,(function(e,r,a){return t(n,e,r,a)})),n},En.unary=function(e){return Vg(e,1)},En.union=rg,En.unionBy=ag,En.unionWith=og,En.uniq=function(e){return e&&e.length?Ia(e):[]},En.uniqBy=function(e,t){return e&&e.length?Ia(e,co(t,2)):[]},En.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?Ia(e,a,t):[]},En.unset=function(e,t){return null==e||ua(e,t)},En.unzip=gg,En.unzipWith=ig,En.update=function(e,t,n){return null==e?e:Ca(e,t,fa(n))},En.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:Ca(e,t,fa(n),r)},En.values=Di,En.valuesIn=function(e){return null==e?[]:qt(e,Yi(e))},En.without=lg,En.words=$i,En.wrap=function(e,t){return Kg(fa(t),e)},En.xor=cg,En.xorBy=sg,En.xorWith=Ig,En.zip=ug,En.zipObject=function(e,t){return ma(e||[],t||[],nr)},En.zipObjectDeep=function(e,t){return ma(e||[],t||[],ea)},En.zipWith=Cg,En.entries=Mi,En.entriesIn=Ei,En.extend=Zi,En.extendWith=vi,cl(En,En),En.add=fl,En.attempt=el,En.camelCase=zi,En.capitalize=ji,En.ceil=bl,En.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=pi(n))===n?n:0),t!==a&&(t=(t=pi(t))===t?t:0),lr(pi(e),t,n)},En.clone=function(e){return cr(e,4)},En.cloneDeep=function(e){return cr(e,5)},En.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:a)},En.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:a)},En.conformsTo=function(e,t){return null==t||sr(e,t,Ji(t))},En.deburr=Ti,En.defaultTo=function(e,t){return null==e||e!==e?t:e},En.divide=yl,En.endsWith=function(e,t,n){e=bi(e),t=sa(t);var r=e.length,o=n=n===a?r:lr(hi(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},En.eq=Dg,En.escape=function(e){return(e=bi(e))&&P.test(e)?e.replace(_,an):e},En.escapeRegExp=function(e){return(e=bi(e))&&oe.test(e)?e.replace(ae,"\\$&"):e},En.every=function(e,t,n){var r=Lg(e)?Vt:Ar;return n&&yo(e,t,n)&&(t=a),r(e,co(t,3))},En.find=pg,En.findIndex=To,En.findKey=function(e,t){return Kt(e,co(t,3),yr)},En.findLast=fg,En.findLastIndex=Lo,En.findLastKey=function(e,t){return Kt(e,co(t,3),Zr)},En.floor=Zl,En.forEach=bg,En.forEachRight=yg,En.forIn=function(e,t){return null==e?e:fr(e,co(t,3),Yi)},En.forInRight=function(e,t){return null==e?e:br(e,co(t,3),Yi)},En.forOwn=function(e,t){return e&&yr(e,co(t,3))},En.forOwnRight=function(e,t){return e&&Zr(e,co(t,3))},En.get=Wi,En.gt=zg,En.gte=jg,En.has=function(e,t){return null!=e&&mo(e,t,Wr)},En.hasIn=Vi,En.head=Qo,En.identity=ol,En.includes=function(e,t,n,r){e=Qg(e)?e:Di(e),n=n&&!r?hi(n):0;var a=e.length;return n<0&&(n=fn(a+n,0)),ci(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Et(e,t,n)>-1},En.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:hi(n);return a<0&&(a=fn(r+a,0)),Et(e,t,a)},En.inRange=function(e,t,n){return t=Ai(t),n===a?(n=t,t=0):n=Ai(n),function(e,t,n){return e>=bn(t,n)&&e<fn(t,n)}(e=pi(e),t,n)},En.invoke=Xi,En.isArguments=Tg,En.isArray=Lg,En.isArrayBuffer=Ug,En.isArrayLike=Qg,En.isArrayLikeObject=_g,En.isBoolean=function(e){return!0===e||!1===e||ri(e)&&Sr(e)==b},En.isBuffer=Og,En.isDate=Pg,En.isElement=function(e){return ri(e)&&1===e.nodeType&&!gi(e)},En.isEmpty=function(e){if(null==e)return!0;if(Qg(e)&&(Lg(e)||"string"==typeof e||"function"==typeof e.splice||Og(e)||Ii(e)||Tg(e)))return!e.length;var t=ho(e);if(t==B||t==R)return!e.size;if(Bo(e))return!Nr(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},En.isEqual=function(e,t){return Jr(e,t)},En.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?Jr(e,t,a,n):!!r},En.isError=qg,En.isFinite=function(e){return"number"==typeof e&&Ft(e)},En.isFunction=$g,En.isInteger=ei,En.isLength=ti,En.isMap=ai,En.isMatch=function(e,t){return e===t||Yr(e,t,Io(t))},En.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Yr(e,t,Io(t),n)},En.isNaN=function(e){return oi(e)&&e!=+e},En.isNative=function(e){if(Go(e))throw new ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},En.isNil=function(e){return null==e},En.isNull=function(e){return null===e},En.isNumber=oi,En.isObject=ni,En.isObjectLike=ri,En.isPlainObject=gi,En.isRegExp=ii,En.isSafeInteger=function(e){return ei(e)&&e>=-9007199254740991&&e<=d},En.isSet=li,En.isString=ci,En.isSymbol=si,En.isTypedArray=Ii,En.isUndefined=function(e){return e===a},En.isWeakMap=function(e){return ri(e)&&ho(e)==J},En.isWeakSet=function(e){return ri(e)&&"[object WeakSet]"==Sr(e)},En.join=function(e,t){return null==e?"":Lt.call(e,t)},En.kebabCase=Li,En.last=qo,En.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==a&&(o=(o=hi(n))<0?fn(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Mt(e,zt,o,!0)},En.lowerCase=Ui,En.lowerFirst=Qi,En.lt=ui,En.lte=Ci,En.max=function(e){return e&&e.length?hr(e,ol,kr):a},En.maxBy=function(e,t){return e&&e.length?hr(e,co(t,2),kr):a},En.mean=function(e){return jt(e,ol)},En.meanBy=function(e,t){return jt(e,co(t,2))},En.min=function(e){return e&&e.length?hr(e,ol,Kr):a},En.minBy=function(e,t){return e&&e.length?hr(e,co(t,2),Kr):a},En.stubArray=ml,En.stubFalse=pl,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=vl,En.nth=function(e,t){return e&&e.length?jr(e,hi(t)):a},En.noConflict=function(){return Ct._===this&&(Ct._=Me),this},En.noop=sl,En.now=Wg,En.pad=function(e,t,n){e=bi(e);var r=(t=hi(t))?Cn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return Ta(At(a),n)+e+Ta(dt(a),n)},En.padEnd=function(e,t,n){e=bi(e);var r=(t=hi(t))?Cn(e):0;return t&&r<t?e+Ta(t-r,n):e},En.padStart=function(e,t,n){e=bi(e);var r=(t=hi(t))?Cn(e):0;return t&&r<t?Ta(t-r,n)+e:e},En.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Zn(bi(e).replace(ge,""),t||0)},En.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=Ai(e),t===a?(t=e,e=0):t=Ai(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=vn();return bn(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return _r(e,t)},En.reduce=function(e,t,n){var r=Lg(e)?xt:Ut,a=arguments.length<3;return r(e,co(t,4),n,a,Cr)},En.reduceRight=function(e,t,n){var r=Lg(e)?Ht:Ut,a=arguments.length<3;return r(e,co(t,4),n,a,dr)},En.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===a)?1:hi(t),Or(bi(e),t)},En.replace=function(){var e=arguments,t=bi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},En.result=function(e,t,n){var r=-1,o=(t=ba(t,e)).length;for(o||(o=1,e=a);++r<o;){var g=null==e?a:e[Ko(t[r])];g===a&&(r=o,g=n),e=$g(g)?g.call(e):g}return e},En.round=Gl,En.runInContext=e,En.sample=function(e){return(Lg(e)?qn:qr)(e)},En.size=function(e){if(null==e)return 0;if(Qg(e))return ci(e)?Cn(e):e.length;var t=ho(e);return t==B||t==R?e.size:Nr(e).length},En.snakeCase=_i,En.some=function(e,t,n){var r=Lg(e)?Nt:oa;return n&&yo(e,t,n)&&(t=a),r(e,co(t,3))},En.sortedIndex=function(e,t){return ga(e,t)},En.sortedIndexBy=function(e,t,n){return ia(e,t,co(n,2))},En.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ga(e,t);if(r<n&&Dg(e[r],t))return r}return-1},En.sortedLastIndex=function(e,t){return ga(e,t,!0)},En.sortedLastIndexBy=function(e,t,n){return ia(e,t,co(n,2),!0)},En.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ga(e,t,!0)-1;if(Dg(e[n],t))return n}return-1},En.startCase=Oi,En.startsWith=function(e,t,n){return e=bi(e),n=null==n?0:lr(hi(n),0,e.length),t=sa(t),e.slice(n,n+t.length)==t},En.subtract=Bl,En.sum=function(e){return e&&e.length?Qt(e,ol):0},En.sumBy=function(e,t){return e&&e.length?Qt(e,co(t,2)):0},En.template=function(e,t,n){var r=En.templateSettings;n&&yo(e,t,n)&&(t=a),e=bi(e),t=vi({},t,r,$a);var o,g,i=vi({},t.imports,r.imports,$a),l=Ji(i),c=qt(i,l),s=0,I=t.interpolate||Ze,u="__p += '",C=ke((t.escape||Ze).source+"|"+I.source+"|"+(I===ee?de:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),d="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(C,(function(t,n,r,a,i,l){return r||(r=a),u+=e.slice(s,l).replace(ve,on),n&&(o=!0,u+="' +\n__e("+n+") +\n'"),i&&(g=!0,u+="';\n"+i+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=l+t.length,t})),u+="';\n";var A=xe.call(t,"variable")&&t.variable;if(A){if(ue.test(A))throw new ie("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(g?u.replace(T,""):u).replace(L,"$1").replace(U,"$1;"),u="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var h=el((function(){return Ge(l,d+"return "+u).apply(a,c)}));if(h.source=u,qg(h))throw h;return h},En.times=function(e,t){if((e=hi(e))<1||e>d)return[];var n=h,r=bn(e,h);t=co(t),e-=h;for(var a=_t(r,t);++n<e;)t(n);return a},En.toFinite=Ai,En.toInteger=hi,En.toLength=mi,En.toLower=function(e){return bi(e).toLowerCase()},En.toNumber=pi,En.toSafeInteger=function(e){return e?lr(hi(e),-9007199254740991,d):0===e?e:0},En.toString=bi,En.toUpper=function(e){return bi(e).toUpperCase()},En.trim=function(e,t,n){if((e=bi(e))&&(n||t===a))return Ot(e);if(!e||!(t=sa(t)))return e;var r=dn(e),o=dn(t);return Za(r,en(r,o),tn(r,o)+1).join("")},En.trimEnd=function(e,t,n){if((e=bi(e))&&(n||t===a))return e.slice(0,An(e)+1);if(!e||!(t=sa(t)))return e;var r=dn(e);return Za(r,0,tn(r,dn(t))+1).join("")},En.trimStart=function(e,t,n){if((e=bi(e))&&(n||t===a))return e.replace(ge,"");if(!e||!(t=sa(t)))return e;var r=dn(e);return Za(r,en(r,dn(t))).join("")},En.truncate=function(e,t){var n=30,r="...";if(ni(t)){var o="separator"in t?t.separator:o;n="length"in t?hi(t.length):n,r="omission"in t?sa(t.omission):r}var g=(e=bi(e)).length;if(gn(e)){var i=dn(e);g=i.length}if(n>=g)return e;var l=n-Cn(r);if(l<1)return r;var c=i?Za(i,0,l).join(""):e.slice(0,l);if(o===a)return c+r;if(i&&(l+=c.length-l),ii(o)){if(e.slice(l).search(o)){var s,I=c;for(o.global||(o=ke(o.source,bi(Ae.exec(o))+"g")),o.lastIndex=0;s=o.exec(I);)var u=s.index;c=c.slice(0,u===a?l:u)}}else if(e.indexOf(sa(o),l)!=l){var C=c.lastIndexOf(o);C>-1&&(c=c.slice(0,C))}return c+r},En.unescape=function(e){return(e=bi(e))&&O.test(e)?e.replace(Q,hn):e},En.uniqueId=function(e){var t=++He;return bi(e)+t},En.upperCase=Pi,En.upperFirst=qi,En.each=bg,En.eachRight=yg,En.first=Qo,cl(En,function(){var e={};return yr(En,(function(t,n){xe.call(En.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),En.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){En[e].placeholder=En})),kt(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=n===a?1:fn(hi(n),0);var r=this.__filtered__&&!t?new Tn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),kt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(ol)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=Pr((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return wr(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Ng(co(e)))},Tn.prototype.slice=function(e,t){e=hi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=hi(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(h)},yr(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=En[r?"take"+("last"==t?"Right":""):t],g=r||/^find/.test(t);o&&(En.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,l=t instanceof Tn,c=i[0],s=l||Lg(t),I=function(e){var t=o.apply(En,Yt([e],i));return r&&u?t[0]:t};s&&n&&"function"==typeof c&&1!=c.length&&(l=s=!1);var u=this.__chain__,C=!!this.__actions__.length,d=g&&!u,A=l&&!C;if(!g&&s){t=A?t:new Tn(this);var h=e.apply(t,i);return h.__actions__.push({func:Ag,args:[I],thisArg:a}),new jn(h,u)}return d&&A?e.apply(this,i):(h=this.thru(I),d?r?h.value()[0]:h.value():h)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);En.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(Lg(a)?a:[],e)}return this[n]((function(n){return t.apply(Lg(n)?n:[],e)}))}})),yr(Tn.prototype,(function(e,t){var n=En[t];if(n){var r=n.name+"";xe.call(Xn,r)||(Xn[r]=[]),Xn[r].push({name:t,func:n})}})),Xn[Ea(a,2).name]=[{name:"wrapper",func:a}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=Ra(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ra(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ra(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Lg(e),r=t<0,a=n?e.length:0,o=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var o=n[r],g=o.size;switch(o.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=bn(t,e+g);break;case"takeRight":e=fn(e,t-g)}}return{start:e,end:t}}(0,a,this.__views__),g=o.start,i=o.end,l=i-g,c=r?i:g-1,s=this.__iteratees__,I=s.length,u=0,C=bn(l,this.__takeCount__);if(!n||!r&&a==l&&C==l)return Aa(e,this.__actions__);var d=[];e:for(;l--&&u<C;){for(var A=-1,h=e[c+=t];++A<I;){var m=s[A],p=m.iteratee,f=m.type,b=p(h);if(2==f)h=b;else if(!b){if(1==f)continue e;break e}}d[u++]=h}return d},En.prototype.at=hg,En.prototype.chain=function(){return dg(this)},En.prototype.commit=function(){return new jn(this.value(),this.__chain__)},En.prototype.next=function(){this.__values__===a&&(this.__values__=di(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},En.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Eo(n);r.__index__=0,r.__values__=a,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},En.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:Ag,args:[ng],thisArg:a}),new jn(t,this.__chain__)}return this.thru(ng)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return Aa(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Pe&&(En.prototype[Pe]=function(){return this}),En}();Ct._=mn,(r=function(){return mn}.call(t,n,t,e))===a||(e.exports=r)}.call(this)},6222:function(e,t,n){var r=n(6381)();e.exports=r},871:function(e,t,n){var r=n(2658)("round");e.exports=r},1495:function(e,t,n){var r=n(2582),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9753:function(e,t,n){var r=n(1495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},2582:function(e,t,n){var r=n(821),a=n(8092),o=n(152),g=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):g.test(e)?NaN:+e}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},4627:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));e.exports=r},5660:function(e,t,n){var r=n(240),a=n(7137),o=n(3518),g=n(1029);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?a(e)?g(e):r(e):e.match(t)||[]}},8015:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,n){return e<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(2426))},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function g(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(i(e,t))return!1;return!0}function c(e){return void 0===e}function s(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function I(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[],a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function C(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return Qn(e,t,n,r,!0).utc()}function A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=A()),e._pf}function m(e){if(null==e._isValid){var t=h(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function p(e){var t=d(NaN);return null!=e?C(h(t),e):h(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var f=r.momentProperties=[],b=!1;function y(e,t){var n,r,a,o=f.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=h(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(a=t[r=f[n]])||(e[r]=a);return e}function Z(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function v(e){return e instanceof Z||null!=e&&null!=e._isAMomentObject}function G(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function B(e,t){var n=!0;return C((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var a,o,g,l=[],c=arguments.length;for(o=0;o<c;o++){if(a="","object"===typeof arguments[o]){for(g in a+="\n["+o+"] ",arguments[0])i(arguments[0],g)&&(a+=g+": "+arguments[0][g]+", ");a=a.slice(0,-2)}else a=arguments[o];l.push(a)}G(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,k={};function W(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),k[e]||(G(t),k[e]=!0)}function V(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)i(e,n)&&(V(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function w(e,t){var n,r=C({},e);for(n in t)i(t,n)&&(g(e[n])&&g(t[n])?(r[n]={},C(r[n],e[n]),C(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)i(e,n)&&!i(t,n)&&g(e[n])&&(r[n]=C({},r[n]));return r}function X(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var J={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Y(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return V(r)?r.call(t,n):r}function x(e,t,n){var r=""+Math.abs(e),a=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},K={};function M(e,t,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),e&&(K[e]=a),t&&(K[t[0]]=function(){return x(a.apply(this,arguments),t[1],t[2])}),n&&(K[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function E(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function D(e){var t,n,r=e.match(H);for(t=0,n=r.length;t<n;t++)K[r[t]]?r[t]=K[r[t]]:r[t]=E(r[t]);return function(t){var a,o="";for(a=0;a<n;a++)o+=V(r[a])?r[a].call(t,e):r[a];return o}}function z(e,t){return e.isValid()?(t=j(t,e.localeData()),F[t]=F[t]||D(t),F[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var T={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function L(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(H).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var U="Invalid date";function Q(){return this._invalidDate}var _="%d",O=/\d{1,2}/;function P(e){return this._ordinal.replace("%d",e)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var a=this._relativeTime[n];return V(a)?a(e,t,n,r):a.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return V(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ae(e){var t,n,r={};for(n in e)i(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function ge(e,t){oe[e]=t}function ie(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function se(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function Ie(e,t){return function(n){return null!=n?(Ce(this,e,n),r.updateOffset(this,t),this):ue(this,e)}}function ue(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ce(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=se(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function de(e){return V(this[e=re(e)])?this[e]():this}function Ae(e,t){if("object"===typeof e){var n,r=ie(e=ae(e)),a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(V(this[e=re(e)]))return this[e](t);return this}var he,me=/\d/,pe=/\d\d/,fe=/\d{3}/,be=/\d{4}/,ye=/[+-]?\d{6}/,Ze=/\d\d?/,ve=/\d\d\d\d?/,Ge=/\d\d\d\d\d\d?/,Be=/\d{1,3}/,Se=/\d{1,4}/,ke=/[+-]?\d{1,6}/,We=/\d+/,Ve=/[+-]?\d+/,Re=/Z|[+-]\d\d:?\d\d/gi,we=/Z|[+-]\d\d(?::?\d\d)?/gi,Xe=/[+-]?\d+(\.\d{1,3})?/,Je=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ye(e,t,n){he[e]=V(t)?t:function(e,r){return e&&n?n:t}}function xe(e,t){return i(he,e)?he[e](t._strict,t._locale):new RegExp(He(e))}function He(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,a){return t||n||r||a})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}he={};var Fe={};function Ke(e,t){var n,r,a=t;for("string"===typeof e&&(e=[e]),s(t)&&(a=function(e,n){n[t]=se(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=a}function Me(e,t){Ke(e,(function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)}))}function Ee(e,t,n){null!=t&&i(Fe,e)&&Fe[e](t,n._a,n,e)}var De,ze=0,je=1,Te=2,Le=3,Ue=4,Qe=5,_e=6,Oe=7,Pe=8;function qe(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=qe(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}De=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},M("M",["MM",2],"Mo",(function(){return this.month()+1})),M("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),M("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),ge("month",8),Ye("M",Ze),Ye("MM",Ze,pe),Ye("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ye("MMMM",(function(e,t){return t.monthsRegex(e)})),Ke(["M","MM"],(function(e,t){t[je]=se(e)-1})),Ke(["MMM","MMMM"],(function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[je]=a:h(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Je,at=Je;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function gt(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function it(e,t,n){var r,a,o,g=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=De.call(this._shortMonthsParse,g))?a:null:-1!==(a=De.call(this._longMonthsParse,g))?a:null:"MMM"===t?-1!==(a=De.call(this._shortMonthsParse,g))||-1!==(a=De.call(this._longMonthsParse,g))?a:null:-1!==(a=De.call(this._longMonthsParse,g))||-1!==(a=De.call(this._shortMonthsParse,g))?a:null}function lt(e,t,n){var r,a,o;if(this._monthsParseExact)return it.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=se(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function st(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):ue(this,"Month")}function It(){return $e(this.year(),this.month())}function ut(e){return this._monthsParseExact?(i(this,"_monthsRegex")||dt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ct(e){return this._monthsParseExact?(i(this,"_monthsRegex")||dt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dt(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Ne(r[t]),a[t]=Ne(a[t]);for(t=0;t<24;t++)o[t]=Ne(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function At(e){return le(e)?366:365}M("Y",0,0,(function(){var e=this.year();return e<=9999?x(e,4):"+"+e})),M(0,["YY",2],0,(function(){return this.year()%100})),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),ge("year",1),Ye("Y",Ve),Ye("YY",Ze,pe),Ye("YYYY",Se,be),Ye("YYYYY",ke,ye),Ye("YYYYYY",ke,ye),Ke(["YYYYY","YYYYYY"],ze),Ke("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):se(e)})),Ke("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),Ke("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return se(e)+(se(e)>68?1900:2e3)};var ht=Ie("FullYear",!0);function mt(){return le(this.year())}function pt(e,t,n,r,a,o,g){var i;return e<100&&e>=0?(i=new Date(e+400,t,n,r,a,o,g),isFinite(i.getFullYear())&&i.setFullYear(e)):i=new Date(e,t,n,r,a,o,g),i}function ft(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+ft(e,0,r).getUTCDay()-t)%7+r-1}function yt(e,t,n,r,a){var o,g,i=1+7*(t-1)+(7+n-r)%7+bt(e,r,a);return i<=0?g=At(o=e-1)+i:i>At(e)?(o=e+1,g=i-At(e)):(o=e,g=i),{year:o,dayOfYear:g}}function Zt(e,t,n){var r,a,o=bt(e.year(),t,n),g=Math.floor((e.dayOfYear()-o-1)/7)+1;return g<1?r=g+vt(a=e.year()-1,t,n):g>vt(e.year(),t,n)?(r=g-vt(e.year(),t,n),a=e.year()+1):(a=e.year(),r=g),{week:r,year:a}}function vt(e,t,n){var r=bt(e,t,n),a=bt(e+1,t,n);return(At(e)-r+a)/7}function Gt(e){return Zt(e,this._week.dow,this._week.doy).week}M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),ge("week",5),ge("isoWeek",5),Ye("w",Ze),Ye("ww",Ze,pe),Ye("W",Ze),Ye("WW",Ze,pe),Me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=se(e)}));var Bt={dow:0,doy:6};function St(){return this._week.dow}function kt(){return this._week.doy}function Wt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Vt(e){var t=Zt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Rt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function wt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Xt(e,t){return e.slice(t,7).concat(e.slice(0,t))}M("d",0,"do","day"),M("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),M("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),M("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),ge("day",11),ge("weekday",11),ge("isoWeekday",11),Ye("d",Ze),Ye("e",Ze),Ye("E",Ze),Ye("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ye("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ye("dddd",(function(e,t){return t.weekdaysRegex(e)})),Me(["dd","ddd","dddd"],(function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:h(n).invalidWeekday=e})),Me(["d","e","E"],(function(e,t,n,r){t[r]=se(e)}));var Jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=Je,Nt=Je,Ft=Je;function Kt(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Xt(n,this._week.dow):e?n[e.day()]:n}function Mt(e){return!0===e?Xt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Et(e){return!0===e?Xt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Dt(e,t,n){var r,a,o,g=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=De.call(this._weekdaysParse,g))?a:null:"ddd"===t?-1!==(a=De.call(this._shortWeekdaysParse,g))?a:null:-1!==(a=De.call(this._minWeekdaysParse,g))?a:null:"dddd"===t?-1!==(a=De.call(this._weekdaysParse,g))||-1!==(a=De.call(this._shortWeekdaysParse,g))||-1!==(a=De.call(this._minWeekdaysParse,g))?a:null:"ddd"===t?-1!==(a=De.call(this._shortWeekdaysParse,g))||-1!==(a=De.call(this._weekdaysParse,g))||-1!==(a=De.call(this._minWeekdaysParse,g))?a:null:-1!==(a=De.call(this._minWeekdaysParse,g))||-1!==(a=De.call(this._weekdaysParse,g))||-1!==(a=De.call(this._shortWeekdaysParse,g))?a:null}function zt(e,t,n){var r,a,o;if(this._weekdaysParseExact)return Dt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function jt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Tt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Lt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=wt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ut(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qt(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function _t(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Ot.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ot(){function e(e,t){return t.length-e.length}var t,n,r,a,o,g=[],i=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),a=Ne(this.weekdaysShort(n,"")),o=Ne(this.weekdays(n,"")),g.push(r),i.push(a),l.push(o),c.push(r),c.push(a),c.push(o);g.sort(e),i.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Pt(){return this.hours()%12||12}function qt(){return this.hours()||24}function $t(e,t){M(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}M("H",["HH",2],0,"hour"),M("h",["hh",2],0,Pt),M("k",["kk",2],0,qt),M("hmm",0,0,(function(){return""+Pt.apply(this)+x(this.minutes(),2)})),M("hmmss",0,0,(function(){return""+Pt.apply(this)+x(this.minutes(),2)+x(this.seconds(),2)})),M("Hmm",0,0,(function(){return""+this.hours()+x(this.minutes(),2)})),M("Hmmss",0,0,(function(){return""+this.hours()+x(this.minutes(),2)+x(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),ge("hour",13),Ye("a",en),Ye("A",en),Ye("H",Ze),Ye("h",Ze),Ye("k",Ze),Ye("HH",Ze,pe),Ye("hh",Ze,pe),Ye("kk",Ze,pe),Ye("hmm",ve),Ye("hmmss",Ge),Ye("Hmm",ve),Ye("Hmmss",Ge),Ke(["H","HH"],Le),Ke(["k","kk"],(function(e,t,n){var r=se(e);t[Le]=24===r?0:r})),Ke(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ke(["h","hh"],(function(e,t,n){t[Le]=se(e),h(n).bigHour=!0})),Ke("hmm",(function(e,t,n){var r=e.length-2;t[Le]=se(e.substr(0,r)),t[Ue]=se(e.substr(r)),h(n).bigHour=!0})),Ke("hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[Le]=se(e.substr(0,r)),t[Ue]=se(e.substr(r,2)),t[Qe]=se(e.substr(a)),h(n).bigHour=!0})),Ke("Hmm",(function(e,t,n){var r=e.length-2;t[Le]=se(e.substr(0,r)),t[Ue]=se(e.substr(r))})),Ke("Hmmss",(function(e,t,n){var r=e.length-4,a=e.length-2;t[Le]=se(e.substr(0,r)),t[Ue]=se(e.substr(r,2)),t[Qe]=se(e.substr(a))}));var nn=/[ap]\.?m?\.?/i,rn=Ie("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,gn={calendar:J,longDateFormat:T,invalidDate:U,ordinal:_,dayOfMonthOrdinalParse:O,relativeTime:q,months:et,monthsShort:tt,week:Bt,weekdays:Jt,weekdaysMin:xt,weekdaysShort:Yt,meridiemParse:nn},ln={},cn={};function sn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function In(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){for(var t,n,r,a,o=0;o<e.length;){for(t=(a=In(e[o]).split("-")).length,n=(n=In(e[o+1]))?n.split("-"):null;t>0;){if(r=dn(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&sn(a,n)>=t-1)break;t--}o++}return on}function Cn(e){return null!=e.match("^[^/\\\\]*$")}function dn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&Cn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),An(n)}catch(r){ln[t]=null}return ln[t]}function An(e,t){var n;return e&&((n=c(t)?pn(e):hn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function hn(e,t){if(null!==t){var n,r=gn;if(t.abbr=e,null!=ln[e])W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new X(w(r,t)),cn[e]&&cn[e].forEach((function(e){hn(e.name,e.config)})),An(e),ln[e]}return delete ln[e],null}function mn(e,t){if(null!=t){var n,r,a=gn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(w(ln[e]._config,t)):(null!=(r=dn(e))&&(a=r._config),t=w(a,t),null==r&&(t.abbr=e),(n=new X(t)).parentLocale=ln[e],ln[e]=n),An(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===An()&&An(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function pn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!o(e)){if(t=dn(e))return t;e=[e]}return un(e)}function fn(){return S(ln)}function bn(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[je]<0||n[je]>11?je:n[Te]<1||n[Te]>$e(n[ze],n[je])?Te:n[Le]<0||n[Le]>24||24===n[Le]&&(0!==n[Ue]||0!==n[Qe]||0!==n[_e])?Le:n[Ue]<0||n[Ue]>59?Ue:n[Qe]<0||n[Qe]>59?Qe:n[_e]<0||n[_e]>999?_e:-1,h(e)._overflowDayOfYear&&(t<ze||t>Te)&&(t=Te),h(e)._overflowWeeks&&-1===t&&(t=Oe),h(e)._overflowWeekday&&-1===t&&(t=Pe),h(e).overflow=t),e}var yn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vn=/Z|[+-]\d\d(?::?\d\d)?/,Gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Bn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vn(e){var t,n,r,a,o,g,i=e._i,l=yn.exec(i)||Zn.exec(i),c=Gn.length,s=Bn.length;if(l){for(h(e).iso=!0,t=0,n=c;t<n;t++)if(Gn[t][1].exec(l[1])){a=Gn[t][0],r=!1!==Gn[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=s;t<n;t++)if(Bn[t][1].exec(l[3])){o=(l[2]||" ")+Bn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!vn.exec(l[4]))return void(e._isValid=!1);g="Z"}e._f=a+(o||"")+(g||""),En(e)}else e._isValid=!1}function Rn(e,t,n,r,a,o){var g=[wn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return o&&g.push(parseInt(o,10)),g}function wn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Xn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Jn(e,t,n){return!e||Yt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Yn(e,t,n){if(e)return Wn[e];if(t)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}function xn(e){var t,n=kn.exec(Xn(e._i));if(n){if(t=Rn(n[4],n[3],n[2],n[5],n[6],n[7]),!Jn(n[1],t,e))return;e._a=t,e._tzm=Yn(n[8],n[9],n[10]),e._d=ft.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Hn(e){var t=Sn.exec(e._i);null===t?(Vn(e),!1===e._isValid&&(delete e._isValid,xn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Kn(e){var t,n,r,a,o,g=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Te]&&null==e._a[je]&&Mn(e),null!=e._dayOfYear&&(o=Nn(e._a[ze],r[ze]),(e._dayOfYear>At(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=ft(o,0,e._dayOfYear),e._a[je]=n.getUTCMonth(),e._a[Te]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=g[t]=r[t];for(;t<7;t++)e._a[t]=g[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Le]&&0===e._a[Ue]&&0===e._a[Qe]&&0===e._a[_e]&&(e._nextDay=!0,e._a[Le]=0),e._d=(e._useUTC?ft:pt).apply(null,g),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Le]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==a&&(h(e).weekdayMismatch=!0)}}function Mn(e){var t,n,r,a,o,g,i,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,g=4,n=Nn(t.GG,e._a[ze],Zt(_n(),1,4).year),r=Nn(t.W,1),((a=Nn(t.E,1))<1||a>7)&&(l=!0)):(o=e._locale._week.dow,g=e._locale._week.doy,c=Zt(_n(),o,g),n=Nn(t.gg,e._a[ze],c.year),r=Nn(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o),r<1||r>vt(n,o,g)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(i=yt(n,r,a,o,g),e._a[ze]=i.year,e._dayOfYear=i.dayOfYear)}function En(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],h(e).empty=!0;var t,n,a,o,g,i,l,c=""+e._i,s=c.length,I=0;for(l=(a=j(e._f,e._locale).match(H)||[]).length,t=0;t<l;t++)o=a[t],(n=(c.match(xe(o,e))||[])[0])&&((g=c.substr(0,c.indexOf(n))).length>0&&h(e).unusedInput.push(g),c=c.slice(c.indexOf(n)+n.length),I+=n.length),K[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),Ee(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=s-I,c.length>0&&h(e).unusedInput.push(c),e._a[Le]<=12&&!0===h(e).bigHour&&e._a[Le]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Le]=Dn(e._locale,e._a[Le],e._meridiem),null!==(i=h(e).era)&&(e._a[ze]=e._locale.erasConvertYear(i,e._a[ze])),Kn(e),bn(e)}else xn(e);else Vn(e)}function Dn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function zn(e){var t,n,r,a,o,g,i=!1,l=e._f.length;if(0===l)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)o=0,g=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],En(t),m(t)&&(g=!0),o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,i?o<r&&(r=o,n=t):(null==r||o<r||g)&&(r=o,n=t,g&&(i=!0));C(e,n||t)}function jn(e){if(!e._d){var t=ae(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Kn(e)}}function Tn(e){var t=new Z(bn(Ln(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ln(e){var t=e._i,n=e._f;return e._locale=e._locale||pn(e._l),null===t||void 0===n&&""===t?p({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new Z(bn(t)):(I(t)?e._d=t:o(n)?zn(e):n?En(e):Un(e),m(e)||(e._d=null),e))}function Un(e){var t=e._i;c(t)?e._d=new Date(r.now()):I(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Hn(e):o(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),Kn(e)):g(t)?jn(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Qn(e,t,n,r,a){var i={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(g(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,Tn(i)}function _n(e,t,n,r){return Qn(e,t,n,r,!1)}r.createFromInputFallback=B("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var On=B("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),Pn=B("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}));function qn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return _n();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return qn("isBefore",[].slice.call(arguments,0))}function er(){return qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,a=nr.length;for(t in e)if(i(e,t)&&(-1===De.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<a;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==se(e[nr[n]])&&(r=!0)}return!0}function ar(){return this._isValid}function or(){return Wr(NaN)}function gr(e){var t=ae(e),n=t.year||0,r=t.quarter||0,a=t.month||0,o=t.week||t.isoWeek||0,g=t.day||0,i=t.hour||0,l=t.minute||0,c=t.second||0,s=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+s+1e3*c+6e4*l+1e3*i*60*60,this._days=+g+7*o,this._months=+a+3*r+12*n,this._data={},this._locale=pn(),this._bubble()}function ir(e){return e instanceof gr}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),g=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&se(e[r])!==se(t[r]))&&g++;return g+o}function sr(e,t){M(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+x(~~(e/60),2)+t+x(~~e%60,2)}))}sr("Z",":"),sr("ZZ",""),Ye("Z",we),Ye("ZZ",we),Ke(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=ur(we,e)}));var Ir=/([\+\-]|\d\d)/gi;function ur(e,t){var n,r,a=(t||"").match(e);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(Ir)||["-",0,0])[1]+se(n[2]))?0:"+"===n[0]?r:-r}function Cr(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(v(e)||I(e)?e.valueOf():_n(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):_n(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function Ar(e,t,n){var a,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=ur(we,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=dr(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==e&&(!t||this._changeInProgress?Jr(this,Wr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:dr(this)}function hr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function pr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function fr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=ur(Re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?_n(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function yr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=Ln(t))._a?(e=t._isUTC?d(t._a):_n(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vr(){return!!this.isValid()&&!this._isUTC}function Gr(){return!!this.isValid()&&this._isUTC}function Br(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wr(e,t){var n,r,a,o=e,g=null;return ir(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:s(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(g=Sr.exec(e))?(n="-"===g[1]?-1:1,o={y:0,d:se(g[Te])*n,h:se(g[Le])*n,m:se(g[Ue])*n,s:se(g[Qe])*n,ms:se(lr(1e3*g[_e]))*n}):(g=kr.exec(e))?(n="-"===g[1]?-1:1,o={y:Vr(g[2],n),M:Vr(g[3],n),w:Vr(g[4],n),d:Vr(g[5],n),h:Vr(g[6],n),m:Vr(g[7],n),s:Vr(g[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(a=wr(_n(o.from),_n(o.to)),(o={}).ms=a.milliseconds,o.M=a.months),r=new gr(o),ir(e)&&i(e,"_locale")&&(r._locale=e._locale),ir(e)&&i(e,"_isValid")&&(r._isValid=e._isValid),r}function Vr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Rr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function wr(e,t){var n;return e.isValid()&&t.isValid()?(t=Cr(t,e),e.isBefore(t)?n=Rr(e,t):((n=Rr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Xr(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(W(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Jr(this,Wr(n,r),e),this}}function Jr(e,t,n,a){var o=t._milliseconds,g=lr(t._days),i=lr(t._months);e.isValid()&&(a=null==a||a,i&&ct(e,ue(e,"Month")+i*n),g&&Ce(e,"Date",ue(e,"Date")+g*n),o&&e._d.setTime(e._d.valueOf()+o*n),a&&r.updateOffset(e,g||i))}Wr.fn=gr.prototype,Wr.invalid=or;var Yr=Xr(1,"add"),xr=Xr(-1,"subtract");function Hr(e){return"string"===typeof e||e instanceof String}function Nr(e){return v(e)||I(e)||Hr(e)||s(e)||Kr(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=g(e)&&!l(e),a=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],a=a||i(e,n);return r&&a}function Kr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!s(t)&&Hr(e)})).length),t&&n}function Mr(e){var t,n,r=g(e)&&!l(e),a=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],a=a||i(e,n);return r&&a}function Er(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Dr(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):Mr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||_n(),a=Cr(n,this).startOf("day"),o=r.calendarFormat(this,a)||"sameElse",g=t&&(V(t[o])?t[o].call(this,n):t[o]);return this.format(g||this.localeData().calendar(o,this,_n(n)))}function zr(){return new Z(this)}function jr(e,t){var n=v(e)?e:_n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Tr(e,t){var n=v(e)?e:_n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Lr(e,t,n,r){var a=v(e)?e:_n(e),o=v(t)?t:_n(t);return!!(this.isValid()&&a.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Ur(e,t){var n,r=v(e)?e:_n(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function _r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Or(e,t,n){var r,a,o;if(!this.isValid())return NaN;if(!(r=Cr(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Pr(this,r)/12;break;case"month":o=Pr(this,r);break;case"quarter":o=Pr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-a)/864e5;break;case"week":o=(this-r-a)/6048e5;break;default:o=this-r}return n?o:ce(o)}function Pr(e,t){if(e.date()<t.date())return-Pr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ea(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,a="moment",o="";return this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+a+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ta(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function na(e,t){return this.isValid()&&(v(e)&&e.isValid()||_n(e).isValid())?Wr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ra(e){return this.from(_n(),e)}function aa(e,t){return this.isValid()&&(v(e)&&e.isValid()||_n(e).isValid())?Wr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oa(e){return this.to(_n(),e)}function ga(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ia=B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function la(){return this._locale}var ca=1e3,sa=60*ca,Ia=60*sa,ua=3506328*Ia;function Ca(e,t){return(e%t+t)%t}function da(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ua:new Date(e,t,n).valueOf()}function Aa(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ua:Date.UTC(e,t,n)}function ha(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Aa:da,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ca(t+(this._isUTC?0:this.utcOffset()*sa),Ia);break;case"minute":t=this._d.valueOf(),t-=Ca(t,sa);break;case"second":t=this._d.valueOf(),t-=Ca(t,ca)}return this._d.setTime(t),r.updateOffset(this,!0),this}function ma(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?Aa:da,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Ia-Ca(t+(this._isUTC?0:this.utcOffset()*sa),Ia)-1;break;case"minute":t=this._d.valueOf(),t+=sa-Ca(t,sa)-1;break;case"second":t=this._d.valueOf(),t+=ca-Ca(t,ca)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function pa(){return this._d.valueOf()-6e4*(this._offset||0)}function fa(){return Math.floor(this.valueOf()/1e3)}function ba(){return new Date(this.valueOf())}function ya(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Za(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function va(){return this.isValid()?this.toISOString():null}function Ga(){return m(this)}function Ba(){return C({},h(this))}function Sa(){return h(this).overflow}function ka(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Wa(e,t){var n,a,o,g=this._eras||pn("en")._eras;for(n=0,a=g.length;n<a;++n)switch("string"===typeof g[n].since&&(o=r(g[n].since).startOf("day"),g[n].since=o.valueOf()),typeof g[n].until){case"undefined":g[n].until=1/0;break;case"string":o=r(g[n].until).startOf("day").valueOf(),g[n].until=o.valueOf()}return g}function Va(e,t,n){var r,a,o,g,i,l=this.eras();for(e=e.toUpperCase(),r=0,a=l.length;r<a;++r)if(o=l[r].name.toUpperCase(),g=l[r].abbr.toUpperCase(),i=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(g===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(i===e)return l[r]}else if([o,g,i].indexOf(e)>=0)return l[r]}function Ra(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function wa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Xa(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ja(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ya(){var e,t,n,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until||o[e].until<=a&&a<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function xa(e){return i(this,"_erasNameRegex")||Da.call(this),e?this._erasNameRegex:this._erasRegex}function Ha(e){return i(this,"_erasAbbrRegex")||Da.call(this),e?this._erasAbbrRegex:this._erasRegex}function Na(e){return i(this,"_erasNarrowRegex")||Da.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fa(e,t){return t.erasAbbrRegex(e)}function Ka(e,t){return t.erasNameRegex(e)}function Ma(e,t){return t.erasNarrowRegex(e)}function Ea(e,t){return t._eraYearOrdinalRegex||We}function Da(){var e,t,n=[],r=[],a=[],o=[],g=this.eras();for(e=0,t=g.length;e<t;++e)r.push(Ne(g[e].name)),n.push(Ne(g[e].abbr)),a.push(Ne(g[e].narrow)),o.push(Ne(g[e].name)),o.push(Ne(g[e].abbr)),o.push(Ne(g[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function za(e,t){M(0,[e,e.length],0,t)}function ja(e){return Oa.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ta(e){return Oa.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function La(){return vt(this.year(),1,4)}function Ua(){return vt(this.isoWeekYear(),1,4)}function Qa(){var e=this.localeData()._week;return vt(this.year(),e.dow,e.doy)}function _a(){var e=this.localeData()._week;return vt(this.weekYear(),e.dow,e.doy)}function Oa(e,t,n,r,a){var o;return null==e?Zt(this,r,a).year:(t>(o=vt(e,r,a))&&(t=o),Pa.call(this,e,t,n,r,a))}function Pa(e,t,n,r,a){var o=yt(e,t,n,r,a),g=ft(o.year,0,o.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function qa(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),Ye("N",Fa),Ye("NN",Fa),Ye("NNN",Fa),Ye("NNNN",Ka),Ye("NNNNN",Ma),Ke(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?h(n).era=a:h(n).invalidEra=e})),Ye("y",We),Ye("yy",We),Ye("yyy",We),Ye("yyyy",We),Ye("yo",Ea),Ke(["y","yy","yyy","yyyy"],ze),Ke(["yo"],(function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,a):t[ze]=parseInt(e,10)})),M(0,["gg",2],0,(function(){return this.weekYear()%100})),M(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),za("gggg","weekYear"),za("ggggg","weekYear"),za("GGGG","isoWeekYear"),za("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),ge("weekYear",1),ge("isoWeekYear",1),Ye("G",Ve),Ye("g",Ve),Ye("GG",Ze,pe),Ye("gg",Ze,pe),Ye("GGGG",Se,be),Ye("gggg",Se,be),Ye("GGGGG",ke,ye),Ye("ggggg",ke,ye),Me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=se(e)})),Me(["gg","GG"],(function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)})),M("Q",0,"Qo","quarter"),ne("quarter","Q"),ge("quarter",7),Ye("Q",me),Ke("Q",(function(e,t){t[je]=3*(se(e)-1)})),M("D",["DD",2],"Do","date"),ne("date","D"),ge("date",9),Ye("D",Ze),Ye("DD",Ze,pe),Ye("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ke(["D","DD"],Te),Ke("Do",(function(e,t){t[Te]=se(e.match(Ze)[0])}));var $a=Ie("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}M("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),ge("dayOfYear",4),Ye("DDD",Be),Ye("DDDD",fe),Ke(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=se(e)})),M("m",["mm",2],0,"minute"),ne("minute","m"),ge("minute",14),Ye("m",Ze),Ye("mm",Ze,pe),Ke(["m","mm"],Ue);var to=Ie("Minutes",!1);M("s",["ss",2],0,"second"),ne("second","s"),ge("second",15),Ye("s",Ze),Ye("ss",Ze,pe),Ke(["s","ss"],Qe);var no,ro,ao=Ie("Seconds",!1);for(M("S",0,0,(function(){return~~(this.millisecond()/100)})),M(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),M(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),M(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),M(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),M(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),M(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),ge("millisecond",16),Ye("S",Be,me),Ye("SS",Be,pe),Ye("SSS",Be,fe),no="SSSS";no.length<=9;no+="S")Ye(no,We);function oo(e,t){t[_e]=se(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")Ke(no,oo);function go(){return this._isUTC?"UTC":""}function io(){return this._isUTC?"Coordinated Universal Time":""}ro=Ie("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var lo=Z.prototype;function co(e){return _n(1e3*e)}function so(){return _n.apply(null,arguments).parseZone()}function Io(e){return e}lo.add=Yr,lo.calendar=Dr,lo.clone=zr,lo.diff=Or,lo.endOf=ma,lo.format=ta,lo.from=na,lo.fromNow=ra,lo.to=aa,lo.toNow=oa,lo.get=de,lo.invalidAt=Sa,lo.isAfter=jr,lo.isBefore=Tr,lo.isBetween=Lr,lo.isSame=Ur,lo.isSameOrAfter=Qr,lo.isSameOrBefore=_r,lo.isValid=Ga,lo.lang=ia,lo.locale=ga,lo.localeData=la,lo.max=Pn,lo.min=On,lo.parsingFlags=Ba,lo.set=Ae,lo.startOf=ha,lo.subtract=xr,lo.toArray=ya,lo.toObject=Za,lo.toDate=ba,lo.toISOString=$r,lo.inspect=ea,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=va,lo.toString=qr,lo.unix=fa,lo.valueOf=pa,lo.creationData=ka,lo.eraName=wa,lo.eraNarrow=Xa,lo.eraAbbr=Ja,lo.eraYear=Ya,lo.year=ht,lo.isLeapYear=mt,lo.weekYear=ja,lo.isoWeekYear=Ta,lo.quarter=lo.quarters=qa,lo.month=st,lo.daysInMonth=It,lo.week=lo.weeks=Wt,lo.isoWeek=lo.isoWeeks=Vt,lo.weeksInYear=Qa,lo.weeksInWeekYear=_a,lo.isoWeeksInYear=La,lo.isoWeeksInISOWeekYear=Ua,lo.date=$a,lo.day=lo.days=jt,lo.weekday=Tt,lo.isoWeekday=Lt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=ao,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=Ar,lo.utc=mr,lo.local=pr,lo.parseZone=fr,lo.hasAlignedHourOffset=br,lo.isDST=yr,lo.isLocal=vr,lo.isUtcOffset=Gr,lo.isUtc=Br,lo.isUTC=Br,lo.zoneAbbr=go,lo.zoneName=io,lo.dates=B("dates accessor is deprecated. Use date instead.",$a),lo.months=B("months accessor is deprecated. Use month instead",st),lo.years=B("years accessor is deprecated. Use year instead",ht),lo.zone=B("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",hr),lo.isDSTShifted=B("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Zr);var uo=X.prototype;function Co(e,t,n,r){var a=pn(),o=d().set(r,t);return a[n](o,e)}function Ao(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Co(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Co(e,r,n,"month");return a}function ho(e,t,n,r){"boolean"===typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var a,o=pn(),g=e?o._week.dow:0,i=[];if(null!=n)return Co(t,(n+g)%7,r,"day");for(a=0;a<7;a++)i[a]=Co(t,(a+g)%7,r,"day");return i}function mo(e,t){return Ao(e,t,"months")}function po(e,t){return Ao(e,t,"monthsShort")}function fo(e,t,n){return ho(e,t,n,"weekdays")}function bo(e,t,n){return ho(e,t,n,"weekdaysShort")}function yo(e,t,n){return ho(e,t,n,"weekdaysMin")}uo.calendar=Y,uo.longDateFormat=L,uo.invalidDate=Q,uo.ordinal=P,uo.preparse=Io,uo.postformat=Io,uo.relativeTime=$,uo.pastFuture=ee,uo.set=R,uo.eras=Wa,uo.erasParse=Va,uo.erasConvertYear=Ra,uo.erasAbbrRegex=Ha,uo.erasNameRegex=xa,uo.erasNarrowRegex=Na,uo.months=ot,uo.monthsShort=gt,uo.monthsParse=lt,uo.monthsRegex=Ct,uo.monthsShortRegex=ut,uo.week=Gt,uo.firstDayOfYear=kt,uo.firstDayOfWeek=St,uo.weekdays=Kt,uo.weekdaysMin=Et,uo.weekdaysShort=Mt,uo.weekdaysParse=zt,uo.weekdaysRegex=Ut,uo.weekdaysShortRegex=Qt,uo.weekdaysMinRegex=_t,uo.isPM=tn,uo.meridiem=an,An("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===se(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=B("moment.lang is deprecated. Use moment.locale instead.",An),r.langData=B("moment.langData is deprecated. Use moment.localeData instead.",pn);var Zo=Math.abs;function vo(){var e=this._data;return this._milliseconds=Zo(this._milliseconds),this._days=Zo(this._days),this._months=Zo(this._months),e.milliseconds=Zo(e.milliseconds),e.seconds=Zo(e.seconds),e.minutes=Zo(e.minutes),e.hours=Zo(e.hours),e.months=Zo(e.months),e.years=Zo(e.years),this}function Go(e,t,n,r){var a=Wr(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function Bo(e,t){return Go(this,e,t,1)}function So(e,t){return Go(this,e,t,-1)}function ko(e){return e<0?Math.floor(e):Math.ceil(e)}function Wo(){var e,t,n,r,a,o=this._milliseconds,g=this._days,i=this._months,l=this._data;return o>=0&&g>=0&&i>=0||o<=0&&g<=0&&i<=0||(o+=864e5*ko(Ro(i)+g),g=0,i=0),l.milliseconds=o%1e3,e=ce(o/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,g+=ce(n/24),i+=a=ce(Vo(g)),g-=ko(Ro(a)),r=ce(i/12),i%=12,l.days=g,l.months=i,l.years=r,this}function Vo(e){return 4800*e/146097}function Ro(e){return 146097*e/4800}function wo(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Vo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ro(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Xo(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*se(this._months/12):NaN}function Jo(e){return function(){return this.as(e)}}var Yo=Jo("ms"),xo=Jo("s"),Ho=Jo("m"),No=Jo("h"),Fo=Jo("d"),Ko=Jo("w"),Mo=Jo("M"),Eo=Jo("Q"),Do=Jo("y");function zo(){return Wr(this)}function jo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function To(e){return function(){return this.isValid()?this._data[e]:NaN}}var Lo=To("milliseconds"),Uo=To("seconds"),Qo=To("minutes"),_o=To("hours"),Oo=To("days"),Po=To("months"),qo=To("years");function $o(){return ce(this.days()/7)}var eg=Math.round,tg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ng(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function rg(e,t,n,r){var a=Wr(e).abs(),o=eg(a.as("s")),g=eg(a.as("m")),i=eg(a.as("h")),l=eg(a.as("d")),c=eg(a.as("M")),s=eg(a.as("w")),I=eg(a.as("y")),u=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||g<=1&&["m"]||g<n.m&&["mm",g]||i<=1&&["h"]||i<n.h&&["hh",i]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(u=u||s<=1&&["w"]||s<n.w&&["ww",s]),(u=u||c<=1&&["M"]||c<n.M&&["MM",c]||I<=1&&["y"]||["yy",I])[2]=t,u[3]=+e>0,u[4]=r,ng.apply(null,u)}function ag(e){return void 0===e?eg:"function"===typeof e&&(eg=e,!0)}function og(e,t){return void 0!==tg[e]&&(void 0===t?tg[e]:(tg[e]=t,"s"===e&&(tg.ss=t-1),!0))}function gg(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,o=tg;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(a=e),"object"===typeof t&&(o=Object.assign({},tg,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=rg(this,!a,o,n=this.localeData()),a&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ig=Math.abs;function lg(e){return(e>0)-(e<0)||+e}function cg(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,a,o,g,i,l=ig(this._milliseconds)/1e3,c=ig(this._days),s=ig(this._months),I=this.asSeconds();return I?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(s/12),s%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=I<0?"-":"",o=lg(this._months)!==lg(I)?"-":"",g=lg(this._days)!==lg(I)?"-":"",i=lg(this._milliseconds)!==lg(I)?"-":"",a+"P"+(n?o+n+"Y":"")+(s?o+s+"M":"")+(c?g+c+"D":"")+(t||e||l?"T":"")+(t?i+t+"H":"")+(e?i+e+"M":"")+(l?i+r+"S":"")):"P0D"}var sg=gr.prototype;return sg.isValid=ar,sg.abs=vo,sg.add=Bo,sg.subtract=So,sg.as=wo,sg.asMilliseconds=Yo,sg.asSeconds=xo,sg.asMinutes=Ho,sg.asHours=No,sg.asDays=Fo,sg.asWeeks=Ko,sg.asMonths=Mo,sg.asQuarters=Eo,sg.asYears=Do,sg.valueOf=Xo,sg._bubble=Wo,sg.clone=zo,sg.get=jo,sg.milliseconds=Lo,sg.seconds=Uo,sg.minutes=Qo,sg.hours=_o,sg.days=Oo,sg.weeks=$o,sg.months=Po,sg.years=qo,sg.humanize=gg,sg.toISOString=cg,sg.toString=cg,sg.toJSON=cg,sg.locale=ga,sg.localeData=la,sg.toIsoString=B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cg),sg.lang=ia,M("X",0,0,"unix"),M("x",0,0,"valueOf"),Ye("x",Ve),Ye("X",Xe),Ke("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ke("x",(function(e,t,n){n._d=new Date(se(e))})),r.version="2.29.4",a(_n),r.fn=lo,r.min=$n,r.max=er,r.now=tr,r.utc=d,r.unix=co,r.months=mo,r.isDate=I,r.locale=An,r.invalid=p,r.duration=Wr,r.isMoment=v,r.weekdays=fo,r.parseZone=so,r.localeData=pn,r.isDuration=ir,r.monthsShort=po,r.weekdaysMin=yo,r.defineLocale=hn,r.updateLocale=mn,r.locales=fn,r.weekdaysShort=bo,r.normalizeUnits=re,r.relativeTimeRounding=ag,r.relativeTimeThreshold=og,r.calendarFormat=Er,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}return(0,o.default)(r)};var r,a=n(6054),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,o,g){var i=a||"<<anonymous>>",l=g||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+i+"`."):null;for(var c=arguments.length,s=Array(c>6?c-6:0),I=6;I<c;I++)s[I-6]=arguments[I];return e.apply(void 0,[n,r,i,o,l].concat(s))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,g){if(g!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3513:function(e,t,n){"use strict";var r,a,o,g,i,l,c,s,I,u,C,d,A,h,m,p,f,b,y,Z,v,G,B,S,k,W,V,R,w,X,J,Y,x,H,N,F,K,M,E,D,z,j,T,L,U,Q,_,O,P,q,$,ee,te,ne,re,ae,oe=n(7424).default,ge=n(8416).default,ie=n(9400).default,le=n(861).default;var ce=n(2791),se=n(6444);function Ie(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ue,Ce=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(ce),de=Ie(ce),Ae=Ie(se);function he(e,t){return e[t]}function me(e,t){return t.split(".").reduce((function(e,t){var n=t.match(/[^\]\\[.]+/g);if(n&&n.length>1)for(var r=0;r<n.length;r++)return e[n[r]][n[r+1]];return e[t]}),e)}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[].concat(le(e.slice(0,n)),[t],le(e.slice(n)))}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=e.slice(),a=he(t,n);return a?r.splice(r.findIndex((function(e){return he(e,n)===a})),1):r.splice(r.findIndex((function(e){return e===t})),1),r}function be(e){return e.map((function(e,t){var n=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(n.id=t+1),n}))}function ye(e,t){return Math.ceil(e/t)}function Ze(e,t){return Math.min(e,t)}!function(e){e.ASC="asc",e.DESC="desc"}(ue||(ue={}));var ve=function(){return null};function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},a=le(n);return t.length&&t.forEach((function(t){if(!t.when||"function"!=typeof t.when)throw new Error('"when" must be defined in the conditional style object and must be function');t.when(e)&&(r=t.style||{},t.classNames&&(a=[].concat(le(a),le(t.classNames))),"function"==typeof t.style&&(r=t.style(e)||{}))})),{style:r,classNames:a.join(" ")}}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=he(e,n);return r?t.some((function(e){return he(e,n)===r})):t.some((function(t){return t===e}))}function Se(e,t){return t?e.findIndex((function(e){return ke(e.id,t)})):-1}function ke(e,t){return e==t}function We(e,t){var n=!e.toggleOnSelectedRowsChange;switch(t.type){case"SELECT_ALL_ROWS":var r=t.keyField,a=t.rows,o=t.rowCount,g=t.mergeSelections,i=!e.allSelected,l=!e.toggleOnSelectedRowsChange;if(g){var c=i?[].concat(le(e.selectedRows),le(a.filter((function(t){return!Be(t,e.selectedRows,r)})))):e.selectedRows.filter((function(e){return!Be(e,a,r)}));return Object.assign(Object.assign({},e),{allSelected:i,selectedCount:c.length,selectedRows:c,toggleOnSelectedRowsChange:l})}return Object.assign(Object.assign({},e),{allSelected:i,selectedCount:i?o:0,selectedRows:i?a:[],toggleOnSelectedRowsChange:l});case"SELECT_SINGLE_ROW":var s=t.keyField,I=t.row,u=t.isSelected,C=t.rowCount;return t.singleSelect?u?Object.assign(Object.assign({},e),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:1,allSelected:!1,selectedRows:[I],toggleOnSelectedRowsChange:n}):u?Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length>0?e.selectedRows.length-1:0,allSelected:!1,selectedRows:fe(e.selectedRows,I,s),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},e),{selectedCount:e.selectedRows.length+1,allSelected:e.selectedRows.length+1===C,selectedRows:pe(e.selectedRows,I),toggleOnSelectedRowsChange:n});case"SELECT_MULTIPLE_ROWS":var d=t.keyField,A=t.selectedRows,h=t.totalRows;if(t.mergeSelections){var m=[].concat(le(e.selectedRows),le(A.filter((function(t){return!Be(t,e.selectedRows,d)}))));return Object.assign(Object.assign({},e),{selectedCount:m.length,allSelected:!1,selectedRows:m,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},e),{selectedCount:A.length,allSelected:A.length===h,selectedRows:A,toggleOnSelectedRowsChange:n});case"CLEAR_SELECTED_ROWS":var p=t.selectedRowsFlag;return Object.assign(Object.assign({},e),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:p});case"SORT_CHANGE":var f=t.sortDirection,b=t.selectedColumn,y=t.clearSelectedOnSort;return Object.assign(Object.assign(Object.assign({},e),{selectedColumn:b,sortDirection:f,currentPage:1}),y&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_PAGE":var Z=t.page,v=t.paginationServer,G=t.visibleOnly,B=t.persistSelectedOnPageChange,S=v&&B,k=v&&!B||G;return Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:Z}),S&&{allSelected:!1}),k&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n});case"CHANGE_ROWS_PER_PAGE":var W=t.rowsPerPage,V=t.page;return Object.assign(Object.assign({},e),{currentPage:V,rowsPerPage:W})}}var Ve=se.css(r||(r=ie(["\n\tpointer-events: none;\n\topacity: 0.4;\n"]))),Re=Ae.default.div(a||(a=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.disabled&&Ve}),(function(e){return e.theme.table.style})),we=se.css(o||(o=ie(["\n\tposition: sticky;\n\tposition: -webkit-sticky; /* Safari */\n\ttop: 0;\n\tz-index: 1;\n"]))),Xe=Ae.default.div(g||(g=ie(["\n\tdisplay: flex;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.fixedHeader&&we}),(function(e){return e.theme.head.style})),Je=Ae.default.div(i||(i=ie(["\n\tdisplay: flex;\n\talign-items: stretch;\n\twidth: 100%;\n\t",";\n\t",";\n"])),(function(e){return e.theme.headRow.style}),(function(e){var t=e.dense,n=e.theme;return t&&n.headRow.denseStyle})),Ye=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se.css(l||(l=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),599,se.css.apply(se,[e].concat(n)))},xe=Ae.default.div(u||(u=ie(["\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tline-height: normal;\n\t",";\n\t",";\n"])),(function(e){return e.theme[e.headCell?"headCells":"cells"].style}),(function(e){return e.noPadding&&"padding: 0"})),He=Ae.default(xe)(C||(C=ie(["\n\tflex-grow: ",";\n\tflex-shrink: 0;\n\tflex-basis: 0;\n\tmax-width: ",";\n\tmin-width: ",";\n\t",";\n\t",";\n\t",";\n\t",";\n\n\t/* handle hiding cells */\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){var t=e.button,n=e.grow;return 0===n||t?0:n||1}),(function(e){return e.maxWidth||"100%"}),(function(e){return e.minWidth||"100px"}),(function(e){var t=e.width;return t&&se.css(d||(d=ie(["\n\t\t\tmin-width: ",";\n\t\t\tmax-width: ",";\n\t\t"])),t,t)}),(function(e){return e.right&&"justify-content: flex-end"}),(function(e){var t=e.button;return(e.center||t)&&"justify-content: center"}),(function(e){var t=e.compact,n=e.button;return(t||n)&&"padding: 0"}),(function(e){var t=e.hide;return t&&"sm"===t&&Ye(A||(A=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"md"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se.css(c||(c=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),959,se.css.apply(se,[e].concat(n)))}(h||(h=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&"lg"===t&&function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se.css(s||(s=ie(["\n\t\t@media screen and (max-width: ","px) {\n\t\t\t","\n\t\t}\n\t"])),1280,se.css.apply(se,[e].concat(n)))}(m||(m=ie(["\n    display: none;\n  "])))}),(function(e){var t=e.hide;return t&&Number.isInteger(t)&&function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return se.css(I||(I=ie(["\n\t\t\t\t@media screen and (max-width: ","px) {\n\t\t\t\t\t","\n\t\t\t\t}\n\t\t\t"])),e,se.css.apply(se,[t].concat(r)))}}(t)(p||(p=ie(["\n    display: none;\n  "])))})),Ne=se.css(f||(f=ie(["\n\tdiv:first-child {\n\t\twhite-space: ",";\n\t\toverflow: ",";\n\t\ttext-overflow: ellipsis;\n\t}\n"])),(function(e){return e.wrapCell?"normal":"nowrap"}),(function(e){return e.allowOverflow?"visible":"hidden"})),Fe=Ae.default(He).attrs((function(e){return{style:e.style}}))(b||(b=ie(["\n\t",";\n\t",";\n\t",";\n"])),(function(e){return!e.renderAsCell&&Ne}),(function(e){var t=e.theme;return e.isDragging&&t.cells.draggingStyle}),(function(e){return e.cellStyle})),Ke=Ce.memo((function(e){var t=e.id,n=e.column,r=e.row,a=e.rowIndex,o=e.dataTag,g=e.isDragging,i=e.onDragStart,l=e.onDragOver,c=e.onDragEnd,s=e.onDragEnter,I=e.onDragLeave,u=Ge(r,n.conditionalCellStyles,["rdt_TableCell"]),C=u.style,d=u.classNames;return Ce.createElement(Fe,{id:t,"data-column-id":n.id,role:"cell",className:d,"data-tag":o,cellStyle:n.style,renderAsCell:!!n.cell,allowOverflow:n.allowOverflow,button:n.button,center:n.center,compact:n.compact,grow:n.grow,hide:n.hide,maxWidth:n.maxWidth,minWidth:n.minWidth,right:n.right,width:n.width,wrapCell:n.wrap,style:C,isDragging:g,onDragStart:i,onDragOver:l,onDragEnd:c,onDragEnter:s,onDragLeave:I},!n.cell&&Ce.createElement("div",{"data-tag":o},function(e,t,n,r){if(!t)return null;if("string"!=typeof t&&"function"!=typeof t)throw new Error("selector must be a . delimited string eg (my.property) or function (e.g. row => row.field");return n&&"function"==typeof n?n(e,r):t&&"function"==typeof t?t(e,r):me(e,t)}(r,n.selector,n.format,a)),n.cell&&n.cell(r,a,n,t))})),Me=Ce.memo((function(e){var t=e.name,n=e.component,r=void 0===n?"input":n,a=e.componentOptions,o=void 0===a?{style:{}}:a,g=e.indeterminate,i=void 0!==g&&g,l=e.checked,c=void 0!==l&&l,s=e.disabled,I=void 0!==s&&s,u=e.onClick,C=void 0===u?ve:u,d=r,A="input"!==d?o.style:function(e){return Object.assign(Object.assign({fontSize:"18px"},!e&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"})}(I),h=Ce.useMemo((function(){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;return Object.keys(e).map((function(t){return e[t]})).forEach((function(t,r){var o=e;"function"==typeof t&&(a=Object.assign(Object.assign({},o),ge({},Object.keys(e)[r],t.apply(void 0,n))))})),a||e}(o,i)}),[o,i]);return Ce.createElement(d,Object.assign({type:"checkbox",ref:function(e){e&&(e.indeterminate=i)},style:A,onClick:I?ve:C,name:t,"aria-label":t,checked:c,disabled:I},h,{onChange:ve}))})),Ee=Ae.default(xe)(y||(y=ie(["\n\tflex: 0 0 48px;\n\tmin-width: 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n"])));function De(e){var t=e.name,n=e.keyField,r=e.row,a=e.rowCount,o=e.selected,g=e.selectableRowsComponent,i=e.selectableRowsComponentProps,l=e.selectableRowsSingle,c=e.selectableRowDisabled,s=e.onSelectedRow,I=!(!c||!c(r));return Ce.createElement(Ee,{onClick:function(e){return e.stopPropagation()},className:"rdt_TableCell",noPadding:!0},Ce.createElement(Me,{name:t,component:g,componentOptions:i,checked:o,"aria-checked":o,onClick:function(){s({type:"SELECT_SINGLE_ROW",row:r,isSelected:o,keyField:n,rowCount:a,singleSelect:l})},disabled:I}))}var ze=Ae.default.button(Z||(Z=ie(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tborder: none;\n\tbackground-color: transparent;\n\t",";\n"])),(function(e){return e.theme.expanderButton.style}));function je(e){var t=e.disabled,n=void 0!==t&&t,r=e.expanded,a=void 0!==r&&r,o=e.expandableIcon,g=e.id,i=e.row,l=e.onToggled,c=a?o.expanded:o.collapsed;return Ce.createElement(ze,{"aria-disabled":n,onClick:function(){return l&&l(i)},"data-testid":"expander-button-".concat(g),disabled:n,"aria-label":a?"Collapse Row":"Expand Row",role:"button",type:"button"},c)}var Te=Ae.default(xe)(v||(v=ie(["\n\twhite-space: nowrap;\n\tfont-weight: 400;\n\tmin-width: 48px;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style}));function Le(e){var t=e.row,n=e.expanded,r=void 0!==n&&n,a=e.expandableIcon,o=e.id,g=e.onToggled,i=e.disabled,l=void 0!==i&&i;return Ce.createElement(Te,{onClick:function(e){return e.stopPropagation()},noPadding:!0},Ce.createElement(je,{id:o,row:t,expanded:r,expandableIcon:a,disabled:l,onToggled:g}))}var Ue,Qe,_e,Oe=Ae.default.div(G||(G=ie(["\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n"])),(function(e){return e.theme.expanderRow.style}),(function(e){return e.extendedRowStyle})),Pe=Ce.memo((function(e){var t=e.data,n=e.ExpanderComponent,r=e.expanderComponentProps,a=e.extendedRowStyle,o=e.extendedClassNames,g=["rdt_ExpanderRow"].concat(le(o.split(" ").filter((function(e){return"rdt_TableRow"!==e})))).join(" ");return Ce.createElement(Oe,{className:g,extendedRowStyle:a},Ce.createElement(n,Object.assign({data:t},r)))}));t.Nm=void 0,(Ue=t.Nm||(t.Nm={})).LTR="ltr",Ue.RTL="rtl",Ue.AUTO="auto",t.v2=void 0,(Qe=t.v2||(t.v2={})).LEFT="left",Qe.RIGHT="right",Qe.CENTER="center",t.pU=void 0,(_e=t.pU||(t.pU={})).SM="sm",_e.MD="md",_e.LG="lg";var qe=se.css(B||(B=ie(["\n\t&:hover {\n\t\t",";\n\t}\n"])),(function(e){var t=e.highlightOnHover,n=e.theme;return t&&n.rows.highlightOnHoverStyle})),$e=se.css(S||(S=ie(["\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]))),et=Ae.default.div.attrs((function(e){return{style:e.style}}))(k||(k=ie(["\n\tdisplay: flex;\n\talign-items: stretch;\n\talign-content: stretch;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.theme.rows.style}),(function(e){var t=e.dense,n=e.theme;return t&&n.rows.denseStyle}),(function(e){var t=e.striped,n=e.theme;return t&&n.rows.stripedStyle}),(function(e){return e.highlightOnHover&&qe}),(function(e){return e.pointerOnHover&&$e}),(function(e){var t=e.selected,n=e.theme;return t&&n.rows.selectedHighlightStyle}));function tt(e){var t=e.columns,n=void 0===t?[]:t,r=e.conditionalRowStyles,a=void 0===r?[]:r,o=e.defaultExpanded,g=void 0!==o&&o,i=e.defaultExpanderDisabled,l=void 0!==i&&i,c=e.dense,s=void 0!==c&&c,I=e.expandableIcon,u=e.expandableRows,C=void 0!==u&&u,d=e.expandableRowsComponent,A=e.expandableRowsComponentProps,h=e.expandableRowsHideExpander,m=e.expandOnRowClicked,p=void 0!==m&&m,f=e.expandOnRowDoubleClicked,b=void 0!==f&&f,y=e.highlightOnHover,Z=void 0!==y&&y,v=e.id,G=e.expandableInheritConditionalStyles,B=e.keyField,S=e.onRowClicked,k=void 0===S?ve:S,W=e.onRowDoubleClicked,V=void 0===W?ve:W,R=e.onRowMouseEnter,w=void 0===R?ve:R,X=e.onRowMouseLeave,J=void 0===X?ve:X,Y=e.onRowExpandToggled,x=void 0===Y?ve:Y,H=e.onSelectedRow,N=void 0===H?ve:H,F=e.pointerOnHover,K=void 0!==F&&F,M=e.row,E=e.rowCount,D=e.rowIndex,z=e.selectableRowDisabled,j=void 0===z?null:z,T=e.selectableRows,L=void 0!==T&&T,U=e.selectableRowsComponent,Q=e.selectableRowsComponentProps,_=e.selectableRowsHighlight,O=void 0!==_&&_,P=e.selectableRowsSingle,q=void 0!==P&&P,$=e.selected,ee=e.striped,te=void 0!==ee&&ee,ne=e.draggingColumnId,re=e.onDragStart,ae=e.onDragOver,ge=e.onDragEnd,ie=e.onDragEnter,le=e.onDragLeave,ce=Ce.useState(g),se=oe(ce,2),Ie=se[0],ue=se[1];Ce.useEffect((function(){ue(g)}),[g]);var de=Ce.useCallback((function(){ue(!Ie),x(!Ie,M)}),[Ie,x,M]),Ae=K||C&&(p||b),me=Ce.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(k(M,e),!l&&C&&p&&de())}),[l,p,C,de,k,M]),pe=Ce.useCallback((function(e){e.target&&"allowRowEvents"===e.target.getAttribute("data-tag")&&(V(M,e),!l&&C&&b&&de())}),[l,b,C,de,V,M]),fe=Ce.useCallback((function(e){w(M,e)}),[w,M]),be=Ce.useCallback((function(e){J(M,e)}),[J,M]),ye=he(M,B),Ze=Ge(M,a,["rdt_TableRow"]),Be=Ze.style,Se=Ze.classNames,We=O&&$,Ve=G?Be:{},Re=te&&D%2==0;return Ce.createElement(Ce.Fragment,null,Ce.createElement(et,{id:"row-".concat(v),role:"row",striped:Re,highlightOnHover:Z,pointerOnHover:!l&&Ae,dense:s,onClick:me,onDoubleClick:pe,onMouseEnter:fe,onMouseLeave:be,className:Se,selected:We,style:Be},L&&Ce.createElement(De,{name:"select-row-".concat(ye),keyField:B,row:M,rowCount:E,selected:$,selectableRowsComponent:U,selectableRowsComponentProps:Q,selectableRowDisabled:j,selectableRowsSingle:q,onSelectedRow:N}),C&&!h&&Ce.createElement(Le,{id:ye,expandableIcon:I,expanded:Ie,row:M,onToggled:de,disabled:l}),n.map((function(e){return e.omit?null:Ce.createElement(Ke,{id:"cell-".concat(e.id,"-").concat(ye),key:"cell-".concat(e.id,"-").concat(ye),dataTag:e.ignoreRowClick||e.button?null:"allowRowEvents",column:e,row:M,rowIndex:D,isDragging:ke(ne,e.id),onDragStart:re,onDragOver:ae,onDragEnd:ge,onDragEnter:ie,onDragLeave:le})}))),C&&Ie&&Ce.createElement(Pe,{key:"expander-".concat(ye),data:M,extendedRowStyle:Ve,extendedClassNames:Se,ExpanderComponent:d,expanderComponentProps:A}))}var nt=Ae.default.span(W||(W=ie(["\n\tpadding: 2px;\n\tcolor: inherit;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\t",";\n\t",";\n"])),(function(e){return e.sortActive?"opacity: 1":"opacity: 0"}),(function(e){return"desc"===e.sortDirection&&"transform: rotate(180deg)"})),rt=function(e){var t=e.sortActive,n=e.sortDirection;return de.default.createElement(nt,{sortActive:t,sortDirection:n},"\u25b2")},at=Ae.default(He)(V||(V=ie(["\n\t",";\n\t",";\n"])),(function(e){return e.button&&"text-align: center"}),(function(e){var t=e.theme;return e.isDragging&&t.headCells.draggingStyle})),ot=se.css(R||(R=ie(["\n\tcursor: pointer;\n\tspan.__rdt_custom_sort_icon__ {\n\t\ti,\n\t\tsvg {\n\t\t\ttransform: 'translate3d(0, 0, 0)';\n\t\t\t",";\n\t\t\tcolor: inherit;\n\t\t\tfont-size: 18px;\n\t\t\theight: 18px;\n\t\t\twidth: 18px;\n\t\t\tbackface-visibility: hidden;\n\t\t\ttransform-style: preserve-3d;\n\t\t\ttransition-duration: 95ms;\n\t\t\ttransition-property: transform;\n\t\t}\n\n\t\t&.asc i,\n\t\t&.asc svg {\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\t}\n\n\t",";\n"])),(function(e){return e.sortActive?"opacity: 1":"opacity: 0"}),(function(e){return!e.sortActive&&se.css(w||(w=ie(["\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\topacity: 0.7;\n\n\t\t\t\tspan,\n\t\t\t\tspan.__rdt_custom_sort_icon__ * {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t}\n\t\t\t}\n\t\t"])))})),gt=Ae.default.div(X||(X=ie(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: inherit;\n\theight: 100%;\n\twidth: 100%;\n\toutline: none;\n\tuser-select: none;\n\toverflow: hidden;\n\t",";\n"])),(function(e){return!e.disabled&&ot})),it=Ae.default.div(J||(J=ie(["\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n"]))),lt=Ce.memo((function(e){var t=e.column,n=e.disabled,r=e.draggingColumnId,a=e.selectedColumn,o=void 0===a?{}:a,g=e.sortDirection,i=e.sortIcon,l=e.sortServer,c=e.pagination,s=e.paginationServer,I=e.persistSelectedOnSort,u=e.selectableRowsVisibleOnly,C=e.onSort,d=e.onDragStart,A=e.onDragOver,h=e.onDragEnd,m=e.onDragEnter,p=e.onDragLeave;Ce.useEffect((function(){"string"==typeof t.selector&&console.error("Warning: ".concat(t.selector," is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]..."))}),[]);var f=Ce.useState(!1),b=oe(f,2),y=b[0],Z=b[1],v=Ce.useRef(null);if(Ce.useEffect((function(){v.current&&Z(v.current.scrollWidth>v.current.clientWidth)}),[y]),t.omit)return null;var G=function(){if(t.sortable||t.selector){var e=g;ke(o.id,t.id)&&(e=g===ue.ASC?ue.DESC:ue.ASC),C({type:"SORT_CHANGE",sortDirection:e,selectedColumn:t,clearSelectedOnSort:c&&s&&!I||l||u})}},B=function(e){return Ce.createElement(rt,{sortActive:e,sortDirection:g})},S=function(){return Ce.createElement("span",{className:[g,"__rdt_custom_sort_icon__"].join(" ")},i)},k=!(!t.sortable||!ke(o.id,t.id)),W=!t.sortable||n,V=t.sortable&&!i&&!t.right,R=t.sortable&&!i&&t.right,w=t.sortable&&i&&!t.right,X=t.sortable&&i&&t.right;return Ce.createElement(at,{"data-column-id":t.id,className:"rdt_TableCol",headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,isDragging:ke(t.id,r),onDragStart:d,onDragOver:A,onDragEnd:h,onDragEnter:m,onDragLeave:p},t.name&&Ce.createElement(gt,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:W?void 0:G,onKeyPress:W?void 0:function(e){"Enter"===e.key&&G()},sortActive:!W&&k,disabled:W},!W&&X&&S(),!W&&R&&B(k),"string"==typeof t.name?Ce.createElement(it,{title:y?t.name:void 0,ref:v,"data-column-id":t.id},t.name):t.name,!W&&w&&S(),!W&&V&&B(k)))})),ct=Ae.default(xe)(Y||(Y=ie(["\n\tflex: 0 0 48px;\n\tjustify-content: center;\n\talign-items: center;\n\tuser-select: none;\n\twhite-space: nowrap;\n\tfont-size: unset;\n"])));function st(e){var t=e.headCell,n=void 0===t||t,r=e.rowData,a=e.keyField,o=e.allSelected,g=e.mergeSelections,i=e.selectedRows,l=e.selectableRowsComponent,c=e.selectableRowsComponentProps,s=e.selectableRowDisabled,I=e.onSelectAllRows,u=i.length>0&&!o,C=s?r.filter((function(e){return!s(e)})):r,d=0===C.length,A=Math.min(r.length,C.length);return Ce.createElement(ct,{className:"rdt_TableCol",headCell:n,noPadding:!0},Ce.createElement(Me,{name:"select-all-rows",component:l,componentOptions:c,onClick:function(){I({type:"SELECT_ALL_ROWS",rows:C,rowCount:A,mergeSelections:g,keyField:a})},checked:o,indeterminate:u,disabled:d}))}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.Nm.AUTO,n="object"==typeof window,r=Ce.useState(!1),a=oe(r,2),o=a[0],g=a[1];return Ce.useEffect((function(){if(n)if("auto"!==e)g("rtl"===e);else{var t=!(!window.document||!window.document.createElement),r=document.getElementsByTagName("BODY")[0],a=document.getElementsByTagName("HTML")[0],o="rtl"===r.dir||"rtl"===a.dir;g(t&&o)}}),[e,n]),o}var ut=Ae.default.div(x||(x=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1 0 auto;\n\theight: 100%;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.contextMenu.fontColor}),(function(e){return e.theme.contextMenu.fontSize})),Ct=Ae.default.div(H||(H=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\tflex-wrap: wrap;\n"]))),dt=Ae.default.div(N||(N=ie(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: inherit;\n\tz-index: 1;\n\talign-items: center;\n\tjustify-content: space-between;\n\tdisplay: flex;\n\t",";\n\t",";\n\t",";\n"])),(function(e){return e.rtl&&"direction: rtl"}),(function(e){return e.theme.contextMenu.style}),(function(e){var t=e.theme;return e.visible&&t.contextMenu.activeStyle}));function At(e){var t=e.contextMessage,n=e.contextActions,r=e.contextComponent,a=e.selectedCount,o=It(e.direction),g=a>0;return r?Ce.createElement(dt,{visible:g},Ce.cloneElement(r,{selectedCount:a})):Ce.createElement(dt,{visible:g,rtl:o},Ce.createElement(ut,null,function(e,t,n){if(0===t)return null;var r=1===t?e.singular:e.plural;return n?"".concat(t," ").concat(e.message||""," ").concat(r):"".concat(t," ").concat(r," ").concat(e.message||"")}(t,a,o)),Ce.createElement(Ct,null,n))}var ht=Ae.default.div(F||(F=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\talign-items: center;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tflex-wrap: wrap;\n\t","\n"])),(function(e){return e.theme.header.style})),mt=Ae.default.div(K||(K=ie(["\n\tflex: 1 0 auto;\n\tcolor: ",";\n\tfont-size: ",";\n\tfont-weight: 400;\n"])),(function(e){return e.theme.header.fontColor}),(function(e){return e.theme.header.fontSize})),pt=Ae.default.div(M||(M=ie(["\n\tflex: 1 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-end;\n\n\t> * {\n\t\tmargin-left: 5px;\n\t}\n"]))),ft=function(e){var t=e.title,n=e.actions,r=void 0===n?null:n,a=e.contextMessage,o=e.contextActions,g=e.contextComponent,i=e.selectedCount,l=e.direction,c=e.showMenu,s=void 0===c||c;return Ce.createElement(ht,{className:"rdt_TableHeader",role:"heading","aria-level":1},Ce.createElement(mt,null,t),r&&Ce.createElement(pt,null,r),s&&Ce.createElement(At,{contextMessage:a,contextActions:o,contextComponent:g,direction:l,selectedCount:i}))};function bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var yt={left:"flex-start",right:"flex-end",center:"center"},Zt=Ae.default.header(E||(E=ie(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tbox-sizing: border-box;\n\talign-items: center;\n\tpadding: 4px 16px 4px 24px;\n\twidth: 100%;\n\tjustify-content: ",";\n\tflex-wrap: ",";\n\t","\n"])),(function(e){var t=e.align;return yt[t]}),(function(e){return e.wrapContent?"wrap":"nowrap"}),(function(e){return e.theme.subHeader.style})),vt=function(e){var t=e.align,n=void 0===t?"right":t,r=e.wrapContent,a=void 0===r||r,o=bt(e,["align","wrapContent"]);return Ce.createElement(Zt,Object.assign({align:n,wrapContent:a},o))},Gt=Ae.default.div(D||(D=ie(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),Bt=Ae.default.div(z||(z=ie(["\n\tposition: relative;\n\twidth: 100%;\n\tborder-radius: inherit;\n\t",";\n\n\t",";\n\n\t",";\n"])),(function(e){var t=e.responsive,n=e.fixedHeader;return t&&se.css(j||(j=ie(["\n\t\t\toverflow-x: auto;\n\n\t\t\t// hidden prevents vertical scrolling in firefox when fixedHeader is disabled\n\t\t\toverflow-y: ",";\n\t\t\tmin-height: 0;\n\t\t"])),n?"auto":"hidden")}),(function(e){var t=e.fixedHeader,n=void 0!==t&&t,r=e.fixedHeaderScrollHeight,a=void 0===r?"100vh":r;return n&&se.css(T||(T=ie(["\n\t\t\tmax-height: ",";\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t"])),a)}),(function(e){return e.theme.responsiveWrapper.style})),St=Ae.default.div(L||(L=ie(["\n\tposition: relative;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.progress.style})),kt=Ae.default.div(U||(U=ie(["\n\tposition: relative;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.tableWrapper.style})),Wt=Ae.default(xe)(Q||(Q=ie(["\n\twhite-space: nowrap;\n\t",";\n"])),(function(e){return e.theme.expanderCell.style})),Vt=Ae.default.div(_||(_=ie(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\t",";\n"])),(function(e){return e.theme.noData.style})),Rt=function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},de.default.createElement("path",{d:"M7 10l5 5 5-5z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},wt=Ae.default.select(O||(O=ie(["\n\tcursor: pointer;\n\theight: 24px;\n\tmax-width: 100%;\n\tuser-select: none;\n\tpadding-left: 8px;\n\tpadding-right: 24px;\n\tbox-sizing: content-box;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tborder: none;\n\tbackground-color: transparent;\n\tappearance: none;\n\tdirection: ltr;\n\tflex-shrink: 0;\n\n\t&::-ms-expand {\n\t\tdisplay: none;\n\t}\n\n\t&:disabled::-ms-expand {\n\t\tbackground: #f60;\n\t}\n\n\toption {\n\t\tcolor: initial;\n\t}\n"]))),Xt=Ae.default.div(P||(P=ie(["\n\tposition: relative;\n\tflex-shrink: 0;\n\tfont-size: inherit;\n\tcolor: inherit;\n\tmargin-top: 1px;\n\n\tsvg {\n\t\ttop: 0;\n\t\tright: 0;\n\t\tcolor: inherit;\n\t\tposition: absolute;\n\t\tfill: currentColor;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tdisplay: inline-block;\n\t\tuser-select: none;\n\t\tpointer-events: none;\n\t}\n"]))),Jt=function(e){var t=e.defaultValue,n=e.onChange,r=bt(e,["defaultValue","onChange"]);return Ce.createElement(Xt,null,Ce.createElement(wt,Object.assign({onChange:n,defaultValue:t},r)),Ce.createElement(Rt,null))},Yt={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return de.default.createElement("div",null,"To add an expander pass in a component instance via ",de.default.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:de.default.createElement((function(){return de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),de.default.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"}))}),null),expanded:de.default.createElement((function(){return de.default.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},de.default.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),de.default.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"}))}),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:de.default.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:de.default.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:t.v2.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),de.default.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"}))}),null),paginationIconLastPage:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),de.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),paginationIconNext:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),paginationIconPrevious:de.default.createElement((function(){return de.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},de.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),de.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:t.Nm.AUTO,onChangePage:ve,onChangeRowsPerPage:ve,onRowClicked:ve,onRowDoubleClicked:ve,onRowMouseEnter:ve,onRowMouseLeave:ve,onRowExpandToggled:ve,onSelectedRowsChange:ve,onSort:ve,onColumnOrderChange:ve},xt={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},Ht=Ae.default.nav(q||(q=ie(["\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding-right: 8px;\n\tpadding-left: 8px;\n\twidth: 100%;\n\t",";\n"])),(function(e){return e.theme.pagination.style})),Nt=Ae.default.button($||($=ie(["\n\tposition: relative;\n\tdisplay: block;\n\tuser-select: none;\n\tborder: none;\n\t",";\n\t",";\n"])),(function(e){return e.theme.pagination.pageButtonsStyle}),(function(e){return e.isRTL&&"transform: scale(-1, -1)"})),Ft=Ae.default.div(ee||(ee=ie(["\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 4px;\n\twhite-space: nowrap;\n\t",";\n"])),Ye(te||(te=ie(["\n    width: 100%;\n    justify-content: space-around;\n  "])))),Kt=Ae.default.span(ne||(ne=ie(["\n\tflex-shrink: 1;\n\tuser-select: none;\n"]))),Mt=Ae.default(Kt)(re||(re=ie(["\n\tmargin: 0 24px;\n"]))),Et=Ae.default(Kt)(ae||(ae=ie(["\n\tmargin: 0 4px;\n"]))),Dt=Ce.memo((function(e){var t=e.rowsPerPage,n=e.rowCount,r=e.currentPage,a=e.direction,o=void 0===a?Yt.direction:a,g=e.paginationRowsPerPageOptions,i=void 0===g?Yt.paginationRowsPerPageOptions:g,l=e.paginationIconLastPage,c=void 0===l?Yt.paginationIconLastPage:l,s=e.paginationIconFirstPage,I=void 0===s?Yt.paginationIconFirstPage:s,u=e.paginationIconNext,C=void 0===u?Yt.paginationIconNext:u,d=e.paginationIconPrevious,A=void 0===d?Yt.paginationIconPrevious:d,h=e.paginationComponentOptions,m=void 0===h?Yt.paginationComponentOptions:h,p=e.onChangeRowsPerPage,f=void 0===p?Yt.onChangeRowsPerPage:p,b=e.onChangePage,y=void 0===b?Yt.onChangePage:b,Z=function(){var e="object"==typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Ce.useState(t),r=oe(n,2),a=r[0],o=r[1];return Ce.useEffect((function(){if(!e)return function(){return null};function n(){o(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),a}(),v=It(o),G=Z.width&&Z.width>599,B=ye(n,t),S=r*t,k=S-t+1,W=1===r,V=r===B,R=Object.assign(Object.assign({},xt),m),w=r===B?"".concat(k,"-").concat(n," ").concat(R.rangeSeparatorText," ").concat(n):"".concat(k,"-").concat(S," ").concat(R.rangeSeparatorText," ").concat(n),X=Ce.useCallback((function(){return y(r-1)}),[r,y]),J=Ce.useCallback((function(){return y(r+1)}),[r,y]),Y=Ce.useCallback((function(){return y(1)}),[y]),x=Ce.useCallback((function(){return y(ye(n,t))}),[y,n,t]),H=Ce.useCallback((function(e){return f(Number(e.target.value),r)}),[r,f]),N=i.map((function(e){return Ce.createElement("option",{key:e,value:e},e)}));R.selectAllRowsItem&&N.push(Ce.createElement("option",{key:-1,value:n},R.selectAllRowsItemText));var F=Ce.createElement(Jt,{onChange:H,defaultValue:t,"aria-label":R.rowsPerPageText},N);return Ce.createElement(Ht,{className:"rdt_Pagination"},!R.noRowsPerPage&&G&&Ce.createElement(Ce.Fragment,null,Ce.createElement(Et,null,R.rowsPerPageText),F),G&&Ce.createElement(Mt,null,w),Ce.createElement(Ft,null,Ce.createElement(Nt,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":W,onClick:Y,disabled:W,isRTL:v},I),Ce.createElement(Nt,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":W,onClick:X,disabled:W,isRTL:v},A),!G&&F,Ce.createElement(Nt,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":V,onClick:J,disabled:V,isRTL:v},C),Ce.createElement(Nt,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":V,onClick:x,disabled:V,isRTL:v},c)))})),zt=function(e,t){var n=Ce.useRef(!0);Ce.useEffect((function(){n.current?n.current=!1:e()}),t)},jt=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Tt}(e)}(e)},Tt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Lt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Ot((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Ut(e,t,n){return e.concat(t).map((function(e){return Lt(e,n)}))}function Qt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function _t(e,t){try{return t in e}catch(e){return!1}}function Ot(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Ut,n.isMergeableObject=n.isMergeableObject||jt,n.cloneUnlessOtherwiseSpecified=Lt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Qt(e).forEach((function(t){r[t]=Lt(e[t],n)})),Qt(t).forEach((function(a){(function(e,t){return _t(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(_t(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return Ot;var n=t.customMerge(e);return"function"==typeof n?n:Ot}(a,n)(e[a],t[a],n):r[a]=Lt(t[a],n))})),r}(e,t,n):Lt(t,n)}Ot.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Ot(e,n,t)}),{})};var Pt=Ot,qt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},$t={default:qt,light:qt,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function en(e,t,n,r){var a=Ce.useState((function(){return be(e)})),o=oe(a,2),g=o[0],i=o[1],l=Ce.useState(""),c=oe(l,2),s=c[0],I=c[1],u=Ce.useRef("");zt((function(){i(be(e))}),[e]);var C=Ce.useCallback((function(e){var t,n,r,a=null===(t=e.target.attributes.getNamedItem("data-column-id"))||void 0===t?void 0:t.value;a&&(u.current=(null===(r=null===(n=g[Se(g,a)])||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())||"",I(u.current))}),[g]),d=Ce.useCallback((function(e){var n,r=null===(n=e.target.attributes.getNamedItem("data-column-id"))||void 0===n?void 0:n.value;if(r&&u.current&&r!==u.current){var a=Se(g,u.current),o=Se(g,r),l=le(g);l[a]=g[o],l[o]=g[a],i(l),t(l)}}),[t,g]),A=Ce.useCallback((function(e){e.preventDefault()}),[]),h=Ce.useCallback((function(e){e.preventDefault()}),[]),m=Ce.useCallback((function(e){e.preventDefault(),u.current="",I("")}),[]),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?ue.ASC:ue.DESC}(r),f=Ce.useMemo((function(){return g[Se(g,null==n?void 0:n.toString())]||{}}),[n,g]);return{tableColumns:g,draggingColumnId:s,handleDragStart:C,handleDragEnter:d,handleDragOver:A,handleDragLeave:h,handleDragEnd:m,defaultSortDirection:p,defaultSortColumn:f}}var tn=Ce.memo((function(e){var t=e.data,n=void 0===t?Yt.data:t,r=e.columns,a=void 0===r?Yt.columns:r,o=e.title,g=void 0===o?Yt.title:o,i=e.actions,l=void 0===i?Yt.actions:i,c=e.keyField,s=void 0===c?Yt.keyField:c,I=e.striped,u=void 0===I?Yt.striped:I,C=e.highlightOnHover,d=void 0===C?Yt.highlightOnHover:C,A=e.pointerOnHover,h=void 0===A?Yt.pointerOnHover:A,m=e.dense,p=void 0===m?Yt.dense:m,f=e.selectableRows,b=void 0===f?Yt.selectableRows:f,y=e.selectableRowsSingle,Z=void 0===y?Yt.selectableRowsSingle:y,v=e.selectableRowsHighlight,G=void 0===v?Yt.selectableRowsHighlight:v,B=e.selectableRowsNoSelectAll,S=void 0===B?Yt.selectableRowsNoSelectAll:B,k=e.selectableRowsVisibleOnly,W=void 0===k?Yt.selectableRowsVisibleOnly:k,V=e.selectableRowSelected,R=void 0===V?Yt.selectableRowSelected:V,w=e.selectableRowDisabled,X=void 0===w?Yt.selectableRowDisabled:w,J=e.selectableRowsComponent,Y=void 0===J?Yt.selectableRowsComponent:J,x=e.selectableRowsComponentProps,H=void 0===x?Yt.selectableRowsComponentProps:x,N=e.onRowExpandToggled,F=void 0===N?Yt.onRowExpandToggled:N,K=e.onSelectedRowsChange,M=void 0===K?Yt.onSelectedRowsChange:K,E=e.expandableIcon,D=void 0===E?Yt.expandableIcon:E,z=e.onChangeRowsPerPage,j=void 0===z?Yt.onChangeRowsPerPage:z,T=e.onChangePage,L=void 0===T?Yt.onChangePage:T,U=e.paginationServer,Q=void 0===U?Yt.paginationServer:U,_=e.paginationServerOptions,O=void 0===_?Yt.paginationServerOptions:_,P=e.paginationTotalRows,q=void 0===P?Yt.paginationTotalRows:P,$=e.paginationDefaultPage,ee=void 0===$?Yt.paginationDefaultPage:$,te=e.paginationResetDefaultPage,ne=void 0===te?Yt.paginationResetDefaultPage:te,re=e.paginationPerPage,ae=void 0===re?Yt.paginationPerPage:re,ge=e.paginationRowsPerPageOptions,ie=void 0===ge?Yt.paginationRowsPerPageOptions:ge,ce=e.paginationIconLastPage,Ie=void 0===ce?Yt.paginationIconLastPage:ce,de=e.paginationIconFirstPage,Ae=void 0===de?Yt.paginationIconFirstPage:de,pe=e.paginationIconNext,fe=void 0===pe?Yt.paginationIconNext:pe,be=e.paginationIconPrevious,ve=void 0===be?Yt.paginationIconPrevious:be,Ge=e.paginationComponent,Se=void 0===Ge?Yt.paginationComponent:Ge,ke=e.paginationComponentOptions,Ve=void 0===ke?Yt.paginationComponentOptions:ke,we=e.responsive,Ye=void 0===we?Yt.responsive:we,He=e.progressPending,Ne=void 0===He?Yt.progressPending:He,Fe=e.progressComponent,Ke=void 0===Fe?Yt.progressComponent:Fe,Me=e.persistTableHead,Ee=void 0===Me?Yt.persistTableHead:Me,De=e.noDataComponent,ze=void 0===De?Yt.noDataComponent:De,je=e.disabled,Te=void 0===je?Yt.disabled:je,Le=e.noTableHead,Ue=void 0===Le?Yt.noTableHead:Le,Qe=e.noHeader,_e=void 0===Qe?Yt.noHeader:Qe,Oe=e.fixedHeader,Pe=void 0===Oe?Yt.fixedHeader:Oe,qe=e.fixedHeaderScrollHeight,$e=void 0===qe?Yt.fixedHeaderScrollHeight:qe,et=e.pagination,nt=void 0===et?Yt.pagination:et,rt=e.subHeader,at=void 0===rt?Yt.subHeader:rt,ot=e.subHeaderAlign,gt=void 0===ot?Yt.subHeaderAlign:ot,it=e.subHeaderWrap,ct=void 0===it?Yt.subHeaderWrap:it,It=e.subHeaderComponent,ut=void 0===It?Yt.subHeaderComponent:It,Ct=e.noContextMenu,dt=void 0===Ct?Yt.noContextMenu:Ct,At=e.contextMessage,ht=void 0===At?Yt.contextMessage:At,mt=e.contextActions,pt=void 0===mt?Yt.contextActions:mt,bt=e.contextComponent,yt=void 0===bt?Yt.contextComponent:bt,Zt=e.expandableRows,Rt=void 0===Zt?Yt.expandableRows:Zt,wt=e.onRowClicked,Xt=void 0===wt?Yt.onRowClicked:wt,Jt=e.onRowDoubleClicked,xt=void 0===Jt?Yt.onRowDoubleClicked:Jt,Ht=e.onRowMouseEnter,Nt=void 0===Ht?Yt.onRowMouseEnter:Ht,Ft=e.onRowMouseLeave,Kt=void 0===Ft?Yt.onRowMouseLeave:Ft,Mt=e.sortIcon,Et=void 0===Mt?Yt.sortIcon:Mt,jt=e.onSort,Tt=void 0===jt?Yt.onSort:jt,Lt=e.sortFunction,Ut=void 0===Lt?Yt.sortFunction:Lt,Qt=e.sortServer,_t=void 0===Qt?Yt.sortServer:Qt,Ot=e.expandableRowsComponent,qt=void 0===Ot?Yt.expandableRowsComponent:Ot,tn=e.expandableRowsComponentProps,nn=void 0===tn?Yt.expandableRowsComponentProps:tn,rn=e.expandableRowDisabled,an=void 0===rn?Yt.expandableRowDisabled:rn,on=e.expandableRowsHideExpander,gn=void 0===on?Yt.expandableRowsHideExpander:on,ln=e.expandOnRowClicked,cn=void 0===ln?Yt.expandOnRowClicked:ln,sn=e.expandOnRowDoubleClicked,In=void 0===sn?Yt.expandOnRowDoubleClicked:sn,un=e.expandableRowExpanded,Cn=void 0===un?Yt.expandableRowExpanded:un,dn=e.expandableInheritConditionalStyles,An=void 0===dn?Yt.expandableInheritConditionalStyles:dn,hn=e.defaultSortFieldId,mn=void 0===hn?Yt.defaultSortFieldId:hn,pn=e.defaultSortAsc,fn=void 0===pn?Yt.defaultSortAsc:pn,bn=e.clearSelectedRows,yn=void 0===bn?Yt.clearSelectedRows:bn,Zn=e.conditionalRowStyles,vn=void 0===Zn?Yt.conditionalRowStyles:Zn,Gn=e.theme,Bn=void 0===Gn?Yt.theme:Gn,Sn=e.customStyles,kn=void 0===Sn?Yt.customStyles:Sn,Wn=e.direction,Vn=void 0===Wn?Yt.direction:Wn,Rn=e.onColumnOrderChange,wn=void 0===Rn?Yt.onColumnOrderChange:Rn,Xn=e.className,Jn=en(a,wn,mn,fn),Yn=Jn.tableColumns,xn=Jn.draggingColumnId,Hn=Jn.handleDragStart,Nn=Jn.handleDragEnter,Fn=Jn.handleDragOver,Kn=Jn.handleDragLeave,Mn=Jn.handleDragEnd,En=Jn.defaultSortDirection,Dn=Jn.defaultSortColumn,zn=Ce.useReducer(We,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Dn,toggleOnSelectedRowsChange:!1,sortDirection:En,currentPage:ee,rowsPerPage:ae,selectedRowsFlag:!1,contextMessage:Yt.contextMessage}),jn=oe(zn,2),Tn=jn[0],Ln=Tn.rowsPerPage,Un=Tn.currentPage,Qn=Tn.selectedRows,_n=Tn.allSelected,On=Tn.selectedCount,Pn=Tn.selectedColumn,qn=Tn.sortDirection,$n=Tn.toggleOnSelectedRowsChange,er=jn[1],tr=O.persistSelectedOnSort,nr=void 0!==tr&&tr,rr=O.persistSelectedOnPageChange,ar=void 0!==rr&&rr,or=!(!Q||!ar&&!nr),gr=nt&&!Ne&&n.length>0,ir=Se||Dt,lr=Ce.useMemo((function(){return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",a=$t[n]?n:r;return Pt({table:{style:{color:(e=$t[a]).text.primary,backgroundColor:e.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:e.text.primary,backgroundColor:e.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:e.background.default,minHeight:"52px"}},head:{style:{color:e.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:e.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:e.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:e.context.background,fontSize:"18px",fontWeight:400,color:e.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:e.text.primary,backgroundColor:e.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:e.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:e.selected.text,backgroundColor:e.selected.default,borderBottomColor:e.background.default}},highlightOnHoverStyle:{color:e.highlightOnHover.text,backgroundColor:e.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:e.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:e.background.default},stripedStyle:{color:e.striped.text,backgroundColor:e.striped.default}},expanderRow:{style:{color:e.text.primary,backgroundColor:e.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:e.button.default,fill:e.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:e.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:e.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:e.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:e.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:e.button.default,fill:e.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:e.button.disabled,fill:e.button.disabled},"&:hover:not(:disabled)":{backgroundColor:e.button.hover},"&:focus":{outline:"none",backgroundColor:e.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.text.primary,backgroundColor:e.background.default}}},t)}(kn,Bn)}),[kn,Bn]),cr=Ce.useMemo((function(){return Object.assign({},"auto"!==Vn&&{dir:Vn})}),[Vn]),sr=Ce.useMemo((function(){if(_t)return n;if((null==Pn?void 0:Pn.sortFunction)&&"function"==typeof Pn.sortFunction){var e=Pn.sortFunction,t=qn===ue.ASC?e:function(t,n){return-1*e(t,n)};return le(n).sort(t)}return function(e,t,n,r){return t?r&&"function"==typeof r?r(e.slice(0),t,n):e.slice(0).sort((function(e,r){var a,o;if("string"==typeof t?(a=me(e,t),o=me(r,t)):(a=t(e),o=t(r)),"asc"===n){if(a<o)return-1;if(a>o)return 1}if("desc"===n){if(a>o)return-1;if(a<o)return 1}return 0})):e}(n,null==Pn?void 0:Pn.selector,qn,Ut)}),[_t,Pn,qn,n,Ut]),Ir=Ce.useMemo((function(){if(nt&&!Q){var e=Un*Ln,t=e-Ln;return sr.slice(t,e)}return sr}),[Un,nt,Q,Ln,sr]),ur=Ce.useCallback((function(e){er(e)}),[]),Cr=Ce.useCallback((function(e){er(e)}),[]),dr=Ce.useCallback((function(e){er(e)}),[]),Ar=Ce.useCallback((function(e,t){return Xt(e,t)}),[Xt]),hr=Ce.useCallback((function(e,t){return xt(e,t)}),[xt]),mr=Ce.useCallback((function(e,t){return Nt(e,t)}),[Nt]),pr=Ce.useCallback((function(e,t){return Kt(e,t)}),[Kt]),fr=Ce.useCallback((function(e){return er({type:"CHANGE_PAGE",page:e,paginationServer:Q,visibleOnly:W,persistSelectedOnPageChange:ar})}),[Q,ar,W]),br=Ce.useCallback((function(e){var t=ye(q||Ir.length,e),n=Ze(Un,t);Q||fr(n),er({type:"CHANGE_ROWS_PER_PAGE",page:n,rowsPerPage:e})}),[Un,fr,Q,q,Ir.length]);if(nt&&!Q&&sr.length>0&&0===Ir.length){var yr=ye(sr.length,Ln),Zr=Ze(Un,yr);fr(Zr)}zt((function(){M({allSelected:_n,selectedCount:On,selectedRows:Qn.slice(0)})}),[$n]),zt((function(){Tt(Pn,qn,sr.slice(0))}),[Pn,qn]),zt((function(){L(Un,q||sr.length)}),[Un]),zt((function(){j(Ln,Un)}),[Ln]),zt((function(){fr(ee)}),[ee,ne]),zt((function(){if(nt&&Q&&q>0){var e=ye(q,Ln),t=Ze(Un,e);Un!==t&&fr(t)}}),[q]),Ce.useEffect((function(){er({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:yn})}),[Z,yn]),Ce.useEffect((function(){if(R){var e=sr.filter((function(e){return R(e)})),t=Z?e.slice(0,1):e;er({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:t,totalRows:sr.length,mergeSelections:or})}}),[n,R]);var vr=W?Ir:sr,Gr=ar||Z||S;return Ce.createElement(se.ThemeProvider,{theme:lr},!_e&&(!!g||!!l)&&Ce.createElement(ft,{title:g,actions:l,showMenu:!dt,selectedCount:On,direction:Vn,contextActions:pt,contextComponent:yt,contextMessage:ht}),at&&Ce.createElement(vt,{align:gt,wrapContent:ct},ut),Ce.createElement(Bt,Object.assign({responsive:Ye,fixedHeader:Pe,fixedHeaderScrollHeight:$e,className:Xn},cr),Ce.createElement(kt,null,Ne&&!Ee&&Ce.createElement(St,null,Ke),Ce.createElement(Re,{disabled:Te,className:"rdt_Table",role:"table"},!Ue&&(!!Ee||sr.length>0&&!Ne)&&Ce.createElement(Xe,{className:"rdt_TableHead",role:"rowgroup",fixedHeader:Pe},Ce.createElement(Je,{className:"rdt_TableHeadRow",role:"row",dense:p},b&&(Gr?Ce.createElement(xe,{style:{flex:"0 0 48px"}}):Ce.createElement(st,{allSelected:_n,selectedRows:Qn,selectableRowsComponent:Y,selectableRowsComponentProps:H,selectableRowDisabled:X,rowData:vr,keyField:s,mergeSelections:or,onSelectAllRows:Cr})),Rt&&!gn&&Ce.createElement(Wt,null),Yn.map((function(e){return Ce.createElement(lt,{key:e.id,column:e,selectedColumn:Pn,disabled:Ne||0===sr.length,pagination:nt,paginationServer:Q,persistSelectedOnSort:nr,selectableRowsVisibleOnly:W,sortDirection:qn,sortIcon:Et,sortServer:_t,onSort:ur,onDragStart:Hn,onDragOver:Fn,onDragEnd:Mn,onDragEnter:Nn,onDragLeave:Kn,draggingColumnId:xn})})))),!sr.length&&!Ne&&Ce.createElement(Vt,null,ze),Ne&&Ee&&Ce.createElement(St,null,Ke),!Ne&&sr.length>0&&Ce.createElement(Gt,{className:"rdt_TableBody",role:"rowgroup"},Ir.map((function(e,t){var n=he(e,s),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"number"!=typeof e&&(!e||0===e.length)}(n)?t:n,a=Be(e,Qn,s),o=!!(Rt&&Cn&&Cn(e)),g=!!(Rt&&an&&an(e));return Ce.createElement(tt,{id:r,key:r,keyField:s,"data-row-id":r,columns:Yn,row:e,rowCount:sr.length,rowIndex:t,selectableRows:b,expandableRows:Rt,expandableIcon:D,highlightOnHover:d,pointerOnHover:h,dense:p,expandOnRowClicked:cn,expandOnRowDoubleClicked:In,expandableRowsComponent:qt,expandableRowsComponentProps:nn,expandableRowsHideExpander:gn,defaultExpanderDisabled:g,defaultExpanded:o,expandableInheritConditionalStyles:An,conditionalRowStyles:vn,selected:a,selectableRowsHighlight:G,selectableRowsComponent:Y,selectableRowsComponentProps:H,selectableRowDisabled:X,selectableRowsSingle:Z,striped:u,onRowExpandToggled:F,onRowClicked:Ar,onRowDoubleClicked:hr,onRowMouseEnter:mr,onRowMouseLeave:pr,onSelectedRow:dr,draggingColumnId:xn,onDragStart:Hn,onDragOver:Fn,onDragEnd:Mn,onDragEnter:Nn,onDragLeave:Kn})})))))),gr&&Ce.createElement("div",null,Ce.createElement(ir,{onChangePage:fr,onChangeRowsPerPage:br,rowCount:q||sr.length,currentPage:Un,rowsPerPage:Ln,direction:Vn,paginationRowsPerPageOptions:ie,paginationIconLastPage:Ie,paginationIconFirstPage:Ae,paginationIconNext:fe,paginationIconPrevious:ve,paginationComponentOptions:Ve})))}));t.ZP=tn},9513:function(e,t,n){!function(e,t,n,r,a,o,g,i,l,c,s,I,u,C,d,A,h,m,p,f,b,y,Z,v,G,B,S,k,W,V,R,w,X,J,Y,x,H,N,F,K,M,E,D,z,j,T,L,U,Q,_,O,P,q,$,ee,te,ne,re,ae,oe,ge,ie,le){"use strict";function ce(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var se=ce(t),Ie=ce(r),ue=ce(a),Ce=ce(o),de=ce(g),Ae=ce(i),he=ce(l),me=ce(c),pe=ce(s),fe=ce(I),be=ce(u),ye=ce(A),Ze=ce(h),ve=ce(m),Ge=ce(p),Be=ce(f),Se=ce(b),ke=ce(y),We=ce(Z),Ve=ce(v),Re=ce(G),we=ce(B),Xe=ce(S),Je=ce(k),Ye=ce(W),xe=ce(V),He=ce(R),Ne=ce(w),Fe=ce(X),Ke=ce(J),Me=ce(Y),Ee=ce(x),De=ce(H),ze=ce(N),je=ce(F),Te=ce(M),Le=ce(E),Ue=ce(D),Qe=ce(z),_e=ce(j),Oe=ce(T),Pe=ce(L),qe=ce(_),$e=ce(O),et=ce(P),tt=ce(q),nt=ce($),rt=ce(ee),at=ce(te),ot=ce(ne),gt=ce(re),it=ce(ae),lt=ce(oe),ct=ce(ge),st=ce(ie);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t&&At(e.prototype,t),n&&At(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yt(e,t)}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var a=bt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vt(this,n)}}function Bt(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kt(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function Wt(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var Vt={p:Wt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return kt(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",kt(a,t)).replace("{{time}}",Wt(o,t))}},Rt=12,wt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Xt(e){var t=e?"string"==typeof e||e instanceof String?lt.default(e):gt.default(e):new Date;return Yt(t)?t:null}function Jt(e,t,n,r,a){var o=null,g=qt(n)||qt(Pt()),i=!0;return Array.isArray(t)?(t.forEach((function(t){var l=it.default(e,t,new Date,{locale:g});r&&(i=Yt(l,a)&&e===xt(l,t,n)),Yt(l,a)&&i&&(o=l)})),o):(o=it.default(e,t,new Date,{locale:g}),r?i=Yt(o)&&e===xt(o,t,n):Yt(o)||(t=t.match(wt).map((function(e){var t=e[0];return"p"===t||"P"===t?g?(0,Vt[t])(e,g.formatLong):t:e})).join(""),e.length>0&&(o=it.default(e,t.slice(0,e.length),new Date)),Yt(o)||(o=new Date(e))),Yt(o)&&i?o:null)}function Yt(e,t){return t=t||new Date("1/1/1000"),Ce.default(e)&&!at.default(e,t)}function xt(e,t,n){if("en"===n)return de.default(e,t,{awareOfUnicodeTokens:!0});var r=qt(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Pt()&&qt(Pt())&&(r=qt(Pt())),de.default(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function Ht(e,t){var n=t.dateFormat,r=t.locale;return e&&xt(e,Array.isArray(n)?n[0]:n,r)||""}function Nt(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,o=void 0===a?0:a,g=t.second,i=void 0===g?0:g;return Ne.default(He.default(xe.default(e,i),o),r)}function Ft(e,t){var n=t&&qt(t)||Pt()&&qt(Pt());return Re.default(e,n?{locale:n}:null)}function Kt(e,t){return xt(e,"ddd",t)}function Mt(e){return Le.default(e)}function Et(e,t,n){var r=qt(t||Pt());return Ue.default(e,{locale:r,weekStartsOn:n})}function Dt(e){return Qe.default(e)}function zt(e){return Oe.default(e)}function jt(e){return _e.default(e)}function Tt(e,t){return e&&t?tt.default(e,t):!e&&!t}function Lt(e,t){return e&&t?et.default(e,t):!e&&!t}function Ut(e,t){return e&&t?nt.default(e,t):!e&&!t}function Qt(e,t){return e&&t?$e.default(e,t):!e&&!t}function _t(e,t){return e&&t?qe.default(e,t):!e&&!t}function Ot(e,t,n){var r,a=Le.default(t),o=Pe.default(n);try{r=ot.default(e,{start:a,end:o})}catch(e){r=!1}return r}function Pt(){return("undefined"!=typeof window?window:globalThis).__localeId__}function qt(e){if("string"==typeof e){var t="undefined"!=typeof window?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}return e}function $t(e,t){return xt(Fe.default(Xt(),e),"LLLL",t)}function en(e,t){return xt(Fe.default(Xt(),e),"LLL",t)}function tn(e,t){return xt(Ke.default(Xt(),e),"QQQ",t)}function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.excludeDateIntervals,g=t.includeDates,i=t.includeDateIntervals,l=t.filterDate;return sn(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Qt(e,t)}))||o&&o.some((function(t){var n=t.start,r=t.end;return ot.default(e,{start:n,end:r})}))||g&&!g.some((function(t){return Qt(e,t)}))||i&&!i.some((function(t){var n=t.start,r=t.end;return ot.default(e,{start:n,end:r})}))||l&&!l(Xt(e))||!1}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some((function(t){var n=t.start,r=t.end;return ot.default(e,{start:n,end:r})})):n&&n.some((function(t){return Qt(e,t)}))||!1}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,g=t.filterDate;return sn(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Lt(e,t)}))||o&&!o.some((function(t){return Lt(e,t)}))||g&&!g(Xt(e))||!1}function on(e,t,n,r){var a=Je.default(e),o=we.default(e),g=Je.default(t),i=we.default(t),l=Je.default(r);return a===g&&a===l?o<=n&&n<=i:a<g?l===a&&o<=n||l===g&&i>=n||l<g&&l>a:void 0}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,g=t.filterDate;return sn(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Ut(e,t)}))||o&&!o.some((function(t){return Ut(e,t)}))||g&&!g(Xt(e))||!1}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return sn(new Date(e,0,1),{minDate:n,maxDate:r})||!1}function cn(e,t,n,r){var a=Je.default(e),o=Xe.default(e),g=Je.default(t),i=Xe.default(t),l=Je.default(r);return a===g&&a===l?o<=n&&n<=i:a<g?l===a&&o<=n||l===g&&i>=n||l<g&&l>a:void 0}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&ze.default(e,n)<0||r&&ze.default(e,r)>0}function In(e,t){return t.some((function(t){return ke.default(t)===ke.default(e)&&Se.default(t)===Se.default(e)}))}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return n&&In(e,n)||r&&!In(e,r)||a&&!a(e)||!1}function Cn(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var a,o=Xt(),g=Ne.default(He.default(o,Se.default(e)),ke.default(e)),i=Ne.default(He.default(o,Se.default(n)),ke.default(n)),l=Ne.default(He.default(o,Se.default(r)),ke.default(r));try{a=!ot.default(g,{start:i,end:l})}catch(e){a=!1}return a}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=ve.default(e,1);return n&&je.default(n,a)>0||r&&r.every((function(e){return je.default(e,a)>0}))||!1}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=fe.default(e,1);return n&&je.default(a,n)>0||r&&r.every((function(e){return je.default(a,e)>0}))||!1}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Ge.default(e,1);return n&&Te.default(n,a)>0||r&&r.every((function(e){return Te.default(e,a)>0}))||!1}function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=be.default(e,1);return n&&Te.default(a,n)>0||r&&r.every((function(e){return Te.default(a,e)>0}))||!1}function pn(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return ze.default(e,t)>=0}));return Ee.default(r)}return n?Ee.default(n):t}function fn(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return ze.default(e,t)<=0}));return De.default(r)}return n?De.default(n):t}function bn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,a=e.length;r<a;r++){var o=e[r];if(ue.default(o)){var g=xt(o,"MM.dd.yyyy"),i=n.get(g)||[];i.includes(t)||(i.push(t),n.set(g,i))}else if("object"===Ct(o)){var l=Object.keys(o),c=l[0],s=o[l[0]];if("string"==typeof c&&s.constructor===Array)for(var I=0,u=s.length;I<u;I++){var C=xt(s[I],"MM.dd.yyyy"),d=n.get(C)||[];d.includes(c)||(d.push(c),n.set(C,d))}}}return n}function yn(e,t,n,r,a){for(var o=a.length,g=[],i=0;i<o;i++){var l=Ae.default(he.default(e,ke.default(a[i])),Se.default(a[i])),c=Ae.default(e,(n+1)*r);rt.default(l,t)&&at.default(l,c)&&g.push(a[i])}return g}function Zn(e){return e<10?"0".concat(e):"".concat(e)}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt,n=Math.ceil(Je.default(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function Gn(e,t,n,r){for(var a=[],o=0;o<2*t+1;o++){var g=e+t-o,i=!0;n&&(i=Je.default(n)<=g),r&&i&&(i=Je.default(r)>=g),i&&a.push(g)}return a}var Bn=function(e){ft(r,e);var n=Gt(r);function r(e){var a;dt(this,r),mt(Zt(a=n.call(this,e)),"renderOptions",(function(){var e=a.props.year,t=a.state.yearsList.map((function(t){return se.default.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:a.onChange.bind(Zt(a),t),"aria-selected":e===t?"true":void 0},e===t?se.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),n=a.props.minDate?Je.default(a.props.minDate):null,r=a.props.maxDate?Je.default(a.props.maxDate):null;return r&&a.state.yearsList.find((function(e){return e===r}))||t.unshift(se.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},se.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&a.state.yearsList.find((function(e){return e===n}))||t.push(se.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},se.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t})),mt(Zt(a),"onChange",(function(e){a.props.onChange(e)})),mt(Zt(a),"handleClickOutside",(function(){a.props.onCancel()})),mt(Zt(a),"shiftYears",(function(e){var t=a.state.yearsList.map((function(t){return t+e}));a.setState({yearsList:t})})),mt(Zt(a),"incrementYears",(function(){return a.shiftYears(1)})),mt(Zt(a),"decrementYears",(function(){return a.shiftYears(-1)}));var o=e.yearDropdownItemNumber,g=e.scrollableYearDropdown,i=o||(g?10:5);return a.state={yearsList:Gn(a.props.year,i,a.props.minDate,a.props.maxDate)},a.dropdownRef=t.createRef(),a}return ht(r,[{key:"componentDidMount",value:function(){var e=this.dropdownRef.current;e&&(e.scrollTop=e.scrollHeight/2-e.clientHeight/2)}},{key:"render",value:function(){var e=Ie.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return se.default.createElement("div",{className:e,ref:this.dropdownRef},this.renderOptions())}}]),r}(se.default.Component),Sn=ct.default(Bn),kn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),mt(Zt(e),"renderSelectOptions",(function(){for(var t=e.props.minDate?Je.default(e.props.minDate):1900,n=e.props.maxDate?Je.default(e.props.maxDate):2100,r=[],a=t;a<=n;a++)r.push(se.default.createElement("option",{key:a,value:a},a));return r})),mt(Zt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),mt(Zt(e),"renderSelectMode",(function(){return se.default.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),mt(Zt(e),"renderReadView",(function(t){return se.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(t){return e.toggleDropdown(t)}},se.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),se.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))})),mt(Zt(e),"renderDropdown",(function(){return se.default.createElement(Sn,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})})),mt(Zt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),mt(Zt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.year&&e.props.onChange(t)})),mt(Zt(e),"toggleDropdown",(function(t){e.setState({dropdownVisible:!e.state.dropdownVisible},(function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,t)}))})),mt(Zt(e),"handleYearChange",(function(t,n){e.onSelect(t,n),e.setOpen()})),mt(Zt(e),"onSelect",(function(t,n){e.props.onSelect&&e.props.onSelect(t,n)})),mt(Zt(e),"setOpen",(function(){e.props.setOpen&&e.props.setOpen(!0)})),e}return ht(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return se.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(se.default.Component),Wn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"isSelectedMonth",(function(t){return e.props.month===t})),mt(Zt(e),"renderOptions",(function(){return e.props.monthNames.map((function(t,n){return se.default.createElement("div",{className:e.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:e.onChange.bind(Zt(e),n),"aria-selected":e.isSelectedMonth(n)?"true":void 0},e.isSelectedMonth(n)?se.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)}))})),mt(Zt(e),"onChange",(function(t){return e.props.onChange(t)})),mt(Zt(e),"handleClickOutside",(function(){return e.props.onCancel()})),e}return ht(n,[{key:"render",value:function(){return se.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(se.default.Component),Vn=ct.default(Wn),Rn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),mt(Zt(e),"renderSelectOptions",(function(e){return e.map((function(e,t){return se.default.createElement("option",{key:t,value:t},e)}))})),mt(Zt(e),"renderSelectMode",(function(t){return se.default.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(t){return e.onChange(t.target.value)}},e.renderSelectOptions(t))})),mt(Zt(e),"renderReadView",(function(t,n){return se.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},se.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),se.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[e.props.month]))})),mt(Zt(e),"renderDropdown",(function(t){return se.default.createElement(Vn,{key:"dropdown",month:e.props.month,monthNames:t,onChange:e.onChange,onCancel:e.toggleDropdown})})),mt(Zt(e),"renderScrollMode",(function(t){var n=e.state.dropdownVisible,r=[e.renderReadView(!n,t)];return n&&r.unshift(e.renderDropdown(t)),r})),mt(Zt(e),"onChange",(function(t){e.toggleDropdown(),t!==e.props.month&&e.props.onChange(t)})),mt(Zt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return ht(n,[{key:"render",value:function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return en(e,t.props.locale)}:function(e){return $t(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return se.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(se.default.Component);function wn(e,t){for(var n=[],r=Dt(e),a=Dt(t);!rt.default(r,a);)n.push(Xt(r)),r=fe.default(r,1);return n}var Xn=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"renderOptions",(function(){return r.state.monthYearsList.map((function(e){var t=Ye.default(e),n=Tt(r.props.date,e)&&Lt(r.props.date,e);return se.default.createElement("div",{className:n?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:r.onChange.bind(Zt(r),t),"aria-selected":n?"true":void 0},n?se.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",xt(e,r.props.dateFormat,r.props.locale))}))})),mt(Zt(r),"onChange",(function(e){return r.props.onChange(e)})),mt(Zt(r),"handleClickOutside",(function(){r.props.onCancel()})),r.state={monthYearsList:wn(r.props.minDate,r.props.maxDate)},r}return ht(n,[{key:"render",value:function(){var e=Ie.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return se.default.createElement("div",{className:e},this.renderOptions())}}]),n}(se.default.Component),Jn=ct.default(Xn),Yn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"state",{dropdownVisible:!1}),mt(Zt(e),"renderSelectOptions",(function(){for(var t=Dt(e.props.minDate),n=Dt(e.props.maxDate),r=[];!rt.default(t,n);){var a=Ye.default(t);r.push(se.default.createElement("option",{key:a,value:a},xt(t,e.props.dateFormat,e.props.locale))),t=fe.default(t,1)}return r})),mt(Zt(e),"onSelectChange",(function(t){e.onChange(t.target.value)})),mt(Zt(e),"renderSelectMode",(function(){return se.default.createElement("select",{value:Ye.default(Dt(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())})),mt(Zt(e),"renderReadView",(function(t){var n=xt(e.props.date,e.props.dateFormat,e.props.locale);return se.default.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(t){return e.toggleDropdown(t)}},se.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),se.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),mt(Zt(e),"renderDropdown",(function(){return se.default.createElement(Jn,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})})),mt(Zt(e),"renderScrollMode",(function(){var t=e.state.dropdownVisible,n=[e.renderReadView(!t)];return t&&n.unshift(e.renderDropdown()),n})),mt(Zt(e),"onChange",(function(t){e.toggleDropdown();var n=Xt(parseInt(t));Tt(e.props.date,n)&&Lt(e.props.date,n)||e.props.onChange(n)})),mt(Zt(e),"toggleDropdown",(function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})})),e}return ht(n,[{key:"render",value:function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return se.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)}}]),n}(se.default.Component),xn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"dayEl",se.default.createRef()),mt(Zt(e),"handleClick",(function(t){!e.isDisabled()&&e.props.onClick&&e.props.onClick(t)})),mt(Zt(e),"handleMouseEnter",(function(t){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(t)})),mt(Zt(e),"handleOnKeyDown",(function(t){" "===t.key&&(t.preventDefault(),t.key="Enter"),e.props.handleOnKeyDown(t)})),mt(Zt(e),"isSameDay",(function(t){return Qt(e.props.day,t)})),mt(Zt(e),"isKeyboardSelected",(function(){return!e.props.disabledKeyboardNavigation&&!e.isSameDay(e.props.selected)&&e.isSameDay(e.props.preSelection)})),mt(Zt(e),"isDisabled",(function(){return nn(e.props.day,e.props)})),mt(Zt(e),"isExcluded",(function(){return rn(e.props.day,e.props)})),mt(Zt(e),"getHighLightedClass",(function(t){var n=e.props,r=n.day,a=n.highlightDates;if(!a)return!1;var o=xt(r,"MM.dd.yyyy");return a.get(o)})),mt(Zt(e),"isInRange",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Ot(n,r,a)})),mt(Zt(e),"isInSelectingRange",(function(){var t,n=e.props,r=n.day,a=n.selectsStart,o=n.selectsEnd,g=n.selectsRange,i=n.selectsDisabledDaysInRange,l=n.startDate,c=n.endDate,s=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return!(!(a||o||g)||!s||!i&&e.isDisabled())&&(a&&c&&(at.default(s,c)||_t(s,c))?Ot(r,s,c):(o&&l&&(rt.default(s,l)||_t(s,l))||!(!g||!l||c||!rt.default(s,l)&&!_t(s,l)))&&Ot(r,l,s))})),mt(Zt(e),"isSelectingRangeStart",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.startDate,o=n.selectsStart,g=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Qt(r,o?g:a)})),mt(Zt(e),"isSelectingRangeEnd",(function(){var t;if(!e.isInSelectingRange())return!1;var n=e.props,r=n.day,a=n.endDate,o=n.selectsEnd,g=null!==(t=e.props.selectingDate)&&void 0!==t?t:e.props.preSelection;return Qt(r,o?g:a)})),mt(Zt(e),"isRangeStart",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Qt(r,n)})),mt(Zt(e),"isRangeEnd",(function(){var t=e.props,n=t.day,r=t.startDate,a=t.endDate;return!(!r||!a)&&Qt(a,n)})),mt(Zt(e),"isWeekend",(function(){var t=We.default(e.props.day);return 0===t||6===t})),mt(Zt(e),"isAfterMonth",(function(){return void 0!==e.props.month&&(e.props.month+1)%12===we.default(e.props.day)})),mt(Zt(e),"isBeforeMonth",(function(){return void 0!==e.props.month&&(we.default(e.props.day)+1)%12===e.props.month})),mt(Zt(e),"isCurrentDay",(function(){return e.isSameDay(Xt())})),mt(Zt(e),"isSelected",(function(){return e.isSameDay(e.props.selected)})),mt(Zt(e),"getClassNames",(function(t){var n=e.props.dayClassName?e.props.dayClassName(t):void 0;return Ie.default("react-datepicker__day",n,"react-datepicker__day--"+Kt(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"))})),mt(Zt(e),"getAriaLabel",(function(){var t=e.props,n=t.day,r=t.ariaLabelPrefixWhenEnabled,a=void 0===r?"Choose":r,o=t.ariaLabelPrefixWhenDisabled,g=void 0===o?"Not available":o,i=e.isDisabled()||e.isExcluded()?g:a;return"".concat(i," ").concat(xt(n,"PPPP",e.props.locale))})),mt(Zt(e),"getTabIndex",(function(t,n){var r=t||e.props.selected,a=n||e.props.preSelection;return e.isKeyboardSelected()||e.isSameDay(r)&&Qt(a,r)?0:-1})),mt(Zt(e),"handleFocusDay",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===e.getTabIndex()&&!t.isInputFocused&&e.isSameDay(e.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(n=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(n=!0)),n&&e.dayEl.current.focus({preventScroll:!0})})),mt(Zt(e),"renderDayContents",(function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(Ve.default(e.props.day),e.props.day):Ve.default(e.props.day)})),mt(Zt(e),"render",(function(){return se.default.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.handleMouseEnter,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option","aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()},e.renderDayContents())})),e}return ht(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(e){this.handleFocusDay(e)}}]),n}(se.default.Component),Hn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"handleClick",(function(t){e.props.onClick&&e.props.onClick(t)})),e}return ht(n,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,n=e.ariaLabelPrefix,r=void 0===n?"week ":n,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!e.onClick};return se.default.createElement("div",{className:Ie.default(a),"aria-label":"".concat(r," ").concat(this.props.weekNumber),onClick:this.handleClick},t)}}]),n}(se.default.Component),Nn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n)})),mt(Zt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),mt(Zt(e),"handleWeekClick",(function(t,n,r){"function"==typeof e.props.onWeekSelect&&e.props.onWeekSelect(t,n,r),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)})),mt(Zt(e),"formatWeekNumber",(function(t){return e.props.formatWeekNumber?e.props.formatWeekNumber(t):Ft(t)})),mt(Zt(e),"renderDays",(function(){var t=Et(e.props.day,e.props.locale,e.props.calendarStartDay),n=[],r=e.formatWeekNumber(t);if(e.props.showWeekNumber){var a=e.props.onWeekSelect?e.handleWeekClick.bind(Zt(e),t,r):void 0;n.push(se.default.createElement(Hn,{key:"W",weekNumber:r,onClick:a,ariaLabelPrefix:e.props.ariaLabelPrefix}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var r=me.default(t,n);return se.default.createElement(xn,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:r.valueOf(),day:r,month:e.props.month,onClick:e.handleDayClick.bind(Zt(e),r),onMouseEnter:e.handleDayMouseEnter.bind(Zt(e),r),minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})})))})),e}return ht(n,[{key:"render",value:function(){return se.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(se.default.Component),Fn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"MONTH_REFS",Bt(Array(12)).map((function(){return se.default.createRef()}))),mt(Zt(e),"isDisabled",(function(t){return nn(t,e.props)})),mt(Zt(e),"isExcluded",(function(t){return rn(t,e.props)})),mt(Zt(e),"handleDayClick",(function(t,n){e.props.onDayClick&&e.props.onDayClick(t,n,e.props.orderInDisplay)})),mt(Zt(e),"handleDayMouseEnter",(function(t){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(t)})),mt(Zt(e),"handleMouseLeave",(function(){e.props.onMouseLeave&&e.props.onMouseLeave()})),mt(Zt(e),"isRangeStartMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Lt(Fe.default(r,t),a)})),mt(Zt(e),"isRangeStartQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Ut(Ke.default(r,t),a)})),mt(Zt(e),"isRangeEndMonth",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Lt(Fe.default(r,t),o)})),mt(Zt(e),"isRangeEndQuarter",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate;return!(!a||!o)&&Ut(Ke.default(r,t),o)})),mt(Zt(e),"isWeekInMonth",(function(t){var n=e.props.day,r=me.default(t,6);return Lt(t,n)||Lt(r,n)})),mt(Zt(e),"isCurrentMonth",(function(e,t){return Je.default(e)===Je.default(Xt())&&t===we.default(Xt())})),mt(Zt(e),"isSelectedMonth",(function(e,t,n){return we.default(e)===t&&Je.default(e)===Je.default(n)})),mt(Zt(e),"isSelectedQuarter",(function(e,t,n){return Xe.default(e)===t&&Je.default(e)===Je.default(n)})),mt(Zt(e),"renderWeeks",(function(){for(var t=[],n=e.props.fixedHeight,r=0,a=!1,o=Et(Dt(e.props.day),e.props.locale,e.props.calendarStartDay);t.push(se.default.createElement(Nn,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:r,day:o,month:we.default(e.props.day),onDayClick:e.handleDayClick,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,showWeekNumber:e.props.showWeekNumbers,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!a;){r++,o=pe.default(o,1);var g=n&&r>=6,i=!n&&!e.isWeekInMonth(o);if(g||i){if(!e.props.peekNextMonth)break;a=!0}}return t})),mt(Zt(e),"onMonthClick",(function(t,n){e.handleDayClick(Dt(Fe.default(e.props.day,n)),t)})),mt(Zt(e),"handleMonthNavigation",(function(t,n){e.isDisabled(n)||e.isExcluded(n)||(e.props.setPreSelection(n),e.MONTH_REFS[t].current&&e.MONTH_REFS[t].current.focus())})),mt(Zt(e),"onMonthKeyDown",(function(t,n){var r=t.key;if(!e.props.disabledKeyboardNavigation)switch(r){case"Enter":e.onMonthClick(t,n),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleMonthNavigation(11===n?0:n+1,fe.default(e.props.preSelection,1));break;case"ArrowLeft":e.handleMonthNavigation(0===n?11:n-1,ve.default(e.props.preSelection,1))}})),mt(Zt(e),"onQuarterClick",(function(t,n){e.handleDayClick(jt(Ke.default(e.props.day,n)),t)})),mt(Zt(e),"getMonthClassNames",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate,g=n.selected,i=n.minDate,l=n.maxDate,c=n.preSelection,s=n.monthClassName,I=s?s(r):void 0;return Ie.default("react-datepicker__month-text","react-datepicker__month-".concat(t),I,{"react-datepicker__month--disabled":(i||l)&&an(Fe.default(r,t),e.props),"react-datepicker__month--selected":e.isSelectedMonth(r,t,g),"react-datepicker__month-text--keyboard-selected":we.default(c)===t,"react-datepicker__month--in-range":on(a,o,t,r),"react-datepicker__month--range-start":e.isRangeStartMonth(t),"react-datepicker__month--range-end":e.isRangeEndMonth(t),"react-datepicker__month-text--today":e.isCurrentMonth(r,t)})})),mt(Zt(e),"getTabIndex",(function(t){var n=we.default(e.props.preSelection);return e.props.disabledKeyboardNavigation||t!==n?"-1":"0"})),mt(Zt(e),"getAriaLabel",(function(t){var n=e.props,r=n.chooseDayAriaLabelPrefix,a=void 0===r?"Choose":r,o=n.disabledDayAriaLabelPrefix,g=void 0===o?"Not available":o,i=n.day,l=Fe.default(i,t),c=e.isDisabled(l)||e.isExcluded(l)?g:a;return"".concat(c," ").concat(xt(l,"MMMM yyyy"))})),mt(Zt(e),"getQuarterClassNames",(function(t){var n=e.props,r=n.day,a=n.startDate,o=n.endDate,g=n.selected,i=n.minDate,l=n.maxDate;return Ie.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(t),{"react-datepicker__quarter--disabled":(i||l)&&gn(Ke.default(r,t),e.props),"react-datepicker__quarter--selected":e.isSelectedQuarter(r,t,g),"react-datepicker__quarter--in-range":cn(a,o,t,r),"react-datepicker__quarter--range-start":e.isRangeStartQuarter(t),"react-datepicker__quarter--range-end":e.isRangeEndQuarter(t)})})),mt(Zt(e),"renderMonths",(function(){var t=e.props,n=t.showFullMonthYearPicker,r=t.showTwoColumnMonthYearPicker,a=t.showFourColumnMonthYearPicker,o=t.locale,g=t.day,i=t.selected;return(a?[[0,1,2,3],[4,5,6,7],[8,9,10,11]]:r?[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]]:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]]).map((function(t,r){return se.default.createElement("div",{className:"react-datepicker__month-wrapper",key:r},t.map((function(t,r){return se.default.createElement("div",{ref:e.MONTH_REFS[t],key:r,onClick:function(n){e.onMonthClick(n,t)},onKeyDown:function(n){e.onMonthKeyDown(n,t)},tabIndex:e.getTabIndex(t),className:e.getMonthClassNames(t),role:"option","aria-label":e.getAriaLabel(t),"aria-current":e.isCurrentMonth(g,t)?"date":void 0,"aria-selected":e.isSelectedMonth(g,t,i)},n?$t(t,o):en(t,o))})))}))})),mt(Zt(e),"renderQuarters",(function(){var t=e.props,n=t.day,r=t.selected;return se.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(t,a){return se.default.createElement("div",{key:a,role:"option",onClick:function(n){e.onQuarterClick(n,t)},className:e.getQuarterClassNames(t),"aria-selected":e.isSelectedQuarter(n,t,r)},tn(t,e.props.locale))})))})),mt(Zt(e),"getClassNames",(function(){var t=e.props;t.day;var n=t.selectingDate,r=t.selectsStart,a=t.selectsEnd,o=t.showMonthYearPicker,g=t.showQuarterYearPicker;return Ie.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||a)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":g})})),e}return ht(n,[{key:"render",value:function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,o=void 0===a?"month ":a;return se.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(o," ").concat(xt(r,"yyyy-MM")),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(se.default.Component),Kn=function(e){ft(n,e);var t=Gt(n);function n(){var e;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return mt(Zt(e=t.call.apply(t,[this].concat(a))),"state",{height:null}),mt(Zt(e),"handleClick",(function(t){(e.props.minTime||e.props.maxTime)&&Cn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&un(t,e.props)||e.props.onChange(t)})),mt(Zt(e),"isSelectedTime",(function(t,n,r){return e.props.selected&&n===ke.default(t)&&r===Se.default(t)})),mt(Zt(e),"liClasses",(function(t,n,r){var a=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(t,n,r):void 0];return e.isSelectedTime(t,n,r)&&a.push("react-datepicker__time-list-item--selected"),((e.props.minTime||e.props.maxTime)&&Cn(t,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&un(t,e.props))&&a.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(60*ke.default(t)+Se.default(t))%e.props.intervals!=0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")})),mt(Zt(e),"handleOnKeyDown",(function(t,n){" "===t.key&&(t.preventDefault(),t.key="Enter"),"Enter"===t.key&&e.handleClick(n),e.props.handleOnKeyDown(t)})),mt(Zt(e),"renderTimes",(function(){for(var t=[],n=e.props.format?e.props.format:"p",r=e.props.intervals,a=Mt(Xt(e.props.selected)),o=1440/r,g=e.props.injectTimes&&e.props.injectTimes.sort((function(e,t){return e-t})),i=e.props.selected||e.props.openToDate||Xt(),l=ke.default(i),c=Se.default(i),s=Ne.default(He.default(a,c),l),I=0;I<o;I++){var u=Ae.default(a,I*r);if(t.push(u),g){var C=yn(a,u,I,r,g);t=t.concat(C)}}return t.map((function(t,r){return se.default.createElement("li",{key:r,onClick:e.handleClick.bind(Zt(e),t),className:e.liClasses(t,l,c),ref:function(n){(at.default(t,s)||_t(t,s))&&(e.centerLi=n)},onKeyDown:function(n){e.handleOnKeyDown(n,t)},tabIndex:"0","aria-selected":e.isSelectedTime(t,l,c)?"true":void 0},xt(t,n,e.props.locale))}))})),e}return ht(n,[{key:"componentDidMount",value:function(){this.list.scrollTop=n.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var e=this,t=this.state.height;return se.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},se.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(t){e.header=t}},se.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),se.default.createElement("div",{className:"react-datepicker__time"},se.default.createElement("div",{className:"react-datepicker__time-box"},se.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{},tabIndex:"0"},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(se.default.Component);mt(Kn,"calcCenterPosition",(function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)}));var Mn=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"YEAR_REFS",Bt(Array(r.props.yearItemNumber)).map((function(){return se.default.createRef()}))),mt(Zt(r),"isDisabled",(function(e){return nn(e,r.props)})),mt(Zt(r),"isExcluded",(function(e){return rn(e,r.props)})),mt(Zt(r),"updateFocusOnPaginate",(function(e){var t=function(){this.YEAR_REFS[e].current.focus()}.bind(Zt(r));window.requestAnimationFrame(t)})),mt(Zt(r),"handleYearClick",(function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)})),mt(Zt(r),"handleYearNavigation",(function(e,t){var n=r.props,a=n.date,o=n.yearItemNumber,g=vn(a,o).startPeriod;r.isDisabled(t)||r.isExcluded(t)||(r.props.setPreSelection(t),e-g==-1?r.updateFocusOnPaginate(o-1):e-g===o?r.updateFocusOnPaginate(0):r.YEAR_REFS[e-g].current.focus())})),mt(Zt(r),"isSameDay",(function(e,t){return Qt(e,t)})),mt(Zt(r),"isCurrentYear",(function(e){return e===Je.default(Xt())})),mt(Zt(r),"isKeyboardSelected",(function(e){var t=zt(Me.default(r.props.date,e));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Qt(t,zt(r.props.selected))&&Qt(t,zt(r.props.preSelection))})),mt(Zt(r),"onYearClick",(function(e,t){var n=r.props.date;r.handleYearClick(zt(Me.default(n,t)),e)})),mt(Zt(r),"onYearKeyDown",(function(e,t){var n=e.key;if(!r.props.disabledKeyboardNavigation)switch(n){case"Enter":r.onYearClick(e,t),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(t+1,be.default(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(t-1,Ge.default(r.props.preSelection,1))}})),mt(Zt(r),"getYearClassNames",(function(e){var t=r.props,n=t.minDate,a=t.maxDate,o=t.selected;return Ie.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":e===Je.default(o),"react-datepicker__year-text--disabled":(n||a)&&ln(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--today":r.isCurrentYear(e)})})),mt(Zt(r),"getYearTabIndex",(function(e){return r.props.disabledKeyboardNavigation?"-1":e===Je.default(r.props.preSelection)?"0":"-1"})),r}return ht(n,[{key:"render",value:function(){for(var e=this,t=[],n=this.props,r=vn(n.date,n.yearItemNumber),a=r.startPeriod,o=r.endPeriod,g=function(n){t.push(se.default.createElement("div",{ref:e.YEAR_REFS[n-a],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){e.onYearKeyDown(t,n)},tabIndex:e.getYearTabIndex(n),className:e.getYearClassNames(n),key:n,"aria-current":e.isCurrentYear(n)?"date":void 0},n))},i=a;i<=o;i++)g(i);return se.default.createElement("div",{className:"react-datepicker__year"},se.default.createElement("div",{className:"react-datepicker__year-wrapper"},t))}}]),n}(se.default.Component),En=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"onTimeChange",(function(e){r.setState({time:e});var t=new Date;t.setHours(e.split(":")[0]),t.setMinutes(e.split(":")[1]),r.props.onChange(t)})),mt(Zt(r),"renderTimeInput",(function(){var e=r.state.time,t=r.props,n=t.date,a=t.timeString,o=t.customTimeInput;return o?se.default.cloneElement(o,{date:n,value:e,onChange:r.onTimeChange}):se.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:e,onChange:function(e){r.onTimeChange(e.target.value||a)}})})),r.state={time:r.props.timeString},r}return ht(n,[{key:"render",value:function(){return se.default.createElement("div",{className:"react-datepicker__input-time-container"},se.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),se.default.createElement("div",{className:"react-datepicker-time__input-container"},se.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.timeString!==t.time?{time:e.timeString}:null}}]),n}(se.default.Component);function Dn(e){var t=e.className,n=e.children,r=e.showPopperArrow,a=e.arrowProps,o=void 0===a?{}:a;return se.default.createElement("div",{className:t},r&&se.default.createElement("div",pt({className:"react-datepicker__triangle"},o)),n)}var zn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],jn=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"handleClickOutside",(function(e){r.props.onClickOutside(e)})),mt(Zt(r),"setClickOutsideRef",(function(){return r.containerRef.current})),mt(Zt(r),"handleDropdownFocus",(function(e){(function(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return zn.some((function(t){return e.indexOf(t)>=0}))})(e.target)&&r.props.onDropdownFocus()})),mt(Zt(r),"getDateInView",(function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,o=pn(r.props),g=fn(r.props),i=Xt();return a||n||t||(o&&at.default(i,o)?o:g&&rt.default(i,g)?g:i)})),mt(Zt(r),"increaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:fe.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),mt(Zt(r),"decreaseMonth",(function(){r.setState((function(e){var t=e.date;return{date:ve.default(t,1)}}),(function(){return r.handleMonthChange(r.state.date)}))})),mt(Zt(r),"handleDayClick",(function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)})),mt(Zt(r),"handleDayMouseEnter",(function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)})),mt(Zt(r),"handleMonthMouseLeave",(function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()})),mt(Zt(r),"handleYearChange",(function(e){r.props.onYearChange&&r.props.onYearChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),mt(Zt(r),"handleMonthChange",(function(e){r.props.onMonthChange&&r.props.onMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(e)})),mt(Zt(r),"handleMonthYearChange",(function(e){r.handleYearChange(e),r.handleMonthChange(e)})),mt(Zt(r),"changeYear",(function(e){r.setState((function(t){var n=t.date;return{date:Me.default(n,e)}}),(function(){return r.handleYearChange(r.state.date)}))})),mt(Zt(r),"changeMonth",(function(e){r.setState((function(t){var n=t.date;return{date:Fe.default(n,e)}}),(function(){return r.handleMonthChange(r.state.date)}))})),mt(Zt(r),"changeMonthYear",(function(e){r.setState((function(t){var n=t.date;return{date:Me.default(Fe.default(n,we.default(e)),Je.default(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))})),mt(Zt(r),"header",(function(){var e=Et(arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),t=[];return r.props.showWeekNumbers&&t.push(se.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),t.concat([0,1,2,3,4,5,6].map((function(t){var n=me.default(e,t),a=r.formatWeekday(n,r.props.locale),o=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return se.default.createElement("div",{key:t,className:Ie.default("react-datepicker__day-name",o)},a)})))})),mt(Zt(r),"formatWeekday",(function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(xt(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return xt(e,"EEE",t)}(e,t):function(e,t){return xt(e,"EEEEEE",t)}(e,t)})),mt(Zt(r),"decreaseYear",(function(){r.setState((function(e){var t=e.date;return{date:Ge.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),mt(Zt(r),"renderPreviousButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=hn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.yearItemNumber,a=void 0===r?Rt:r,o=vn(zt(Ge.default(e,a)),a).endPeriod,g=n&&Je.default(n);return g&&g>o||!1}(r.state.date,r.props);break;default:e=dn(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--previous--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,g=o.previousMonthButtonLabel,i=o.previousYearButtonLabel,l=r.props,c=l.previousMonthAriaLabel,s=void 0===c?"string"==typeof g?g:"Previous Month":c,I=l.previousYearAriaLabel,u=void 0===I?"string"==typeof i?i:"Previous Year":I;return se.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?u:s},se.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},a?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}})),mt(Zt(r),"increaseYear",(function(){r.setState((function(e){var t=e.date;return{date:be.default(t,r.props.showYearPicker?r.props.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))})),mt(Zt(r),"renderNextButton",(function(){if(!r.props.renderCustomHeader){var e;switch(!0){case r.props.showMonthYearPicker:e=mn(r.state.date,r.props);break;case r.props.showYearPicker:e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.yearItemNumber,a=void 0===r?Rt:r,o=vn(be.default(e,a),a).startPeriod,g=n&&Je.default(n);return g&&g<o||!1}(r.state.date,r.props);break;default:e=An(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&t.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&t.push("react-datepicker__navigation--next--with-today-button");var n=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push("react-datepicker__navigation--next--disabled"),n=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,g=o.nextMonthButtonLabel,i=o.nextYearButtonLabel,l=r.props,c=l.nextMonthAriaLabel,s=void 0===c?"string"==typeof g?g:"Next Month":c,I=l.nextYearAriaLabel,u=void 0===I?"string"==typeof i?i:"Next Year":I;return se.default.createElement("button",{type:"button",className:t.join(" "),onClick:n,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?u:s},se.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}})),mt(Zt(r),"renderCurrentMonth",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),se.default.createElement("div",{className:t.join(" ")},xt(e,r.props.dateFormat,r.props.locale))})),mt(Zt(r),"renderYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return se.default.createElement(kn,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Je.default(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})})),mt(Zt(r),"renderMonthDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return se.default.createElement(Rn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:we.default(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})})),mt(Zt(r),"renderMonthYearDropdown",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return se.default.createElement(Yn,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})})),mt(Zt(r),"renderTodayButton",(function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return se.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return r.props.onSelect(Le.default(Xt()),e)}},r.props.todayButton)})),mt(Zt(r),"renderDefaultHeader",(function(e){var t=e.monthDate,n=e.i;return se.default.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),se.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),se.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),mt(Zt(r),"renderCustomHeader",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.monthDate,n=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=dn(r.state.date,r.props),o=An(r.state.date,r.props),g=hn(r.state.date,r.props),i=mn(r.state.date,r.props),l=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return se.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ut(ut({},r.state),{},{customHeaderCount:n,monthDate:t,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:o,prevYearButtonDisabled:g,nextYearButtonDisabled:i})),l&&se.default.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))})),mt(Zt(r),"renderYearHeader",(function(){var e=r.state.date,t=r.props,n=t.showYearPicker,a=vn(e,t.yearItemNumber),o=a.startPeriod,g=a.endPeriod;return se.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(o," - ").concat(g):Je.default(e))})),mt(Zt(r),"renderHeader",(function(e){switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(e);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(e);default:return r.renderDefaultHeader(e)}})),mt(Zt(r),"renderMonths",(function(){if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var e=[],t=r.props.showPreviousMonths?r.props.monthsShown-1:0,n=ve.default(r.state.date,t),a=0;a<r.props.monthsShown;++a){var o=a-r.props.monthSelectedIn,g=fe.default(n,o),i="month-".concat(a),l=a<r.props.monthsShown-1,c=a>0;e.push(se.default.createElement("div",{key:i,ref:function(e){r.monthContainer=e},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:a}),se.default.createElement(Fn,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:g,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:a,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:l,monthShowsDuplicateDaysStart:c})))}return e}})),mt(Zt(r),"renderYears",(function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?se.default.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),se.default.createElement(Mn,pt({onDayClick:r.handleDayClick,date:r.state.date},r.props))):void 0})),mt(Zt(r),"renderTimeSection",(function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return se.default.createElement(Kn,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})})),mt(Zt(r),"renderInputTimeSection",(function(){var e=new Date(r.props.selected),t=Yt(e)&&Boolean(r.props.selected)?"".concat(Zn(e.getHours()),":").concat(Zn(e.getMinutes())):"";if(r.props.showTimeInput)return se.default.createElement(En,{date:e,timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})})),r.containerRef=se.default.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null},r}return ht(n,[{key:"componentDidMount",value:function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))}},{key:"componentDidUpdate",value:function(e){this.props.preSelection&&!Qt(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!Qt(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var e=this.props.container||Dn;return se.default.createElement("div",{ref:this.containerRef},se.default.createElement(e,{className:Ie.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Rt}}}]),n}(se.default.Component),Tn=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return ht(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return st.default.createPortal(this.props.children,this.el)}}]),n}(se.default.Component),Ln=function(e){return!e.disabled&&-1!==e.tabIndex},Un=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"getTabChildren",(function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Ln)})),mt(Zt(r),"handleFocusStart",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),mt(Zt(r),"handleFocusEnd",(function(e){var t=r.getTabChildren();t&&t.length>1&&t[0].focus()})),r.tabLoopRef=se.default.createRef(),r}return ht(n,[{key:"render",value:function(){return this.props.enableTabLoop?se.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},se.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,se.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(se.default.Component),Qn=function(e){ft(n,e);var t=Gt(n);function n(){return dt(this,n),t.apply(this,arguments)}return ht(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.wrapperClassName,a=t.hidePopper,o=t.popperComponent,g=t.popperModifiers,i=t.popperPlacement,l=t.popperProps,c=t.targetComponent,s=t.enableTabLoop,I=t.popperOnKeyDown,u=t.portalId,C=t.portalHost;if(!a){var d=Ie.default("react-datepicker-popper",n);e=se.default.createElement(le.Popper,pt({modifiers:g,placement:i},l),(function(e){var t=e.ref,n=e.style,r=e.placement,a=e.arrowProps;return se.default.createElement(Un,{enableTabLoop:s},se.default.createElement("div",{ref:t,style:n,className:d,"data-placement":r,onKeyDown:I},se.default.cloneElement(o,{arrowProps:a})))}))}this.props.popperContainer&&(e=se.default.createElement(this.props.popperContainer,{},e)),u&&!a&&(e=se.default.createElement(Tn,{portalId:u,portalHost:C},e));var A=Ie.default("react-datepicker-wrapper",r);return se.default.createElement(le.Manager,{className:"react-datepicker-manager"},se.default.createElement(le.Reference,null,(function(e){var t=e.ref;return se.default.createElement("div",{ref:t,className:A},c)})),e)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(se.default.Component),_n="react-datepicker-ignore-onclickoutside",On=ct.default(jn),Pn="Date input not valid.",qn=function(e){ft(n,e);var t=Gt(n);function n(e){var r;return dt(this,n),mt(Zt(r=t.call(this,e)),"getPreSelection",(function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Xt()})),mt(Zt(r),"calcInitialState",(function(){var e,t=r.getPreSelection(),n=pn(r.props),a=fn(r.props),o=n&&at.default(t,Le.default(n))?n:a&&rt.default(t,Pe.default(a))?a:t;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:o,highlightDates:bn(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1}})),mt(Zt(r),"clearPreventFocusTimeout",(function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)})),mt(Zt(r),"setFocus",(function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})})),mt(Zt(r),"setBlur",(function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()})),mt(Zt(r),"setOpen",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:er},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))})),mt(Zt(r),"inputOk",(function(){return ue.default(r.state.preSelection)})),mt(Zt(r),"isCalendarOpen",(function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open})),mt(Zt(r),"handleFocus",(function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})})),mt(Zt(r),"cancelFocusInput",(function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null})),mt(Zt(r),"deferFocusInput",(function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)})),mt(Zt(r),"handleDropdownFocus",(function(){r.cancelFocusInput()})),mt(Zt(r),"handleBlur",(function(e){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(e),r.setState({focused:!1})})),mt(Zt(r),"handleCalendarClickOutside",(function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()})),mt(Zt(r),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(Zt(r),t),"function"==typeof a.isDefaultPrevented&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:$n});var o=Jt(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);!o&&a.target.value||r.setSelected(o,a,!0)}})),mt(Zt(r),"handleSelect",(function(e,t,n){if(r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,o=a.startDate,g=a.endDate;!o||g||at.default(e,o)||r.setOpen(!1)}})),mt(Zt(r),"setSelected",(function(e,t,n,a){var o=e;if(null===o||!nn(o,r.props)){var g=r.props,i=g.onChange,l=g.selectsRange,c=g.startDate,s=g.endDate;if(!_t(r.props.selected,o)||r.props.allowSameDay||l)if(null!==o&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=Nt(o,{hour:ke.default(r.props.selected),minute:Se.default(r.props.selected),second:Be.default(r.props.selected)})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),l){var I=c&&s;c||s?c&&!s&&(at.default(o,c)?i([o,null],t):i([c,o],t)):i([o,null],t),I&&i([o,null],t)}else i(o,t);n||(r.props.onSelect(o,t),r.setState({inputValue:null}))}})),mt(Zt(r),"setPreSelection",(function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,a=!0;if(e){var o=Le.default(e);if(t&&n)a=Ot(e,r.props.minDate,r.props.maxDate);else if(t){var g=Le.default(r.props.minDate);a=rt.default(e,g)||_t(o,g)}else if(n){var i=Pe.default(r.props.maxDate);a=at.default(e,i)||_t(o,i)}}a&&r.setState({preSelection:e})})),mt(Zt(r),"handleTimeChange",(function(e){var t=Nt(r.props.selected?r.props.selected:r.getPreSelection(),{hour:ke.default(e),minute:Se.default(e)});r.setState({preSelection:t}),r.props.onChange(t),r.props.shouldCloseOnSelect&&r.setOpen(!1),r.props.showTimeInput&&r.setOpen(!0),r.setState({inputValue:null})})),mt(Zt(r),"onInputClick",(function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()})),mt(Zt(r),"onInputKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if("ArrowDown"===t||"ArrowUp"===t){e.preventDefault();var n=r.calendar.componentNode&&r.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(n&&n.focus({preventScroll:!0}))}var a=Xt(r.state.preSelection);"Enter"===t?(e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===er?(r.handleSelect(a,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(a)):r.setOpen(!1)):"Escape"===t&&(e.preventDefault(),r.setOpen(!1)),r.inputOk()||r.props.onInputError({code:1,msg:Pn})}}else"ArrowDown"!==t&&"ArrowUp"!==t&&"Enter"!==t||r.onInputClick()})),mt(Zt(r),"onDayKeyDown",(function(e){r.props.onKeyDown(e);var t=e.key,n=Xt(r.state.preSelection);if("Enter"===t)e.preventDefault(),r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n);else if("Escape"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Pn});else if(!r.props.disabledKeyboardNavigation){var a;switch(t){case"ArrowLeft":a=ye.default(n,1);break;case"ArrowRight":a=me.default(n,1);break;case"ArrowUp":a=Ze.default(n,1);break;case"ArrowDown":a=pe.default(n,1);break;case"PageUp":a=ve.default(n,1);break;case"PageDown":a=fe.default(n,1);break;case"Home":a=Ge.default(n,1);break;case"End":a=be.default(n,1)}if(!a)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:Pn}));if(e.preventDefault(),r.setState({lastPreSelectChange:er}),r.props.adjustDateOnChange&&r.setSelected(a),r.setPreSelection(a),r.props.inline){var o=we.default(n),g=we.default(a),i=Je.default(n),l=Je.default(a);o!==g||i!==l?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}})),mt(Zt(r),"onPopperKeyDown",(function(e){"Escape"===e.key&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))})),mt(Zt(r),"onClearClick",(function(e){e&&e.preventDefault&&e.preventDefault(),r.props.selectsRange?r.props.onChange([null,null],e):r.props.onChange(null,e),r.setState({inputValue:null})})),mt(Zt(r),"clear",(function(){r.onClearClick()})),mt(Zt(r),"onScroll",(function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)})),mt(Zt(r),"renderCalendar",(function(){return r.props.inline||r.isCalendarOpen()?se.default.createElement(On,{ref:function(e){r.calendar=e},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:_n,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showPopperArrow:r.props.showPopperArrow,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection},r.props.children):null})),mt(Zt(r),"renderDateInput",(function(){var e,t=Ie.default(r.props.className,mt({},_n,r.state.open)),n=r.props.customInput||se.default.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",o="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Ht(e,n),a=t?Ht(t,n):"";return"".concat(r," - ").concat(a)}(r.props.startDate,r.props.endDate,r.props):Ht(r.props.selected,r.props);return se.default.cloneElement(n,(mt(e={},a,(function(e){r.input=e})),mt(e,"value",o),mt(e,"onBlur",r.handleBlur),mt(e,"onChange",r.handleChange),mt(e,"onClick",r.onInputClick),mt(e,"onFocus",r.handleFocus),mt(e,"onKeyDown",r.onInputKeyDown),mt(e,"id",r.props.id),mt(e,"name",r.props.name),mt(e,"autoFocus",r.props.autoFocus),mt(e,"placeholder",r.props.placeholderText),mt(e,"disabled",r.props.disabled),mt(e,"autoComplete",r.props.autoComplete),mt(e,"className",Ie.default(n.props.className,t)),mt(e,"title",r.props.title),mt(e,"readOnly",r.props.readOnly),mt(e,"required",r.props.required),mt(e,"tabIndex",r.props.tabIndex),mt(e,"aria-describedby",r.props.ariaDescribedBy),mt(e,"aria-invalid",r.props.ariaInvalid),mt(e,"aria-labelledby",r.props.ariaLabelledBy),mt(e,"aria-required",r.props.ariaRequired),e))})),mt(Zt(r),"renderClearButton",(function(){var e=r.props,t=e.isClearable,n=e.selected,a=e.startDate,o=e.endDate,g=e.clearButtonTitle,i=e.clearButtonClassName,l=void 0===i?"":i,c=e.ariaLabelClose,s=void 0===c?"Close":c;return!t||null==n&&null==a&&null==o?null:se.default.createElement("button",{type:"button",className:"react-datepicker__close-icon ".concat(l).trim(),"aria-label":s,onClick:r.onClearClick,title:g,tabIndex:-1})})),r.state=r.calcInitialState(),r}return ht(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?we.default(n)!==we.default(r)||Je.default(n)!==Je.default(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:bn(this.props.highlightDates)}),t.focused||_t(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===t.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){return se.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?se.default.createElement("div",{className:"react-datepicker__portal"},e):null;return this.state.open&&this.props.portalId&&(t=se.default.createElement(Tn,{portalId:this.props.portalId,portalHost:this.props.portalHost},t)),se.default.createElement("div",null,this.renderInputContainer(),t)}return se.default.createElement(Qn,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rt,renderDayContents:function(e){return e},focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),n}(se.default.Component),$n="input",er="navigate";e.CalendarContainer=Dn,e.default=qn,e.getDefaultLocale=Pt,e.registerLocale=function(e,t){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[e]=t},e.setDefaultLocale=function(e){("undefined"!=typeof window?window:globalThis).__localeId__=e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791),n(2007),n(1694),n(6971),n(9314),n(1951),n(1518),n(2074),n(9040),n(20),n(1104),n(5105),n(4851),n(4433),n(6753),n(7503),n(8030),n(7602),n(2295),n(4424),n(1537),n(467),n(6114),n(6975),n(3747),n(639),n(2599),n(4460),n(9292),n(7227),n(2618),n(2363),n(5765),n(5617),n(1056),n(9333),n(9759),n(5951),n(7223),n(7415),n(8347),n(9254),n(5719),n(3006),n(7235),n(786),n(4565),n(4888),n(7508),n(4690),n(5375),n(1750),n(4845),n(9420),n(9579),n(7262),n(8527),n(3216),n(9831),n(11),n(4164),n(4419))},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)g.add(t[e])}var s=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),I=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},d={};function A(e,t,n,r,a,o,g){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=g}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}function f(e,t,n,r){var a=h.hasOwnProperty(t)?h[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!I.call(d,e)||!I.call(C,e)&&(u.test(e)?d[e]=!0:(C[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,p);h[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),Z=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),X=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var J=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Y=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}var H,N=Object.assign;function F(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||""}return"\n"+H+e}var K=!1;function M(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),g=a.length-1,i=o.length-1;1<=g&&0<=i&&a[g]!==o[i];)i--;for(;1<=g&&0<=i;g--,i--)if(a[g]!==o[i]){if(1!==g||1!==i)do{if(g--,0>--i||a[g]!==o[i]){var l="\n"+a[g].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=g&&0<=i);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function E(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function D(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case Z:return"Portal";case B:return"Profiler";case G:return"StrictMode";case V:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function T(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function L(e){e._valueTracker||(e._valueTracker=function(e){var t=T(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function U(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function _(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function O(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function P(e,t){null!=(t=t.checked)&&f(e,"checked",t,!1)}function q(e,t){P(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function oe(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ge(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,se,Ie=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ce.hasOwnProperty(e)&&Ce[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=Ae(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Ce).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ce[t]=Ce[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function fe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ze=null,ve=null,Ge=null;function Be(e){if(e=fa(e)){if("function"!==typeof Ze)throw Error(o(280));var t=e.stateNode;t&&(t=ya(t),Ze(e.stateNode,e.type,t))}}function Se(e){ve?Ge?Ge.push(e):Ge=[e]:ve=e}function ke(){if(ve){var e=ve,t=Ge;if(Ge=ve=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function We(e,t){return e(t)}function Ve(){}var Re=!1;function we(e,t,n){if(Re)return e(t,n);Re=!0;try{return We(e,t,n)}finally{Re=!1,(null!==ve||null!==Ge)&&(Ve(),ke())}}function Xe(e,t){var n=e.stateNode;if(null===n)return null;var r=ya(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Je=!1;if(s)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Je=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch(se){Je=!1}function xe(e,t,n,r,a,o,g,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(s){this.onError(s)}}var He=!1,Ne=null,Fe=!1,Ke=null,Me={onError:function(e){He=!0,Ne=e}};function Ee(e,t,n,r,a,o,g,i,l){He=!1,Ne=null,xe.apply(Me,arguments)}function De(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(De(e)!==e)throw Error(o(188))}function Te(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=De(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var g=a.alternate;if(null===g){if(null!==(r=a.return)){n=r;continue}break}if(a.child===g.child){for(g=a.child;g;){if(g===n)return je(a),e;if(g===r)return je(a),t;g=g.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=g;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=g;break}if(l===r){i=!0,r=a,n=g;break}l=l.sibling}if(!i){for(l=g.child;l;){if(l===n){i=!0,n=g,r=a;break}if(l===r){i=!0,r=g,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Le(e):null}function Le(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Le(e);if(null!==t)return t;e=e.sibling}return null}var Ue=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,_e=a.unstable_shouldYield,Oe=a.unstable_requestPaint,Pe=a.unstable_now,qe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var gt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,st=4194304;function It(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,g=268435455&n;if(0!==g){var i=g&~a;0!==i?r=It(i):0!==(o&=g)&&(r=It(o))}else 0!==(g=n&~a)?r=It(g):0!==o&&(r=It(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-gt(t)),r|=e[n],t&=~a;return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-gt(t)]=n}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var ft=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Zt,vt,Gt,Bt,St=!1,kt=[],Wt=null,Vt=null,Rt=null,wt=new Map,Xt=new Map,Jt=[],Yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xt(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(t.pointerId)}}function Ht(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=fa(t))&&Zt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nt(e){var t=pa(e.target);if(null!==t){var n=De(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Bt(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=fa(n))&&Zt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Kt(e,t,n){Ft(e)&&n.delete(t)}function Mt(){St=!1,null!==Wt&&Ft(Wt)&&(Wt=null),null!==Vt&&Ft(Vt)&&(Vt=null),null!==Rt&&Ft(Rt)&&(Rt=null),wt.forEach(Kt),Xt.forEach(Kt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Dt(e){function t(t){return Et(t,e)}if(0<kt.length){Et(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Wt&&Et(Wt,e),null!==Vt&&Et(Vt,e),null!==Rt&&Et(Rt,e),wt.forEach(t),Xt.forEach(t),n=0;n<Jt.length;n++)(r=Jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&null===(n=Jt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Jt.shift()}var zt=b.ReactCurrentBatchConfig,jt=!0;function Tt(e,t,n,r){var a=ft,o=zt.transition;zt.transition=null;try{ft=1,Ut(e,t,n,r)}finally{ft=a,zt.transition=o}}function Lt(e,t,n,r){var a=ft,o=zt.transition;zt.transition=null;try{ft=4,Ut(e,t,n,r)}finally{ft=a,zt.transition=o}}function Ut(e,t,n,r){if(jt){var a=_t(e,t,n,r);if(null===a)jr(e,t,r,Qt,n),xt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Wt=Ht(Wt,e,t,n,r,a),!0;case"dragenter":return Vt=Ht(Vt,e,t,n,r,a),!0;case"mouseover":return Rt=Ht(Rt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return wt.set(o,Ht(wt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Xt.set(o,Ht(Xt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(xt(e,r),4&t&&-1<Yt.indexOf(e)){for(;null!==a;){var o=fa(a);if(null!==o&&yt(o),null===(o=_t(e,t,n,r))&&jr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Qt=null;function _t(e,t,n,r){if(Qt=null,null!==(e=pa(e=ye(r))))if(null===(t=De(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Ot(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Pt=null,qt=null,$t=null;function en(){if($t)return $t;var e,t,n=qt,r=n.length,a="value"in Pt?Pt.value:Pt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var g=r-e;for(t=1;t<=g&&n[r-t]===a[o-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var g in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(g)&&(t=e[g],this[g]=t?t(a):a[g]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,gn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=an(cn),In=N({},cn,{view:0,detail:0}),un=an(In),Cn=N({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,gn=e.screenY-ln.screenY):gn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),dn=an(Cn),An=an(N({},Cn,{dataTransfer:0})),hn=an(N({},In,{relatedTarget:0})),mn=an(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),pn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fn=an(pn),bn=an(N({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function Bn(){return Gn}var Sn=N({},In,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Sn),Wn=an(N({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Vn=an(N({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn})),Rn=an(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=N({},Cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xn=an(wn),Jn=[9,13,27,32],Yn=s&&"CompositionEvent"in window,xn=null;s&&"documentMode"in document&&(xn=document.documentMode);var Hn=s&&"TextEvent"in window&&!xn,Nn=s&&(!Yn||xn&&8<xn&&11>=xn),Fn=String.fromCharCode(32),Kn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Tn(e,t,n,r){Se(r),0<(t=Lr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Un=null;function Qn(e){Fr(e,0)}function _n(e){if(U(ba(e)))return e}function On(e,t){if("change"===e)return t}var Pn=!1;if(s){var qn;if(s){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}qn=$n}else qn=!1;Pn=qn&&(!document.documentMode||9<document.documentMode)}function tr(){Ln&&(Ln.detachEvent("onpropertychange",nr),Un=Ln=null)}function nr(e){if("value"===e.propertyName&&_n(Un)){var t=[];Tn(t,Un,e,ye(e)),we(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Un=n,(Ln=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _n(Un)}function or(e,t){if("click"===e)return _n(t)}function gr(e,t){if("input"===e||"change"===e)return _n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!I.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function Ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ir(n.ownerDocument.documentElement,n)){if(null!==r&&Cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=sr(n,o);var g=sr(n,r);a&&g&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ar=s&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,pr=null,fr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&Cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&lr(pr,r)||(pr=r,0<(r=Lr(mr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},vr={},Gr={};function Br(e){if(vr[e])return vr[e];if(!Zr[e])return e;var t,n=Zr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Gr)return vr[e]=n[t];return e}s&&(Gr=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);var Sr=Br("animationend"),kr=Br("animationiteration"),Wr=Br("animationstart"),Vr=Br("transitionend"),Rr=new Map,wr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){Rr.set(e,t),l(t,[e])}for(var Jr=0;Jr<wr.length;Jr++){var Yr=wr[Jr];Xr(Yr.toLowerCase(),"on"+(Yr[0].toUpperCase()+Yr.slice(1)))}Xr(Sr,"onAnimationEnd"),Xr(kr,"onAnimationIteration"),Xr(Wr,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Vr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,g,i,l,c){if(Ee.apply(this,arguments),He){if(!He)throw Error(o(198));var s=Ne;He=!1,Ne=null,Fe||(Fe=!0,Ke=s)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var g=r.length-1;0<=g;g--){var i=r[g],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Nr(a,i,c),o=l}else for(g=0;g<r.length;g++){if(l=(i=r[g]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Nr(a,i,c),o=l}}}if(Fe)throw e=Ke,Fe=!1,Ke=null,e}function Kr(e,t){var n=t[Aa];void 0===n&&(n=t[Aa]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Er="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Er]){e[Er]=!0,g.forEach((function(t){"selectionchange"!==t&&(Hr.has(t)||Mr(t,!1,e),Mr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Er]||(t[Er]=!0,Mr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Ot(t)){case 1:var a=Tt;break;case 4:a=Lt;break;default:a=Ut}n=a.bind(null,t,n,e),a=void 0,!Je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var g=r.tag;if(3===g||4===g){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===g)for(g=r.return;null!==g;){var l=g.tag;if((3===l||4===l)&&((l=g.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;g=g.return}for(;null!==i;){if(null===(g=pa(i)))return;if(5===(l=g.tag)||6===l){r=o=g;continue e}i=i.parentNode}}r=r.return}we((function(){var r=o,a=ye(n),g=[];e:{var i=Rr.get(e);if(void 0!==i){var l=sn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=hn;break;case"focusout":c="blur",l=hn;break;case"beforeblur":case"afterblur":l=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Vn;break;case Sr:case kr:case Wr:l=mn;break;case Vr:l=Rn;break;case"scroll":l=un;break;case"wheel":l=Xn;break;case"copy":case"cut":case"paste":l=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Wn}var s=0!==(4&t),I=!s&&"scroll"===e,u=s?null!==i?i+"Capture":null:i;s=[];for(var C,d=r;null!==d;){var A=(C=d).stateNode;if(5===C.tag&&null!==A&&(C=A,null!==u&&(null!=(A=Xe(d,u))&&s.push(Tr(d,A,C)))),I)break;d=d.return}0<s.length&&(i=new l(i,c,null,n,a),g.push({event:i,listeners:s}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!pa(c)&&!c[da])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?pa(c):null)&&(c!==(I=De(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(s=dn,A="onMouseLeave",u="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(s=Wn,A="onPointerLeave",u="onPointerEnter",d="pointer"),I=null==l?i:ba(l),C=null==c?i:ba(c),(i=new s(A,d+"leave",l,n,a)).target=I,i.relatedTarget=C,A=null,pa(a)===r&&((s=new s(u,d+"enter",c,n,a)).target=C,s.relatedTarget=I,A=s),I=A,l&&c)e:{for(u=c,d=0,C=s=l;C;C=Ur(C))d++;for(C=0,A=u;A;A=Ur(A))C++;for(;0<d-C;)s=Ur(s),d--;for(;0<C-d;)u=Ur(u),C--;for(;d--;){if(s===u||null!==u&&s===u.alternate)break e;s=Ur(s),u=Ur(u)}s=null}else s=null;null!==l&&Qr(g,i,l,s,!1),null!==c&&null!==I&&Qr(g,I,c,s,!0)}if("select"===(l=(i=r?ba(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var h=On;else if(jn(i))if(Pn)h=gr;else{h=ar;var m=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(h=or);switch(h&&(h=h(e,r))?Tn(g,h,n,a):(m&&m(e,i,r),"focusout"===e&&(m=i._wrapperState)&&m.controlled&&"number"===i.type&&ee(i,"number",i.value)),m=r?ba(r):window,e){case"focusin":(jn(m)||"true"===m.contentEditable)&&(hr=m,mr=r,pr=null);break;case"focusout":pr=mr=hr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,br(g,n,a);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":br(g,n,a)}var p;if(Yn)e:{switch(e){case"compositionstart":var f="onCompositionStart";break e;case"compositionend":f="onCompositionEnd";break e;case"compositionupdate":f="onCompositionUpdate";break e}f=void 0}else Dn?Mn(e,n)&&(f="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(f="onCompositionStart");f&&(Nn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==f?"onCompositionEnd"===f&&Dn&&(p=en()):(qt="value"in(Pt=a)?Pt.value:Pt.textContent,Dn=!0)),0<(m=Lr(r,f)).length&&(f=new bn(f,e,null,n,a),g.push({event:f,listeners:m}),p?f.data=p:null!==(p=En(n))&&(f.data=p))),(p=Hn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Kn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Yn&&Mn(e,t)?(e=en(),$t=qt=Pt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),g.push({event:a,listeners:r}),a.data=p))}Fr(g,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Xe(e,n))&&r.unshift(Tr(e,o,a)),null!=(o=Xe(e,t))&&r.push(Tr(e,o,a))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,g=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Xe(n,o))&&g.unshift(Tr(n,l,i)):a||null!=(l=Xe(n,o))&&g.push(Tr(n,l,i))),n=n.return}0!==g.length&&e.push({event:t,listeners:g})}var _r=/\r\n?/g,Or=/\u0000|\uFFFD/g;function Pr(e){return("string"===typeof e?e:""+e).replace(_r,"\n").replace(Or,"")}function qr(e,t,n){if(t=Pr(t),Pr(e)!==t&&n)throw Error(o(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ga="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Dt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Dt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function sa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),ua="__reactFiber$"+Ia,Ca="__reactProps$"+Ia,da="__reactContainer$"+Ia,Aa="__reactEvents$"+Ia,ha="__reactListeners$"+Ia,ma="__reactHandles$"+Ia;function pa(e){var t=e[ua];if(t)return t;for(var n=e.parentNode;n;){if(t=n[da]||n[ua]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sa(e);null!==e;){if(n=e[ua])return n;e=sa(e)}return t}n=(e=n).parentNode}return null}function fa(e){return!(e=e[ua]||e[da])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ya(e){return e[Ca]||null}var Za=[],va=-1;function Ga(e){return{current:e}}function Ba(e){0>va||(e.current=Za[va],Za[va]=null,va--)}function Sa(e,t){va++,Za[va]=e.current,e.current=t}var ka={},Wa=Ga(ka),Va=Ga(!1),Ra=ka;function wa(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Xa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ja(){Ba(Va),Ba(Wa)}function Ya(e,t,n){if(Wa.current!==ka)throw Error(o(168));Sa(Wa,t),Sa(Va,n)}function xa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,z(e)||"Unknown",a));return N({},n,r)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,Ra=Wa.current,Sa(Wa,e),Sa(Va,Va.current),!0}function Na(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xa(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ba(Va),Ba(Wa),Sa(Wa,e)):Ba(Va),Sa(Va,n)}var Fa=null,Ka=!1,Ma=!1;function Ea(e){null===Fa?Fa=[e]:Fa.push(e)}function Da(){if(!Ma&&null!==Fa){Ma=!0;var e=0,t=ft;try{var n=Fa;for(ft=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ka=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ue($e,Da),a}finally{ft=t,Ma=!1}}return null}var za=[],ja=0,Ta=null,La=0,Ua=[],Qa=0,_a=null,Oa=1,Pa="";function qa(e,t){za[ja++]=La,za[ja++]=Ta,Ta=e,La=t}function $a(e,t,n){Ua[Qa++]=Oa,Ua[Qa++]=Pa,Ua[Qa++]=_a,_a=e;var r=Oa;e=Pa;var a=32-gt(r)-1;r&=~(1<<a),n+=1;var o=32-gt(t)+a;if(30<o){var g=a-a%5;o=(r&(1<<g)-1).toString(32),r>>=g,a-=g,Oa=1<<32-gt(t)+a|n<<a|r,Pa=o+e}else Oa=1<<o|n<<a|r,Pa=e}function eo(e){null!==e.return&&(qa(e,1),$a(e,1,0))}function to(e){for(;e===Ta;)Ta=za[--ja],za[ja]=null,La=za[--ja],za[ja]=null;for(;e===_a;)_a=Ua[--Qa],Ua[Qa]=null,Pa=Ua[--Qa],Ua[Qa]=null,Oa=Ua[--Qa],Ua[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function go(e,t){var n=wc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Oa,overflow:Pa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&io(e,t)?go(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function Io(e){if(e!==no)return!1;if(!ao)return so(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw uo(),Error(o(418));for(;t;)go(e,t),t=ca(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function uo(){for(var e=ro;e;)e=ca(e.nextSibling)}function Co(){ro=no=null,ao=!1}function Ao(e){null===oo?oo=[e]:oo.push(e)}var ho=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var po=Ga(null),fo=null,bo=null,yo=null;function Zo(){yo=bo=fo=null}function vo(e){var t=po.current;Ba(po),e._currentValue=t}function Go(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bo(e,t){fo=e,yo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(yo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===fo)throw Error(o(308));bo=e,fo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var ko=null;function Wo(e){null===ko?ko=[e]:ko.push(e)}function Vo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Wo(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var wo=!1;function Xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Wl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ro(e,n)}return null===(a=r.interleaved)?(t.next=t,Wo(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ro(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}function No(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=g:o=o.next=g,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var a=e.updateQueue;wo=!1;var o=a.firstBaseUpdate,g=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===g?o=c:g.next=c,g=l;var s=e.alternate;null!==s&&((i=(s=s.updateQueue).lastBaseUpdate)!==g&&(null===i?s.firstBaseUpdate=c:i.next=c,s.lastBaseUpdate=l))}if(null!==o){var I=a.baseState;for(g=0,s=c=l=null,i=o;;){var u=i.lane,C=i.eventTime;if((r&u)===u){null!==s&&(s=s.next={eventTime:C,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var d=e,A=i;switch(u=t,C=n,A.tag){case 1:if("function"===typeof(d=A.payload)){I=d.call(C,I,u);break e}I=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(u="function"===typeof(d=A.payload)?d.call(C,I,u):d)||void 0===u)break e;I=N({},I,u);break e;case 2:wo=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(u=a.effects)?a.effects=[i]:u.push(i))}else C={eventTime:C,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===s?(c=s=C,l=I):s=s.next=C,g|=u;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(u=i).next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}if(null===s&&(l=I),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=s,null!==(t=a.shared.interleaved)){a=t;do{g|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Hl|=g,e.lanes=g,e.memoizedState=I}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Mo=(new r.Component).refs;function Eo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return!!(e=e._reactInternals)&&De(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Yo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xo(e,o,a))&&(nc(t,e,a,r),Ho(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),o=Yo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xo(e,o,a))&&(nc(t,e,a,r),Ho(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Yo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=xo(e,a,r))&&(nc(t,e,r,n),Ho(t,e,r))}};function zo(e,t,n,r,a,o,g){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,g):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function jo(e,t,n){var r=!1,a=ka,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(a=Xa(t)?Ra:Wa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?wa(e,a):ka),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Lo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Mo,Xo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=So(o):(o=Xa(t)?Ra:Wa.current,a.context=wa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Eo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Do.enqueueReplaceState(a,a.state,null),Fo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Uo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,g=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===g?t.ref:(t=function(e){var t=a.refs;t===Mo&&(t=a.refs={}),null===e?delete t[g]:t[g]=e},t._stringRef=g,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function Oo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Jc(e,t)).index=0,e.sibling=null,e}function g(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===v?I(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===X&&_o(o)===t.type)?((r=a(t,n.props)).ref=Uo(e,t,n),r.return=e,r):((r=Yc(n.type,n.key,n.props,null,e.mode,r)).ref=Uo(e,t,n),r.return=e,r)}function s(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function I(e,t,n,r,o){return null===t||7!==t.tag?((t=xc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Yc(t.type,t.key,t.props,null,e.mode,n)).ref=Uo(e,null,t),n.return=e,n;case Z:return(t=Fc(t,e.mode,n)).return=e,t;case X:return u(e,(0,t._init)(t._payload),n)}if(te(t)||x(t))return(t=xc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function C(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===a?c(e,t,n,r):null;case Z:return n.key===a?s(e,t,n,r):null;case X:return C(e,t,(a=n._init)(n._payload),r)}if(te(n)||x(n))return null!==a?null:I(e,t,n,r,null);Qo(e,n)}return null}function d(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case Z:return s(t,e=e.get(null===r.key?n:r.key)||null,r,a);case X:return d(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||x(r))return I(t,e=e.get(n)||null,r,a,null);Qo(t,r)}return null}function A(a,o,i,l){for(var c=null,s=null,I=o,A=o=0,h=null;null!==I&&A<i.length;A++){I.index>A?(h=I,I=null):h=I.sibling;var m=C(a,I,i[A],l);if(null===m){null===I&&(I=h);break}e&&I&&null===m.alternate&&t(a,I),o=g(m,o,A),null===s?c=m:s.sibling=m,s=m,I=h}if(A===i.length)return n(a,I),ao&&qa(a,A),c;if(null===I){for(;A<i.length;A++)null!==(I=u(a,i[A],l))&&(o=g(I,o,A),null===s?c=I:s.sibling=I,s=I);return ao&&qa(a,A),c}for(I=r(a,I);A<i.length;A++)null!==(h=d(I,a,A,i[A],l))&&(e&&null!==h.alternate&&I.delete(null===h.key?A:h.key),o=g(h,o,A),null===s?c=h:s.sibling=h,s=h);return e&&I.forEach((function(e){return t(a,e)})),ao&&qa(a,A),c}function h(a,i,l,c){var s=x(l);if("function"!==typeof s)throw Error(o(150));if(null==(l=s.call(l)))throw Error(o(151));for(var I=s=null,A=i,h=i=0,m=null,p=l.next();null!==A&&!p.done;h++,p=l.next()){A.index>h?(m=A,A=null):m=A.sibling;var f=C(a,A,p.value,c);if(null===f){null===A&&(A=m);break}e&&A&&null===f.alternate&&t(a,A),i=g(f,i,h),null===I?s=f:I.sibling=f,I=f,A=m}if(p.done)return n(a,A),ao&&qa(a,h),s;if(null===A){for(;!p.done;h++,p=l.next())null!==(p=u(a,p.value,c))&&(i=g(p,i,h),null===I?s=p:I.sibling=p,I=p);return ao&&qa(a,h),s}for(A=r(a,A);!p.done;h++,p=l.next())null!==(p=d(A,a,h,p.value,c))&&(e&&null!==p.alternate&&A.delete(null===p.key?h:p.key),i=g(p,i,h),null===I?s=p:I.sibling=p,I=p);return e&&A.forEach((function(e){return t(a,e)})),ao&&qa(a,h),s}return function e(r,o,g,l){if("object"===typeof g&&null!==g&&g.type===v&&null===g.key&&(g=g.props.children),"object"===typeof g&&null!==g){switch(g.$$typeof){case y:e:{for(var c=g.key,s=o;null!==s;){if(s.key===c){if((c=g.type)===v){if(7===s.tag){n(r,s.sibling),(o=a(s,g.props.children)).return=r,r=o;break e}}else if(s.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===X&&_o(c)===s.type){n(r,s.sibling),(o=a(s,g.props)).ref=Uo(r,s,g),o.return=r,r=o;break e}n(r,s);break}t(r,s),s=s.sibling}g.type===v?((o=xc(g.props.children,r.mode,l,g.key)).return=r,r=o):((l=Yc(g.type,g.key,g.props,null,r.mode,l)).ref=Uo(r,o,g),l.return=r,r=l)}return i(r);case Z:e:{for(s=g.key;null!==o;){if(o.key===s){if(4===o.tag&&o.stateNode.containerInfo===g.containerInfo&&o.stateNode.implementation===g.implementation){n(r,o.sibling),(o=a(o,g.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(g,r.mode,l)).return=r,r=o}return i(r);case X:return e(r,o,(s=g._init)(g._payload),l)}if(te(g))return A(r,o,g,l);if(x(g))return h(r,o,g,l);Qo(r,g)}return"string"===typeof g&&""!==g||"number"===typeof g?(g=""+g,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,g)).return=r,r=o):(n(r,o),(o=Nc(g,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var Po=Oo(!0),qo=Oo(!1),$o={},eg=Ga($o),tg=Ga($o),ng=Ga($o);function rg(e){if(e===$o)throw Error(o(174));return e}function ag(e,t){switch(Sa(ng,t),Sa(tg,e),Sa(eg,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ba(eg),Sa(eg,t)}function og(){Ba(eg),Ba(tg),Ba(ng)}function gg(e){rg(ng.current);var t=rg(eg.current),n=le(t,e.type);t!==n&&(Sa(tg,e),Sa(eg,n))}function ig(e){tg.current===e&&(Ba(eg),Ba(tg))}var lg=Ga(0);function cg(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sg=[];function Ig(){for(var e=0;e<sg.length;e++)sg[e]._workInProgressVersionPrimary=null;sg.length=0}var ug=b.ReactCurrentDispatcher,Cg=b.ReactCurrentBatchConfig,dg=0,Ag=null,hg=null,mg=null,pg=!1,fg=!1,bg=0,yg=0;function Zg(){throw Error(o(321))}function vg(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Gg(e,t,n,r,a,g){if(dg=g,Ag=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ug.current=null===e||null===e.memoizedState?ii:li,e=n(r,a),fg){g=0;do{if(fg=!1,bg=0,25<=g)throw Error(o(301));g+=1,mg=hg=null,t.updateQueue=null,ug.current=ci,e=n(r,a)}while(fg)}if(ug.current=gi,t=null!==hg&&null!==hg.next,dg=0,mg=hg=Ag=null,pg=!1,t)throw Error(o(300));return e}function Bg(){var e=0!==bg;return bg=0,e}function Sg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mg?Ag.memoizedState=mg=e:mg=mg.next=e,mg}function kg(){if(null===hg){var e=Ag.alternate;e=null!==e?e.memoizedState:null}else e=hg.next;var t=null===mg?Ag.memoizedState:mg.next;if(null!==t)mg=t,hg=e;else{if(null===e)throw Error(o(310));e={memoizedState:(hg=e).memoizedState,baseState:hg.baseState,baseQueue:hg.baseQueue,queue:hg.queue,next:null},null===mg?Ag.memoizedState=mg=e:mg=mg.next=e}return mg}function Wg(e,t){return"function"===typeof t?t(e):t}function Vg(e){var t=kg(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=hg,a=r.baseQueue,g=n.pending;if(null!==g){if(null!==a){var i=a.next;a.next=g.next,g.next=i}r.baseQueue=a=g,n.pending=null}if(null!==a){g=a.next,r=r.baseState;var l=i=null,c=null,s=g;do{var I=s.lane;if((dg&I)===I)null!==c&&(c=c.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),r=s.hasEagerState?s.eagerState:e(r,s.action);else{var u={lane:I,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===c?(l=c=u,i=r):c=c.next=u,Ag.lanes|=I,Hl|=I}s=s.next}while(null!==s&&s!==g);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{g=a.lane,Ag.lanes|=g,Hl|=g,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rg(e){var t=kg(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,g=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{g=e(g,i.action),i=i.next}while(i!==a);ir(g,t.memoizedState)||(bi=!0),t.memoizedState=g,null===t.baseQueue&&(t.baseState=g),n.lastRenderedState=g}return[g,r]}function wg(){}function Xg(e,t){var n=Ag,r=kg(),a=t(),g=!ir(r.memoizedState,a);if(g&&(r.memoizedState=a,bi=!0),r=r.queue,jg(xg.bind(null,n,r,e),[e]),r.getSnapshot!==t||g||null!==mg&&1&mg.memoizedState.tag){if(n.flags|=2048,Kg(9,Yg.bind(null,n,r,a,t),void 0,null),null===Vl)throw Error(o(349));0!==(30&dg)||Jg(n,t,a)}return a}function Jg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ag.updateQueue)?(t={lastEffect:null,stores:null},Ag.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yg(e,t,n,r){t.value=n,t.getSnapshot=r,Hg(t)&&Ng(e)}function xg(e,t,n){return n((function(){Hg(t)&&Ng(e)}))}function Hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ng(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function Fg(e){var t=Sg();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,Ag,e),[t.memoizedState,e]}function Kg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ag.updateQueue)?(t={lastEffect:null,stores:null},Ag.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mg(){return kg().memoizedState}function Eg(e,t,n,r){var a=Sg();Ag.flags|=e,a.memoizedState=Kg(1|t,n,void 0,void 0===r?null:r)}function Dg(e,t,n,r){var a=kg();r=void 0===r?null:r;var o=void 0;if(null!==hg){var g=hg.memoizedState;if(o=g.destroy,null!==r&&vg(r,g.deps))return void(a.memoizedState=Kg(t,n,o,r))}Ag.flags|=e,a.memoizedState=Kg(1|t,n,o,r)}function zg(e,t){return Eg(8390656,8,e,t)}function jg(e,t){return Dg(2048,8,e,t)}function Tg(e,t){return Dg(4,2,e,t)}function Lg(e,t){return Dg(4,4,e,t)}function Ug(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qg(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Dg(4,4,Ug.bind(null,t,e),n)}function _g(){}function Og(e,t){var n=kg();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pg(e,t){var n=kg();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qg(e,t,n){return 0===(21&dg)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=At(),Ag.lanes|=n,Hl|=n,e.baseState=!0),t)}function $g(e,t){var n=ft;ft=0!==n&&4>n?n:4,e(!0);var r=Cg.transition;Cg.transition={};try{e(!1),t()}finally{ft=n,Cg.transition=r}}function ei(){return kg().memoizedState}function ti(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))ai(t,n);else if(null!==(n=Vo(e,t,n,r))){nc(n,e,r,ec()),oi(n,t,r)}}function ni(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ai(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var g=t.lastRenderedState,i=o(g,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,g)){var l=t.interleaved;return null===l?(a.next=a,Wo(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Vo(e,t,a,r))&&(nc(n,e,r,a=ec()),oi(n,t,r))}}function ri(e){var t=e.alternate;return e===Ag||null!==t&&t===Ag}function ai(e,t){fg=pg=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,pt(e,n)}}var gi={readContext:So,useCallback:Zg,useContext:Zg,useEffect:Zg,useImperativeHandle:Zg,useInsertionEffect:Zg,useLayoutEffect:Zg,useMemo:Zg,useReducer:Zg,useRef:Zg,useState:Zg,useDebugValue:Zg,useDeferredValue:Zg,useTransition:Zg,useMutableSource:Zg,useSyncExternalStore:Zg,useId:Zg,unstable_isNewReconciler:!1},ii={readContext:So,useCallback:function(e,t){return Sg().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:zg,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Eg(4194308,4,Ug.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eg(4,2,e,t)},useMemo:function(e,t){var n=Sg();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sg();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,Ag,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sg().memoizedState=e},useState:Fg,useDebugValue:_g,useDeferredValue:function(e){return Sg().memoizedState=e},useTransition:function(){var e=Fg(!1),t=e[0];return e=$g.bind(null,e[1]),Sg().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ag,a=Sg();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Vl)throw Error(o(349));0!==(30&dg)||Jg(r,t,n)}a.memoizedState=n;var g={value:n,getSnapshot:t};return a.queue=g,zg(xg.bind(null,r,g,e),[e]),r.flags|=2048,Kg(9,Yg.bind(null,r,g,n,t),void 0,null),n},useId:function(){var e=Sg(),t=Vl.identifierPrefix;if(ao){var n=Pa;t=":"+t+"R"+(n=(Oa&~(1<<32-gt(Oa)-1)).toString(32)+n),0<(n=bg++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yg++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},li={readContext:So,useCallback:Og,useContext:So,useEffect:jg,useImperativeHandle:Qg,useInsertionEffect:Tg,useLayoutEffect:Lg,useMemo:Pg,useReducer:Vg,useRef:Mg,useState:function(){return Vg(Wg)},useDebugValue:_g,useDeferredValue:function(e){return qg(kg(),hg.memoizedState,e)},useTransition:function(){return[Vg(Wg)[0],kg().memoizedState]},useMutableSource:wg,useSyncExternalStore:Xg,useId:ei,unstable_isNewReconciler:!1},ci={readContext:So,useCallback:Og,useContext:So,useEffect:jg,useImperativeHandle:Qg,useInsertionEffect:Tg,useLayoutEffect:Lg,useMemo:Pg,useReducer:Rg,useRef:Mg,useState:function(){return Rg(Wg)},useDebugValue:_g,useDeferredValue:function(e){var t=kg();return null===hg?t.memoizedState=e:qg(t,hg.memoizedState,e)},useTransition:function(){return[Rg(Wg)[0],kg().memoizedState]},useMutableSource:wg,useSyncExternalStore:Xg,useId:ei,unstable_isNewReconciler:!1};function si(e,t){try{var n="",r=t;do{n+=E(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function Ii(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Ci="function"===typeof WeakMap?WeakMap:Map;function di(e,t,n){(n=Yo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,Tl=r),ui(0,t)},n}function Ai(e,t,n){(n=Yo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ui(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof r&&(null===Ll?Ll=new Set([this]):Ll.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ci;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bc.bind(null,e,t,n),t.then(e,e))}function mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Yo(-1,1)).tag=2,xo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var fi=b.ReactCurrentOwner,bi=!1;function yi(e,t,n,r){t.child=null===e?qo(t,null,n,r):Po(t,e.child,n,r)}function Zi(e,t,n,r,a){n=n.render;var o=t.ref;return Bo(t,a),r=Gg(e,t,n,r,o,a),n=Bg(),null===e||bi?(ao&&n&&eo(t),t.flags|=1,yi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a))}function vi(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Xc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Gi(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var g=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(g,r)&&e.ref===t.ref)return ji(e,t,a)}return t.flags|=1,(e=Jc(o,r)).ref=t.ref,e.return=t,t.child=e}function Gi(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,ji(e,t,a);0!==(131072&e.flags)&&(bi=!0)}}return ki(e,t,n,r,a)}function Bi(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Jl,Xl),Xl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Jl,Xl),Xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Sa(Jl,Xl),Xl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sa(Jl,Xl),Xl|=r;return yi(e,t,a,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,a){var o=Xa(n)?Ra:Wa.current;return o=wa(t,o),Bo(t,a),n=Gg(e,t,n,r,o,a),r=Bg(),null===e||bi?(ao&&r&&eo(t),t.flags|=1,yi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a))}function Wi(e,t,n,r,a){if(Xa(n)){var o=!0;Ha(t)}else o=!1;if(Bo(t,a),null===t.stateNode)zi(e,t),jo(t,n,r),Lo(t,n,r,a),r=!0;else if(null===e){var g=t.stateNode,i=t.memoizedProps;g.props=i;var l=g.context,c=n.contextType;"object"===typeof c&&null!==c?c=So(c):c=wa(t,c=Xa(n)?Ra:Wa.current);var s=n.getDerivedStateFromProps,I="function"===typeof s||"function"===typeof g.getSnapshotBeforeUpdate;I||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(i!==r||l!==c)&&To(t,g,r,c),wo=!1;var u=t.memoizedState;g.state=u,Fo(t,r,g,a),l=t.memoizedState,i!==r||u!==l||Va.current||wo?("function"===typeof s&&(Eo(t,n,s,r),l=t.memoizedState),(i=wo||zo(t,n,i,r,u,l,c))?(I||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(t.flags|=4194308)):("function"===typeof g.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),g.props=r,g.state=l,g.context=c,r=i):("function"===typeof g.componentDidMount&&(t.flags|=4194308),r=!1)}else{g=t.stateNode,Jo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:mo(t.type,i),g.props=c,I=t.pendingProps,u=g.context,"object"===typeof(l=n.contextType)&&null!==l?l=So(l):l=wa(t,l=Xa(n)?Ra:Wa.current);var C=n.getDerivedStateFromProps;(s="function"===typeof C||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(i!==I||u!==l)&&To(t,g,r,l),wo=!1,u=t.memoizedState,g.state=u,Fo(t,r,g,a);var d=t.memoizedState;i!==I||u!==d||Va.current||wo?("function"===typeof C&&(Eo(t,n,C,r),d=t.memoizedState),(c=wo||zo(t,n,c,r,u,d,l)||!1)?(s||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(r,d,l),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof g.componentDidUpdate&&(t.flags|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof g.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),g.props=r,g.state=d,g.context=l,r=c):("function"!==typeof g.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return Vi(e,t,n,r,o,a)}function Vi(e,t,n,r,a,o){Si(e,t);var g=0!==(128&t.flags);if(!r&&!g)return a&&Na(t,n,!1),ji(e,t,o);r=t.stateNode,fi.current=t;var i=g&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&g?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,i,o)):yi(e,t,i,o),t.memoizedState=r.state,a&&Na(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?Ya(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ya(0,t.context,!1),ag(e,t.containerInfo)}function wi(e,t,n,r,a){return Co(),Ao(a),t.flags|=256,yi(e,t,n,r),t.child}var Xi,Ji,Yi,xi={dehydrated:null,treeContext:null,retryLane:0};function Hi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ni(e,t,n){var r,a=t.pendingProps,g=lg.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&g)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(g|=1),Sa(lg,1&g),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Hc(l,a,0,null),e=xc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hi(n),t.memoizedState=xi,e):Fi(t,l));if(null!==(g=e.memoizedState)&&null!==(r=g.dehydrated))return function(e,t,n,r,a,g,i){if(n)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,r=Ii(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(g=r.fallback,a=t.mode,r=Hc({mode:"visible",children:r.children},a,0,null),(g=xc(g,a,i,null)).flags|=2,r.return=t,g.return=t,r.sibling=g,t.child=r,0!==(1&t.mode)&&Po(t,e.child,null,i),t.child.memoizedState=Hi(i),t.memoizedState=xi,g);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ki(e,t,i,r=Ii(g=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=Vl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==g.retryLane&&(g.retryLane=a,Ro(e,a),nc(r,e,a,-1))}return Ac(),Ki(e,t,i,r=Ii(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),a._reactRetry=t,null):(e=g.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ua[Qa++]=Oa,Ua[Qa++]=Pa,Ua[Qa++]=_a,Oa=e.id,Pa=e.overflow,_a=t),(t=Fi(t,r.children)).flags|=4096,t)}(e,t,l,a,r,g,n);if(i){i=a.fallback,l=t.mode,r=(g=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==g?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Jc(g,c)).subtreeFlags=14680064&g.subtreeFlags,null!==r?i=Jc(r,i):(i=xc(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Hi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=xi,a}return e=(i=e.child).sibling,a=Jc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fi(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){return null!==r&&Ao(r),Po(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Go(e.return,t,n)}function Ei(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Di(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(yi(e,t,r.children,n),0!==(2&(r=lg.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mi(e,n,t);else if(19===e.tag)Mi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(lg,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===cg(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ei(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cg(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ei(t,!0,n,null,o);break;case"together":Ei(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ji(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ti(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ui(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return Xa(t.type)&&Ja(),Li(t),null;case 3:return r=t.stateNode,og(),Ba(Va),Ba(Wa),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Io(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(gc(oo),oo=null))),Li(t),null;case 5:ig(t);var a=rg(ng.current);if(n=t.type,null!==e&&null!=t.stateNode)Ji(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Li(t),null}if(e=rg(eg.current),Io(t)){r=t.stateNode,n=t.type;var g=t.memoizedProps;switch(r[ua]=t,r[Ca]=g,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(a=0;a<xr.length;a++)Kr(xr[a],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":O(r,g),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!g.multiple},Kr("invalid",r);break;case"textarea":ae(r,g),Kr("invalid",r)}for(var l in pe(n,g),a=null,g)if(g.hasOwnProperty(l)){var c=g[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==g.suppressHydrationWarning&&qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==g.suppressHydrationWarning&&qr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Kr("scroll",r)}switch(n){case"input":L(r),$(r,g,!0);break;case"textarea":L(r),ge(r);break;case"select":case"option":break;default:"function"===typeof g.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ua]=t,e[Ca]=r,Xi(e,t),t.stateNode=e;e:{switch(l=fe(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),a=r;break;case"iframe":case"object":case"embed":Kr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xr.length;a++)Kr(xr[a],e);a=r;break;case"source":Kr("error",e),a=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=r;break;case"details":Kr("toggle",e),a=r;break;case"input":O(e,r),a=_(e,r),Kr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=N({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Kr("invalid",e)}for(g in pe(n,a),c=a)if(c.hasOwnProperty(g)){var s=c[g];"style"===g?he(e,s):"dangerouslySetInnerHTML"===g?null!=(s=s?s.__html:void 0)&&Ie(e,s):"children"===g?"string"===typeof s?("textarea"!==n||""!==s)&&ue(e,s):"number"===typeof s&&ue(e,""+s):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(i.hasOwnProperty(g)?null!=s&&"onScroll"===g&&Kr("scroll",e):null!=s&&f(e,g,s,l))}switch(n){case"input":L(e),$(e,r,!1);break;case"textarea":L(e),ge(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(g=r.value)?ne(e,!!r.multiple,g,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)Yi(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rg(ng.current),rg(eg.current),Io(t)){if(r=t.stateNode,n=t.memoizedProps,r[ua]=t,(g=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!==(1&e.mode))}g&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ua]=t,t.stateNode=r}return Li(t),null;case 13:if(Ba(lg),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))uo(),Co(),t.flags|=98560,g=!1;else if(g=Io(t),null!==r&&null!==r.dehydrated){if(null===e){if(!g)throw Error(o(318));if(!(g=null!==(g=t.memoizedState)?g.dehydrated:null))throw Error(o(317));g[ua]=t}else Co(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Li(t),g=!1}else null!==oo&&(gc(oo),oo=null),g=!0;if(!g)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lg.current)?0===Yl&&(Yl=3):Ac())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return og(),null===e&&Dr(t.stateNode.containerInfo),Li(t),null;case 10:return vo(t.type._context),Li(t),null;case 19:if(Ba(lg),null===(g=t.memoizedState))return Li(t),null;if(r=0!==(128&t.flags),null===(l=g.rendering))if(r)Ti(g,!1);else{if(0!==Yl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cg(e))){for(t.flags|=128,Ti(g,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(g=n).flags&=14680066,null===(l=g.alternate)?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,g.type=l.type,e=l.dependencies,g.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(lg,1&lg.current|2),t.child}e=e.sibling}null!==g.tail&&Pe()>Dl&&(t.flags|=128,r=!0,Ti(g,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cg(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ti(g,!0),null===g.tail&&"hidden"===g.tailMode&&!l.alternate&&!ao)return Li(t),null}else 2*Pe()-g.renderingStartTime>Dl&&1073741824!==n&&(t.flags|=128,r=!0,Ti(g,!1),t.lanes=4194304);g.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=g.last)?n.sibling=l:t.child=l,g.last=l)}return null!==g.tail?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=Pe(),t.sibling=null,n=lg.current,Sa(lg,r?1&n|2:1&n),t):(Li(t),null);case 22:case 23:return Ic(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Xl)&&(Li(t),6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qi(e,t){switch(to(t),t.tag){case 1:return Xa(t.type)&&Ja(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return og(),Ba(Va),Ba(Wa),Ig(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ig(t),null;case 13:if(Ba(lg),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Co()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ba(lg),null;case 4:return og(),null;case 10:return vo(t.type._context),null;case 22:case 23:return Ic(),null;default:return null}}Xi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rg(eg.current);var o,g=null;switch(n){case"input":a=_(e,a),r=_(e,r),g=[];break;case"select":a=N({},a,{value:void 0}),r=N({},r,{value:void 0}),g=[];break;case"textarea":a=re(e,a),r=re(e,r),g=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(s in pe(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s){var l=a[s];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?g||(g=[]):(g=g||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(g||(g=[]),g.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(g=g||[]).push(s,c)):"children"===s?"string"!==typeof c&&"number"!==typeof c||(g=g||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(i.hasOwnProperty(s)?(null!=c&&"onScroll"===s&&Kr("scroll",e),g||l===c||(g=[])):(g=g||[]).push(s,c))}n&&(g=g||[]).push("style",n);var s=g;(t.updateQueue=s)&&(t.flags|=4)}},Yi=function(e,t,n,r){n!==r&&(t.flags|=4)};var _i=!1,Oi=!1,Pi="function"===typeof WeakSet?WeakSet:Set,qi=null;function $i(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Gc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Gc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,n,o)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ua],delete t[Ca],delete t[Aa],delete t[ha],delete t[ma])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var sl=null,Il=!1;function ul(e,t,n){for(n=n.child;null!==n;)Cl(e,t,n),n=n.sibling}function Cl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Oi||$i(n,t);case 6:var r=sl,a=Il;sl=null,ul(e,t,n),Il=a,null!==(sl=r)&&(Il?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(Il?(e=sl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Dt(e)):la(sl,n.stateNode));break;case 4:r=sl,a=Il,sl=n.stateNode.containerInfo,Il=!0,ul(e,t,n),sl=r,Il=a;break;case 0:case 11:case 14:case 15:if(!Oi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,g=o.destroy;o=o.tag,void 0!==g&&(0!==(2&o)||0!==(4&o))&&el(n,t,g),a=a.next}while(a!==r)}ul(e,t,n);break;case 1:if(!Oi&&($i(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Gc(n,t,i)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Oi=(r=Oi)||null!==n.memoizedState,ul(e,t,n),Oi=r):ul(e,t,n);break;default:ul(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Pi),t.forEach((function(t){var r=Wc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Al(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var g=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,Il=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===sl)throw Error(o(160));Cl(g,i,a),sl=null,Il=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(s){Gc(a,t,s)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Al(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(h){Gc(e,e.return,h)}try{nl(5,e,e.return)}catch(h){Gc(e,e.return,h)}}break;case 1:Al(t,e),ml(e),512&r&&null!==n&&$i(n,n.return);break;case 5:if(Al(t,e),ml(e),512&r&&null!==n&&$i(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(h){Gc(e,e.return,h)}}if(4&r&&null!=(a=e.stateNode)){var g=e.memoizedProps,i=null!==n?n.memoizedProps:g,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===g.type&&null!=g.name&&P(a,g),fe(l,i);var s=fe(l,g);for(i=0;i<c.length;i+=2){var I=c[i],u=c[i+1];"style"===I?he(a,u):"dangerouslySetInnerHTML"===I?Ie(a,u):"children"===I?ue(a,u):f(a,I,u,s)}switch(l){case"input":q(a,g);break;case"textarea":oe(a,g);break;case"select":var C=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!g.multiple;var d=g.value;null!=d?ne(a,!!g.multiple,d,!1):C!==!!g.multiple&&(null!=g.defaultValue?ne(a,!!g.multiple,g.defaultValue,!0):ne(a,!!g.multiple,g.multiple?[]:"",!1))}a[Ca]=g}catch(h){Gc(e,e.return,h)}}break;case 6:if(Al(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,g=e.memoizedProps;try{a.nodeValue=g}catch(h){Gc(e,e.return,h)}}break;case 3:if(Al(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Dt(t.containerInfo)}catch(h){Gc(e,e.return,h)}break;case 4:default:Al(t,e),ml(e);break;case 13:Al(t,e),ml(e),8192&(a=e.child).flags&&(g=null!==a.memoizedState,a.stateNode.isHidden=g,!g||null!==a.alternate&&null!==a.alternate.memoizedState||(El=Pe())),4&r&&dl(e);break;case 22:if(I=null!==n&&null!==n.memoizedState,1&e.mode?(Oi=(s=Oi)||I,Al(t,e),Oi=s):Al(t,e),ml(e),8192&r){if(s=null!==e.memoizedState,(e.stateNode.isHidden=s)&&!I&&0!==(1&e.mode))for(qi=e,I=e.child;null!==I;){for(u=qi=I;null!==qi;){switch(d=(C=qi).child,C.tag){case 0:case 11:case 14:case 15:nl(4,C,C.return);break;case 1:$i(C,C.return);var A=C.stateNode;if("function"===typeof A.componentWillUnmount){r=C,n=C.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(h){Gc(r,n,h)}}break;case 5:$i(C,C.return);break;case 22:if(null!==C.memoizedState){yl(u);continue}}null!==d?(d.return=C,qi=d):yl(u)}I=I.sibling}e:for(I=null,u=e;;){if(5===u.tag){if(null===I){I=u;try{a=u.stateNode,s?"function"===typeof(g=a.style).setProperty?g.setProperty("display","none","important"):g.display="none":(l=u.stateNode,i=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ae("display",i))}catch(h){Gc(e,e.return,h)}}}else if(6===u.tag){if(null===I)try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(h){Gc(e,e.return,h)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;I===u&&(I=null),u=u.return}I===u&&(I=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Al(t,e),ml(e),4&r&&dl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(gl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(ue(a,""),r.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var g=r.stateNode.containerInfo;ll(e,il(e),g);break;default:throw Error(o(161))}}catch(i){Gc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pl(e,t,n){qi=e,fl(e,t,n)}function fl(e,t,n){for(var r=0!==(1&e.mode);null!==qi;){var a=qi,o=a.child;if(22===a.tag&&r){var g=null!==a.memoizedState||_i;if(!g){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Oi;i=_i;var c=Oi;if(_i=g,(Oi=l)&&!c)for(qi=a;null!==qi;)l=(g=qi).child,22===g.tag&&null!==g.memoizedState?Zl(a):null!==l?(l.return=g,qi=l):Zl(a);for(;null!==o;)qi=o,fl(o,t,n),o=o.sibling;qi=a,_i=i,Oi=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,qi=o):bl(e)}}function bl(e){for(;null!==qi;){var t=qi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Oi||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Oi)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;null!==g&&Ko(t,g,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var s=t.alternate;if(null!==s){var I=s.memoizedState;if(null!==I){var u=I.dehydrated;null!==u&&Dt(u)}}}break;default:throw Error(o(163))}Oi||512&t.flags&&al(t)}catch(C){Gc(t,t.return,C)}}if(t===e){qi=null;break}if(null!==(n=t.sibling)){n.return=t.return,qi=n;break}qi=t.return}}function yl(e){for(;null!==qi;){var t=qi;if(t===e){qi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qi=n;break}qi=t.return}}function Zl(e){for(;null!==qi;){var t=qi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Gc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Gc(t,a,l)}}var o=t.return;try{al(t)}catch(l){Gc(t,o,l)}break;case 5:var g=t.return;try{al(t)}catch(l){Gc(t,g,l)}}}catch(l){Gc(t,t.return,l)}if(t===e){qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,qi=i;break}qi=t.return}}var vl,Gl=Math.ceil,Bl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,kl=b.ReactCurrentBatchConfig,Wl=0,Vl=null,Rl=null,wl=0,Xl=0,Jl=Ga(0),Yl=0,xl=null,Hl=0,Nl=0,Fl=0,Kl=null,Ml=null,El=0,Dl=1/0,zl=null,jl=!1,Tl=null,Ll=null,Ul=!1,Ql=null,_l=0,Ol=0,Pl=null,ql=-1,$l=0;function ec(){return 0!==(6&Wl)?Pe():-1!==ql?ql:ql=Pe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Wl)&&0!==wl?wl&-wl:null!==ho.transition?(0===$l&&($l=At()),$l):0!==(e=ft)?e:e=void 0===(e=window.event)?16:Ot(e.type)}function nc(e,t,n,r){if(50<Ol)throw Ol=0,Pl=null,Error(o(185));mt(e,n,r),0!==(2&Wl)&&e===Vl||(e===Vl&&(0===(2&Wl)&&(Nl|=n),4===Yl&&ic(e,wl)),rc(e,r),1===n&&0===Wl&&0===(1&t.mode)&&(Dl=Pe()+500,Ka&&Da()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var g=31-gt(o),i=1<<g,l=a[g];-1===l?0!==(i&n)&&0===(i&r)||(a[g]=Ct(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=ut(e,e===Vl?wl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ka=!0,Ea(e)}(lc.bind(null,e)):Ea(lc.bind(null,e)),ga((function(){0===(6&Wl)&&Da()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Vc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ql=-1,$l=0,0!==(6&Wl))throw Error(o(327));var n=e.callbackNode;if(Zc()&&e.callbackNode!==n)return null;var r=ut(e,e===Vl?wl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=hc(e,r);else{t=r;var a=Wl;Wl|=2;var g=dc();for(Vl===e&&wl===t||(zl=null,Dl=Pe()+500,uc(e,t));;)try{pc();break}catch(l){Cc(e,l)}Zo(),Bl.current=g,Wl=a,null!==Rl?t=0:(Vl=null,wl=0,t=Yl)}if(0!==t){if(2===t&&(0!==(a=dt(e))&&(r=a,t=oc(e,a))),1===t)throw n=xl,uc(e,0),ic(e,r),rc(e,Pe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=hc(e,r))&&(0!==(g=dt(e))&&(r=g,t=oc(e,g))),1===t))throw n=xl,uc(e,0),ic(e,r),rc(e,Pe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:yc(e,Ml,zl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=El+500-Pe())){if(0!==ut(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(yc.bind(null,e,Ml,zl),t);break}yc(e,Ml,zl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-gt(r);g=1<<i,(i=t[i])>a&&(a=i),r&=~g}if(r=a,10<(r=(120>(r=Pe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gl(r/1960))-r)){e.timeoutHandle=ra(yc.bind(null,e,Ml,zl),r);break}yc(e,Ml,zl);break;default:throw Error(o(329))}}}return rc(e,Pe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Ml,Ml=n,null!==t&&gc(t)),e}function gc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~Fl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Wl))throw Error(o(327));Zc();var t=ut(e,0);if(0===(1&t))return rc(e,Pe()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var r=dt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=xl,uc(e,0),ic(e,t),rc(e,Pe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Ml,zl),rc(e,Pe()),null}function cc(e,t){var n=Wl;Wl|=1;try{return e(t)}finally{0===(Wl=n)&&(Dl=Pe()+500,Ka&&Da())}}function sc(e){null!==Ql&&0===Ql.tag&&0===(6&Wl)&&Zc();var t=Wl;Wl|=1;var n=kl.transition,r=ft;try{if(kl.transition=null,ft=1,e)return e()}finally{ft=r,kl.transition=n,0===(6&(Wl=t))&&Da()}}function Ic(){Xl=Jl.current,Ba(Jl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ja();break;case 3:og(),Ba(Va),Ba(Wa),Ig();break;case 5:ig(r);break;case 4:og();break;case 13:case 19:Ba(lg);break;case 10:vo(r.type._context);break;case 22:case 23:Ic()}n=n.return}if(Vl=e,Rl=e=Jc(e.current,null),wl=Xl=t,Yl=0,xl=null,Fl=Nl=Hl=0,Ml=Kl=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var g=o.next;o.next=a,r.next=g}n.pending=r}ko=null}return e}function Cc(e,t){for(;;){var n=Rl;try{if(Zo(),ug.current=gi,pg){for(var r=Ag.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}pg=!1}if(dg=0,mg=hg=Ag=null,fg=!1,bg=0,Sl.current=null,null===n||null===n.return){Yl=1,xl=t,Rl=null;break}e:{var g=e,i=n.return,l=n,c=t;if(t=wl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var s=c,I=l,u=I.tag;if(0===(1&I.mode)&&(0===u||11===u||15===u)){var C=I.alternate;C?(I.updateQueue=C.updateQueue,I.memoizedState=C.memoizedState,I.lanes=C.lanes):(I.updateQueue=null,I.memoizedState=null)}var d=mi(i);if(null!==d){d.flags&=-257,pi(d,i,l,0,t),1&d.mode&&hi(g,s,t),c=s;var A=(t=d).updateQueue;if(null===A){var h=new Set;h.add(c),t.updateQueue=h}else A.add(c);break e}if(0===(1&t)){hi(g,s,t),Ac();break e}c=Error(o(426))}else if(ao&&1&l.mode){var m=mi(i);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),pi(m,i,l,0,t),Ao(si(c,l));break e}}g=c=si(c,l),4!==Yl&&(Yl=2),null===Kl?Kl=[g]:Kl.push(g),g=i;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t,No(g,di(0,c,t));break e;case 1:l=c;var p=g.type,f=g.stateNode;if(0===(128&g.flags)&&("function"===typeof p.getDerivedStateFromError||null!==f&&"function"===typeof f.componentDidCatch&&(null===Ll||!Ll.has(f)))){g.flags|=65536,t&=-t,g.lanes|=t,No(g,Ai(g,l,t));break e}}g=g.return}while(null!==g)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function dc(){var e=Bl.current;return Bl.current=gi,null===e?gi:e}function Ac(){0!==Yl&&3!==Yl&&2!==Yl||(Yl=4),null===Vl||0===(268435455&Hl)&&0===(268435455&Nl)||ic(Vl,wl)}function hc(e,t){var n=Wl;Wl|=2;var r=dc();for(Vl===e&&wl===t||(zl=null,uc(e,t));;)try{mc();break}catch(a){Cc(e,a)}if(Zo(),Wl=n,Bl.current=r,null!==Rl)throw Error(o(261));return Vl=null,wl=0,Yl}function mc(){for(;null!==Rl;)fc(Rl)}function pc(){for(;null!==Rl&&!_e();)fc(Rl)}function fc(e){var t=vl(e.alternate,e,Xl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,Sl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ui(n,t,Xl)))return void(Rl=n)}else{if(null!==(n=Qi(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Yl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Yl&&(Yl=5)}function yc(e,t,n){var r=ft,a=kl.transition;try{kl.transition=null,ft=1,function(e,t,n,r){do{Zc()}while(null!==Ql);if(0!==(6&Wl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var g=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-gt(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,g),e===Vl&&(Rl=Vl=null,wl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ul||(Ul=!0,Vc(tt,(function(){return Zc(),null}))),g=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||g){g=kl.transition,kl.transition=null;var i=ft;ft=1;var l=Wl;Wl|=4,Sl.current=null,function(e,t){if(ea=jt,Cr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{n.nodeType,g.nodeType}catch(y){n=null;break e}var i=0,l=-1,c=-1,s=0,I=0,u=e,C=null;t:for(;;){for(var d;u!==n||0!==a&&3!==u.nodeType||(l=i+a),u!==g||0!==r&&3!==u.nodeType||(c=i+r),3===u.nodeType&&(i+=u.nodeValue.length),null!==(d=u.firstChild);)C=u,u=d;for(;;){if(u===e)break t;if(C===n&&++s===a&&(l=i),C===g&&++I===r&&(c=i),null!==(d=u.nextSibling))break;C=(u=C).parentNode}u=d}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},jt=!1,qi=t;null!==qi;)if(e=(t=qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qi=e;else for(;null!==qi;){t=qi;try{var A=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==A){var h=A.memoizedProps,m=A.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?h:mo(t.type,h),m);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(y){Gc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,qi=e;break}qi=t.return}A=tl,tl=!1}(e,n),hl(n,e),dr(ta),jt=!!ea,ta=ea=null,e.current=n,pl(n,e,a),Oe(),Wl=l,ft=i,kl.transition=g}else e.current=n;if(Ul&&(Ul=!1,Ql=e,_l=a),0===(g=e.pendingLanes)&&(Ll=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Pe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(jl)throw jl=!1,e=Tl,Tl=null,e;0!==(1&_l)&&0!==e.tag&&Zc(),0!==(1&(g=e.pendingLanes))?e===Pl?Ol++:(Ol=0,Pl=e):Ol=0,Da()}(e,t,n,r)}finally{kl.transition=a,ft=r}return null}function Zc(){if(null!==Ql){var e=bt(_l),t=kl.transition,n=ft;try{if(kl.transition=null,ft=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,_l=0,0!==(6&Wl))throw Error(o(331));var a=Wl;for(Wl|=4,qi=e.current;null!==qi;){var g=qi,i=g.child;if(0!==(16&qi.flags)){var l=g.deletions;if(null!==l){for(var c=0;c<l.length;c++){var s=l[c];for(qi=s;null!==qi;){var I=qi;switch(I.tag){case 0:case 11:case 15:nl(8,I,g)}var u=I.child;if(null!==u)u.return=I,qi=u;else for(;null!==qi;){var C=(I=qi).sibling,d=I.return;if(ol(I),I===s){qi=null;break}if(null!==C){C.return=d,qi=C;break}qi=d}}}var A=g.alternate;if(null!==A){var h=A.child;if(null!==h){A.child=null;do{var m=h.sibling;h.sibling=null,h=m}while(null!==h)}}qi=g}}if(0!==(2064&g.subtreeFlags)&&null!==i)i.return=g,qi=i;else e:for(;null!==qi;){if(0!==(2048&(g=qi).flags))switch(g.tag){case 0:case 11:case 15:nl(9,g,g.return)}var p=g.sibling;if(null!==p){p.return=g.return,qi=p;break e}qi=g.return}}var f=e.current;for(qi=f;null!==qi;){var b=(i=qi).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,qi=b;else e:for(i=f;null!==qi;){if(0!==(2048&(l=qi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(Z){Gc(l,l.return,Z)}if(l===i){qi=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,qi=y;break e}qi=l.return}}if(Wl=a,Da(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(Z){}r=!0}return r}finally{ft=n,kl.transition=t}}return!1}function vc(e,t,n){e=xo(e,t=di(0,t=si(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Gc(e,t,n){if(3===e.tag)vc(e,e,n);else for(;null!==t;){if(3===t.tag){vc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){t=xo(t,e=Ai(t,e=si(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Bc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Vl===e&&(wl&n)===n&&(4===Yl||3===Yl&&(130023424&wl)===wl&&500>Pe()-El?uc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=ec();null!==(e=Ro(e,t))&&(mt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Wc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sc(e,n)}function Vc(e,t){return Ue(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wc(e,t,n,r){return new Rc(e,t,n,r)}function Xc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Jc(e,t){var n=e.alternate;return null===n?((n=wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yc(e,t,n,r,a,g){var i=2;if(r=e,"function"===typeof e)Xc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case v:return xc(n.children,a,g,t);case G:i=8,a|=8;break;case B:return(e=wc(12,n,t,2|a)).elementType=B,e.lanes=g,e;case V:return(e=wc(13,n,t,a)).elementType=V,e.lanes=g,e;case R:return(e=wc(19,n,t,a)).elementType=R,e.lanes=g,e;case J:return Hc(n,a,g,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case k:i=9;break e;case W:i=11;break e;case w:i=14;break e;case X:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=wc(i,n,t,a)).elementType=e,t.type=r,t.lanes=g,t}function xc(e,t,n,r){return(e=wc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=wc(22,e,r,t)).elementType=J,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=wc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,a,o,g,i,l){return e=new Kc(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=wc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xo(o),e}function Ec(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Z,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Dc(e){if(!e)return ka;e:{if(De(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Xa(n))return xa(e,n,t)}return t}function zc(e,t,n,r,a,o,g,i,l){return(e=Mc(n,r,!0,e,0,o,0,i,l)).context=Dc(null),n=e.current,(o=Yo(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,xo(n,o,a),e.current.lanes=a,mt(e,a,r),rc(e,r),e}function jc(e,t,n,r){var a=t.current,o=ec(),g=tc(a);return n=Dc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Yo(o,g)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=xo(a,t,g))&&(nc(e,a,g,o),Ho(e,a,g)),g}function Tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}vl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Va.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ri(t),Co();break;case 5:gg(t);break;case 1:Xa(t.type)&&Ha(t);break;case 4:ag(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(po,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(lg,1&lg.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ni(e,t,n):(Sa(lg,1&lg.current),null!==(e=ji(e,t,n))?e.sibling:null);Sa(lg,1&lg.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Di(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(lg,lg.current),r)break;return null;case 22:case 23:return t.lanes=0,Bi(e,t,n)}return ji(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,ao&&0!==(1048576&t.flags)&&$a(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zi(e,t),e=t.pendingProps;var a=wa(t,Wa.current);Bo(t,n),a=Gg(null,t,r,e,a,n);var g=Bg();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xa(r)?(g=!0,Ha(t)):g=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Xo(t),a.updater=Do,t.stateNode=a,a._reactInternals=t,Lo(t,r,e,n),t=Vi(null,t,r,!0,g,n)):(t.tag=0,ao&&g&&eo(t),yi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Xc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===W)return 11;if(e===w)return 14}return 2}(r),e=mo(r,e),a){case 0:t=ki(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Zi(null,t,r,e,n);break e;case 14:t=vi(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,ki(e,t,r,a=t.elementType===r?a:mo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Wi(e,t,r,a=t.elementType===r?a:mo(r,a),n);case 3:e:{if(Ri(t),null===e)throw Error(o(387));r=t.pendingProps,a=(g=t.memoizedState).element,Jo(e,t),Fo(t,r,null,n);var i=t.memoizedState;if(r=i.element,g.isDehydrated){if(g={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=g,t.memoizedState=g,256&t.flags){t=wi(e,t,r,n,a=si(Error(o(423)),t));break e}if(r!==a){t=wi(e,t,r,n,a=si(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Co(),r===a){t=ji(e,t,n);break e}yi(e,t,r,n)}t=t.child}return t;case 5:return gg(t),null===e&&co(t),r=t.type,a=t.pendingProps,g=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==g&&na(r,g)&&(t.flags|=32),Si(e,t),yi(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ni(e,t,n);case 4:return ag(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Po(t,null,r,n):yi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Zi(e,t,r,a=t.elementType===r?a:mo(r,a),n);case 7:return yi(e,t,t.pendingProps,n),t.child;case 8:case 12:return yi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,g=t.memoizedProps,i=a.value,Sa(po,r._currentValue),r._currentValue=i,null!==g)if(ir(g.value,i)){if(g.children===a.children&&!Va.current){t=ji(e,t,n);break e}}else for(null!==(g=t.child)&&(g.return=t);null!==g;){var l=g.dependencies;if(null!==l){i=g.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===g.tag){(c=Yo(-1,n&-n)).tag=2;var s=g.updateQueue;if(null!==s){var I=(s=s.shared).pending;null===I?c.next=c:(c.next=I.next,I.next=c),s.pending=c}}g.lanes|=n,null!==(c=g.alternate)&&(c.lanes|=n),Go(g.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===g.tag)i=g.type===t.type?null:g.child;else if(18===g.tag){if(null===(i=g.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Go(i,n,t),i=g.sibling}else i=g.child;if(null!==i)i.return=g;else for(i=g;null!==i;){if(i===t){i=null;break}if(null!==(g=i.sibling)){g.return=i.return,i=g;break}i=i.return}g=i}yi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Bo(t,n),r=r(a=So(a)),t.flags|=1,yi(e,t,r,n),t.child;case 14:return a=mo(r=t.type,t.pendingProps),vi(e,t,r,a=mo(r.type,a),n);case 15:return Gi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:mo(r,a),zi(e,t),t.tag=1,Xa(r)?(e=!0,Ha(t)):e=!1,Bo(t,n),jo(t,r,a),Lo(t,r,a,n),Vi(null,t,r,!0,e,n);case 19:return Di(e,t,n);case 22:return Bi(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function _c(e){this._internalRoot=e}function Oc(e){this._internalRoot=e}function Pc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function es(e,t,n,r,a){var o=n._reactRootContainer;if(o){var g=o;if("function"===typeof a){var i=a;a=function(){var e=Tc(g);i.call(e)}}jc(t,g,e,a)}else g=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Tc(g);o.call(e)}}var g=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=g,e[da]=g.current,Dr(8===e.nodeType?e.parentNode:e),sc(),g}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Tc(l);i.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[da]=l.current,Dr(8===e.nodeType?e.parentNode:e),sc((function(){jc(t,l,n,r)})),l}(n,t,e,a,r);return Tc(g)}Oc.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));jc(e,t,null,null)},Oc.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sc((function(){jc(null,e,null,null)})),t[da]=null}},Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&0!==t&&t<Jt[n].priority;n++);Jt.splice(n,0,e),0===n&&Nt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=It(t.pendingLanes);0!==n&&(pt(t,1|n),rc(t,Pe()),0===(6&Wl)&&(Dl=Pe()+500,Da()))}break;case 13:sc((function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Uc(e,1)}},Zt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());Uc(e,134217728)}},vt=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());Uc(e,t)}},Gt=function(){return ft},Bt=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},Ze=function(e,t,n){switch(t){case"input":if(q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ya(r);if(!a)throw Error(o(90));U(r),q(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},We=cc,Ve=sc;var ts={usingClientEntryPoint:!1,Events:[fa,ba,ya,Se,ke,cc]},ns={findFiberByHostInstance:pa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rs={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Te(e))?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{at=as.inject(rs),ot=as}catch(se){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ts,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pc(t))throw Error(o(200));return Ec(e,t,null,n)},t.createRoot=function(e,t){if(!Pc(e))throw Error(o(299));var n=!1,r="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,a),e[da]=t.current,Dr(8===e.nodeType?e.parentNode:e),new _c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Te(t))?null:e.stateNode},t.flushSync=function(e){return sc(e)},t.hydrate=function(e,t,n){if(!qc(t))throw Error(o(200));return es(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,g="",i=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(g=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,g,i),e[da]=t.current,Dr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Oc(t)},t.render=function(e,t,n){if(!qc(t))throw Error(o(200));return es(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qc(e))throw Error(o(40));return!!e._reactRootContainer&&(sc((function(){es(null,null,e,!1,(function(){e._reactRootContainer=null,e[da]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return es(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,g){if(e===g)return!0;if(e&&g&&"object"==typeof e&&"object"==typeof g){if(e.constructor!==g.constructor)return!1;var i,l,c,s;if(Array.isArray(e)){if((i=e.length)!=g.length)return!1;for(l=i;0!==l--;)if(!o(e[l],g[l]))return!1;return!0}if(n&&e instanceof Map&&g instanceof Map){if(e.size!==g.size)return!1;for(s=e.entries();!(l=s.next()).done;)if(!g.has(l.value[0]))return!1;for(s=e.entries();!(l=s.next()).done;)if(!o(l.value[1],g.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&g instanceof Set){if(e.size!==g.size)return!1;for(s=e.entries();!(l=s.next()).done;)if(!g.has(l.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(g)){if((i=e.length)!=g.length)return!1;for(l=i;0!==l--;)if(e[l]!==g[l])return!1;return!0}if(e.constructor===RegExp)return e.source===g.source&&e.flags===g.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===g.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===g.toString();if((i=(c=Object.keys(e)).length)!==Object.keys(g).length)return!1;for(l=i;0!==l--;)if(!Object.prototype.hasOwnProperty.call(g,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=i;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],g[c[l]]))return!1;return!0}return e!==e&&g!==g}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,g=n?Symbol.for("react.strict_mode"):60108,i=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,s=n?Symbol.for("react.async_mode"):60111,I=n?Symbol.for("react.concurrent_mode"):60111,u=n?Symbol.for("react.forward_ref"):60112,C=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,p=n?Symbol.for("react.fundamental"):60117,f=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case I:case o:case i:case g:case C:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case A:case l:return e;default:return t}}case a:return t}}}function Z(e){return y(e)===I}t.AsyncMode=s,t.ConcurrentMode=I,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=u,t.Fragment=o,t.Lazy=h,t.Memo=A,t.Portal=a,t.Profiler=i,t.StrictMode=g,t.Suspense=C,t.isAsyncMode=function(e){return Z(e)||y(e)===s},t.isConcurrentMode=Z,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===u},t.isFragment=function(e){return y(e)===o},t.isLazy=function(e){return y(e)===h},t.isMemo=function(e){return y(e)===A},t.isPortal=function(e){return y(e)===a},t.isProfiler=function(e){return y(e)===i},t.isStrictMode=function(e){return y(e)===g},t.isSuspense=function(e){return y(e)===C},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===I||e===i||e===g||e===C||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===A||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===f||e.$$typeof===b||e.$$typeof===m)},t.typeOf=y},7441:function(e,t,n){"use strict";e.exports=n(1372)},11:function(e,t,n){"use strict";n.r(t),n.d(t,{IGNORE_CLASS_NAME:function(){return d}});var r=n(2791),a=n(4164);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var l,c,s=(void 0===l&&(l=0),function(){return++l}),I={},u={},C=["touchstart","touchmove"],d="ignore-react-onclickoutside";function A(e,t){var n=null;return-1!==C.indexOf(t)&&c&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,l,C=e.displayName||e.name||"Component";return l=n=function(n){var l,d;function h(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+C+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,a.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!u[r._uid]){"undefined"===typeof c&&(c=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),u[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),I[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&i(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,I[r._uid],A(g(r),e))}))}},r.disableOnClickOutside=function(){delete u[r._uid];var e=I[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,A(g(r),t))})),delete I[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=s(),r}d=n,(l=h).prototype=Object.create(d.prototype),l.prototype.constructor=l,o(l,d);var m=h.prototype;return m.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},m.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+C+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,r.createElement)(e,n)},h}(r.Component),n.displayName="OnClickOutside("+C+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:d,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},l}},4419:function(e,t,n){"use strict";n.r(t),n.d(t,{Manager:function(){return g},Popper:function(){return Y},Reference:function(){return N},usePopper:function(){return R}});var r=n(2791),a=r.createContext(),o=r.createContext();function g(e){var t=e.children,n=r.useState(null),g=n[0],i=n[1],l=r.useRef(!1);r.useEffect((function(){return function(){l.current=!0}}),[]);var c=r.useCallback((function(e){l.current||i(e)}),[]);return r.createElement(a.Provider,{value:g},r.createElement(o.Provider,{value:c},t))}var i=function(e){return Array.isArray(e)?e[0]:e},l=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},c=function(e,t){if("function"===typeof e)return l(e,t);null!=e&&(e.current=t)},s=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},I="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,u=n(4164),C=n(761),d=n(1217),A=n(545),h=n(9224),m=n(3120),p=n(9265);var f={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];(0,p.Re)(a)&&(0,m.Z)(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,p.Re)(r)&&(0,m.Z)(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},b=n(5934),y=n(5468),Z=n(9790),v=n(8702),G=n(1668),B=[d.Z,A.Z,h.Z,f,b.Z,y.Z,Z.Z,v.Z,G.Z],S=(0,C.kZ)({defaultModifiers:B}),k=n(77),W=n.n(k),V=[],R=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||V},g=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=g[0],l=g[1],c=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u.flushSync((function(){l({styles:s(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:s(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),C=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return W()(a.current,e)?a.current||e:(a.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=r.useRef();return I((function(){d.current&&d.current.setOptions(C)}),[C]),I((function(){if(null!=e&&null!=t){var r=(n.createPopper||S)(e,t,C);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:i.styles,attributes:i.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}},w=function(){},X=function(){return Promise.resolve(null)},J=[];function Y(e){var t=e.placement,n=void 0===t?"bottom":t,o=e.strategy,g=void 0===o?"absolute":o,l=e.modifiers,s=void 0===l?J:l,I=e.referenceElement,u=e.onFirstUpdate,C=e.innerRef,d=e.children,A=r.useContext(a),h=r.useState(null),m=h[0],p=h[1],f=r.useState(null),b=f[0],y=f[1];r.useEffect((function(){c(C,m)}),[C,m]);var Z=r.useMemo((function(){return{placement:n,strategy:g,onFirstUpdate:u,modifiers:[].concat(s,[{name:"arrow",enabled:null!=b,options:{element:b}}])}}),[n,g,u,s,b]),v=R(I||A,m,Z),G=v.state,B=v.styles,S=v.forceUpdate,k=v.update,W=r.useMemo((function(){return{ref:p,style:B.popper,placement:G?G.placement:n,hasPopperEscaped:G&&G.modifiersData.hide?G.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:G&&G.modifiersData.hide?G.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:B.arrow,ref:y},forceUpdate:S||w,update:k||X}}),[p,y,n,G,B,k,S]);return i(d)(W)}var x=n(2391),H=n.n(x);function N(e){var t=e.children,n=e.innerRef,a=r.useContext(o),g=r.useCallback((function(e){c(n,e),l(a,e)}),[n,a]);return r.useEffect((function(){return function(){return c(n,null)}}),[]),r.useEffect((function(){H()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),i(t)({ref:g})}},9008:function(e,t,n){e.exports=function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(e);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e))return e}function g(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],g=!0,i=!1;try{for(n=n.call(e);!(g=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);g=!0);}catch(l){i=!0,a=l}finally{try{g||null==n.return||n.return()}finally{if(i)throw a}}return o}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return o(e)||g(e,t)||l(e,t)||c()}function I(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function u(e,t){if(null==e)return{};var n,r,a=I(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C={exports:{}},d={exports:{}},A={},h="function"===typeof Symbol&&Symbol.for,m=h?Symbol.for("react.element"):60103,p=h?Symbol.for("react.portal"):60106,f=h?Symbol.for("react.fragment"):60107,b=h?Symbol.for("react.strict_mode"):60108,y=h?Symbol.for("react.profiler"):60114,Z=h?Symbol.for("react.provider"):60109,v=h?Symbol.for("react.context"):60110,G=h?Symbol.for("react.async_mode"):60111,B=h?Symbol.for("react.concurrent_mode"):60111,S=h?Symbol.for("react.forward_ref"):60112,k=h?Symbol.for("react.suspense"):60113,W=h?Symbol.for("react.suspense_list"):60120,V=h?Symbol.for("react.memo"):60115,R=h?Symbol.for("react.lazy"):60116,w=h?Symbol.for("react.block"):60121,X=h?Symbol.for("react.fundamental"):60117,J=h?Symbol.for("react.responder"):60118,Y=h?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case m:switch(e=e.type){case G:case B:case f:case y:case b:case k:return e;default:switch(e=e&&e.$$typeof){case v:case S:case R:case V:case Z:return e;default:return t}}case p:return t}}}function H(e){return x(e)===B}A.AsyncMode=G,A.ConcurrentMode=B,A.ContextConsumer=v,A.ContextProvider=Z,A.Element=m,A.ForwardRef=S,A.Fragment=f,A.Lazy=R,A.Memo=V,A.Portal=p,A.Profiler=y,A.StrictMode=b,A.Suspense=k,A.isAsyncMode=function(e){return H(e)||x(e)===G},A.isConcurrentMode=H,A.isContextConsumer=function(e){return x(e)===v},A.isContextProvider=function(e){return x(e)===Z},A.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===m},A.isForwardRef=function(e){return x(e)===S},A.isFragment=function(e){return x(e)===f},A.isLazy=function(e){return x(e)===R},A.isMemo=function(e){return x(e)===V},A.isPortal=function(e){return x(e)===p},A.isProfiler=function(e){return x(e)===y},A.isStrictMode=function(e){return x(e)===b},A.isSuspense=function(e){return x(e)===k},A.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===f||e===B||e===y||e===b||e===k||e===W||"object"===typeof e&&null!==e&&(e.$$typeof===R||e.$$typeof===V||e.$$typeof===Z||e.$$typeof===v||e.$$typeof===S||e.$$typeof===X||e.$$typeof===J||e.$$typeof===Y||e.$$typeof===w)},A.typeOf=x,d.exports=A;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function N(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(o){return!1}}N()&&Object.assign;var F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function K(e,t,n,r,a){}Function.call.bind(Object.prototype.hasOwnProperty),K.resetWarningCache=function(){},d.exports;var M=F;function E(){}function D(){}D.resetWarningCache=E;var z=function(){function e(e,t,n,r,a,o){if(o!==M){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:D,resetWarningCache:E};return n.PropTypes=n,n};C.exports=z();var j=C.exports;function T(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),a=0,o=n.length;a<o;++a)r[a]=n.charCodeAt(a);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}function L(e,t,n){var r=void 0===t?null:t,a=T(e,void 0!==n&&n),o=a.indexOf("\n",10)+1,g=a.substring(o)+(r?"//# sourceMappingURL="+r:""),i=new Blob([g],{type:"application/javascript"});return URL.createObjectURL(i)}function U(e,t,n){var r;return function(a){return r=r||L(e,t,n),new Worker(r,a)}}var Q=U("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",null,!1),_=["constraints","onError","onLoad","onScan","resolution","qrArea"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){return new Q},$=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().forEach((function(t){e.removeTrack(t),t.stop()}))):e.stop())},ee=function(e){var t=e.constraints,a=e.onError,o=e.onLoad,g=e.onScan,i=e.resolution,l=e.qrArea,c=u(e,_),I=n.useRef(null),C=n.useRef(null),d=n.useRef(document.createElement("canvas")),A=n.useRef(null),h=n.useRef(),m=s(n.useState(null),2),p=m[0],f=m[1],b=n.useRef(!1),y=n.useRef();n.useEffect((function(){y.current=q();var e=y.current;return e.onmessage=function(e){g&&g(e.data?P(P({},e.data),{},{canvas:d.current}):null),b.current=!1},function(){e.terminate()}}),[g]);var Z=JSON.stringify(l),v=n.useCallback((function(){var e=JSON.parse(Z),t=y.current,n=C.current&&C.current.readyState===C.current.HAVE_ENOUGH_DATA;if(!b.current&&n){b.current=!0;var r,a=C.current.videoWidth,o=C.current.videoHeight,g=a>o?a:o,l=Math.floor(i/g*100)/100;o=Math.floor(l*o),a=Math.floor(l*a),d.current.width=a,d.current.height=o,A.current=d.current.getContext("2d"),A.current.drawImage(C.current,0,0,a,o),r=e&&2===e.length&&e[0]>0&&e[1]>0?A.current.getImageData(Math.floor((a-e[0])/2),Math.floor((o-e[1])/2),e[0],e[1]):A.current.getImageData(0,0,a,o),t.postMessage(r)}h.current=requestAnimationFrame(v)}),[i,Z]),G=JSON.stringify(t);return n.useEffect((function(){var e=JSON.parse(G),t=!0;return navigator.mediaDevices.getUserMedia(e).then((function(e){if(t){I.current=e;try{C.current&&(C.current.srcObject=e,C.current.setAttribute("playsinline",!0))}catch(n){f(window.URL.createObjectURL(e))}o&&o(),h.current=requestAnimationFrame(v)}else $(e)})).catch((function(e){return t?a(e):null})),function(){cancelAnimationFrame(h.current),t=!1,$(I.current),p&&window.URL.revokeObjectURL(p)}}),[v,G,a,o,p]),n.createElement("video",r({autoPlay:!0,playsInline:!0,src:p,ref:C},c))};return ee.propTypes={constraints:j.object,onError:j.func.isRequired,onLoad:j.func,onScan:j.func.isRequired,resolution:j.number,qrArea:j.array},ee.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},ee}(n(2791))},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,s=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(s=t.ref),t)g.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:s,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),C=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}function p(){}function f(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},p.prototype=m.prototype;var b=f.prototype=new p;b.constructor=f,A(b,m.prototype),b.isPureReactComponent=!0;var y=Array.isArray,Z=Object.prototype.hasOwnProperty,v={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,r){var a,o={},g=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(g=""+t.key),t)Z.call(t,a)&&!G.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),s=0;s<l;s++)c[s]=arguments[s+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:g,ref:i,props:o,_owner:v.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function W(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function V(e,t,a,o,g){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return g=g(l=e),e=""===o?"."+W(l,0):o,y(g)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),V(g,t,a,"",(function(e){return e}))):null!=g&&(S(g)&&(g=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(g,a+(!g.key||l&&l.key===g.key?"":(""+g.key).replace(k,"$&/")+"/")+e)),t.push(g)),1;if(l=0,o=""===o?".":o+":",y(e))for(var c=0;c<e.length;c++){var s=o+W(i=e[c],c);l+=V(i,t,a,s,g)}else if(s=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}(e),"function"===typeof s)for(e=s.call(e),c=0;!(i=e.next()).done;)l+=V(i=i.value,t,a,s=o+W(i,c++),g);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return V(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function w(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var X={current:null},J={transition:null},Y={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:J,ReactCurrentOwner:v};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=a,t.Profiler=g,t.PureComponent=f,t.StrictMode=o,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=A({},e.props),o=e.key,g=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(g=t.ref,i=v.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Z.call(t,c)&&!G.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var s=0;s<c;s++)l[s]=arguments[s+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:g,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=B,t.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:w}},t.memo=function(e,t){return{$$typeof:I,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=J.transition;J.transition={};try{e()}finally{J.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return X.current.useCallback(e,t)},t.useContext=function(e){return X.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return X.current.useDeferredValue(e)},t.useEffect=function(e,t){return X.current.useEffect(e,t)},t.useId=function(){return X.current.useId()},t.useImperativeHandle=function(e,t,n){return X.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return X.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return X.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return X.current.useMemo(e,t)},t.useReducer=function(e,t,n){return X.current.useReducer(e,t,n)},t.useRef=function(e){return X.current.useRef(e)},t.useState=function(e){return X.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return X.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return X.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,g=a>>>1;r<g;){var i=2*(r+1)-1,l=e[i],c=i+1,s=e[c];if(0>o(l,n))c<a&&0>o(s,l)?(e[r]=s,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>o(s,n)))break e;e[r]=s,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var g=performance;t.unstable_now=function(){return g.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],s=[],I=1,u=null,C=3,d=!1,A=!1,h=!1,m="function"===typeof setTimeout?setTimeout:null,p="function"===typeof clearTimeout?clearTimeout:null,f="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(s);null!==t;){if(null===t.callback)a(s);else{if(!(t.startTime<=e))break;a(s),t.sortIndex=t.expirationTime,n(c,t)}t=r(s)}}function y(e){if(h=!1,b(e),!A)if(null!==r(c))A=!0,J(Z);else{var t=r(s);null!==t&&Y(y,t.startTime-e)}}function Z(e,n){A=!1,h&&(h=!1,p(S),S=-1),d=!0;var o=C;try{for(b(n),u=r(c);null!==u&&(!(u.expirationTime>n)||e&&!V());){var g=u.callback;if("function"===typeof g){u.callback=null,C=u.priorityLevel;var i=g(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?u.callback=i:u===r(c)&&a(c),b(n)}else a(c);u=r(c)}if(null!==u)var l=!0;else{var I=r(s);null!==I&&Y(y,I.startTime-n),l=!1}return l}finally{u=null,C=o,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var v,G=!1,B=null,S=-1,k=5,W=-1;function V(){return!(t.unstable_now()-W<k)}function R(){if(null!==B){var e=t.unstable_now();W=e;var n=!0;try{n=B(!0,e)}finally{n?v():(G=!1,B=null)}}else G=!1}if("function"===typeof f)v=function(){f(R)};else if("undefined"!==typeof MessageChannel){var w=new MessageChannel,X=w.port2;w.port1.onmessage=R,v=function(){X.postMessage(null)}}else v=function(){m(R,0)};function J(e){B=e,G||(G=!0,v())}function Y(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||d||(A=!0,J(Z))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,a,o){var g=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?g+o:g:o=g,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>g?(e.sortIndex=o,n(s,e),null===r(c)&&e===r(s)&&(h?(p(S),S=-1):h=!0,Y(y,o-g))):(e.sortIndex=i,n(c,e),A||d||(A=!0,J(Z))),e},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),g=Object.keys(t);if(o.length!==g.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!i(c))return!1;var s=e[c],I=t[c];if(!1===(a=n?n.call(r,s,I,c):void 0)||void 0===a&&s!==I)return!1}return!0}},6444:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Me},StyleSheetConsumer:function(){return ae},StyleSheetContext:function(){return re},StyleSheetManager:function(){return se},ThemeConsumer:function(){return Xe},ThemeContext:function(){return we},ThemeProvider:function(){return Je},__PRIVATE__:function(){return ze},createGlobalStyle:function(){return Fe},css:function(){return be},default:function(){return je},isStyledComponent:function(){return b},keyframes:function(){return Ke},useTheme:function(){return De},version:function(){return Z},withTheme:function(){return Ee}});var r=n(7441),a=n(2791),o=n(9613),g=n.n(o);var i=function(e){function t(e,r,l,c,u){for(var C,d,A,h,b,Z=0,v=0,G=0,B=0,S=0,X=0,Y=A=C=0,H=0,N=0,F=0,K=0,M=l.length,E=M-1,D="",z="",j="",T="";H<M;){if(d=l.charCodeAt(H),H===E&&0!==v+B+G+Z&&(0!==v&&(d=47===v?10:47),B=G=Z=0,M++,E++),0===v+B+G+Z){if(H===E&&(0<N&&(D=D.replace(I,"")),0<D.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:D+=l.charAt(H)}d=59}switch(d){case 123:for(C=(D=D.trim()).charCodeAt(0),A=1,K=++H;H<M;){switch(d=l.charCodeAt(H)){case 123:A++;break;case 125:A--;break;case 47:switch(d=l.charCodeAt(H+1)){case 42:case 47:e:{for(Y=H+1;Y<E;++Y)switch(l.charCodeAt(Y)){case 47:if(42===d&&42===l.charCodeAt(Y-1)&&H+2!==Y){H=Y+1;break e}break;case 10:if(47===d){H=Y+1;break e}}H=Y}}break;case 91:d++;case 40:d++;case 34:case 39:for(;H++<E&&l.charCodeAt(H)!==d;);}if(0===A)break;H++}if(A=l.substring(K,H),0===C&&(C=(D=D.replace(s,"").trim()).charCodeAt(0)),64===C){switch(0<N&&(D=D.replace(I,"")),d=D.charCodeAt(1)){case 100:case 109:case 115:case 45:N=r;break;default:N=w}if(K=(A=t(r,N,A,d,u+1)).length,0<J&&(b=i(3,A,N=n(w,D,F),r,W,k,K,d,u,c),D=N.join(""),void 0!==b&&0===(K=(A=b.trim()).length)&&(d=0,A="")),0<K)switch(d){case 115:D=D.replace(y,g);case 100:case 109:case 45:A=D+"{"+A+"}";break;case 107:A=(D=D.replace(m,"$1 $2"))+"{"+A+"}",A=1===R||2===R&&o("@"+A,3)?"@-webkit-"+A+"@"+A:"@"+A;break;default:A=D+A,112===c&&(z+=A,A="")}else A=""}else A=t(r,n(r,D,F),A,c,u+1);j+=A,A=F=N=Y=C=0,D="",d=l.charCodeAt(++H);break;case 125:case 59:if(1<(K=(D=(0<N?D.replace(I,""):D).trim()).length))switch(0===Y&&(C=D.charCodeAt(0),45===C||96<C&&123>C)&&(K=(D=D.replace(" ",":")).length),0<J&&void 0!==(b=i(1,D,r,e,W,k,z.length,c,u,c))&&0===(K=(D=b.trim()).length)&&(D="\0\0"),C=D.charCodeAt(0),d=D.charCodeAt(1),C){case 0:break;case 64:if(105===d||99===d){T+=D+l.charAt(H);break}default:58!==D.charCodeAt(K-1)&&(z+=a(D,C,d,D.charCodeAt(2)))}F=N=Y=C=0,D="",d=l.charCodeAt(++H)}}switch(d){case 13:case 10:47===v?v=0:0===1+C&&107!==c&&0<D.length&&(N=1,D+="\0"),0<J*x&&i(0,D,r,e,W,k,z.length,c,u,c),k=1,W++;break;case 59:case 125:if(0===v+B+G+Z){k++;break}default:switch(k++,h=l.charAt(H),d){case 9:case 32:if(0===B+Z+v)switch(S){case 44:case 58:case 9:case 32:h="";break;default:32!==d&&(h=" ")}break;case 0:h="\\0";break;case 12:h="\\f";break;case 11:h="\\v";break;case 38:0===B+v+Z&&(N=F=1,h="\f"+h);break;case 108:if(0===B+v+Z+V&&0<Y)switch(H-Y){case 2:112===S&&58===l.charCodeAt(H-3)&&(V=S);case 8:111===X&&(V=X)}break;case 58:0===B+v+Z&&(Y=H);break;case 44:0===v+G+B+Z&&(N=1,h+="\r");break;case 34:case 39:0===v&&(B=B===d?0:0===B?d:B);break;case 91:0===B+v+G&&Z++;break;case 93:0===B+v+G&&Z--;break;case 41:0===B+v+Z&&G--;break;case 40:if(0===B+v+Z){if(0===C)if(2*S+3*X===533);else C=1;G++}break;case 64:0===v+G+B+Z+Y+A&&(A=1);break;case 42:case 47:if(!(0<B+Z+G))switch(v){case 0:switch(2*d+3*l.charCodeAt(H+1)){case 235:v=47;break;case 220:K=H,v=42}break;case 42:47===d&&42===S&&K+2!==H&&(33===l.charCodeAt(K+2)&&(z+=l.substring(K,H+1)),h="",v=0)}}0===v&&(D+=h)}X=S,S=d,H++}if(0<(K=z.length)){if(N=r,0<J&&(void 0!==(b=i(2,z,N,e,W,k,K,c,u,c))&&0===(z=b).length))return T+z+j;if(z=N.join(",")+"{"+z+"}",0!==R*V){switch(2!==R||o(z,2)||(V=0),V){case 111:z=z.replace(f,":-moz-$1")+z;break;case 112:z=z.replace(p,"::-webkit-input-$1")+z.replace(p,"::-moz-$1")+z.replace(p,":-ms-input-$1")+z}V=0}}return T+z+j}function n(e,t,n){var a=t.trim().split(A);t=a;var o=a.length,g=e.length;switch(g){case 0:case 1:var i=0;for(e=0===g?"":e[0]+" ";i<o;++i)t[i]=r(e,t[i],n).trim();break;default:var l=i=0;for(t=[];i<o;++i)for(var c=0;c<g;++c)t[l++]=r(e[c]+" ",a[i],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function a(e,t,n,r){var g=e+";",i=2*t+3*n+4*r;if(944===i){e=g.indexOf(":",9)+1;var l=g.substring(e,g.length-1).trim();return l=g.substring(0,e).trim()+l+";",1===R||2===R&&o(l,1)?"-webkit-"+l+l:l}if(0===R||2===R&&!o(g,1))return g;switch(i){case 1015:return 97===g.charCodeAt(10)?"-webkit-"+g+g:g;case 951:return 116===g.charCodeAt(3)?"-webkit-"+g+g:g;case 963:return 110===g.charCodeAt(5)?"-webkit-"+g+g:g;case 1009:if(100!==g.charCodeAt(4))break;case 969:case 942:return"-webkit-"+g+g;case 978:return"-webkit-"+g+"-moz-"+g+g;case 1019:case 983:return"-webkit-"+g+"-moz-"+g+"-ms-"+g+g;case 883:if(45===g.charCodeAt(8))return"-webkit-"+g+g;if(0<g.indexOf("image-set(",11))return g.replace(S,"$1-webkit-$2")+g;break;case 932:if(45===g.charCodeAt(4))switch(g.charCodeAt(5)){case 103:return"-webkit-box-"+g.replace("-grow","")+"-webkit-"+g+"-ms-"+g.replace("grow","positive")+g;case 115:return"-webkit-"+g+"-ms-"+g.replace("shrink","negative")+g;case 98:return"-webkit-"+g+"-ms-"+g.replace("basis","preferred-size")+g}return"-webkit-"+g+"-ms-"+g+g;case 964:return"-webkit-"+g+"-ms-flex-"+g+g;case 1023:if(99!==g.charCodeAt(8))break;return"-webkit-box-pack"+(l=g.substring(g.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+g+"-ms-flex-pack"+l+g;case 1005:return C.test(g)?g.replace(u,":-webkit-")+g.replace(u,":-moz-")+g:g;case 1e3:switch(t=(l=g.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=g.replace(b,"tb");break;case 232:l=g.replace(b,"tb-rl");break;case 220:l=g.replace(b,"lr");break;default:return g}return"-webkit-"+g+"-ms-"+l+g;case 1017:if(-1===g.indexOf("sticky",9))break;case 975:switch(t=(g=e).length-10,i=(l=(33===g.charCodeAt(t)?g.substring(0,t):g).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:g=g.replace(l,"-webkit-"+l)+";"+g;break;case 207:case 102:g=g.replace(l,"-webkit-"+(102<i?"inline-":"")+"box")+";"+g.replace(l,"-webkit-"+l)+";"+g.replace(l,"-ms-"+l+"box")+";"+g}return g+";";case 938:if(45===g.charCodeAt(5))switch(g.charCodeAt(6)){case 105:return l=g.replace("-items",""),"-webkit-"+g+"-webkit-box-"+l+"-ms-flex-"+l+g;case 115:return"-webkit-"+g+"-ms-flex-item-"+g.replace(v,"")+g;default:return"-webkit-"+g+"-ms-flex-line-pack"+g.replace("align-content","").replace(v,"")+g}break;case 973:case 989:if(45!==g.charCodeAt(3)||122===g.charCodeAt(4))break;case 931:case 953:if(!0===B.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?a(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):g.replace(l,"-webkit-"+l)+g.replace(l,"-moz-"+l.replace("fill-",""))+g;break;case 962:if(g="-webkit-"+g+(102===g.charCodeAt(5)?"-ms-"+g:"")+g,211===n+r&&105===g.charCodeAt(13)&&0<g.indexOf("transform",10))return g.substring(0,g.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+g}return g}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),Y(2!==t?r:r.replace(G,"$1"),n,t)}function g(e,t){var n=a(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(Z," or ($1)").substring(4):"("+t+")"}function i(e,t,n,r,a,o,g,i,l,s){for(var I,u=0,C=t;u<J;++u)switch(I=X[u].call(c,e,C,n,r,a,o,g,i,l,s)){case void 0:case!1:case!0:case null:break;default:C=I}if(C!==t)return C}function l(e){return void 0!==(e=e.prefix)&&(Y=null,e?"function"!==typeof e?R=1:(R=2,Y=e):R=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<J){var a=i(-1,n,r,r,W,k,0,0,0,0);void 0!==a&&"string"===typeof a&&(n=a)}var o=t(w,r,n,0,0);return 0<J&&(void 0!==(a=i(-2,o,r,r,W,k,o.length,0,0,0))&&(o=a)),"",V=0,k=W=1,o}var s=/^\0+/g,I=/[\0\r\f]/g,u=/: */g,C=/zoo|gra/,d=/([,: ])(transform)/g,A=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,p=/::(place)/g,f=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,y=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,v=/-self|flex-/g,G=/[^]*?(:[rp][el]a[\w-]+)[^]*/,B=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,k=1,W=1,V=0,R=1,w=[],X=[],J=0,Y=null,x=0;return c.use=function e(t){switch(t){case void 0:case null:J=X.length=0;break;default:if("function"===typeof t)X[J++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else x=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},l={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),I=n(2110),u=n.n(I);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=function(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n},A=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},h=Object.freeze([]),m=Object.freeze({});function p(e){return"function"==typeof e}function f(e){return e.displayName||e.name||"Component"}function b(e){return e&&"string"==typeof e.styledComponentId}var y="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.SC_ATTR)||"data-styled",Z="5.3.6",v="undefined"!=typeof window&&"HTMLElement"in window,G=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.20.0"}.SC_DISABLE_SPEEDY)),B={};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var k=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,a=r;e>=a;)(a<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=r;o<a;o++)this.groupSizes[o]=0}for(var g=this.indexOfGroup(e+1),i=0,l=t.length;i<l;i++)this.tag.insertRule(g,t[i])&&(this.groupSizes[e]++,g++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var a=n;a<r;a++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n,o=r;o<a;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),W=new Map,V=new Map,R=1,w=function(e){if(W.has(e))return W.get(e);for(;V.has(R);)R++;var t=R++;return W.set(e,t),V.set(t,e),t},X=function(e){return V.get(e)},J=function(e,t){t>=R&&(R=t+1),W.set(e,t),V.set(t,e)},Y="style["+y+'][data-styled-version="5.3.6"]',x=new RegExp("^"+y+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),H=function(e,t,n){for(var r,a=n.split(","),o=0,g=a.length;o<g;o++)(r=a[o])&&e.registerName(t,r)},N=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],a=0,o=n.length;a<o;a++){var g=n[a].trim();if(g){var i=g.match(x);if(i){var l=0|parseInt(i[1],10),c=i[2];0!==l&&(J(c,l),H(e,c,i[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(g)}}},F=function(){return n.nc},K=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(y))return r}}(n),o=void 0!==a?a.nextSibling:null;r.setAttribute(y,"active"),r.setAttribute("data-styled-version","5.3.6");var g=F();return g&&r.setAttribute("nonce",g),n.insertBefore(r,o),r},M=function(){function e(e){var t=this.element=K(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var a=t[n];if(a.ownerNode===e)return a}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),E=function(){function e(e){var t=this.element=K(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),D=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),z=v,j={isServer:!v,useCSSOMInjection:!G},T=function(){function e(e,t,n){void 0===e&&(e=m),void 0===t&&(t={}),this.options=C({},j,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&v&&z&&(z=!1,function(e){for(var t=document.querySelectorAll(Y),n=0,r=t.length;n<r;n++){var a=t[n];a&&"active"!==a.getAttribute(y)&&(N(e,a),a.parentNode&&a.parentNode.removeChild(a))}}(this))}e.registerId=function(e){return w(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(C({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,a=t.target,e=n?new D(a):r?new M(a):new E(a),new k(e)));var e,t,n,r,a},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(w(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(w(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(w(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",a=0;a<n;a++){var o=X(a);if(void 0!==o){var g=e.names.get(o),i=t.getGroup(a);if(g&&i&&g.size){var l=y+".g"+a+'[id="'+o+'"]',c="";void 0!==g&&g.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+i+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),L=/(a)(d)/gi,U=function(e){return String.fromCharCode(e+(e>25?39:97))};function Q(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=U(t%52)+n;return(U(t%52)+n).replace(L,"$1-$2")}var _=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},O=function(e){return _(5381,e)};function P(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(p(n)&&!b(n))return!1}return!0}var q=O("5.3.6"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&P(e),this.componentId=t,this.baseHash=_(q,t),this.baseStyle=n,T.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))a.push(this.staticRulesId);else{var o=pe(this.rules,e,t,n).join(""),g=Q(_(this.baseHash,o)>>>0);if(!t.hasNameForId(r,g)){var i=n(o,"."+g,void 0,r);t.insertRules(r,g,i)}a.push(g),this.staticRulesId=g}else{for(var l=this.rules.length,c=_(this.baseHash,n.hash),s="",I=0;I<l;I++){var u=this.rules[I];if("string"==typeof u)s+=u;else if(u){var C=pe(u,e,t,n),d=Array.isArray(C)?C.join(""):C;c=_(c,d+I),s+=d}}if(s){var A=Q(c>>>0);if(!t.hasNameForId(r,A)){var h=n(s,"."+A,void 0,r);t.insertRules(r,A,h)}a.push(A)}}return a.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,a,o=void 0===e?m:e,g=o.options,l=void 0===g?m:g,c=o.plugins,s=void 0===c?h:c,I=new i(l),u=[],C=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,a,o,g,i,l,c,s,I){switch(n){case 1:if(0===s&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(a[0]+r),"";default:return r+(0===I?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){u.push(e)})),d=function(e,r,o){return 0===r&&-1!==te.indexOf(o[n.length])||o.match(a)?e:"."+t};function A(e,o,g,i){void 0===i&&(i="&");var l=e.replace(ee,""),c=o&&g?g+" "+o+" { "+l+" }":l;return t=i,n=o,r=new RegExp("\\"+n+"\\b","g"),a=new RegExp("(\\"+n+"\\b){2,}"),I(g||!o?"":o,c)}return I.use([].concat(s,[function(e,t,a){2===e&&a.length&&a[0].lastIndexOf(n)>0&&(a[0]=a[0].replace(r,d))},C,function(e){if(-2===e){var t=u;return u=[],t}}])),A.hash=s.length?s.reduce((function(e,t){return t.name||S(15),_(e,t.name)}),5381).toString():"",A}var re=a.createContext(),ae=re.Consumer,oe=a.createContext(),ge=(oe.Consumer,new T),ie=ne();function le(){return(0,a.useContext)(re)||ge}function ce(){return(0,a.useContext)(oe)||ie}function se(e){var t=(0,a.useState)(e.stylisPlugins),n=t[0],r=t[1],o=le(),i=(0,a.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),l=(0,a.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,a.useEffect)((function(){g()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),a.createElement(re.Provider,{value:i},a.createElement(oe.Provider,{value:l},e.children))}var Ie=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ue=/([A-Z])/,Ce=/([A-Z])/g,de=/^ms-/,Ae=function(e){return"-"+e.toLowerCase()};function he(e){return ue.test(e)?e.replace(Ce,Ae).replace(de,"-ms-"):e}var me=function(e){return null==e||!1===e||""===e};function pe(e,t,n,r){if(Array.isArray(e)){for(var a,o=[],g=0,i=e.length;g<i;g+=1)""!==(a=pe(e[g],t,n,r))&&(Array.isArray(a)?o.push.apply(o,a):o.push(a));return o}return me(e)?"":b(e)?"."+e.styledComponentId:p(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:pe(e(t),t,n,r):e instanceof Ie?n?(e.inject(n,r),e.getName(r)):e:A(e)?function e(t,n){var r,a,o=[];for(var g in t)t.hasOwnProperty(g)&&!me(t[g])&&(Array.isArray(t[g])&&t[g].isCss||p(t[g])?o.push(he(g)+":",t[g],";"):A(t[g])?o.push.apply(o,e(t[g],g)):o.push(he(g)+": "+(r=g,(null==(a=t[g])||"boolean"==typeof a||""===a?"":"number"!=typeof a||0===a||r in l?String(a).trim():a+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}var fe=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return p(e)||A(e)?fe(pe(d(h,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:fe(pe(d(e,n)))}new Set;var ye=function(e,t,n){return void 0===n&&(n=m),e.theme!==n.theme&&e.theme||t||n.theme},Ze=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ve=/(^-|-$)/g;function Ge(e){return e.replace(Ze,"-").replace(ve,"")}var Be=function(e){return Q(O(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},We=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ve(e,t,n){var r=e[n];ke(t)&&ke(r)?Re(r,t):e[n]=t}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,o=n;a<o.length;a++){var g=o[a];if(ke(g))for(var i in g)We(i)&&Ve(e,g[i],i)}return e}var we=a.createContext(),Xe=we.Consumer;function Je(e){var t=(0,a.useContext)(we),n=(0,a.useMemo)((function(){return function(e,t){return e?p(e)?e(t):Array.isArray(e)||"object"!=typeof e?S(8):t?C({},t,{},e):e:S(14)}(e.theme,t)}),[e.theme,t]);return e.children?a.createElement(we.Provider,{value:n},e.children):null}var Ye={};function xe(e,t,n){var r=b(e),o=!Se(e),g=t.attrs,i=void 0===g?h:g,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Ge(e);Ye[n]=(Ye[n]||0)+1;var r=n+"-"+Be("5.3.6"+n+Ye[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,I=t.displayName,d=void 0===I?function(e){return Se(e)?"styled."+e:"Styled("+f(e)+")"}(e):I,A=t.displayName&&t.componentId?Ge(t.displayName)+"-"+t.componentId:t.componentId||c,y=r&&e.attrs?Array.prototype.concat(e.attrs,i).filter(Boolean):i,Z=t.shouldForwardProp;r&&e.shouldForwardProp&&(Z=t.shouldForwardProp?function(n,r,a){return e.shouldForwardProp(n,r,a)&&t.shouldForwardProp(n,r,a)}:e.shouldForwardProp);var v,G=new $(n,A,r?e.componentStyle:void 0),B=G.isStatic&&0===i.length,S=function(e,t){return function(e,t,n,r){var o=e.attrs,g=e.componentStyle,i=e.defaultProps,l=e.foldedComponentIds,c=e.shouldForwardProp,I=e.styledComponentId,u=e.target,d=function(e,t,n){void 0===e&&(e=m);var r=C({},t,{theme:e}),a={};return n.forEach((function(e){var t,n,o,g=e;for(t in p(g)&&(g=g(r)),g)r[t]=a[t]="className"===t?(n=a[t],o=g[t],n&&o?n+" "+o:n||o):g[t]})),[r,a]}(ye(t,(0,a.useContext)(we),i)||m,t,o),A=d[0],h=d[1],f=function(e,t,n,r){var a=le(),o=ce();return t?e.generateAndInjectStyles(m,a,o):e.generateAndInjectStyles(n,a,o)}(g,r,A),b=n,y=h.$as||t.$as||h.as||t.as||u,Z=Se(y),v=h!==t?C({},t,{},h):t,G={};for(var B in v)"$"!==B[0]&&"as"!==B&&("forwardedAs"===B?G.as=v[B]:(c?c(B,s,y):!Z||s(B))&&(G[B]=v[B]));return t.style&&h.style!==t.style&&(G.style=C({},t.style,{},h.style)),G.className=Array.prototype.concat(l,I,f!==I?f:null,t.className,h.className).filter(Boolean).join(" "),G.ref=b,(0,a.createElement)(y,G)}(v,e,t,B)};return S.displayName=d,(v=a.forwardRef(S)).attrs=y,v.componentStyle=G,v.displayName=d,v.shouldForwardProp=Z,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):h,v.styledComponentId=A,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["componentId"]),o=r&&r+"-"+(Se(e)?e:Ge(f(e)));return xe(e,C({},a,{attrs:y,componentId:o}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Re({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},o&&u()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var He=function(e){return function e(t,n,a){if(void 0===a&&(a=m),!(0,r.isValidElementType)(n))return S(1,String(n));var o=function(){return t(n,a,be.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,C({},a,{},r))},o.attrs=function(r){return e(t,n,C({},a,{attrs:Array.prototype.concat(a.attrs,r).filter(Boolean)}))},o}(xe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){He[e]=He(e)}));var Ne=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=P(e),T.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var a=r(pe(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,a)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&T.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=be.apply(void 0,[e].concat(n)),g="sc-global-"+Be(JSON.stringify(o)),i=new Ne(o,g);function l(e){var t=le(),n=ce(),r=(0,a.useContext)(we),o=(0,a.useRef)(t.allocateGSInstance(g)).current;return t.server&&c(o,e,t,r,n),(0,a.useLayoutEffect)((function(){if(!t.server)return c(o,e,t,r,n),function(){return i.removeStyles(o,t)}}),[o,e,t,r,n]),null}function c(e,t,n,r,a){if(i.isStatic)i.renderStyles(e,B,n,a);else{var o=C({},t,{theme:ye(t,r,l.defaultProps)});i.renderStyles(e,o,n,a)}}return a.memo(l)}function Ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=be.apply(void 0,[e].concat(n)).join(""),o=Be(a);return new Ie(o,a)}var Me=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=F();return"<style "+[n&&'nonce="'+n+'"',y+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[y]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=F();return r&&(n.nonce=r),[a.createElement("style",C({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new T({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?S(2):a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)},e}(),Ee=function(e){var t=a.forwardRef((function(t,n){var r=(0,a.useContext)(we),o=e.defaultProps,g=ye(t,r,o);return a.createElement(e,C({},t,{theme:g,ref:n}))}));return u()(t,e),t.displayName="WithTheme("+f(e)+")",t},De=function(){return(0,a.useContext)(we)},ze={StyleSheet:T,masterSheet:ge},je=He},2391:function(e){"use strict";var t=function(){};e.exports=t},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],g=!0,i=!1;try{for(n=n.call(e);!(g=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);g=!0);}catch(l){i=!0,a=l}finally{try{g||null==n.return||n.return()}finally{if(i)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),a=n(8872),o=n(6116),g=n(2218);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||g()},e.exports.__esModule=!0,e.exports.default=e.exports},9400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),a=n(9498),o=n(6116),g=n(2281);e.exports=function(e){return r(e)||a(e)||o(e)||g()},e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var g={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){g[e]=function(){return r[e]}}));return g.default=function(){return r},n.d(o,g),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",n.nc=void 0,function(){"use strict";var e,t=n(2791),r=n.t(t,2),a=n(1250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],g=!0,i=!1;try{for(n=n.call(e);!(g=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);g=!0);}catch(l){i=!0,a=l}finally{try{g||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function f(e){var t=A();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function b(e,t,n){return b=A()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&u(a,n.prototype),a},b.apply(null,arguments)}function y(e){var t="function"===typeof Map?new Map:void 0;return y=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return b(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},y(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var v,G="popstate";function B(e){return{usr:e.state,key:e.key}}function S(e,t,n,r){return void 0===n&&(n=null),Z({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?W(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function k(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,g=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),g&&"#"!==g&&(n+="#"===g.charAt(0)?g:"#"+g),n}function W(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(t,n,r,a){void 0===a&&(a={});var o=a,g=o.window,i=void 0===g?document.defaultView:g,l=o.v5Compat,c=void 0!==l&&l,s=i.history,I=e.Pop,u=null;function C(){I=e.Pop,u&&u({action:I,location:d.location})}var d={get action(){return I},get location(){return t(i,s)},listen:function(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(G,C),u=e,function(){i.removeEventListener(G,C),u=null}},createHref:function(e){return n(i,e)},push:function(t,n){I=e.Push;var a=S(d.location,t,n);r&&r(a,t);var o=B(a),g=d.createHref(a);try{s.pushState(o,"",g)}catch(l){i.location.assign(g)}c&&u&&u({action:I,location:a})},replace:function(t,n){I=e.Replace;var a=S(d.location,t,n);r&&r(a,t);var o=B(a),g=d.createHref(a);s.replaceState(o,"",g),c&&u&&u({action:I,location:a})},go:function(e){return s.go(e)}};return d}function R(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?W(t):t).pathname||"/",n);if(null==r)return null;var a=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var o=null,g=0;null==o&&g<a.length;++g)o=x(a[g],r);return o}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,a){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(F(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var g=D([r,o.relativePath]),i=n.concat(o);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+g+'".'),w(e.children,t,i,g)),(null!=e.path||e.index)&&t.push({path:g,score:Y(g,e.index),routesMeta:i})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));var X=/^:\w+$/,J=function(e){return"*"===e};function Y(e,t){var n=e.split("/"),r=n.length;return n.some(J)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!J(e)})).reduce((function(e,t){return e+(X.test(t)?3:""===t?1:10)}),r)}function x(e,t){for(var n=e.routesMeta,r={},a="/",o=[],g=0;g<n.length;++g){var i=n[g],l=g===n.length-1,c="/"===a?t:t.slice(a.length)||"/",s=H({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!s)return null;Object.assign(r,s.params);var I=i.route;o.push({params:r,pathname:D([a,s.pathname]),pathnameBase:z(D([a,s.pathnameBase])),route:I}),"/"!==s.pathnameBase&&(a=D([a,s.pathnameBase]))}return o}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);K("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=i(n,2),a=r[0],o=r[1],g=t.match(a);if(!g)return null;var l=g[0],c=l.replace(/(.)\/+$/,"$1"),s=g.slice(1),I=o.reduce((function(e,t,n){if("*"===t){var r=s[n]||"";c=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return K(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{});return{params:I,pathname:l,pathnameBase:c,pattern:e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function K(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function E(e,t,n,r){var a;void 0===r&&(r=!1),"string"===typeof e?a=W(e):(F(!(a=Z({},e)).pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),F(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),F(!a.search||!a.search.includes("#"),M("#","search","hash",a)));var o,g=""===e||""===a.pathname,i=g?"/":a.pathname;if(r||null==i)o=n;else{var l=t.length-1;if(i.startsWith("..")){for(var c=i.split("/");".."===c[0];)c.shift(),l-=1;a.pathname=c.join("/")}o=l>=0?t[l]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?W(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,g=n.hash,i=void 0===g?"":g,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:j(o),hash:T(i)}}(a,o),I=i&&"/"!==i&&i.endsWith("/"),u=(g||"."===i)&&n.endsWith("/");return s.pathname.endsWith("/")||!I&&!u||(s.pathname+="/"),s}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},j=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},T=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},L=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n)}(y(Error));var U=I((function e(t,n,r){c(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Q(e){return e instanceof U}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}var O="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},P=t.useState,q=t.useEffect,$=t.useLayoutEffect,ee=t.useDebugValue;function te(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!O(n,r)}catch(a){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ne=t.createContext(null);var re=t.createContext(null);var ae=t.createContext(null);var oe=t.createContext(null);var ge=t.createContext(null);var ie=t.createContext(null);var le=t.createContext({outlet:null,matches:[]});var ce=t.createContext(null);function se(){return null!=t.useContext(ie)}function Ie(){return se()||F(!1),t.useContext(ie).location}function ue(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function Ce(){se()||F(!1);var e=t.useContext(ge),n=e.basename,r=e.navigator,a=t.useContext(le).matches,o=Ie().pathname,g=JSON.stringify(ue(a).map((function(e){return e.pathnameBase}))),i=t.useRef(!1);t.useEffect((function(){i.current=!0}));var l=t.useCallback((function(e,t){if(void 0===t&&(t={}),i.current)if("number"!==typeof e){var a=E(e,JSON.parse(g),o,"path"===t.relative);"/"!==n&&(a.pathname="/"===a.pathname?n:D([n,a.pathname])),(t.replace?r.replace:r.push)(a,t.state,t)}else r.go(e)}),[n,r,g,o]);return l}function de(e,n){var r=(void 0===n?{}:n).relative,a=t.useContext(le).matches,o=Ie().pathname,g=JSON.stringify(ue(a).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return E(e,JSON.parse(g),o,"path"===r)}),[e,g,o,r])}function Ae(){var e=function(){var e,n=t.useContext(ce),r=ye(me.UseRouteError),a=t.useContext(le),o=a.matches[a.matches.length-1];if(n)return n;return a||F(!1),!o.route.id&&F(!1),null==(e=r.errors)?void 0:e[o.route.id]}(),n=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},g={padding:"2px 4px",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:g},"errorElement")," props on\xa0",t.createElement("code",{style:g},"<Route>")))}var he,me,pe=function(e){C(r,e);var n=f(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return I(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ce.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function fe(e){var n=e.routeContext,r=e.match,a=e.children,o=t.useContext(ne);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},a)}function be(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var a=e,o=null==r?void 0:r.errors;if(null!=o){var g=a.findIndex((function(e){return e.route.id&&(null==o?void 0:o[e.route.id])}));g>=0||F(!1),a=a.slice(0,Math.min(a.length,g+1))}return a.reduceRight((function(e,g,i){var l=g.route.id?null==o?void 0:o[g.route.id]:null,c=r?g.route.errorElement||t.createElement(Ae,null):null,s=function(){return t.createElement(fe,{match:g,routeContext:{outlet:e,matches:n.concat(a.slice(0,i+1))}},l?c:void 0!==g.route.element?g.route.element:e)};return r&&(g.route.errorElement||0===i)?t.createElement(pe,{location:r.location,component:c,error:l,children:s()}):s()}),null)}function ye(e){var n=t.useContext(ae);return n||F(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(he||(he={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(me||(me={}));var Ze;function ve(e){var n=e.to,r=e.replace,a=e.state,o=e.relative;se()||F(!1);var g=t.useContext(ae),i=Ce();return t.useEffect((function(){g&&"idle"!==g.navigation.state||i(n,{replace:r,state:a,relative:o})})),null}function Ge(e){F(!1)}function Be(n){var r=n.basename,a=void 0===r?"/":r,o=n.children,g=void 0===o?null:o,i=n.location,l=n.navigationType,c=void 0===l?e.Pop:l,s=n.navigator,I=n.static,u=void 0!==I&&I;se()&&F(!1);var C=a.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:C,navigator:s,static:u}}),[C,s,u]);"string"===typeof i&&(i=W(i));var A=i,h=A.pathname,m=void 0===h?"/":h,p=A.search,f=void 0===p?"":p,b=A.hash,y=void 0===b?"":b,Z=A.state,v=void 0===Z?null:Z,G=A.key,B=void 0===G?"default":G,S=t.useMemo((function(){var e=N(m,C);return null==e?null:{pathname:e,search:f,hash:y,state:v,key:B}}),[C,m,f,y,v,B]);return null==S?null:t.createElement(ge.Provider,{value:d},t.createElement(ie.Provider,{children:g,value:{location:S,navigationType:c}}))}function Se(n){var r=n.children,a=n.location,o=t.useContext(re);return function(n,r){se()||F(!1);var a,o=t.useContext(ae),g=t.useContext(le).matches,i=g[g.length-1],l=i?i.params:{},c=(i&&i.pathname,i?i.pathnameBase:"/"),s=(i&&i.route,Ie());if(r){var I,u="string"===typeof r?W(r):r;"/"===c||(null==(I=u.pathname)?void 0:I.startsWith(c))||F(!1),a=u}else a=s;var C=a.pathname||"/",d=R(n,{pathname:"/"===c?C:C.slice(c.length)||"/"}),A=be(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:D([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:D([c,e.pathnameBase])})})),g,o||void 0);return r?t.createElement(ie.Provider,{value:{location:_({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},A):A}(o&&!r?o.router.routes:We(r),a)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ze||(Ze={}));var ke=new Promise((function(){}));t.Component;function We(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,a){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ge&&F(!1),e.props.index&&e.props.children&&F(!1);var o=[].concat(l(n),[a]),g={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(g.children=We(e.props.children,o)),r.push(g)}else r.push.apply(r,We(e.props.children,n))})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Xe=["aria-current","caseSensitive","className","end","style","to","children"];function Je(e){var n=e.basename,r=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),V((function(e,t){var n=e.location;return S("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,e)}({window:a,v5Compat:!0}));var g=o.current,l=i(t.useState({action:g.action,location:g.location}),2),c=l[0],s=l[1];return t.useLayoutEffect((function(){return g.listen(s)}),[g]),t.createElement(Be,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:g})}var Ye=t.forwardRef((function(e,n){var r=e.onClick,a=e.relative,o=e.reloadDocument,g=e.replace,i=e.state,l=e.target,c=e.to,s=e.preventScrollReset,I=Re(e,we),u=function(e,n){var r=(void 0===n?{}:n).relative;se()||F(!1);var a=t.useContext(ge),o=a.basename,g=a.navigator,i=de(e,{relative:r}),l=i.hash,c=i.pathname,s=i.search,I=c;return"/"!==o&&(I="/"===c?o:D([o,c])),g.createHref({pathname:I,search:s,hash:l})}(c,{relative:a}),C=function(e,n){var r=void 0===n?{}:n,a=r.target,o=r.replace,g=r.state,i=r.preventScrollReset,l=r.relative,c=Ce(),s=Ie(),I=de(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();var n=void 0!==o?o:k(s)===k(I);c(e,{replace:n,state:g,preventScrollReset:i,relative:l})}}),[s,c,I,o,g,a,e,i,l])}(c,{replace:g,state:i,target:l,preventScrollReset:s,relative:a});return t.createElement("a",Ve({},I,{href:u,onClick:o?r:function(e){r&&r(e),e.defaultPrevented||C(e)},ref:n,target:l}))}));var xe=t.forwardRef((function(e,n){var r,a=e["aria-current"],o=void 0===a?"page":a,g=e.caseSensitive,i=void 0!==g&&g,l=e.className,c=void 0===l?"":l,s=e.end,I=void 0!==s&&s,u=e.style,C=e.to,d=e.children,A=Re(e,Xe),h=de(C),m=function(e){se()||F(!1);var n=Ie().pathname;return t.useMemo((function(){return H(e,n)}),[n,e])}({path:h.pathname,end:I,caseSensitive:i}),p=t.useContext(ae),f=null==p?void 0:p.navigation.location,b=de(f||""),y=null!=t.useMemo((function(){return f?H({path:h.pathname,end:I,caseSensitive:i},b.pathname):null}),[f,h.pathname,i,I,b.pathname]),Z=null!=m,v=Z?o:void 0;r="function"===typeof c?c({isActive:Z,isPending:y}):[c,Z?"active":null,y?"pending":null].filter(Boolean).join(" ");var G="function"===typeof u?u({isActive:Z,isPending:y}):u;return t.createElement(Ye,Ve({},A,{"aria-current":v,className:r,ref:n,style:G,to:C}),"function"===typeof d?d({isActive:Z,isPending:y}):d)}));var He,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(He||(He={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));function Fe(){Fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",g=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(k){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof I?t:I,o=Object.create(a.prototype),g=new G(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var g=n.delegate;if(g){var i=y(g,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,g),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var s={};function I(){}function u(){}function C(){}var d={};i(d,a,(function(){return this}));var A=Object.getPrototypeOf,m=A&&A(A(B([])));m&&m!==t&&n.call(m,a)&&(d=m);var p=C.prototype=I.prototype=Object.create(d);function f(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,o,g,i){var l=c(e[a],e,o);if("throw"!==l.type){var s=l.arg,I=s.value;return I&&"object"==h(I)&&n.call(I,"__await")?t.resolve(I.__await).then((function(e){r("next",e,g,i)}),(function(e){r("throw",e,g,i)})):t.resolve(I).then((function(e){s.value=e,g(s)}),(function(e){return r("throw",e,g,i)}))}i(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function Z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Z,this),this.reset(!0)}function B(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return u.prototype=C,i(p,"constructor",C),i(C,"constructor",u),u.displayName=i(C,g,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,i(e,g,"GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},f(b.prototype),i(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var g=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?g:g.next().then((function(e){return e.done?e.value:g.next()}))},f(p),i(p,g,"Generator"),i(p,a,(function(){return this})),i(p,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=B,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return g.type="throw",g.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],g=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var g=o?o.completion:{};return g.type=e,g.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(g)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),v(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;v(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function Ke(e,t,n,r,a,o,g){try{var i=e[o](g),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function g(e){Ke(o,r,a,g,i,"next",e)}function i(e){Ke(o,r,a,g,i,"throw",e)}g(void 0)}))}}var Ee=n.p+"static/media/icon_main.2b5b7d4ecc4a44255ad0.png";function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Le(e,t){if(null==e)return{};var n,r,a=Te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ue=n(1694),Qe=n.n(Ue),_e=n(184),Oe=["xxl","xl","lg","md","sm","xs"],Pe="xs",qe=t.createContext({prefixes:{},breakpoints:Oe,minBreakpoint:Pe});qe.Consumer,qe.Provider;function $e(e,n){var r=(0,t.useContext)(qe).prefixes;return e||r[n]||n}function et(){return(0,t.useContext)(qe).breakpoints}function tt(){return(0,t.useContext)(qe).minBreakpoint}function nt(){return"rtl"===(0,t.useContext)(qe).dir}var rt=["as","bsPrefix","className"],at=["className"];var ot=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,a=Le(e,rt);n=$e(n,"col");var o=et(),g=tt(),i=[],l=[];return o.forEach((function(e){var t,r,o,c=a[e];delete a[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,o=c.order):t=c;var s=e!==g?"-".concat(e):"";t&&i.push(!0===t?"".concat(n).concat(s):"".concat(n).concat(s,"-").concat(t)),null!=o&&l.push("order".concat(s,"-").concat(o)),null!=r&&l.push("offset".concat(s,"-").concat(r))})),[je(je({},a),{},{className:Qe().apply(void 0,[r].concat(i,l))}),{as:t,bsPrefix:n,spans:i}]}(e),r=i(n,2),a=r[0],o=a.className,g=Le(a,at),l=r[1],c=l.as,s=void 0===c?"div":c,I=l.bsPrefix,u=l.spans;return(0,_e.jsx)(s,je(je({},g),{},{ref:t,className:Qe()(o,!u.length&&I)}))}));ot.displayName="Col";var gt=ot,it=["bsPrefix","fluid","as","className"],lt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,a=e.as,o=void 0===a?"div":a,g=e.className,i=Le(e,it),l=$e(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,_e.jsx)(o,je(je({ref:t},i),{},{className:Qe()(g,r?"".concat(l).concat(c):l)}))}));lt.displayName="Container",lt.defaultProps={fluid:!1};var ct=lt,st=n(2007),It=n.n(st),ut=["as","className","type","tooltip"],Ct={type:It().string,tooltip:It().bool,as:It().elementType},dt=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.className,o=e.type,g=void 0===o?"valid":o,i=e.tooltip,l=void 0!==i&&i,c=Le(e,ut);return(0,_e.jsx)(r,je(je({},c),{},{ref:t,className:Qe()(a,"".concat(g,"-").concat(l?"tooltip":"feedback"))}))}));dt.displayName="Feedback",dt.propTypes=Ct;var At=dt,ht=t.createContext({}),mt=["id","bsPrefix","className","type","isValid","isInvalid","as"],pt=t.forwardRef((function(e,n){var r=e.id,a=e.bsPrefix,o=e.className,g=e.type,i=void 0===g?"checkbox":g,l=e.isValid,c=void 0!==l&&l,s=e.isInvalid,I=void 0!==s&&s,u=e.as,C=void 0===u?"input":u,d=Le(e,mt),A=(0,t.useContext)(ht).controlId;return a=$e(a,"form-check-input"),(0,_e.jsx)(C,je(je({},d),{},{ref:n,type:i,id:r||A,className:Qe()(o,a,c&&"is-valid",I&&"is-invalid")}))}));pt.displayName="FormCheckInput";var ft=pt,bt=["bsPrefix","className","htmlFor"],yt=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.htmlFor,g=Le(e,bt),i=(0,t.useContext)(ht).controlId;return r=$e(r,"form-check-label"),(0,_e.jsx)("label",je(je({},g),{},{ref:n,htmlFor:o||i,className:Qe()(a,r)}))}));yt.displayName="FormCheckLabel";var Zt=yt;function vt(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}var Gt=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Bt=t.forwardRef((function(e,n){var r=e.id,a=e.bsPrefix,o=e.bsSwitchPrefix,g=e.inline,i=void 0!==g&&g,l=e.reverse,c=void 0!==l&&l,s=e.disabled,I=void 0!==s&&s,u=e.isValid,C=void 0!==u&&u,d=e.isInvalid,A=void 0!==d&&d,h=e.feedbackTooltip,m=void 0!==h&&h,p=e.feedback,f=e.feedbackType,b=e.className,y=e.style,Z=e.title,v=void 0===Z?"":Z,G=e.type,B=void 0===G?"checkbox":G,S=e.label,k=e.children,W=e.as,V=void 0===W?"input":W,R=Le(e,Gt);a=$e(a,"form-check"),o=$e(o,"form-switch");var w=(0,t.useContext)(ht).controlId,X=(0,t.useMemo)((function(){return{controlId:r||w}}),[w,r]),J=!k&&null!=S&&!1!==S||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(k,Zt),Y=(0,_e.jsx)(ft,je(je({},R),{},{type:"switch"===B?"checkbox":B,ref:n,isValid:C,isInvalid:A,disabled:I,as:V}));return(0,_e.jsx)(ht.Provider,{value:X,children:(0,_e.jsx)("div",{style:y,className:Qe()(b,J&&a,i&&"".concat(a,"-inline"),c&&"".concat(a,"-reverse"),"switch"===B&&o),children:k||(0,_e.jsxs)(_e.Fragment,{children:[Y,J&&(0,_e.jsx)(Zt,{title:v,children:S}),p&&(0,_e.jsx)(At,{type:f,tooltip:m,children:p})]})})})}));Bt.displayName="FormCheck";var St=Object.assign(Bt,{Input:ft,Label:Zt}),kt=n(2391),Wt=n.n(kt),Vt=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Rt=t.forwardRef((function(e,n){var r,a,o=e.bsPrefix,g=e.type,i=e.size,l=e.htmlSize,c=e.id,s=e.className,I=e.isValid,u=void 0!==I&&I,C=e.isInvalid,d=void 0!==C&&C,A=e.plaintext,h=e.readOnly,m=e.as,p=void 0===m?"input":m,f=Le(e,Vt),b=(0,t.useContext)(ht).controlId;(o=$e(o,"form-control"),A)?r=De({},"".concat(o,"-plaintext"),!0):(De(a={},o,!0),De(a,"".concat(o,"-").concat(i),i),r=a);return(0,_e.jsx)(p,je(je({},f),{},{type:g,size:l,ref:n,readOnly:h,id:c||b,className:Qe()(s,r,u&&"is-valid",d&&"is-invalid","color"===g&&"".concat(o,"-color"))}))}));Rt.displayName="FormControl";var wt=Object.assign(Rt,{Feedback:At}),Xt=/-(.)/g;var Jt=["className","bsPrefix","as"],Yt=function(e){return e[0].toUpperCase()+(t=e,t.replace(Xt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function xt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,a=void 0===r?Yt(e):r,o=n.Component,g=n.defaultProps,i=t.forwardRef((function(t,n){var r=t.className,a=t.bsPrefix,g=t.as,i=void 0===g?o||"div":g,l=Le(t,Jt),c=$e(a,e);return(0,_e.jsx)(i,je({ref:n,className:Qe()(r,c)},l))}));return i.defaultProps=g,i.displayName=a,i}var Ht=xt("form-floating"),Nt=["controlId","as"],Ft=t.forwardRef((function(e,n){var r=e.controlId,a=e.as,o=void 0===a?"div":a,g=Le(e,Nt),i=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,_e.jsx)(ht.Provider,{value:i,children:(0,_e.jsx)(o,je(je({},g),{},{ref:n}))})}));Ft.displayName="FormGroup";var Kt=Ft,Mt=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Et=t.forwardRef((function(e,n){var r=e.as,a=void 0===r?"label":r,o=e.bsPrefix,g=e.column,i=e.visuallyHidden,l=e.className,c=e.htmlFor,s=Le(e,Mt),I=(0,t.useContext)(ht).controlId;o=$e(o,"form-label");var u="col-form-label";"string"===typeof g&&(u="".concat(u," ").concat(u,"-").concat(g));var C=Qe()(l,o,i&&"visually-hidden",g&&u);return c=c||I,g?(0,_e.jsx)(gt,je({ref:n,as:"label",className:C,htmlFor:c},s)):(0,_e.jsx)(a,je({ref:n,className:C,htmlFor:c},s))}));Et.displayName="FormLabel",Et.defaultProps={column:!1,visuallyHidden:!1};var Dt=Et,zt=["bsPrefix","className","id"],jt=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.id,g=Le(e,zt),i=(0,t.useContext)(ht).controlId;return r=$e(r,"form-range"),(0,_e.jsx)("input",je(je({},g),{},{type:"range",ref:n,className:Qe()(a,r),id:o||i}))}));jt.displayName="FormRange";var Tt=jt,Lt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Ut=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.size,o=e.htmlSize,g=e.className,i=e.isValid,l=void 0!==i&&i,c=e.isInvalid,s=void 0!==c&&c,I=e.id,u=Le(e,Lt),C=(0,t.useContext)(ht).controlId;return r=$e(r,"form-select"),(0,_e.jsx)("select",je(je({},u),{},{size:o,ref:n,className:Qe()(g,r,a&&"".concat(r,"-").concat(a),l&&"is-valid",s&&"is-invalid"),id:I||C}))}));Ut.displayName="FormSelect";var Qt=Ut,_t=["bsPrefix","className","as","muted"],Ot=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=void 0===a?"small":a,g=e.muted,i=Le(e,_t);return n=$e(n,"form-text"),(0,_e.jsx)(o,je(je({},i),{},{ref:t,className:Qe()(r,n,g&&"text-muted")}))}));Ot.displayName="FormText";var Pt=Ot,qt=t.forwardRef((function(e,t){return(0,_e.jsx)(St,je(je({},e),{},{ref:t,type:"switch"}))}));qt.displayName="Switch";var $t=Object.assign(qt,{Input:St.Input,Label:St.Label}),en=["bsPrefix","className","children","controlId","label"],tn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.children,o=e.controlId,g=e.label,i=Le(e,en);return n=$e(n,"form-floating"),(0,_e.jsxs)(Kt,je(je({ref:t,className:Qe()(r,n),controlId:o},i),{},{children:[a,(0,_e.jsx)("label",{htmlFor:o,children:g})]}))}));tn.displayName="FloatingLabel";var nn=tn,rn=["className","validated","as"],an={_ref:It().any,validated:It().bool,as:It().elementType},on=t.forwardRef((function(e,t){var n=e.className,r=e.validated,a=e.as,o=void 0===a?"form":a,g=Le(e,rn);return(0,_e.jsx)(o,je(je({},g),{},{ref:t,className:Qe()(n,r&&"was-validated")}))}));on.displayName="Form",on.propTypes=an;var gn=Object.assign(on,{Group:Kt,Control:wt,Floating:Ht,Check:St,Switch:$t,Label:Dt,Text:Pt,Range:Tt,Select:Qt,FloatingLabel:nn}),ln=["as","disabled"];function cn(e){var t=e.tagName,n=e.disabled,r=e.href,a=e.target,o=e.rel,g=e.role,i=e.onClick,l=e.tabIndex,c=void 0===l?0:l,s=e.type;t||(t=null!=r||null!=a||null!=o?"a":"button");var I={tagName:t};if("button"===t)return[{type:s||"button",disabled:n},I];var u=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=g?g:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:u,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),u(e))}},I]}var sn=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,ln),o=i(cn(Object.assign({tagName:n,disabled:r},a)),2),g=o[0],l=o[1].tagName;return(0,_e.jsx)(l,Object.assign({},a,g,{ref:t}))}));sn.displayName="Button";var In=sn,un=["as","bsPrefix","variant","size","active","className"],Cn=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,a=e.variant,o=e.size,g=e.active,l=e.className,c=Le(e,un),s=$e(r,"btn"),I=i(cn(je({tagName:n},c)),2),u=I[0],C=I[1].tagName;return(0,_e.jsx)(C,je(je(je({},u),c),{},{ref:t,className:Qe()(l,s,g&&"active",a&&"".concat(s,"-").concat(a),o&&"".concat(s,"-").concat(o),c.href&&c.disabled&&"disabled")}))}));Cn.displayName="Button",Cn.defaultProps={variant:"primary",active:!1,disabled:!1};var dn=Cn,An=Function.prototype.bind.call(Function.prototype.call,[].slice);function hn(e,t){return An(e.querySelectorAll(t))}var mn=!("undefined"===typeof window||!window.document||!window.document.createElement),pn=!1,fn=!1;try{var bn={get passive(){return pn=!0},get once(){return fn=pn=!0}};mn&&(window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,!0))}catch(zv){}var yn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!fn){var a=r.once,o=r.capture,g=n;!fn&&a&&(g=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=g),e.addEventListener(t,g,pn?r:o)}e.addEventListener(t,n,r)};function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}n(2176);function vn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Gn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Bn(e,n,r){var a=(0,t.useRef)(void 0!==e),o=(0,t.useState)(n),g=o[0],i=o[1],l=void 0!==e,c=a.current;return a.current=l,!l&&c&&g!==n&&i(n),[l?e:g,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r&&r.apply(void 0,[e].concat(n)),i(e)}),[r])]}function Sn(e,t){return Object.keys(t).reduce((function(n,r){var a,o=n,g=o[vn(r)],i=o[r],l=Te(o,[vn(r),r].map(Gn)),c=t[r],s=Bn(i,g,e[c]),I=s[0],u=s[1];return Zn({},l,((a={})[r]=I,a[c]=u,a))}),e)}function kn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Wn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Vn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}kn.__suppressDeprecationWarning=!0,Wn.__suppressDeprecationWarning=!0,Vn.__suppressDeprecationWarning=!0;function Rn(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function wn(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var Xn=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Jn(e){var n=Xn(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Yn=t.createContext(null);function xn(){return(0,t.useState)(null)}function Hn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var Nn=Object.prototype.hasOwnProperty;function Fn(e,t,n){var r,a=Hn(e.keys());try{for(a.s();!(r=a.n()).done;)if(Kn(n=r.value,t))return n}catch(o){a.e(o)}finally{a.f()}}function Kn(e,t){var n,r,a;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Kn(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var o,g=Hn(e);try{for(g.s();!(o=g.n()).done;){if((a=r=o.value)&&"object"===typeof a&&!(a=Fn(t,a)))return!1;if(!t.has(a))return!1}}catch(c){g.e(c)}finally{g.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var i,l=Hn(e);try{for(l.s();!(i=l.n()).done;){if((a=(r=i.value)[0])&&"object"===typeof a&&!(a=Fn(t,a)))return!1;if(!Kn(r[1],t.get(a)))return!1}}catch(c){l.e(c)}finally{l.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Nn.call(e,n)&&++r&&!Nn.call(t,n))return!1;if(!(n in t)||!Kn(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function Mn(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}var En=function(e){var n=Mn();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]},Dn=n(8702),zn=n(9224),jn=n(1217),Tn=n(5468),Ln=n(1668),Un=n(5934),Qn=n(545),_n=n(9790),On=(0,n(761).kZ)({defaultModifiers:[Ln.Z,Qn.Z,zn.Z,jn.Z,Un.Z,Tn.Z,_n.Z,Dn.Z]}),Pn=["enabled","placement","strategy","modifiers"];function qn(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var $n={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},er={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var a=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));a.length?n.setAttribute("aria-describedby",a.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,a=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in a){var g=a.getAttribute("aria-describedby");if(g&&-1!==g.split(",").indexOf(r.id))return;a.setAttribute("aria-describedby",g?"".concat(g,",").concat(r.id):r.id)}}},tr=[];var nr=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.enabled,o=void 0===a||a,g=r.placement,c=void 0===g?"bottom":g,s=r.strategy,I=void 0===s?"absolute":s,u=r.modifiers,C=void 0===u?tr:u,d=qn(r,Pn),A=(0,t.useRef)(C),h=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=h.current)||e.update()}),[]),p=(0,t.useCallback)((function(){var e;null==(e=h.current)||e.forceUpdate()}),[]),f=En((0,t.useState)({placement:c,update:m,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),b=i(f,2),y=b[0],Z=b[1],v=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),Z({state:t,styles:n,attributes:r,update:m,forceUpdate:p,placement:t.placement})}}}),[m,p,Z]),G=(0,t.useMemo)((function(){return Kn(A.current,C)||(A.current=C),A.current}),[C]);return(0,t.useEffect)((function(){h.current&&o&&h.current.setOptions({placement:c,strategy:I,modifiers:[].concat(l(G),[v,$n])})}),[I,c,v,o,G]),(0,t.useEffect)((function(){if(o&&null!=e&&null!=n)return h.current=On(e,n,Object.assign({},d,{placement:c,strategy:I,modifiers:[].concat(l(G),[er,v])})),function(){null!=h.current&&(h.current.destroy(),h.current=void 0,Z((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[o,e,n]),y};function rr(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var ar=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};var or=function(e,t,n,r){return yn(e,t,n,r),function(){ar(e,t,n,r)}};function gr(e){return e&&e.ownerDocument||document}var ir=function(){};function lr(e){return 0===e.button}function cr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var sr=function(e){return e&&("current"in e?e.current:e)},Ir={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var ur=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.disabled,o=r.clickTrigger,g=void 0===o?"click":o,i=(0,t.useRef)(!1),l=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=sr(e);Wt()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!n||cr(t)||!lr(t)||!!rr(n,t.target)||l.current,l.current=!1}),[e]),s=Jn((function(t){var n=sr(e);n&&rr(n,t.target)&&(l.current=!0)})),I=Jn((function(e){i.current||n(e)}));(0,t.useEffect)((function(){if(!a&&null!=e){var t=gr(sr(e)),n=(t.defaultView||window).event,r=null;Ir[g]&&(r=or(t,Ir[g],s,!0));var o=or(t,g,c,!0),i=or(t,g,(function(e){e!==n?I(e):n=void 0})),l=[];return"ontouchstart"in t.documentElement&&(l=[].slice.call(t.body.children).map((function(e){return or(e,"mousemove",ir)}))),function(){null==r||r(),o(),i(),l.forEach((function(e){return e()}))}}}),[e,a,g,c,s,I])};function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function dr(e){var t,n,r,a,o=e.enabled,g=e.enableEvents,i=e.placement,l=e.flip,c=e.offset,s=e.fixed,I=e.containerPadding,u=e.arrowElement,C=e.popperConfig,d=void 0===C?{}:C,A=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(d.modifiers);return Object.assign({},d,{placement:i,enabled:o,strategy:s?"fixed":d.strategy,modifiers:Cr(Object.assign({},A,{eventListeners:{enabled:g},preventOverflow:Object.assign({},A.preventOverflow,{options:I?Object.assign({padding:I},null==(t=A.preventOverflow)?void 0:t.options):null==(n=A.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=A.offset)?void 0:r.options)},arrow:Object.assign({},A.arrow,{enabled:!!u,options:Object.assign({},null==(a=A.arrow)?void 0:a.options,{element:u})}),flip:Object.assign({enabled:!!l},A.flip)}))})}var Ar=["children"];var hr=function(){};function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(Yn),r=xn(),a=i(r,2),o=a[0],g=a[1],l=(0,t.useRef)(!1),c=e.flip,s=e.offset,I=e.rootCloseEvent,u=e.fixed,C=void 0!==u&&u,d=e.placement,A=e.popperConfig,h=void 0===A?{}:A,m=e.enableEventListeners,p=void 0===m||m,f=e.usePopper,b=void 0===f?!!n:f,y=null==(null==n?void 0:n.show)?!!e.show:n.show;y&&!l.current&&(l.current=!0);var Z=function(e){null==n||n.toggle(!1,e)},v=n||{},G=v.placement,B=v.setMenu,S=v.menuElement,k=v.toggleElement,W=nr(k,S,dr({placement:d||G||"bottom-start",enabled:b,enableEvents:null==p?y:p,offset:s,flip:c,fixed:C,arrowElement:o,popperConfig:h})),V=Object.assign({ref:B||hr,"aria-labelledby":null==k?void 0:k.id},W.attributes.popper,{style:W.styles.popper}),R={show:y,placement:G,hasShown:l.current,toggle:null==n?void 0:n.toggle,popper:b?W:null,arrowProps:b?Object.assign({ref:g},W.attributes.arrow,{style:W.styles.arrow}):{}};return ur(S,Z,{clickTrigger:I,disabled:!y}),[V,R]}function pr(e){var t=e.children,n=i(mr(function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Ar)),2),r=n[0],a=n[1];return(0,_e.jsx)(_e.Fragment,{children:t(r,a)})}pr.displayName="DropdownMenu",pr.defaultProps={usePopper:!0};var fr=pr,br={prefix:String(Math.round(1e10*Math.random())),current:0},yr=t.createContext(br);var Zr=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var vr=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Gr=function(){};function Br(){var e=function(e){var n=(0,t.useContext)(yr);return n!==br||Zr||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria".concat(n.prefix,"-").concat(++n.current)}),[e])}(),n=(0,t.useContext)(Yn)||{},r=n.show,a=void 0!==r&&r,o=n.toggle,g=void 0===o?Gr:o,i=n.setToggle,l=n.menuElement,c=(0,t.useCallback)((function(e){g(!a,e)}),[a,g]),s={id:e,ref:i||Gr,onClick:c,"aria-expanded":!!a};return l&&vr(l)&&(s["aria-haspopup"]=!0),[s,{show:a,toggle:g}]}function Sr(e){var t=e.children,n=i(Br(),2),r=n[0],a=n[1];return(0,_e.jsx)(_e.Fragment,{children:t(r,a)})}Sr.displayName="DropdownToggle";var kr=Sr,Wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Vr=t.createContext(null),Rr=t.createContext(null);Rr.displayName="NavContext";var wr=Rr;function Xr(e){return"".concat("data-rr-ui-").concat(e)}var Jr=["eventKey","disabled","onClick","active","as"];function Yr(e){var n=e.key,r=e.href,a=e.active,o=e.disabled,g=e.onClick,i=(0,t.useContext)(Vr),l=((0,t.useContext)(wr)||{}).activeKey,c=Wr(n,r),s=null==a&&null!=n?Wr(l)===c:a;return[De({onClick:Jn((function(e){o||(null==g||g(e),i&&!e.isPropagationStopped()&&i(c,e))})),"aria-disabled":o||void 0,"aria-selected":s},Xr("dropdown-item"),""),{isActive:s}]}var xr=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,a=e.onClick,o=e.active,g=e.as,l=void 0===g?In:g,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Jr),s=i(Yr({key:n,href:c.href,disabled:r,onClick:a,active:o}),1)[0];return(0,_e.jsx)(l,Object.assign({},c,{ref:t},s))}));xr.displayName="DropdownItem";var Hr=xr,Nr=(0,t.createContext)(mn?window:void 0);Nr.Provider;function Fr(){return(0,t.useContext)(Nr)}function Kr(){var e=wn(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function Mr(e){var n=e.defaultShow,r=e.show,a=e.onSelect,o=e.onToggle,g=e.itemSelector,l=void 0===g?"* [".concat(Xr("dropdown-item"),"]"):g,c=e.focusFirstItemOnShow,s=e.placement,I=void 0===s?"bottom-start":s,u=e.children,C=Fr(),d=i(Bn(r,n,o),2),A=d[0],h=d[1],m=i(Kr(),2),p=m[0],f=m[1],b=p.current,y=i(Kr(),2),Z=y[0],v=y[1],G=Z.current,B=Rn(A),S=(0,t.useRef)(null),k=(0,t.useRef)(!1),W=(0,t.useContext)(Vr),V=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),R=Jn((function(e,t){null==a||a(e,t),V(!1,t,"select"),t.isPropagationStopped()||null==W||W(e,t)})),w=(0,t.useMemo)((function(){return{toggle:V,placement:I,show:A,menuElement:b,toggleElement:G,setMenu:f,setToggle:v}}),[V,I,A,b,G,f,v]);b&&B&&!A&&(k.current=b.contains(b.ownerDocument.activeElement));var X=Jn((function(){G&&G.focus&&G.focus()})),J=Jn((function(){var e=S.current,t=c;if(null==t&&(t=!(!p.current||!vr(p.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=hn(p.current,l)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){A?J():k.current&&(k.current=!1,X())}),[A,k,X,J]),(0,t.useEffect)((function(){S.current=null}));var Y=function(e,t){if(!p.current)return null;var n=hn(p.current,l),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,a){void 0===a&&(a=!1);var o=Jn(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,o,a),function(){return t.removeEventListener(n,o,a)}}),[e])}((0,t.useCallback)((function(){return C.document}),[C]),"keydown",(function(e){var t,n,r=e.key,a=e.target,o=null==(t=p.current)?void 0:t.contains(a),g=null==(n=Z.current)?void 0:n.contains(a);if((!/input|textarea/i.test(a.tagName)||!(" "===r||"Escape"!==r&&o||"Escape"===r&&"search"===a.type))&&(o||g)&&("Tab"!==r||p.current&&A)){S.current=e.type;var i={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var l=Y(a,-1);return l&&l.focus&&l.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),A){var c=Y(a,1);c&&c.focus&&c.focus()}else h(!0,i);return;case"Tab":yn(a.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=p.current)&&t.contains(e.target)||h(!1,i)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,i)}}})),(0,_e.jsx)(Vr.Provider,{value:R,children:(0,_e.jsx)(Yn.Provider,{value:w,children:u})})}Mr.displayName="Dropdown",Mr.Menu=fr,Mr.Toggle=kr,Mr.Item=Hr;var Er=Mr,Dr=t.createContext({});Dr.displayName="DropdownContext";var zr=Dr;var jr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Tr="undefined"!==typeof document||jr?t.useLayoutEffect:t.useEffect;new WeakMap;var Lr=["onKeyDown"];var Ur=t.forwardRef((function(e,t){var n,r=e.onKeyDown,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Lr),o=i(cn(Object.assign({tagName:"a"},a)),1)[0],g=Jn((function(e){o.onKeyDown(e),null==r||r(e)}));return(n=a.href)&&"#"!==n.trim()&&"button"!==a.role?(0,_e.jsx)("a",Object.assign({ref:t},a,{onKeyDown:r})):(0,_e.jsx)("a",Object.assign({ref:t},a,o,{onKeyDown:g}))}));Ur.displayName="Anchor";var Qr=Ur,_r=["bsPrefix","className","eventKey","disabled","onClick","active","as"],Or=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.eventKey,o=e.disabled,g=void 0!==o&&o,l=e.onClick,c=e.active,s=e.as,I=void 0===s?Qr:s,u=Le(e,_r),C=$e(n,"dropdown-item"),d=i(Yr({key:a,href:u.href,disabled:g,onClick:l,active:c}),2),A=d[0],h=d[1];return(0,_e.jsx)(I,je(je(je({},u),A),{},{ref:t,className:Qe()(r,C,h.isActive&&"active",g&&"disabled")}))}));Or.displayName="DropdownItem";var Pr=Or,qr=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var $r=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=qr(e),r=qr(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])},ea=t.createContext(null);ea.displayName="InputGroupContext";var ta=ea,na=t.createContext(null);na.displayName="NavbarContext";var ra=na;function aa(e,t){return e}var oa=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function ga(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var ia=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.align,g=e.rootCloseEvent,l=e.flip,c=e.show,s=e.renderOnMount,I=e.as,u=void 0===I?"div":I,C=e.popperConfig,d=e.variant,A=Le(e,oa),h=!1,m=(0,t.useContext)(ra),p=$e(r,"dropdown-menu"),f=(0,t.useContext)(zr),b=f.align,y=f.drop,Z=f.isRTL;o=o||b;var v=(0,t.useContext)(ta),G=[];if(o)if("object"===typeof o){var B=Object.keys(o);if(B.length){var S=B[0],k=o[S];h="start"===k,G.push("".concat(p,"-").concat(S,"-").concat(k))}}else"end"===o&&(h=!0);var W=ga(h,y,Z),V=i(mr({flip:l,rootCloseEvent:g,show:c,usePopper:!m&&0===G.length,offset:[0,2],popperConfig:C,placement:W}),2),R=V[0],w=V[1],X=w.hasShown,J=w.popper,Y=w.show,x=w.toggle;if(R.ref=$r(aa(n),R.ref),Tr((function(){Y&&(null==J||J.update())}),[Y]),!X&&!s&&!v)return null;"string"!==typeof u&&(R.show=Y,R.close=function(){return null==x?void 0:x(!1)},R.align=o);var H=A.style;return null!=J&&J.placement&&(H=je(je({},A.style),R.style),A["x-placement"]=J.placement),(0,_e.jsx)(u,je(je(je(je({},A),R),{},{style:H},(G.length||m)&&{"data-bs-popper":"static"}),{},{className:Qe().apply(void 0,[a,p,Y&&"show",h&&"".concat(p,"-end"),d&&"".concat(p,"-").concat(d)].concat(G))}))}));ia.displayName="DropdownMenu",ia.defaultProps={flip:!0};var la=ia,ca=["bsPrefix","split","className","childBsPrefix","as"],sa=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.split,o=e.className,g=e.childBsPrefix,l=e.as,c=void 0===l?dn:l,s=Le(e,ca),I=$e(r,"dropdown-toggle"),u=(0,t.useContext)(Yn),C=(0,t.useContext)(ta);void 0!==g&&(s.bsPrefix=g);var d=i(Br(),1)[0];return d.ref=$r(d.ref,aa(n)),(0,_e.jsx)(c,je(je({className:Qe()(o,I,a&&"".concat(I,"-split"),!!C&&(null==u?void 0:u.show)&&"show")},d),s))}));sa.displayName="DropdownToggle";var Ia=sa,ua=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Ca=xt("dropdown-header",{defaultProps:{role:"heading"}}),da=xt("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Aa=xt("dropdown-item-text",{Component:"span"}),ha=t.forwardRef((function(e,n){var r=Sn(e,{show:"onToggle"}),a=r.bsPrefix,o=r.drop,g=r.show,i=r.className,l=r.align,c=r.onSelect,s=r.onToggle,I=r.focusFirstItemOnShow,u=r.as,C=void 0===u?"div":u,d=(r.navbar,r.autoClose),A=Le(r,ua),h=(0,t.useContext)(ta),m=$e(a,"dropdown"),p=nt(),f=Jn((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===d?"click"===n:"inside"===d?"rootClose"!==n:"outside"!==d||"select"!==n)&&(null==s||s(e,t))})),b=ga("end"===l,o,p),y=(0,t.useMemo)((function(){return{align:l,drop:o,isRTL:p}}),[l,o,p]);return(0,_e.jsx)(zr.Provider,{value:y,children:(0,_e.jsx)(Er,{placement:b,show:g,onSelect:c,onToggle:f,focusFirstItemOnShow:I,itemSelector:".".concat(m,"-item:not(.disabled):not(:disabled)"),children:h?A.children:(0,_e.jsx)(C,je(je({},A),{},{ref:n,className:Qe()(i,g&&"show",(!o||"down"===o)&&m,"up"===o&&"dropup","end"===o&&"dropend","start"===o&&"dropstart")}))})})}));ha.displayName="Dropdown",ha.defaultProps={navbar:!1,align:"start",autoClose:!0};var ma=Object.assign(ha,{Toggle:Ia,Menu:la,Item:Pr,ItemText:Aa,Divider:da,Header:Ca}),pa=It().oneOf(["start","end"]),fa=It().oneOfType([pa,It().shape({sm:pa}),It().shape({md:pa}),It().shape({lg:pa}),It().shape({xl:pa}),It().shape({xxl:pa}),It().object]),ba=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],ya={id:It().string,href:It().string,onClick:It().func,title:It().node.isRequired,disabled:It().bool,align:fa,menuRole:It().string,renderMenuOnMount:It().bool,rootCloseEvent:It().string,menuVariant:It().oneOf(["dark"]),flip:It().bool,bsPrefix:It().string,variant:It().string,size:It().string},Za=t.forwardRef((function(e,t){var n=e.title,r=e.children,a=e.bsPrefix,o=e.rootCloseEvent,g=e.variant,i=e.size,l=e.menuRole,c=e.renderMenuOnMount,s=e.disabled,I=e.href,u=e.id,C=e.menuVariant,d=e.flip,A=Le(e,ba);return(0,_e.jsxs)(ma,je(je({ref:t},A),{},{children:[(0,_e.jsx)(Ia,{id:u,href:I,size:i,variant:g,disabled:s,childBsPrefix:a,children:n}),(0,_e.jsx)(la,{role:l,renderOnMount:c,rootCloseEvent:o,variant:C,flip:d,children:r})]}))}));Za.displayName="DropdownButton",Za.propTypes=ya;var va=Za,Ga=["bsPrefix","size","hasValidation","className","as"],Ba=xt("input-group-text",{Component:"span"}),Sa=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.size,o=e.hasValidation,g=e.className,i=e.as,l=void 0===i?"div":i,c=Le(e,Ga);r=$e(r,"input-group");var s=(0,t.useMemo)((function(){return{}}),[]);return(0,_e.jsx)(ta.Provider,{value:s,children:(0,_e.jsx)(l,je(je({ref:n},c),{},{className:Qe()(g,r,a&&"".concat(r,"-").concat(a),o&&"has-validation")}))})}));Sa.displayName="InputGroup";var ka=Object.assign(Sa,{Text:Ba,Radio:function(e){return(0,_e.jsx)(Ba,{children:(0,_e.jsx)(ft,je({type:"radio"},e))})},Checkbox:function(e){return(0,_e.jsx)(Ba,{children:(0,_e.jsx)(ft,je({type:"checkbox"},e))})}});function Wa(e,t){return function(){return e.apply(t,arguments)}}var Va,Ra=Object.prototype.toString,wa=Object.getPrototypeOf,Xa=(Va=Object.create(null),function(e){var t=Ra.call(e);return Va[t]||(Va[t]=t.slice(8,-1).toLowerCase())}),Ja=function(e){return e=e.toLowerCase(),function(t){return Xa(t)===e}},Ya=function(e){return function(t){return typeof t===e}},xa=Array.isArray,Ha=Ya("undefined");var Na=Ja("ArrayBuffer");var Fa=Ya("string"),Ka=Ya("function"),Ma=Ya("number"),Ea=function(e){return null!==e&&"object"===typeof e},Da=function(e){if("object"!==Xa(e))return!1;var t=wa(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},za=Ja("Date"),ja=Ja("File"),Ta=Ja("Blob"),La=Ja("FileList"),Ua=Ja("URLSearchParams");function Qa(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.allOwnKeys,g=void 0!==o&&o;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),xa(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var i,l=g?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;for(n=0;n<c;n++)i=l[n],t.call(null,e[i],i,e)}}var _a,Oa=(_a="undefined"!==typeof Uint8Array&&wa(Uint8Array),function(e){return _a&&e instanceof _a}),Pa=Ja("HTMLFormElement"),qa=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),$a=Ja("RegExp"),eo=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Qa(n,(function(n,a){!1!==t(n,a,e)&&(r[a]=n)})),Object.defineProperties(e,r)},to={isArray:xa,isArrayBuffer:Na,isBuffer:function(e){return null!==e&&!Ha(e)&&null!==e.constructor&&!Ha(e.constructor)&&Ka(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||Ra.call(e)===t||Ka(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Na(e.buffer)},isString:Fa,isNumber:Ma,isBoolean:function(e){return!0===e||!1===e},isObject:Ea,isPlainObject:Da,isUndefined:Ha,isDate:za,isFile:ja,isBlob:Ta,isRegExp:$a,isFunction:Ka,isStream:function(e){return Ea(e)&&Ka(e.pipe)},isURLSearchParams:Ua,isTypedArray:Oa,isFileList:La,forEach:Qa,merge:function e(){for(var t={},n=function(n,r){Da(t[r])&&Da(n)?t[r]=e(t[r],n):Da(n)?t[r]=e({},n):xa(n)?t[r]=n.slice():t[r]=n},r=0,a=arguments.length;r<a;r++)arguments[r]&&Qa(arguments[r],n);return t},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.allOwnKeys;return Qa(t,(function(t,r){n&&Ka(t)?e[r]=Wa(t,n):e[r]=t}),{allOwnKeys:a}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var a,o,g,i={};if(t=t||{},null==e)return t;do{for(o=(a=Object.getOwnPropertyNames(e)).length;o-- >0;)g=a[o],r&&!r(g,e,t)||i[g]||(t[g]=e[g],i[g]=!0);e=!1!==n&&wa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Xa,kindOfTest:Ja,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(xa(e))return e;var t=e.length;if(!Ma(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var a=n.value;t.call(e,a[0],a[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Pa,hasOwnProperty:qa,hasOwnProp:qa,reduceDescriptors:eo,freezeMethods:function(e){eo(e,(function(t,n){var r=e[n];Ka(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return xa(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t}};function no(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}to.inherits(no,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var ro=no.prototype,ao={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){ao[e]={value:e}})),Object.defineProperties(no,ao),Object.defineProperty(ro,"isAxiosError",{value:!0}),no.from=function(e,t,n,r,a,o){var g=Object.create(ro);return to.toFlatObject(e,g,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),no.call(g,e.message,t,n,r,a),g.cause=e,g.name=e.name,o&&Object.assign(g,o),g};var oo=no,go=n(7473);function io(e){return to.isPlainObject(e)||to.isArray(e)}function lo(e){return to.endsWith(e,"[]")?e.slice(0,-2):e}function co(e,t,n){return e?e.concat(t).map((function(e,t){return e=lo(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var so=to.toFlatObject(to,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Io=function(e,t,n){if(!to.isObject(e))throw new TypeError("target must be an object");t=t||new(go||FormData);var r,a=(n=to.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!to.isUndefined(t[e])}))).metaTokens,o=n.visitor||s,g=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&to.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!to.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(to.isDate(e))return e.toISOString();if(!l&&to.isBlob(e))throw new oo("Blob is not supported. Use a Buffer instead.");return to.isArrayBuffer(e)||to.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function s(e,n,r){var o=e;if(e&&!r&&"object"===typeof e)if(to.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(to.isArray(e)&&function(e){return to.isArray(e)&&!e.some(io)}(e)||to.isFileList(e)||to.endsWith(n,"[]")&&(o=to.toArray(e)))return n=lo(n),o.forEach((function(e,r){!to.isUndefined(e)&&t.append(!0===i?co([n],r,g):null===i?n:n+"[]",c(e))})),!1;return!!io(e)||(t.append(co(r,n,g),c(e)),!1)}var I=[],u=Object.assign(so,{defaultVisitor:s,convertValue:c,isVisitable:io});if(!to.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!to.isUndefined(n)){if(-1!==I.indexOf(n))throw Error("Circular reference detected in "+r.join("."));I.push(n),to.forEach(n,(function(n,a){!0===(!to.isUndefined(n)&&o.call(t,n,to.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])})),I.pop()}}(e),t};function uo(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Co(e,t){this._pairs=[],e&&Io(e,this,t)}var Ao=Co.prototype;Ao.append=function(e,t){this._pairs.push([e,t])},Ao.toString=function(e){var t=e?function(t){return e.call(this,t,uo)}:uo;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var ho=Co;function mo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function po(e,t,n){if(!t)return e;var r=e.indexOf("#");-1!==r&&(e=e.slice(0,r));var a=n&&n.encode||mo,o=to.isURLSearchParams(t)?t.toString():new ho(t,n).toString(a);return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}var fo=function(){function e(){c(this,e),this.handlers=[]}return I(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){to.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),bo=fo,yo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zo="undefined"!==typeof URLSearchParams?URLSearchParams:ho,vo=FormData,Go=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),Bo={isBrowser:!0,classes:{URLSearchParams:Zo,FormData:vo,Blob:Blob},isStandardBrowserEnv:Go,protocols:["http","https","file","blob","url","data"]};var So=function(e){function t(e,n,r,a){var o=e[a++],g=Number.isFinite(+o),i=a>=e.length;return o=!o&&to.isArray(r)?r.length:o,i?(to.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!g):(r[o]&&to.isObject(r[o])||(r[o]=[]),t(e,n,r[o],a)&&to.isArray(r[o])&&(r[o]=function(e){var t,n,r={},a=Object.keys(e),o=a.length;for(t=0;t<o;t++)r[n=a[t]]=e[n];return r}(r[o])),!g)}if(to.isFormData(e)&&to.isFunction(e.entries)){var n={};return to.forEachEntry(e,(function(e,r){t(function(e){return to.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var ko=Bo.isStandardBrowserEnv?{write:function(e,t,n,r,a,o){var g=[];g.push(e+"="+encodeURIComponent(t)),to.isNumber(n)&&g.push("expires="+new Date(n).toGMTString()),to.isString(r)&&g.push("path="+r),to.isString(a)&&g.push("domain="+a),!0===o&&g.push("secure"),document.cookie=g.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Wo(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Vo=Bo.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=to.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Ro(e,t,n){oo.call(this,null==e?"canceled":e,oo.ERR_CANCELED,t,n),this.name="CanceledError"}to.inherits(Ro,oo,{__CANCEL__:!0});var wo=Ro;var Xo=to.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jo=Symbol("internals"),Yo=Symbol("defaults");function xo(e){return e&&String(e).trim().toLowerCase()}function Ho(e){return!1===e||null==e?e:String(e)}function No(e,t,n,r){return to.isFunction(r)?r.call(this,t,n):to.isString(t)?to.isString(r)?-1!==t.indexOf(r):to.isRegExp(r)?r.test(t):void 0:void 0}function Fo(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),a=r.length;a-- >0;)if(t===(n=r[a]).toLowerCase())return n;return null}function Ko(e,t){e&&this.set(e),this[Yo]=t||null}Object.assign(Ko.prototype,{set:function(e,t,n){var r=this;function a(e,t,n){var a=xo(t);if(!a)throw new Error("header name must be a non-empty string");var o=Fo(r,a);(!o||!0===n||!1!==r[o]&&!1!==n)&&(e=to.isArray(e)?e.map(Ho):Ho(e),r[o||t]=e)}return to.isPlainObject(e)?to.forEach(e,(function(e,n){a(e,n,t)})):a(t,e,n),this},get:function(e,t){if(e=xo(e)){var n=Fo(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(to.isFunction(t))return t.call(this,r,n);if(to.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},has:function(e,t){if(e=xo(e)){var n=Fo(this,e);return!(!n||t&&!No(0,this[n],n,t))}return!1},delete:function(e,t){var n=this,r=!1;function a(e){if(e=xo(e)){var a=Fo(n,e);!a||t&&!No(0,n[a],a,t)||(delete n[a],r=!0)}}return to.isArray(e)?e.forEach(a):a(e),r},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(e){var t=this,n={};return to.forEach(this,(function(r,a){var o=Fo(n,a);if(o)return t[o]=Ho(r),void delete t[a];var g=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(a):String(a).trim();g!==a&&delete t[a],t[g]=Ho(r),n[g]=!0})),this},toJSON:function(){var e=Object.create(null);return to.forEach(Object.assign({},this[Yo]||null,this),(function(t,n){null!=t&&!1!==t&&(e[n]=to.isArray(t)?t.join(", "):t)})),e}}),Object.assign(Ko,{from:function(e){return to.isString(e)?new this(function(e){var t,n,r,a={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||a[t]&&Xo[t]||("set-cookie"===t?a[t]?a[t].push(n):a[t]=[n]:a[t]=a[t]?a[t]+", "+n:n)})),a}(e)):e instanceof this?e:new this(e)},accessor:function(e){var t=(this[Jo]=this[Jo]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=xo(e);t[r]||(!function(e,t){var n=to.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return to.isArray(e)?e.forEach(r):r(e),this}}),Ko.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),to.freezeMethods(Ko.prototype),to.freezeMethods(Ko);var Mo=Ko;var Eo=function(e,t){e=e||10;var n,r=new Array(e),a=new Array(e),o=0,g=0;return t=void 0!==t?t:1e3,function(i){var l=Date.now(),c=a[g];n||(n=l),r[o]=i,a[o]=l;for(var s=g,I=0;s!==o;)I+=r[s++],s%=e;if((o=(o+1)%e)===g&&(g=(g+1)%e),!(l-n<t)){var u=c&&l-c;return u?Math.round(1e3*I/u):void 0}}};function Do(e,t){var n=0,r=Eo(50,250);return function(a){var o=a.loaded,g=a.lengthComputable?a.total:void 0,i=o-n,l=r(i);n=o;var c={loaded:o,total:g,progress:g?o/g:void 0,bytes:i,rate:l||void 0,estimated:l&&g&&o<=g?(g-o)/l:void 0};c[t?"download":"upload"]=!0,e(c)}}function zo(e){return new Promise((function(t,n){var r,a=e.data,o=Mo.from(e.headers).normalize(),g=e.responseType;function i(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}to.isFormData(a)&&Bo.isStandardBrowserEnv&&o.setContentType(!1);var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(c+":"+s))}var I=Wo(e.baseURL,e.url);function u(){if(l){var r=Mo.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new oo("Request failed with status code "+n.status,[oo.ERR_BAD_REQUEST,oo.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),i()}),(function(e){n(e),i()}),{data:g&&"text"!==g&&"json"!==g?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),po(I,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new oo("Request aborted",oo.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new oo("Network Error",oo.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||yo;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new oo(t,r.clarifyTimeoutError?oo.ETIMEDOUT:oo.ECONNABORTED,e,l)),l=null},Bo.isStandardBrowserEnv){var C=(e.withCredentials||Vo(I))&&e.xsrfCookieName&&ko.read(e.xsrfCookieName);C&&o.set(e.xsrfHeaderName,C)}void 0===a&&o.setContentType(null),"setRequestHeader"in l&&to.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),to.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),g&&"json"!==g&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",Do(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Do(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){l&&(n(!t||t.type?new wo(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var d=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(I);d&&-1===Bo.protocols.indexOf(d)?n(new oo("Unsupported protocol "+d+":",oo.ERR_BAD_REQUEST,e)):l.send(a||null)}))}var jo={http:zo,xhr:zo},To=function(e){if(to.isString(e)){var t=jo[e];if(!e)throw Error(to.hasOwnProp(e)?"Adapter '".concat(e,"' is not available in the build"):"Can not resolve adapter '".concat(e,"'"));return t}if(!to.isFunction(e))throw new TypeError("adapter is not a function");return e},Lo={"Content-Type":"application/x-www-form-urlencoded"};var Uo={transitional:yo,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=To("xhr"):"undefined"!==typeof process&&"process"===to.kindOf(process)&&(e=To("http")),e}(),transformRequest:[function(e,t){var n,r=t.getContentType()||"",a=r.indexOf("application/json")>-1,o=to.isObject(e);if(o&&to.isHTMLForm(e)&&(e=new FormData(e)),to.isFormData(e))return a&&a?JSON.stringify(So(e)):e;if(to.isArrayBuffer(e)||to.isBuffer(e)||to.isStream(e)||to.isFile(e)||to.isBlob(e))return e;if(to.isArrayBufferView(e))return e.buffer;if(to.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Io(e,new Bo.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Bo.isNode&&to.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=to.isFileList(e))||r.indexOf("multipart/form-data")>-1){var g=this.env&&this.env.FormData;return Io(n?{"files[]":e}:e,g&&new g,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),function(e,t,n){if(to.isString(e))try{return(t||JSON.parse)(e),to.trim(e)}catch(zv){if("SyntaxError"!==zv.name)throw zv}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Uo.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&to.isString(e)&&(n&&!this.responseType||r)){var a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(zv){if(a){if("SyntaxError"===zv.name)throw oo.from(zv,oo.ERR_BAD_RESPONSE,this,null,this.response);throw zv}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bo.classes.FormData,Blob:Bo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};to.forEach(["delete","get","head"],(function(e){Uo.headers[e]={}})),to.forEach(["post","put","patch"],(function(e){Uo.headers[e]=to.merge(Lo)}));var Qo=Uo;function _o(e,t){var n=this||Qo,r=t||n,a=Mo.from(r.headers),o=r.data;return to.forEach(e,(function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)})),a.normalize(),o}function Oo(e){return!(!e||!e.__CANCEL__)}function Po(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wo}function qo(e){return Po(e),e.headers=Mo.from(e.headers),e.data=_o.call(e,e.transformRequest),(e.adapter||Qo.adapter)(e).then((function(t){return Po(e),t.data=_o.call(e,e.transformResponse,t),t.headers=Mo.from(t.headers),t}),(function(t){return Oo(t)||(Po(e),t&&t.response&&(t.response.data=_o.call(e,e.transformResponse,t.response),t.response.headers=Mo.from(t.response.headers))),Promise.reject(t)}))}function $o(e,t){t=t||{};var n={};function r(e,t){return to.isPlainObject(e)&&to.isPlainObject(t)?to.merge(e,t):to.isPlainObject(t)?to.merge({},t):to.isArray(t)?t.slice():t}function a(n){return to.isUndefined(t[n])?to.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!to.isUndefined(t[e]))return r(void 0,t[e])}function g(n){return to.isUndefined(t[n])?to.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function i(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var l={url:o,method:o,data:o,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:i};return to.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||a,r=t(e);to.isUndefined(r)&&t!==i||(n[e]=r)})),n}var eg="1.1.2",tg={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){tg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ng={};tg.transitional=function(e,t,n){function r(e,t){return"[Axios v1.1.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,o){if(!1===e)throw new oo(r(a," has been removed"+(t?" in "+t:"")),oo.ERR_DEPRECATED);return t&&!ng[a]&&(ng[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}};var rg={assertOptions:function(e,t,n){if("object"!==typeof e)throw new oo("options must be an object",oo.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],g=t[o];if(g){var i=e[o],l=void 0===i||g(i,o,e);if(!0!==l)throw new oo("option "+o+" must be "+l,oo.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new oo("Unknown option "+o,oo.ERR_BAD_OPTION)}},validators:tg},ag=rg.validators,og=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new bo,response:new bo}}return I(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=(t=$o(this.defaults,t)).transitional;void 0!==n&&rg.assertOptions(n,{silentJSONParsing:ag.transitional(ag.boolean),forcedJSONParsing:ag.transitional(ag.boolean),clarifyTimeoutError:ag.transitional(ag.boolean)},!1),t.method=(t.method||this.defaults.method||"get").toLowerCase();var r=t.headers&&to.merge(t.headers.common,t.headers[t.method]);r&&to.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),t.headers=new Mo(t.headers,r);var a=[],o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var g,i=[];this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)}));var l,c=0;if(!o){var s=[qo.bind(this),void 0];for(s.unshift.apply(s,a),s.push.apply(s,i),l=s.length,g=Promise.resolve(t);c<l;)g=g.then(s[c++],s[c++]);return g}l=a.length;var I=t;for(c=0;c<l;){var u=a[c++],C=a[c++];try{I=u(I)}catch(d){C.call(this,d);break}}try{g=qo.call(this,I)}catch(d){return Promise.reject(d)}for(c=0,l=i.length;c<l;)g=g.then(i[c++],i[c++]);return g}},{key:"getUri",value:function(e){return po(Wo((e=$o(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();to.forEach(["delete","get","head","options"],(function(e){og.prototype[e]=function(t,n){return this.request($o(n||{},{method:e,url:t,data:(n||{}).data}))}})),to.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request($o(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}og.prototype[e]=t(),og.prototype[e+"Form"]=t(!0)}));var gg=og,ig=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,a){r.reason||(r.reason=new wo(e,t,a),n(r.reason))}))}return I(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),lg=ig;var cg=function e(t){var n=new gg(t),r=Wa(gg.prototype.request,n);return to.extend(r,gg.prototype,n,{allOwnKeys:!0}),to.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e($o(t,n))},r}(Qo);cg.Axios=gg,cg.CanceledError=wo,cg.CancelToken=lg,cg.isCancel=Oo,cg.VERSION=eg,cg.toFormData=Io,cg.AxiosError=oo,cg.Cancel=cg.CanceledError,cg.all=function(e){return Promise.all(e)},cg.spread=function(e){return function(t){return e.apply(null,t)}},cg.isAxiosError=function(e){return to.isObject(e)&&!0===e.isAxiosError},cg.formToJSON=function(e){return So(to.isHTMLForm(e)?new FormData(e):e)};var sg=cg;var Ig=function(e,t,n){var r=1e3;switch(e){case 1:default:r=1e3;break;case 2:case 3:r=2e4;break;case 4:r=5e4}return(n.hours()-t.hours())*r+(n.minutes()-t.minutes())/60*r},ug=function(e){return e?/^saved_money\.d.*/.test(e.pay_type)?{t:"saved_money.d",r:e.pay_type.replace("saved_money.d.",""),department:e.pay_type.replace("saved_money.d.","")}:/^card\..+/.test(e.pay_type)?{t:"card",r:e.pay_type.replace("card.",""),department:e.pay_type.replace("card.","")}:/^donation\.card\..+/.test(e.pay_type)?{t:"donation.card",r:e.pay_type.replace("donation.card.",""),department:e.pay_type.replace("donation.card.","")}:/^donation\.etc\..+/.test(e.pay_type)?{t:"donation.etc",r:e.pay_type.replace("donation.etc.",""),department:e.pay_type.replace("donation.etc.","")}:/^transfer\..+/.test(e.pay_type)?{t:"transfer",r:e.pay_type.replace("transfer.",""),department:e.pay_type.replace("transfer.","")}:{t:e.pay_type,r:e.comment?"(".concat(e.comment,")"):"",department:""}:{t:"",r:"",department:""}},Cg={container:{background:"#F0F0F0",width:"35%",marginTop:50,borderRadius:"35px"}};var dg=function(){var e=Ce(),n=i((0,t.useState)(30),2),r=n[0],a=n[1],o=i((0,t.useState)({name:"\uacbd\ud638",client:"guard"}),2),g=o[0],l=o[1],c=i((0,t.useState)(""),2),s=c[0],I=c[1],u=i((0,t.useState)(""),2),C=u[0],d=u[1];return(0,t.useEffect)((function(){Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,sg.get("/api/auth/otp/debug").then((function(e){return e.data.otp}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),setTimeout((function t(n){"/admin/login"!==window.location.pathname||(n<=0?e("/",{replace:!0,state:{}}):(a(n-1),setTimeout(t,1e3,n-1)))}),1e3,r)}),[]),(0,_e.jsx)("div",{children:(0,_e.jsxs)(ct,{className:"d-flex flex-column justify-content-center align-items-center",style:Cg.container,children:[(0,_e.jsx)("img",{src:Ee,alt:"icon_main",style:{width:72,height:72,marginTop:150}}),(0,_e.jsx)("h1",{children:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}),(0,_e.jsx)("div",{className:"hr"}),(0,_e.jsxs)(gn,{children:[(0,_e.jsxs)(gn.Group,{mb:4,controlId:"formOTP",children:[(0,_e.jsx)(gn.Label,{children:"\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,_e.jsxs)(ka,{children:[(0,_e.jsx)(va,{title:g.name,variant:"outline-secondary",id:"admin-login-input-client-name",children:(0,_e.jsx)(ma.Item,{onClick:function(){return l({name:"\uad00\ub9ac",client:"admin"})},children:"\uad00\ub9ac"})}),(0,_e.jsx)(gn.Control,{onChange:function(e){I(e.target.value)},variant:"outline-secondary",type:"number",placeholder:"OTP",value:s,pattern:"[0-9]*"})]}),(0,_e.jsx)(gn.Text,{muted:!0,children:"\ubc1c\uae09\ubc1b\uc740 OTP \ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,_e.jsx)("p",{className:"text-center text-danger",children:C})]}),(0,_e.jsxs)(gt,{children:[(0,_e.jsxs)(dn,{variant:"secondary",size:"lg",onClick:function(){return e("/",{replace:!0,state:{}})},children:["(",r,"\ucd08 \ud6c4)\ud648\uc73c\ub85c"]}),(0,_e.jsx)(dn,{variant:"primary",size:"lg",onClick:function(){(function(e){return sg.post("/api/auth/otp",{otp_code:e})})(s).then((function(t){e("/admin",{replace:!0,state:{}})})).catch((function(e){I(""),e&&e.response&&e.response.data&&e.response.data.message&&d(e.response.data.message)}))},children:"\ud655\uc778"})]}),(0,_e.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 2022"})]})})},Ag=n(3513);function hg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return sg.get("/api/logs",{params:{type:"auth",user_id:e}}).then((function(e){return e.data})).then((function(e){return e.logs}))}function mg(e,t){return sg.get("/api/logs",{params:{page:e,per_page:t}}).then((function(e){return e.data}))}var pg=[{name:"ID",selector:function(e){return e.id}},{name:"\uc774\ub984",selector:function(e){return e.username},hide:"md"},{name:"\ub098\uc774",selector:function(e){return e.age},hide:"md"},{name:"QR \uc778\uc99d",selector:function(e){return e.created.replace("T"," ")}}],fg=function(e){var n=e.user_id,r=i((0,t.useState)(!0),2),a=r[0],o=r[1],g=i((0,t.useState)([]),2),l=g[0],c=g[1];return(0,t.useEffect)((function(){n?hg(n).then((function(e){c(e),o(!1)})):hg().then((function(e){c(e),o(!1)}))}),[n]),(0,_e.jsx)(Ag.ZP,{columns:pg,data:l,title:"\uc778\uc99d \ud604\ud669",progressPending:a,pagination:!0})},bg=(n(3573),t.createContext(null)),yg=["as","active","eventKey"];function Zg(e){var n=e.key,r=e.onClick,a=e.active,o=e.id,g=e.role,i=e.disabled,l=(0,t.useContext)(Vr),c=(0,t.useContext)(wr),s=(0,t.useContext)(bg),I=a,u={role:g};if(c){g||"tablist"!==c.role||(u.role="tab");var C=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);u[Xr("event-key")]=n,u.id=C||o,!(I=null==a&&null!=n?c.activeKey===n:a)&&(null!=s&&s.unmountOnExit||null!=s&&s.mountOnEnter)||(u["aria-controls"]=d)}return"tab"===u.role&&(u["aria-selected"]=I,I||(u.tabIndex=-1),i&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Jn((function(e){i||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[u,{isActive:I}]}var vg=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?In:n,a=e.active,o=e.eventKey,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,yg),l=i(Zg(Object.assign({key:Wr(o,g.href),active:a},g)),2),c=l[0],s=l[1];return c[Xr("active")]=s.isActive,(0,_e.jsx)(r,Object.assign({},g,c,{ref:t}))}));vg.displayName="NavItem";var Gg=vg,Bg=["as","onSelect","activeKey","role","onKeyDown"];var Sg=function(){},kg=Xr("event-key"),Wg=t.forwardRef((function(e,n){var r,a,o=e.as,g=void 0===o?"div":o,i=e.onSelect,l=e.activeKey,c=e.role,s=e.onKeyDown,I=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Bg),u=wn(),C=(0,t.useRef)(!1),d=(0,t.useContext)(Vr),A=(0,t.useContext)(bg);A&&(c=c||"tablist",l=A.activeKey,r=A.getControlledId,a=A.getControllerId);var h=(0,t.useRef)(null),m=function(e){var t=h.current;if(!t)return null;var n=hn(t,"[".concat(kg,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var a=n.indexOf(r);if(-1===a)return null;var o=a+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},p=function(e,t){null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((function(){if(h.current&&C.current){var e=h.current.querySelector("[".concat(kg,"][aria-selected=true]"));null==e||e.focus()}C.current=!1}));var f=$r(n,h);return(0,_e.jsx)(Vr.Provider,{value:p,children:(0,_e.jsx)(wr.Provider,{value:{role:c,activeKey:Wr(l),getControlledId:r||Sg,getControllerId:a||Sg},children:(0,_e.jsx)(g,Object.assign({},I,{onKeyDown:function(e){if(null==s||s(e),A){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}if(t)e.preventDefault(),p(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),C.current=!0,u()}},ref:f,role:c}))})})}));Wg.displayName="Nav";var Vg=Object.assign(Wg,{Item:Gg}),Rg=t.createContext(null);Rg.displayName="CardHeaderContext";var wg=Rg,Xg=xt("nav-item"),Jg=["bsPrefix","className","as","active","eventKey"],Yg=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=void 0===a?Qr:a,g=e.active,l=e.eventKey,c=Le(e,Jg);n=$e(n,"nav-link");var s=i(Zg(je({key:Wr(l,c.href),active:g},c)),2),I=s[0],u=s[1];return(0,_e.jsx)(o,je(je(je({},c),I),{},{ref:t,className:Qe()(r,n,c.disabled&&"disabled",u.isActive&&"active")}))}));Yg.displayName="NavLink",Yg.defaultProps={disabled:!1};var xg=Yg,Hg=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ng=t.forwardRef((function(e,n){var r,a,o,g=Sn(e,{activeKey:"onSelect"}),i=g.as,l=void 0===i?"div":i,c=g.bsPrefix,s=g.variant,I=g.fill,u=g.justify,C=g.navbar,d=g.navbarScroll,A=g.className,h=g.activeKey,m=Le(g,Hg),p=$e(c,"nav"),f=!1,b=(0,t.useContext)(ra),y=(0,t.useContext)(wg);return b?(a=b.bsPrefix,f=null==C||C):y&&(o=y.cardHeaderBsPrefix),(0,_e.jsx)(Vg,je({as:l,ref:n,activeKey:h,className:Qe()(A,(r={},De(r,p,!f),De(r,"".concat(a,"-nav"),f),De(r,"".concat(a,"-nav-scroll"),f&&d),De(r,"".concat(o,"-").concat(s),!!o),De(r,"".concat(p,"-").concat(s),!!s),De(r,"".concat(p,"-fill"),I),De(r,"".concat(p,"-justified"),u),r))},m))}));Ng.displayName="Nav",Ng.defaultProps={justify:!1,fill:!1};var Fg=Object.assign(Ng,{Item:Xg,Link:xg}),Kg=["bsPrefix","className","as"],Mg=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=Le(e,Kg);n=$e(n,"navbar-brand");var g=a||(o.href?"a":"span");return(0,_e.jsx)(g,je(je({},o),{},{ref:t,className:Qe()(r,n)}))}));Mg.displayName="NavbarBrand";var Eg=Mg;function Dg(e,t){return function(e){var t=gr(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var zg=/([A-Z])/g;var jg=/^ms-/;function Tg(e){return function(e){return e.replace(zg,"-$1").toLowerCase()}(e).replace(jg,"-ms-")}var Lg=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ug=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Tg(t))||Dg(e).getPropertyValue(Tg(t));Object.keys(t).forEach((function(a){var o=t[a];o||0===o?!function(e){return!(!e||!Lg.test(e))}(a)?n+=Tg(a)+": "+o+";":r+=a+"("+o+") ":e.style.removeProperty(Tg(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var Qg=n(4164),_g=!1,Og=t.createContext(null),Pg="unmounted",qg="exited",$g="entering",ei="entered",ti="exiting",ni=function(e){var n,r;function a(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=qg,r.appearStatus=$g):a=ei:a=t.unmountOnExit||t.mountOnEnter?Pg:qg,r.state={status:a},r.nextCallback=null,r}r=e,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,u(n,r),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Pg?{status:qg}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$g&&n!==ei&&(t=$g):n!==$g&&n!==ei||(t=ti)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$g){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Qg.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qg&&this.setState({status:Pg})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[Qg.findDOMNode(this),r],o=a[0],g=a[1],i=this.getTimeouts(),l=r?i.appear:i.enter;!e&&!n||_g?this.safeSetState({status:ei},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,g),this.safeSetState({status:$g},(function(){t.props.onEntering(o,g),t.onTransitionEnd(l,(function(){t.safeSetState({status:ei},(function(){t.props.onEntered(o,g)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Qg.findDOMNode(this);t&&!_g?(this.props.onExit(r),this.safeSetState({status:ti},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:qg},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:qg},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Qg.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],g=a[1];this.props.addEndListener(o,g)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Pg)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Te(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Og.Provider,{value:null},"function"===typeof r?r(e,a):t.cloneElement(t.Children.only(r),a))},a}(t.Component);function ri(){}ni.contextType=Og,ni.propTypes={},ni.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ri,onEntering:ri,onEntered:ri,onExit:ri,onExiting:ri,onExited:ri},ni.UNMOUNTED=Pg,ni.EXITED=qg,ni.ENTERING=$g,ni.ENTERED=ei,ni.EXITING=ti;var ai=ni;function oi(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),o=or(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),o()}}function gi(e,t,n,r){null==n&&(n=function(e){var t=Ug(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=oi(e,n,r),o=or(e,"transitionend",t);return function(){a(),o()}}function ii(e,t){var n=Ug(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function li(e,t){var n=ii(e,"transitionDuration"),r=ii(e,"transitionDelay"),a=gi(e,(function(n){n.target===e&&(a(),t(n))}),n+r)}var ci=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)};function si(e){e.offsetHeight}function Ii(e){return e&&"setState"in e?Qg.findDOMNode(e):null!=e?e:null}var ui,Ci=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],di=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,g=e.onExit,i=e.onExiting,l=e.onExited,c=e.addEndListener,s=e.children,I=e.childRef,u=Le(e,Ci),C=(0,t.useRef)(null),d=$r(C,I),A=function(e){d(Ii(e))},h=function(e){return function(t){e&&C.current&&e(C.current,t)}},m=(0,t.useCallback)(h(r),[r]),p=(0,t.useCallback)(h(a),[a]),f=(0,t.useCallback)(h(o),[o]),b=(0,t.useCallback)(h(g),[g]),y=(0,t.useCallback)(h(i),[i]),Z=(0,t.useCallback)(h(l),[l]),v=(0,t.useCallback)(h(c),[c]);return(0,_e.jsx)(ai,je(je({ref:n},u),{},{onEnter:m,onEntered:f,onEntering:p,onExit:b,onExited:Z,onExiting:y,addEndListener:v,nodeRef:C,children:"function"===typeof s?function(e,t){return s(e,je(je({},t),{},{ref:A}))}:t.cloneElement(s,{ref:A})}))})),Ai=di,hi=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],mi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function pi(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=mi[e];return n+parseInt(Ug(t,r[0]),10)+parseInt(Ug(t,r[1]),10)}var fi=(De(ui={},qg,"collapse"),De(ui,ti,"collapsing"),De(ui,$g,"collapsing"),De(ui,ei,"collapse show"),ui),bi={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:pi},yi=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,g=e.onExit,i=e.onExiting,l=e.className,c=e.children,s=e.dimension,I=void 0===s?"height":s,u=e.getDimensionValue,C=void 0===u?pi:u,d=Le(e,hi),A="function"===typeof I?I():I,h=(0,t.useMemo)((function(){return ci((function(e){e.style[A]="0"}),r)}),[A,r]),m=(0,t.useMemo)((function(){return ci((function(e){var t="scroll".concat(A[0].toUpperCase()).concat(A.slice(1));e.style[A]="".concat(e[t],"px")}),a)}),[A,a]),p=(0,t.useMemo)((function(){return ci((function(e){e.style[A]=null}),o)}),[A,o]),f=(0,t.useMemo)((function(){return ci((function(e){e.style[A]="".concat(C(A,e),"px"),si(e)}),g)}),[g,C,A]),b=(0,t.useMemo)((function(){return ci((function(e){e.style[A]=null}),i)}),[A,i]);return(0,_e.jsx)(Ai,je(je({ref:n,addEndListener:li},d),{},{"aria-expanded":d.role?d.in:null,onEnter:h,onEntering:m,onEntered:p,onExit:f,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,je(je({},n),{},{className:Qe()(l,c.props.className,fi[e],"width"===A&&"collapse-horizontal")}))}}))}));yi.defaultProps=bi;var Zi=yi,vi=["children","bsPrefix"],Gi=t.forwardRef((function(e,n){var r=e.children,a=e.bsPrefix,o=Le(e,vi);a=$e(a,"navbar-collapse");var g=(0,t.useContext)(ra);return(0,_e.jsx)(Zi,je(je({in:!(!g||!g.expanded)},o),{},{children:(0,_e.jsx)("div",{ref:n,className:a,children:r})}))}));Gi.displayName="NavbarCollapse";var Bi=Gi,Si=["bsPrefix","className","children","label","as","onClick"],ki=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.children,g=e.label,i=e.as,l=void 0===i?"button":i,c=e.onClick,s=Le(e,Si);r=$e(r,"navbar-toggler");var I=(0,t.useContext)(ra)||{},u=I.onToggle,C=I.expanded,d=Jn((function(e){c&&c(e),u&&u()}));return"button"===l&&(s.type="button"),(0,_e.jsx)(l,je(je({},s),{},{ref:n,onClick:d,"aria-label":g,className:Qe()(a,r,!C&&"collapsed"),children:o||(0,_e.jsx)("span",{className:"".concat(r,"-icon")})}))}));ki.displayName="NavbarToggle",ki.defaultProps={label:"Toggle navigation"};var Wi=ki,Vi=new WeakMap,Ri=function(e,t){if(e&&t){var n=Vi.get(t)||new Map;Vi.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function wi(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=Ri(e,n),a=(0,t.useState)((function(){return!!r&&r.matches})),o=a[0],g=a[1];return Tr((function(){var t=Ri(e,n);if(!t)return g(!1);var r=Vi.get(n),a=function(){g(t.matches)};return t.refCount++,t.addListener(a),a(),function(){t.removeListener(a),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),o}var Xi=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function a(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),a=e[r];return"(max-width: "+(a="number"===typeof a?a-.2+"px":"calc("+a+" - 0.2px)")+")"}return function(n,o,g){var i,l;"object"===typeof n?(i=n,g=o,o=!0):((l={})[n]=o=o||!0,i=l);var c=(0,t.useMemo)((function(){return Object.entries(i).reduce((function(t,n){var o=n[0],g=n[1];return"up"!==g&&!0!==g||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(o))),"down"!==g&&!0!==g||(t=r(t,a(o))),t}),"")}),[JSON.stringify(i)]);return wi(c,g)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ji=Xi;function Yi(e){void 0===e&&(e=gr());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(zv){return e.body}}function xi(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var Hi=Xr("modal-open"),Ni=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,a=void 0===r||r,o=t.isRTL,g=void 0!==o&&o;c(this,e),this.handleContainerOverflow=a,this.isRTL=g,this.modals=[],this.ownerDocument=n}return I(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=De({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ug(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Hi,""),Ug(r,t)}},{key:"reset",value:function(){var e=this;l(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Hi),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Fi=Ni,Ki=function(e,t){return mn?null==e?(t||gr()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};function Mi(e,n){var r=Fr(),a=i((0,t.useState)((function(){return Ki(e,null==r?void 0:r.document)})),2),o=a[0],g=a[1];if(!o){var l=Ki(e);l&&g(l)}return(0,t.useEffect)((function(){n&&o&&n(o)}),[n,o]),(0,t.useEffect)((function(){var t=Ki(e);t!==o&&g(t)}),[e,o]),o}var Ei,Di=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function zi(e){var n=Fr(),r=e||function(e){return Ei||(Ei=new Fi({ownerDocument:null==e?void 0:e.document})),Ei}(n),a=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:function(){return r.add(a.current)},remove:function(){return r.remove(a.current)},isTopModal:function(){return r.isTopModal(a.current)},setDialogRef:(0,t.useCallback)((function(e){a.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){a.current.backdrop=e}),[])})}var ji=(0,t.forwardRef)((function(e,n){var r=e.show,a=void 0!==r&&r,o=e.role,g=void 0===o?"dialog":o,l=e.className,c=e.style,s=e.children,I=e.backdrop,u=void 0===I||I,C=e.keyboard,d=void 0===C||C,A=e.onBackdropClick,h=e.onEscapeKeyDown,m=e.transition,p=e.backdropTransition,f=e.autoFocus,b=void 0===f||f,y=e.enforceFocus,Z=void 0===y||y,v=e.restoreFocus,G=void 0===v||v,B=e.restoreFocusOptions,S=e.renderDialog,k=e.renderBackdrop,W=void 0===k?function(e){return(0,_e.jsx)("div",Object.assign({},e))}:k,V=e.manager,R=e.container,w=e.onShow,X=e.onHide,J=void 0===X?function(){}:X,Y=e.onExit,x=e.onExited,H=e.onExiting,N=e.onEnter,F=e.onEntering,K=e.onEntered,M=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Di),E=Mi(R),D=zi(V),z=Mn(),j=Rn(a),T=i((0,t.useState)(!a),2),L=T[0],U=T[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return D}),[D]),mn&&!j&&a&&(Q.current=Yi()),m||a||L?a&&L&&U(!1):U(!0);var _=Jn((function(){if(D.add(),te.current=or(document,"keydown",$),ee.current=or(document,"focus",(function(){return setTimeout(P)}),!0),w&&w(),b){var e=Yi(document);D.dialog&&e&&!rr(D.dialog,e)&&(Q.current=e,D.dialog.focus())}})),O=Jn((function(){var e;(D.remove(),null==te.current||te.current(),null==ee.current||ee.current(),G)&&(null==(e=Q.current)||null==e.focus||e.focus(B),Q.current=null)}));(0,t.useEffect)((function(){a&&E&&_()}),[a,E,_]),(0,t.useEffect)((function(){L&&O()}),[L,O]),xi((function(){O()}));var P=Jn((function(){if(Z&&z()&&D.isTopModal()){var e=Yi();D.dialog&&e&&!rr(D.dialog,e)&&D.dialog.focus()}})),q=Jn((function(e){e.target===e.currentTarget&&(null==A||A(e),!0===u&&J())})),$=Jn((function(e){d&&27===e.keyCode&&D.isTopModal()&&(null==h||h(e),e.defaultPrevented||J())})),ee=(0,t.useRef)(),te=(0,t.useRef)(),ne=m;if(!E||!(a||ne&&!L))return null;var re=Object.assign({role:g,ref:D.setDialogRef,"aria-modal":"dialog"===g||void 0},M,{style:c,className:l,tabIndex:-1}),ae=S?S(re):(0,_e.jsx)("div",Object.assign({},re,{children:t.cloneElement(s,{role:"document"})}));ne&&(ae=(0,_e.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!a,onExit:Y,onExiting:H,onExited:function(){U(!0),null==x||x.apply(void 0,arguments)},onEnter:N,onEntering:F,onEntered:K,children:ae}));var oe=null;if(u){var ge=p;oe=W({ref:D.setBackdropRef,onClick:q}),ge&&(oe=(0,_e.jsx)(ge,{appear:!0,in:!!a,children:oe}))}return(0,_e.jsx)(_e.Fragment,{children:Qg.createPortal((0,_e.jsxs)(_e.Fragment,{children:[oe,ae]}),E)})}));ji.displayName="Modal";var Ti,Li=Object.assign(ji,{Manager:Fi}),Ui=["className","children","transitionClasses"],Qi=(De(Ti={},$g,"show"),De(Ti,ei,"show"),Ti),_i=t.forwardRef((function(e,n){var r=e.className,a=e.children,o=e.transitionClasses,g=void 0===o?{}:o,i=Le(e,Ui),l=(0,t.useCallback)((function(e,t){si(e),null==i.onEnter||i.onEnter(e,t)}),[i]);return(0,_e.jsx)(Ai,je(je({ref:n,addEndListener:li},i),{},{onEnter:l,childRef:a.ref,children:function(e,n){return t.cloneElement(a,je(je({},n),{},{className:Qe()("fade",r,a.props.className,Qi[e],g[e])}))}}))}));_i.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_i.displayName="Fade";var Oi,Pi=_i,qi=xt("offcanvas-body"),$i=["bsPrefix","className","children"],el=(De(Oi={},$g,"show"),De(Oi,ei,"show"),Oi),tl=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.children,g=Le(e,$i);return r=$e(r,"offcanvas"),(0,_e.jsx)(Ai,je(je({ref:n,addEndListener:li},g),{},{childRef:o.ref,children:function(e,n){return t.cloneElement(o,je(je({},n),{},{className:Qe()(a,o.props.className,(e===$g||e===ti)&&"".concat(r,"-toggling"),el[e])}))}}))}));tl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},tl.displayName="OffcanvasToggling";var nl=tl,rl=t.createContext({onHide:function(){}}),al=["className","variant"],ol={"aria-label":It().string,onClick:It().func,variant:It().oneOf(["white"])},gl=t.forwardRef((function(e,t){var n=e.className,r=e.variant,a=Le(e,al);return(0,_e.jsx)("button",je({ref:t,type:"button",className:Qe()("btn-close",r&&"btn-close-".concat(r),n)},a))}));gl.displayName="CloseButton",gl.propTypes=ol,gl.defaultProps={"aria-label":"Close"};var il=gl,ll=["closeLabel","closeVariant","closeButton","onHide","children"],cl=t.forwardRef((function(e,n){var r=e.closeLabel,a=e.closeVariant,o=e.closeButton,g=e.onHide,i=e.children,l=Le(e,ll),c=(0,t.useContext)(rl),s=Jn((function(){null==c||c.onHide(),null==g||g()}));return(0,_e.jsxs)("div",je(je({ref:n},l),{},{children:[i,o&&(0,_e.jsx)(il,{"aria-label":r,variant:a,onClick:s})]}))}));cl.defaultProps={closeLabel:"Close",closeButton:!1};var sl=cl,Il=["bsPrefix","className"],ul=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=Le(e,Il);return n=$e(n,"offcanvas-header"),(0,_e.jsx)(sl,je(je({ref:t},a),{},{className:Qe()(r,n)}))}));ul.displayName="OffcanvasHeader",ul.defaultProps={closeLabel:"Close",closeButton:!1};var Cl=ul,dl=function(e){return t.forwardRef((function(t,n){return(0,_e.jsx)("div",je(je({},t),{},{ref:n,className:Qe()(t.className,e)}))}))},Al=xt("offcanvas-title",{Component:dl("h5")});function hl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function ml(){return ml="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hl(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},ml.apply(this,arguments)}function pl(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function fl(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var bl,yl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Zl=".sticky-top",vl=".navbar-toggler",Gl=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ug(t,De({},e,"".concat(parseFloat(Ug(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ug(t,De({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;ml(d(n.prototype),"setContainerStyle",this).call(this,e);var r,a,o=this.getElement();if(a="modal-open",(r=o).classList?r.classList.add(a):pl(r,a)||("string"===typeof r.className?r.className=r.className+" "+a:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+a)),e.scrollBarWidth){var g=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";hn(o,yl).forEach((function(n){return t.adjustAndStore(g,n,e.scrollBarWidth)})),hn(o,Zl).forEach((function(n){return t.adjustAndStore(i,n,-e.scrollBarWidth)})),hn(o,vl).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;ml(d(n.prototype),"removeContainerStyle",this).call(this,e);var r,a,o=this.getElement();a="modal-open",(r=o).classList?r.classList.remove(a):"string"===typeof r.className?r.className=fl(r.className,a):r.setAttribute("class",fl(r.className&&r.className.baseVal||"",a));var g=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";hn(o,yl).forEach((function(e){return t.restore(g,e)})),hn(o,Zl).forEach((function(e){return t.restore(i,e)})),hn(o,vl).forEach((function(e){return t.restore(i,e)}))}}]),n}(Fi);function Bl(e){return bl||(bl=new Gl(e)),bl}var Sl=Gl,kl=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Wl(e){return(0,_e.jsx)(nl,je({},e))}function Vl(e){return(0,_e.jsx)(Pi,je({},e))}var Rl=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.children,g=e["aria-labelledby"],l=e.placement,c=e.responsive,s=e.show,I=e.backdrop,u=e.keyboard,C=e.scroll,d=e.onEscapeKeyDown,A=e.onShow,h=e.onHide,m=e.container,p=e.autoFocus,f=e.enforceFocus,b=e.restoreFocus,y=e.restoreFocusOptions,Z=e.onEntered,v=e.onExit,G=e.onExiting,B=e.onEnter,S=e.onEntering,k=e.onExited,W=e.backdropClassName,V=e.manager,R=e.renderStaticNode,w=Le(e,kl),X=(0,t.useRef)();r=$e(r,"offcanvas");var J=((0,t.useContext)(ra)||{}).onToggle,Y=i((0,t.useState)(!1),2),x=Y[0],H=Y[1],N=Ji(c||"xs","up");(0,t.useEffect)((function(){H(c?s&&!N:s)}),[s,c,N]);var F=Jn((function(){null==J||J(),null==h||h()})),K=(0,t.useMemo)((function(){return{onHide:F}}),[F]);var M=(0,t.useCallback)((function(e){return(0,_e.jsx)("div",je(je({},e),{},{className:Qe()("".concat(r,"-backdrop"),W)}))}),[W,r]),E=function(e){return(0,_e.jsx)("div",je(je(je({},e),w),{},{className:Qe()(a,c?"".concat(r,"-").concat(c):r,"".concat(r,"-").concat(l)),"aria-labelledby":g,children:o}))};return(0,_e.jsxs)(_e.Fragment,{children:[!x&&(c||R)&&E({}),(0,_e.jsx)(rl.Provider,{value:K,children:(0,_e.jsx)(Li,{show:x,ref:n,backdrop:I,container:m,keyboard:u,autoFocus:p,enforceFocus:f&&!C,restoreFocus:b,restoreFocusOptions:y,onEscapeKeyDown:d,onShow:A,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==B||B.apply(void 0,[e].concat(n))},onEntering:S,onEntered:Z,onExit:v,onExiting:G,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==k||k.apply(void 0,n)},manager:V||(C?(X.current||(X.current=new Sl({handleContainerOverflow:!1})),X.current):Bl()),transition:Wl,backdropTransition:Vl,renderBackdrop:M,renderDialog:E})})]})}));Rl.displayName="Offcanvas",Rl.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var wl=Object.assign(Rl,{Body:qi,Header:Cl,Title:Al}),Xl=t.forwardRef((function(e,n){var r=(0,t.useContext)(ra);return(0,_e.jsx)(wl,je(je({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));Xl.displayName="NavbarOffcanvas";var Jl=Xl,Yl=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],xl=xt("navbar-text",{Component:"span"}),Hl=t.forwardRef((function(e,n){var r=Sn(e,{expanded:"onToggle"}),a=r.bsPrefix,o=r.expand,g=r.variant,i=r.bg,l=r.fixed,c=r.sticky,s=r.className,I=r.as,u=void 0===I?"nav":I,C=r.expanded,d=r.onToggle,A=r.onSelect,h=r.collapseOnSelect,m=Le(r,Yl),p=$e(a,"navbar"),f=(0,t.useCallback)((function(){null==A||A.apply(void 0,arguments),h&&C&&(null==d||d(!1))}),[A,h,C,d]);void 0===m.role&&"nav"!==u&&(m.role="navigation");var b="".concat(p,"-expand");"string"===typeof o&&(b="".concat(b,"-").concat(o));var y=(0,t.useMemo)((function(){return{onToggle:function(){return null==d?void 0:d(!C)},bsPrefix:p,expanded:!!C,expand:o}}),[p,C,o,d]);return(0,_e.jsx)(ra.Provider,{value:y,children:(0,_e.jsx)(Vr.Provider,{value:f,children:(0,_e.jsx)(u,je(je({ref:n},m),{},{className:Qe()(s,p,o&&b,g&&"".concat(p,"-").concat(g),i&&"bg-".concat(i),c&&"sticky-".concat(c),l&&"fixed-".concat(l))}))})})}));Hl.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Hl.displayName="Navbar";var Nl=Object.assign(Hl,{Brand:Eg,Collapse:Bi,Offcanvas:Jl,Text:xl,Toggle:Wi}),Fl=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Kl=t.forwardRef((function(e,t){var n=e.id,r=e.title,a=e.children,o=e.bsPrefix,g=e.className,i=e.rootCloseEvent,l=e.menuRole,c=e.disabled,s=e.active,I=e.renderMenuOnMount,u=e.menuVariant,C=Le(e,Fl),d=$e(void 0,"nav-item");return(0,_e.jsxs)(ma,je(je({ref:t},C),{},{className:Qe()(g,d),children:[(0,_e.jsx)(ma.Toggle,{id:n,eventKey:null,active:s,disabled:c,childBsPrefix:o,as:xg,children:r}),(0,_e.jsx)(ma.Menu,{role:l,renderOnMount:I,rootCloseEvent:i,variant:u,children:a})]}))}));Kl.displayName="NavDropdown";var Ml,El=Object.assign(Kl,{Item:ma.Item,ItemText:ma.ItemText,Divider:ma.Divider,Header:ma.Header}),Dl=function(e){Ie(),Ce();return(0,_e.jsx)(Nl,{bg:"light",expand:"lg",children:(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(Nl.Brand,{as:Ye,to:"/admin",children:"CMS"}),(0,_e.jsx)(Nl.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,_e.jsx)(Nl.Collapse,{id:"basic-navbar-nav",children:(0,_e.jsxs)(Fg,{className:"me-auto",children:[(0,_e.jsx)(Fg.Link,{as:xe,to:"/qr",children:"QR"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/users",children:"\ud68c\uc6d0"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/books",children:"\uc608\uc57d"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/lockers",children:"\uc0ac\ubb3c\ud568"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/configs",children:"\uc124\uc815"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/exports",children:"\ucd94\ucd9c"}),(0,_e.jsxs)(El,{title:"\uae30\ub85d",id:"basic-nav-dropdown-log",children:[(0,_e.jsx)(El.Item,{as:xe,to:"/logs",children:"\uc804\uccb4"}),(0,_e.jsx)(El.Divider,{})]}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/blocker",children:"\ub0a0\uc9dc \ub9c9\uae30"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/commute",children:"\ucd9c\ud1f4\uadfc \uad00\ub9ac"}),(0,_e.jsx)(Fg.Link,{as:xe,to:"/accounts",children:"\ub9c8\uac10 \uc815\uc0b0"})]})})]})})};function zl(e){if((!Ml&&0!==Ml||e)&&mn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ml=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ml}var jl=xt("modal-body"),Tl=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],Ll=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.contentClassName,o=e.centered,g=e.size,i=e.fullscreen,l=e.children,c=e.scrollable,s=Le(e,Tl);n=$e(n,"modal");var I="".concat(n,"-dialog"),u="string"===typeof i?"".concat(n,"-fullscreen-").concat(i):"".concat(n,"-fullscreen");return(0,_e.jsx)("div",je(je({},s),{},{ref:t,className:Qe()(I,r,g&&"".concat(n,"-").concat(g),o&&"".concat(I,"-centered"),c&&"".concat(I,"-scrollable"),i&&u),children:(0,_e.jsx)("div",{className:Qe()("".concat(n,"-content"),a),children:l})}))}));Ll.displayName="ModalDialog";var Ul=Ll,Ql=xt("modal-footer"),_l=["bsPrefix","className"],Ol=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=Le(e,_l);return n=$e(n,"modal-header"),(0,_e.jsx)(sl,je(je({ref:t},a),{},{className:Qe()(r,n)}))}));Ol.displayName="ModalHeader",Ol.defaultProps={closeLabel:"Close",closeButton:!1};var Pl=Ol,ql=xt("modal-title",{Component:dl("h4")}),$l=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],ec={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Ul};function tc(e){return(0,_e.jsx)(Pi,je(je({},e),{},{timeout:null}))}function nc(e){return(0,_e.jsx)(Pi,je(je({},e),{},{timeout:null}))}var rc=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.style,g=e.dialogClassName,l=e.contentClassName,c=e.children,s=e.dialogAs,I=e["aria-labelledby"],u=e["aria-describedby"],C=e["aria-label"],d=e.show,A=e.animation,h=e.backdrop,m=e.keyboard,p=e.onEscapeKeyDown,f=e.onShow,b=e.onHide,y=e.container,Z=e.autoFocus,v=e.enforceFocus,G=e.restoreFocus,B=e.restoreFocusOptions,S=e.onEntered,k=e.onExit,W=e.onExiting,V=e.onEnter,R=e.onEntering,w=e.onExited,X=e.backdropClassName,J=e.manager,Y=Le(e,$l),x=i((0,t.useState)({}),2),H=x[0],N=x[1],F=i((0,t.useState)(!1),2),K=F[0],M=F[1],E=(0,t.useRef)(!1),D=(0,t.useRef)(!1),z=(0,t.useRef)(null),j=i(xn(),2),T=j[0],L=j[1],U=$r(n,L),Q=Jn(b),_=nt();r=$e(r,"modal");var O=(0,t.useMemo)((function(){return{onHide:Q}}),[Q]);function P(){return J||Bl({isRTL:_})}function q(e){if(mn){var t=P().getScrollbarWidth()>0,n=e.scrollHeight>gr(e).documentElement.clientHeight;N({paddingRight:t&&!n?zl():void 0,paddingLeft:!t&&n?zl():void 0})}}var $=Jn((function(){T&&q(T.dialog)}));xi((function(){ar(window,"resize",$),null==z.current||z.current()}));var ee=function(){E.current=!0},te=function(e){E.current&&T&&e.target===T.dialog&&(D.current=!0),E.current=!1},ne=function(){M(!0),z.current=gi(T.dialog,(function(){M(!1)}))},re=function(e){"static"!==h?D.current||e.target!==e.currentTarget?D.current=!1:null==b||b():function(e){e.target===e.currentTarget&&ne()}(e)},ae=(0,t.useCallback)((function(e){return(0,_e.jsx)("div",je(je({},e),{},{className:Qe()("".concat(r,"-backdrop"),X,!A&&"show")}))}),[A,X,r]),oe=je(je({},o),H);oe.display="block";return(0,_e.jsx)(rl.Provider,{value:O,children:(0,_e.jsx)(Li,{show:d,ref:U,backdrop:h,container:y,keyboard:!0,autoFocus:Z,enforceFocus:v,restoreFocus:G,restoreFocusOptions:B,onEscapeKeyDown:function(e){m||"static"!==h?m&&p&&p(e):(e.preventDefault(),ne())},onShow:f,onHide:b,onEnter:function(e,t){e&&q(e),null==V||V(e,t)},onEntering:function(e,t){null==R||R(e,t),yn(window,"resize",$)},onEntered:S,onExit:function(e){null==z.current||z.current(),null==k||k(e)},onExiting:W,onExited:function(e){e&&(e.style.display=""),null==w||w(e),ar(window,"resize",$)},manager:P(),transition:A?tc:void 0,backdropTransition:A?nc:void 0,renderBackdrop:ae,renderDialog:function(e){return(0,_e.jsx)("div",je(je({role:"dialog"},e),{},{style:oe,className:Qe()(a,r,K&&"".concat(r,"-static")),onClick:h?re:void 0,onMouseUp:te,"aria-label":C,"aria-labelledby":I,"aria-describedby":u,children:(0,_e.jsx)(s,je(je({},Y),{},{onMouseDown:ee,className:g,contentClassName:l,children:c}))}))}})})}));rc.displayName="Modal",rc.defaultProps=ec;var ac=Object.assign(rc,{Body:jl,Header:Pl,Title:ql,Footer:Ql,Dialog:Ul,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),oc=["bsPrefix","className","as"],gc=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=void 0===a?"div":a,g=Le(e,oc),i=$e(n,"row"),l=et(),c=tt(),s="".concat(i,"-cols"),I=[];return l.forEach((function(e){var t,n=g[e];delete g[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==c?"-".concat(e):"";null!=t&&I.push("".concat(s).concat(r,"-").concat(t))})),(0,_e.jsx)(o,je(je({ref:t},g),{},{className:Qe().apply(void 0,[r,i].concat(I))}))}));gc.displayName="Row";var ic=gc,lc=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],cc=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,a=e.disabled,o=e.eventKey,g=e.className,l=e.variant,c=e.action,s=e.as,I=Le(e,lc);n=$e(n,"list-group-item");var u=i(Zg(je({key:Wr(o,I.href),active:r},I)),2),C=u[0],d=u[1],A=Jn((function(e){if(a)return e.preventDefault(),void e.stopPropagation();C.onClick(e)}));a&&void 0===I.tabIndex&&(I.tabIndex=-1,I["aria-disabled"]=!0);var h=s||(c?I.href?"a":"button":"div");return(0,_e.jsx)(h,je(je(je({ref:t},I),C),{},{onClick:A,className:Qe()(g,n,d.isActive&&"active",a&&"disabled",l&&"".concat(n,"-").concat(l),c&&"".concat(n,"-action"))}))}));cc.displayName="ListGroupItem";var sc=cc,Ic=["className","bsPrefix","variant","horizontal","numbered","as"],uc=t.forwardRef((function(e,t){var n,r=Sn(e,{activeKey:"onSelect"}),a=r.className,o=r.bsPrefix,g=r.variant,i=r.horizontal,l=r.numbered,c=r.as,s=void 0===c?"div":c,I=Le(r,Ic),u=$e(o,"list-group");return i&&(n=!0===i?"horizontal":"horizontal-".concat(i)),(0,_e.jsx)(Vg,je(je({ref:t},I),{},{as:s,className:Qe()(a,u,g&&"".concat(u,"-").concat(g),n&&"".concat(u,"-").concat(n),l&&"".concat(u,"-numbered"))}))}));uc.displayName="ListGroup";var Cc=Object.assign(uc,{Item:sc});function dc(e){return sg.get("/api/users",{headers:{Authorization:e}}).then((function(e){return e.data})).then((function(e){return e.users}))}function Ac(e,t,n,r,a,o,g,i){var l={username:t,birthday:n,gender:r,age:a,tel:o,grade:g,department:i};return"undefined"===typeof t&&delete l.username,"undefined"===typeof n&&delete l.birthday,"undefined"===typeof r&&delete l.gender,"undefined"===typeof a&&delete l.age,"undefined"===typeof o&&delete l.tel,"undefined"===typeof g&&delete l.grade,"undefined"===typeof i&&delete l.department,sg.put("/api/users/".concat(e),l).then((function(e){return e.data})).then((function(e){return e.user}))}function hc(e){return sg.post("/api/auth/qr",{qr_code:e}).then((function(e){return e.data}))}var mc=function(){};var pc=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.disabled,o=r.clickTrigger,g=n||mc;ur(e,g,{disabled:a,clickTrigger:o});var i=Jn((function(e){27===e.keyCode&&g(e)}));(0,t.useEffect)((function(){if(!a&&null!=e){var t=gr(sr(e)),n=(t.defaultView||window).event,r=or(t,"keyup",(function(e){e!==n?i(e):n=void 0}));return function(){r()}}}),[e,a,i])},fc=t.forwardRef((function(e,n){var r=e.flip,a=e.offset,o=e.placement,g=e.containerPadding,l=e.popperConfig,c=void 0===l?{}:l,s=e.transition,I=i(xn(),2),u=I[0],C=I[1],d=i(xn(),2),A=d[0],h=d[1],m=$r(C,n),p=Mi(e.container),f=Mi(e.target),b=i((0,t.useState)(!e.show),2),y=b[0],Z=b[1],v=nr(f,u,dr({placement:o,enableEvents:!!e.show,containerPadding:g||5,flip:r,offset:a,arrowElement:A,popperConfig:c}));e.show?y&&Z(!1):e.transition||y||Z(!0);var G=e.show||s&&!y;if(pc(u,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!G)return null;var B=e.children(Object.assign({},v.attributes.popper,{style:v.styles.popper,ref:m}),{popper:v,placement:o,show:!!e.show,arrowProps:Object.assign({},v.attributes.arrow,{style:v.styles.arrow,ref:h})});if(s){var S=e.onExit,k=e.onExiting,W=e.onEnter,V=e.onEntering,R=e.onEntered;B=(0,_e.jsx)(s,{in:e.show,appear:!0,onExit:S,onExiting:k,onExited:function(){Z(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:W,onEntering:V,onEntered:R,children:B})}return p?Qg.createPortal(B,p):null}));fc.displayName="Overlay";var bc=fc,yc=xt("popover-header"),Zc=xt("popover-body");t.Component;function vc(e,t){var n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}var Gc=["bsPrefix","placement","className","style","children","body","arrowProps","popper","show"],Bc=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,a=e.className,o=e.style,g=e.children,l=e.body,c=e.arrowProps,s=(e.popper,e.show,Le(e,Gc)),I=$e(n,"popover"),u=nt(),C=i((null==r?void 0:r.split("-"))||[],1)[0],d=vc(C,u);return(0,_e.jsxs)("div",je(je({ref:t,role:"tooltip",style:o,"x-placement":C,className:Qe()(a,I,C&&"bs-popover-".concat(d))},s),{},{children:[(0,_e.jsx)("div",je({className:"popover-arrow"},c)),l?(0,_e.jsx)(Zc,{children:g}):g]}))}));Bc.defaultProps={placement:"right"};var Sc=Object.assign(Bc,{Header:yc,Body:Zc,POPPER_OFFSET:[0,8]});var kc=["children","transition","popperConfig"],Wc={transition:Pi,rootClose:!1,show:!1,placement:"top"};var Vc=t.forwardRef((function(e,n){var r=e.children,a=e.transition,o=e.popperConfig,g=void 0===o?{}:o,l=Le(e,kc),c=(0,t.useRef)({}),s=i(xn(),2),I=s[0],u=s[1],C=function(e){var n=(0,t.useRef)(null),r=$e(void 0,"popover"),a=(0,t.useMemo)((function(){return{name:"offset",options:{offset:function(){return n.current&&pl(n.current,r)?e||Sc.POPPER_OFFSET:e||[0,0]}}}}),[e,r]);return[n,[a]]}(l.offset),d=i(C,2),A=d[0],h=d[1],m=$r(n,A),p=!0===a?Pi:a||void 0,f=Jn((function(e){u(e),null==g||null==g.onFirstUpdate||g.onFirstUpdate(e)}));return Tr((function(){I&&(null==c.current.scheduleUpdate||c.current.scheduleUpdate())}),[I]),(0,_e.jsx)(bc,je(je({},l),{},{ref:m,popperConfig:je(je({},g),{},{modifiers:h.concat(g.modifiers||[]),onFirstUpdate:f}),transition:p,children:function(e,n){var o,g,i=n.arrowProps,l=n.popper,s=n.show;!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Ii(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(Ii(e))})}(e,i);var I=null==l?void 0:l.placement,u=Object.assign(c.current,{state:null==l?void 0:l.state,scheduleUpdate:null==l?void 0:l.update,placement:I,outOfBoundaries:(null==l||null==(o=l.state)||null==(g=o.modifiersData.hide)?void 0:g.isReferenceHidden)||!1});return"function"===typeof r?r(je(je(je({},e),{},{placement:I,show:s},!a&&s&&{className:"show"}),{},{popper:u,arrowProps:i})):t.cloneElement(r,je(je({},e),{},{placement:I,arrowProps:i,popper:u,className:Qe()(r.props.className,!a&&s&&"show"),style:je(je({},r.props.style),e.style)}))}}))}));Vc.displayName="Overlay",Vc.defaultProps=Wc;var Rc=Vc,wc=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],Xc=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,a=e.className,o=e.style,g=e.children,l=e.arrowProps,c=(e.popper,e.show,Le(e,wc));n=$e(n,"tooltip");var s=nt(),I=i((null==r?void 0:r.split("-"))||[],1)[0],u=vc(I,s);return(0,_e.jsxs)("div",je(je({ref:t,style:o,role:"tooltip","x-placement":I,className:Qe()(a,n,"bs-tooltip-".concat(u))},c),{},{children:[(0,_e.jsx)("div",je({className:"tooltip-arrow"},l)),(0,_e.jsx)("div",{className:"".concat(n,"-inner"),children:g})]}))}));Xc.defaultProps={placement:"right"},Xc.displayName="Tooltip";var Jc=Xc,Yc=function(e){var n=e.filterText,r=e.onFilter,a=e.onClear,o=i((0,t.useState)(!1),2),g=o[0],l=o[1],c=(0,t.useRef)(null);return(0,_e.jsx)(ct,{children:(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gt,{md:{span:2,offset:8},children:[(0,_e.jsx)(gn.Control,{ref:c,id:"search",type:"text",placeholder:"\uac80\uc0c9","aria-label":"Search Input",value:n,onChange:r,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}),(0,_e.jsx)(Rc,{target:c.current,show:g,placement:"bottom",children:function(e){return(0,_e.jsxs)(Jc,je(je({id:"overlay-example"},e),{},{children:["\uc22b\uc790\ub9cc \uc785\ub825: ID \uac80\uc0c9",(0,_e.jsx)("br",{}),"\ubb38\uc790: \uc774\ub984\uc73c\ub85c \uac80\uc0c9",(0,_e.jsx)("br",{}),'"\ub4f1\uae09:[',(0,_e.jsx)("span",{className:"text-white",children:"\ud68c\uc6d0"}),"|",(0,_e.jsx)("span",{className:"text-info",children:"\uc6d0\uc7a5"}),"|",(0,_e.jsx)("span",{className:"text-success",children:"\ub9e4\ub2c8\uc800"}),"|",(0,_e.jsx)("span",{className:"text-danger",children:"\uad00\ub9ac\uc790"}),']": \ub4f1\uae09\uc73c\ub85c \uac80\uc0c9',(0,_e.jsx)("br",{})]}))}})]}),(0,_e.jsx)(gt,{md:{span:1,offset:12},children:(0,_e.jsx)(dn,{type:"button",onClick:a,children:"\ucd08\uae30\ud654"})})]})})},xc=["bsPrefix","bg","pill","text","className","as"],Hc=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,a=e.pill,o=e.text,g=e.className,i=e.as,l=void 0===i?"span":i,c=Le(e,xc),s=$e(n,"badge");return(0,_e.jsx)(l,je(je({ref:t},c),{},{className:Qe()(g,s,a&&"rounded-pill",o&&"text-".concat(o),r&&"bg-".concat(r))}))}));Hc.displayName="Badge",Hc.defaultProps={bg:"primary",pill:!1};var Nc=Hc;function Fc(e){return sg.get("/api/books",{params:{user_id:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}function Kc(e){return sg.get("/api/books",{params:{book_date:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}function Mc(e,t,n){var r={action:"change.room",room_type:t,room_no:n};return sg.put("/api/books/".concat(e),r).then((function(e){return e.data})).then((function(e){return e.room}))}function Ec(e,t,n,r,a,o,g,i,l,c,s){var I=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"\ud604\uc7a5 \uc608\uc57d",u=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"\ud604\uc7a5 \uc0ac\uc6a9",C="immediately",d={action:C,chat_id:e,user_id:t,date:n,start_time:r,end_time:a,room_type:o,room_no:g,people_no:i,department:l,pay_type:c,etc_reason:s,purpose:I,obj:u};return sg.post("/api/books",d).then((function(e){return e.data})).then((function(e){return e.book}))}function Dc(e,t,n){var r={user_id:e,reason:n};return sg.delete("/api/books/".concat(t),{data:r}).then((function(e){return e.data}))}var zc=[{name:"ID",selector:function(e){return e.book_id}},{name:"\uc7a5\uc18c",selector:function(e){return e.room.name}},{name:"\ub0a0\uc9dc",selector:function(e){return e.book_date}},{name:"\uc774\uc6a9\uc2dc\uac04",selector:function(e){return"".concat(e.start_time," - ").concat(e.end_time)}},{name:"\uc774\ub984",selector:function(e){return e.user.username},hide:"md"},{name:"\uc778\uc6d0",selector:function(e){return e.people_no},hide:"md"}],jc=[{when:function(e){return e.status/100!==2},style:{backgroundColor:"rgb( 187, 143, 206 )"}},{when:function(e){return e.status/100===2&&e.status%100===0&&!e.pay},style:{backgroundColor:"rgba(46, 204, 113 , 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return e.status/100===2&&e.status%100===0&&e.pay},style:{backgroundColor:"rgba(174, 214, 241, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return e.status/100===2&&e.status%100===50},style:{backgroundColor:"rgba( 249, 231, 159 , 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],Tc=function(e){var t=e.data;return(0,_e.jsxs)(ct,{children:[(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\ub0a0\uc9dc"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ub0a0\uc9dc",value:t.book_date,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc785\uc2e4 \uc2dc\uac04"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc785\uc2e4 \uc2dc\uac04",value:t.start_time,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\ud1f4\uc2e4 \uc2dc\uac04"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ud1f4\uc2e4 \uc2dc\uac04",value:t.end_time,readOnly:!0})]})]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\ud68c\uc6d0 \uc774\ub984"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ud68c\uc6d0 \uc774\ub984",value:t.user.username,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc0ac\uc6a9\uc778\uc6d0"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc0ac\uc6a9\uc778\uc6d0",value:t.people_no,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc7a5\uc18c"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc7a5\uc18c",value:t.room.name,readOnly:!0})]})]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc9c0\uc5ed"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc9c0\uc5ed",value:t.department,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\ubaa9\uc801"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ubaa9\uc801",value:t.purpose,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uae30\ud0c0"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uae30\ud0c0",value:t.obj,readOnly:!0})]})]})]})},Lc=function(e){var n=e.user_id,r=e.department,a=i((0,t.useState)(!0),2),o=a[0],g=a[1],l=i((0,t.useState)([]),2),c=l[0],s=l[1];return(0,t.useEffect)((function(){n?Fc(n).then((function(e){s(e),g(!1)})):r?function(e){return sg.get("/api/books",{params:{department:e}}).then((function(e){return e.data})).then((function(e){return e.books}))}(r).then((function(e){s(e),g(!1)})):sg.get("/api/books").then((function(e){return e.data})).then((function(e){return e.books})).then((function(e){s(e),g(!1)}))}),[n]),(0,_e.jsx)(Ag.ZP,{columns:zc,data:c,title:"\uc608\uc57d \ud604\ud669",expandableRows:!0,expandableRowsComponent:Tc,progressPending:o,conditionalRowStyles:jc,pagination:!0})},Uc=function(e){var n=e.data,r=i((0,t.useState)({}),2),a=r[0],o=r[1],g=i((0,t.useState)(-1),2),l=g[0],c=g[1],s=i((0,t.useState)(""),2),I=s[0],u=s[1],C=i((0,t.useState)(0),2),d=C[0],A=C[1],h=i((0,t.useState)(0),2),m=h[0],p=h[1],f=i((0,t.useState)(""),2),b=f[0],y=f[1],Z=i((0,t.useState)("010-xxxx-xxxx"),2),v=Z[0],G=Z[1],B=i((0,t.useState)(0),2),S=B[0],k=B[1],W=i((0,t.useState)(""),2),V=W[0],R=W[1],w=i((0,t.useState)("\uc800\uc7a5"),2),X=w[0],J=w[1],Y=function(e){switch(Number(e)){case 0:return"white";case 10:return"info";case 15:return"success";case 20:return"danger";default:return"secondary"}};return(0,t.useEffect)((function(){o({}),c(n.user_id),u(String(n.username)),A(n.age?Number(n.age):void 0),p(Number(n.gender)),y(String(n.birthday)),G(String(n.num?"010-xxxx-xxxx":"")),k(Number(n.grade)),R(String(n.department))}),[n]),(0,_e.jsxs)(ct,{style:{background:"whitesmoke"},children:[(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gn.Group,{as:gt,controlId:"formGridName",sm:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc774\ub984"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc774\ub984",value:I,onChange:function(e){return u(e.target.value)}})]}),(0,_e.jsxs)(gn.Group,{as:gt,controlId:"formGridAge",sm:4,children:[(0,_e.jsx)(gn.Label,{children:"\ub098\uc774"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ub098\uc774",value:n.age,readOnly:!0})]}),(0,_e.jsxs)(gn.Group,{as:gt,controlId:"formGridGender",sm:2,children:[(0,_e.jsx)("p",{children:"\uc131\ubcc4"}),(0,_e.jsx)(gn.Check,{inline:!0,label:"\ub0a8",type:"radio",checked:1===m,onChange:function(e){return p(1)}}),(0,_e.jsx)(gn.Check,{inline:!0,label:"\uc5ec",type:"radio",checked:2===m,onChange:function(e){return p(2)}})]}),(0,_e.jsxs)(gt,{sm:2,children:[(0,_e.jsx)("p",{children:"\ub4f1\uae09 \uc124\uc815"}),(0,_e.jsxs)(va,{title:function(e){switch(Number(e)){case 0:return"\ud68c\uc6d0";case 10:return"\uc6d0\uc7a5";case 15:return"\ub9e4\ub2c8\uc800";case 20:return"\uad00\ub9ac\uc790";default:return"\uc54c \uc218 \uc5c6\uc74c"}}(S),variant:Y(S),onSelect:function(e,t){return k(e)},children:[(0,_e.jsxs)(ma.Item,{eventKey:0,children:[(0,_e.jsx)(Nc,{bg:Y(0),children:" "}),"\ud68c\uc6d0"]}),(0,_e.jsxs)(ma.Item,{eventKey:10,children:[(0,_e.jsx)(Nc,{bg:Y(10),children:" "}),"\uc6d0\uc7a5"]}),(0,_e.jsxs)(ma.Item,{eventKey:15,children:[(0,_e.jsx)(Nc,{bg:Y(15),children:" "}),"\ub9e4\ub2c8\uc800"]}),(0,_e.jsxs)(ma.Item,{eventKey:20,children:[(0,_e.jsx)(Nc,{bg:Y(20),children:" "}),"\uad00\ub9ac"]})]})]})]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsxs)(gn.Group,{as:gt,controlId:"formGridBirth",md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc0dd\ub144\uc6d4\uc77c",value:b,onChange:function(e){/^\d*$/.test(e.target.value)&&e.target.value.length<=6&&y(e.target.value)}})]}),(0,_e.jsxs)(gn.Group,{as:gt,controlId:"formGridNum",md:4,children:[(0,_e.jsx)(gn.Label,{children:"\uc804\ud654\ubc88\ud638"}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc804\ud654\ubc88\ud638",value:v,className:n.valid?"bg-success text-white":"bg-danger text-white",onChange:function(e){return G(e.target.value)},readOnly:Boolean(a)})]}),(0,_e.jsxs)(gt,{md:2,children:[(0,_e.jsx)("span",{style:{display:"block"},children:"\uad8c\ud55c \uc778\uc99d"}),(0,_e.jsx)(dn,{variant:"info text-white",onClick:function(e){G(n.num),o(2)},children:"QR \uc778\uc99d"})]}),(0,_e.jsxs)(gt,{md:2,children:[(0,_e.jsx)("span",{style:{display:"block"},children:"\uc800\uc7a5"}),(0,_e.jsx)(dn,{variant:"\uc800\uc7a5"===X?"primary":"info text-white",onClick:function(e){Ac(n.user_id,I!==n.username?I:void 0,b!==n.birthday?b:void 0,m!==n.gender?m:void 0,d!==n.age?d:void 0,v===n.num||"010-xxxx-xxxx"===v?void 0:v,S!==n.grade?S:void 0,V!==n.department?V:void 0).then((function(e){n.age=e.age,A(e.age),J("\uc800\uc7a5\ub428"),setTimeout((function(){return J("\uc800\uc7a5")}),3e3)})).catch((function(e){e.response&&alert(e.response.data.message)}))},children:X})]})]}),(0,_e.jsx)("hr",{}),(0,_e.jsx)(ic,{children:(0,_e.jsx)(ct,{children:(0,_e.jsx)(Lc,{user_id:l})})}),(0,_e.jsx)("hr",{}),(0,_e.jsx)(ic,{children:(0,_e.jsx)(ct,{children:(0,_e.jsx)(fg,{user_id:l})})}),(0,_e.jsx)("hr",{})]})},Qc=[{name:"ID",selector:function(e){return e.id?e.id:e.user_id},sortable:!0},{name:"\uc774\ub984",selector:function(e){return e.name?e.name:e.username},sortable:!0},{name:"\ub098\uc774",selector:function(e){return e.age},hide:"sm"},{name:"\ub4f1\uae09",selector:function(e){return e.grade?e.grade:""},format:function(e,t){return function(e){switch(e){case 0:return"\ud68c\uc6d0";case 10:return"\uc6d0\uc7a5";case 15:return"\ud50c\ub9b0";case 20:return"\uad00\ub9ac";default:return String(e)}}(e.grade)},sortable:!0,hide:"md"},{name:"\uac00\uc785\uc77c",selector:function(e){return e.created?e.created.replace("T"," "):null},hide:"md"}],_c=[{when:function(e){return"number"!==typeof e.grade},style:{}},{when:function(e){return 15===e.grade},style:{backgroundColor:"rgba(63, 195, 128, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return 10===e.grade},style:{backgroundColor:"rgba(148, 174, 163, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return 20===e.grade},style:{backgroundColor:"rgba(86, 114, 93, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],Oc={rowsPerPageText:"\ud398\uc774\uc9c0 \ub2f9 \uac2f\uc218",rangeSeparatorText:"\uc911",selectAllRowsItem:!0,selectAllRowsItemText:"\uc804\uccb4"},Pc=function(e){var n=e.show,r=e.onHide,a=e.users,o=i((0,t.useState)(""),2),g=o[0],l=o[1],c=i((0,t.useState)({}),2),s=c[0],I=c[1];(0,t.useEffect)((function(){I({})}),[n,I]);var u=function(e){"rejected"===e.status?console.error(e.reason):"fulfilled"===e.status?console.log(e.value):console.log(e)},C=a.map((function(e){var t="light";return"rejected"===s[e.user_id]&&(t="danger"),"fulfilled"===s[e.user_id]&&(t="success"),(0,_e.jsxs)(Cc.Item,{variant:t,children:[e.username," ","<"+e.num+">"]})}));return(0,_e.jsxs)(ac,{show:n,size:"lg",fullscreen:"xl-down",onHide:r,children:[(0,_e.jsx)(ac.Header,{closeButton:!0,children:(0,_e.jsx)(ac.Title,{children:"\uba54\uc138\uc9c0 \uc804\uc1a1"})}),(0,_e.jsx)(ac.Body,{children:(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:(0,_e.jsx)(Cc,{children:C})}),(0,_e.jsxs)(gt,{children:[(0,_e.jsx)(gn,{children:(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"ModalBulkMessage.Form.ControlText",children:[(0,_e.jsx)(gn.Label,{children:"\ubb38\uc790 \uba54\uc2dc\uc9c0 \ub0b4\uc6a9"}),(0,_e.jsx)(gn.Control,{as:"textarea",rows:3,value:g,onChange:function(e){return l(e.target.value)}})]})}),"end"!==s.status&&(0,_e.jsx)(dn,{onClick:function(){Promise.allSettled(a.map((function(e){return function(e,t,n){return sg.post("/api/auth/sms/message",{user_id:t,text:n},{headers:{Authorization:e}}).then((function(e){return{data:e.data,user_id:t,status:"fulfilled"}})).catch((function(e){return{user_id:t,status:"rejected",error:e}}))}(sessionStorage.getItem("Authorization"),e.user_id,g)}))).then((function(e){e.forEach(u);var t={status:"end"};e.forEach((function(e){"rejected"===e.status?t[e.reason.user_id]="rejected":"fulfilled"===e.status&&("fulfilled"===e.value.status?t[e.value.user_id]="fulfilled":t[e.value.user_id]="rejected")})),I(t)}))},children:"\uc804\uc1a1"}),"end"===s.status&&(0,_e.jsx)(dn,{variant:"secondary",onClick:r,children:"\uc885\ub8cc"})]})]})})]})},qc=function(e){var n=i((0,t.useState)(!0),2),r=n[0],a=n[1],o=i((0,t.useState)([]),2),g=o[0],l=o[1],c=i((0,t.useState)(""),2),s=c[0],I=c[1],u=i((0,t.useState)(!1),2),C=u[0],d=u[1],A=i((0,t.useState)([]),2),h=A[0],m=A[1],p=i((0,t.useState)([]),2),f=p[0],b=p[1],y=i((0,t.useState)(!1),2),Z=y[0],v=y[1],G=i((0,t.useState)(!1),2),B=G[0],S=G[1];(0,t.useEffect)((function(){if(/^\d+$/.test(s))m(g.filter((function(e){return e.user_id&&String(e.user_id).toLowerCase().includes(s.toLowerCase())})));else if(/^\ub4f1\uae09:.+/.test(s))switch(s){case"\ub4f1\uae09:\ud68c\uc6d0":m(g.filter((function(e){return e.username&&0===Number(e.grade)})));break;case"\ub4f1\uae09:\uc6d0\uc7a5":m(g.filter((function(e){return e.username&&10===Number(e.grade)})));break;case"\ub4f1\uae09:\ub9e4\ub2c8\uc800":m(g.filter((function(e){return e.username&&15===Number(e.grade)})));break;case"\ub4f1\uae09:\uad00\ub9ac\uc790":m(g.filter((function(e){return e.username&&20===Number(e.grade)})));break;default:m([])}else m(g.filter((function(e){return e.username&&e.username.toLowerCase().includes(s.toLowerCase())})))}),[s,g]);var k=(0,t.useMemo)((function(){return(0,_e.jsx)(Yc,{filterText:s,onFilter:function(e){return I(e.target.value)},onClear:function(){s&&(d(!C),I(""))}})}),[s,C]),W=function(){dc(sessionStorage.getItem("Authorization")).then((function(e){l(e),a(!1)})).catch((function(e){e.response&&(4===parseInt("".concat(e.response.status/100))?alert("\uc751\ub2f5 \uc624\ub958: [400] ".concat(e.response.data.message)):5===parseInt("".concat(e.response.status/100))&&alert("\uc11c\ubc84 \uc624\ub958: [500] ".concat(e.response.data))),console.error(e)}))};(0,t.useEffect)((function(){W()}),[]);var V=(0,t.useCallback)((function(e){b(e.selectedRows)}),[]),R=(0,t.useMemo)((function(){var e=function(e){window.confirm("\uc9c4\uc9dc\ub85c \ub4f1\uae09\uc744 \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?:\r ".concat(f.map((function(e){return e.username})),"?"))&&(v(!Z),Promise.all(f.map((function(t){return Ac(t.user_id,void 0,void 0,void 0,void 0,void 0,e,void 0)}))).then((function(e){console.log(e),W()})))};return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(dn,{onClick:function(){return S(!0)},variant:"secondary",icon:!0,children:"\uba54\uc138\uc9c0 \uc804\uc1a1"},"send-message"),(0,_e.jsx)(dn,{onClick:function(){return e(0)},variant:"outline-light text-dark",icon:!0,children:"\uc77c\ubc18 \ud68c\uc6d0 \ubd80\uc5ec"},"grade-normal"),(0,_e.jsx)(dn,{onClick:function(){return e(10)},variant:"info",icon:!0,children:"\uc6d0\uc7a5 \ubd80\uc5ec"},"grade-vip"),(0,_e.jsx)(dn,{onClick:function(){return e(15)},variant:"success",icon:!0,children:"\ub9e4\ub2c8\uc800 \ubd80\uc5ec"},"grade-manager"),(0,_e.jsx)(dn,{onClick:function(){return e(20)},variant:"danger",icon:!0,children:"\uad00\ub9ac\uc790 \ubd80\uc5ec"},"grade-admin")]})}),[f,Z]);return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Ag.ZP,{title:"\uc0ac\uc6a9\uc790 \ubaa9\ub85d",columns:Qc,data:h,expandableRows:!0,expandableRowsComponent:Uc,progressPending:r,defaultSortFieldId:1,conditionalRowStyles:_c,persistTableHead:!0,pagination:!0,paginationResetDefaultPage:C,subHeader:!0,subHeaderComponent:k,paginationComponentOptions:Oc,contextActions:R,clearSelectedRows:Z,selectableRows:!0,onSelectedRowsChange:V}),(0,_e.jsx)(Pc,{show:B,onHide:function(){v(!Z),S(!1)},users:f})]})},$c=function(e){return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(ct,{children:(0,_e.jsx)(qc,{})})]})},es=n(1951),ts=n(6222),ns=n.n(ts),rs={from:7,to:24},as={time_table_wrapper:"styles_time_table_wrapper__e8wJC",day:"styles_day__KcH5L",day_title:"styles_day_title__0qNuB",hour:"styles_hour__JONu8",event:"styles_event__9rptM",event_info:"styles_event_info__txUqj"},os=n(2729),gs=n(8527),is=n(4522);function ls(e,t){return(0,is.Z)(2,arguments),(0,gs.default)(e).getTime()-(0,gs.default)(t).getTime()}var cs={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function ss(e){return e?cs[e]:cs.trunc}function Is(e,t,n){(0,is.Z)(2,arguments);var r=ls(e,t)/os.yJ;return ss(null===n||void 0===n?void 0:n.roundingMethod)(r)}var us=n(2618),Cs=n(7227),ds=n(871),As=n.n(ds),hs=n(4627),ms=n.n(hs),ps=function(e){return ms()(e)},fs=function(e){var t=e.event,n=e.hoursInterval,r=e.rowHeight,a=(0,Cs.default)((0,us.default)(t.startTime,n.from),0),o=As()(Is(t.startTime,a));return{height:As()(Is(t.endTime,t.startTime))*r/60+"px",marginTop:o*r/60+r+"px"}},bs=["day","rowHeight"],ys=["hour"],Zs=["events","hoursInterval","timeLabel","renderDayHeader","renderEvent","renderHour","headerAttributes","bodyAttributes"],vs=function(e){var t=e.day,n=e.rowHeight,r=Le(e,bs);return(0,_e.jsx)("div",je(je({},r),{},{style:je(je({},(null===r||void 0===r?void 0:r.style)||{}),{},{height:"".concat(n,"px")}),children:ps(t)}))},Gs=function(e){var n=e.hour,r=Le(e,ys);return(0,t.createElement)("div",je(je({},r),{},{key:n}),n)},Bs=function(e){var n=e.event,r=e.defaultAttributes,a=e.classNames;return(0,t.createElement)("div",je(je({},r),{},{title:n.name,key:n.id}),(0,_e.jsx)("span",{className:a.event_info,children:n.name}),(0,_e.jsxs)("span",{className:a.event_info,children:[(0,es.default)(n.startTime,"HH:mm")," - ",(0,es.default)(n.endTime,"HH:mm")]}))},Ss=function(e){var n=e.events,r=e.day,a=e.index,o=e.rowHeight,g=e.renderDayHeader,i=e.renderEvent,l=e.hoursInterval,c=e.headerAttributes,s=e.bodyAttributes;return(0,t.createElement)("div",je(je({},s),{},{className:"".concat(as.day," ").concat(r," ").concat((null===s||void 0===s?void 0:s.className)||""),style:je(je({},(null===s||void 0===s?void 0:s.style)||{}),{},{backgroundSize:"1px ".concat(2*o,"px"),width:"calc((100% - 5rem) / ".concat(Object.keys(n).length,")")}),key:"".concat(r,"-").concat(a)}),g(je(je({day:r,rowHeight:o},c),{},{className:"".concat(as.day_title," ").concat((null===c||void 0===c?void 0:c.className)||"")})),function(e){var t=e.events,n=e.day,r=e.hoursInterval,a=e.rowHeight,o=e.renderEvent;return(t[n]||[]).map((function(e){return o({event:e,defaultAttributes:{className:"".concat(as.event," ").concat(as.type),style:fs({event:e,hoursInterval:r,rowHeight:a})},classNames:as})}))}({events:n,day:r,renderEvent:i,hoursInterval:l,rowHeight:o}))},ks=function(e){var t=e.hoursInterval,n=e.rowHeight,r=e.renderHour;return ns()(t.from,t.to).map((function(e){return r({hour:"".concat(e,":00"),className:as.hour,style:{height:"".concat(n,"px")}})}))},Ws=function(e){var n=e.events,r=e.hoursInterval,a=void 0===r?rs:r,o=e.timeLabel,g=void 0===o?"Time":o,l=e.renderDayHeader,c=void 0===l?vs:l,s=e.renderEvent,I=void 0===s?Bs:s,u=e.renderHour,C=void 0===u?Gs:u,d=e.headerAttributes,A=e.bodyAttributes,h=Le(e,Zs),m=i(t.useState({width:window.innerWidth,height:window.innerHeight}),2),p=m[0],f=m[1],b=i(t.useState(0),2),y=b[0],Z=b[1],v=t.useRef(null),G=function(){f({width:window.innerWidth,height:window.innerHeight})};return t.useEffect((function(){window.addEventListener("resize",G,!1)}),[]),t.useEffect((function(){if(v.current){var e=v.current.clientHeight;Z(function(e,t,n){var r=t-e+1;return As()(n/r,5)}(a.from,a.to,e))}}),[a,p]),(0,_e.jsxs)("div",je(je({},h),{},{className:"".concat(as.time_table_wrapper," ").concat(h.className),ref:v,children:[(0,_e.jsxs)("div",{className:as.day,children:[(0,_e.jsx)("div",je(je({},d),{},{className:"".concat(as.day_title," ").concat((null===d||void 0===d?void 0:d.className)||""),style:je(je({},(null===d||void 0===d?void 0:d.style)||{}),{},{height:"".concat(y,"px")}),children:g})),ks({hoursInterval:a,renderHour:C,rowHeight:y})]}),Object.keys(n).map((function(e,t){return Ss({events:n,day:e,index:t,rowHeight:y,renderDayHeader:c,renderEvent:I,hoursInterval:a,headerAttributes:d,bodyAttributes:A})}))]}))};Ws.defaultProps={hoursInterval:rs,timeLabel:"Time",renderDayHeader:vs,renderHour:Gs,renderEvent:Bs};var Vs=Ws,Rs=n(9513),ws=n.n(Rs),Xs=n(2426),Js=n.n(Xs),Ys=(n(8015),["bsPrefix","variant","animation","size","as","className"]),xs=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,a=e.animation,o=e.size,g=e.as,i=void 0===g?"div":g,l=e.className,c=Le(e,Ys);n=$e(n,"spinner");var s="".concat(n,"-").concat(a);return(0,_e.jsx)(i,je(je({ref:t},c),{},{className:Qe()(l,s,o&&"".concat(s,"-").concat(o),r&&"text-".concat(r))}))}));xs.displayName="Spinner";var Hs=xs,Ns=function(e){var t=e.value,n=e.onChange,r=e.disabled,a=void 0!==r&&r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputName",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:"2",children:"\uc774\ub984"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc774\ub984",value:t,readOnly:!Boolean(n),onChange:n,disabled:a})})]})},Fs=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)(ka.Text,{onClick:n,children:t})},Ks=function(e){var t,n=e.title,r=void 0===n?"\uc2dc\uac04 \uc120\ud0dd":n,a=e.start_time,o=e.end_time,g=e.onSelect,i=e.disabled,l=void 0!==i&&i,c=[],s=Math.floor((60*a.hour()+a.minute())/30),I=Math.floor((60*o.hour()+o.minute())/30),u=function(){var e=(t-t%2)/2,n=t%2*30;c.push((0,_e.jsxs)(ma.Item,{onClick:function(){return g(e,n)},children:[e,":",0===n?"00":"30"]}))};for(t=s;t<=I;t++)u();return(0,_e.jsx)(va,{variant:"outline-secondary",title:r,id:"input-group-dropdown-RoomDropdown",disabled:l,children:c})},Ms=function(e){var t=e.min_time,n=void 0===t?Js()("12:00","hh:mm"):t,r=e.max_time,a=void 0===r?Js()("22:00","hh:mm"):r,o=e.book_date,g=void 0===o?Js()().format("YYYY-MM-DD"):o,i=e.start_time,l=void 0===i?Js()("12:00","hh:mm"):i,c=e.end_time,s=void 0===c?Js()("12:00","hh:mm"):c,I=e.onSelectStartTime,u=void 0===I?function(e){e.hour,e.minute}:I,C=e.onSelectEndTime,d=void 0===C?function(e){e.hour,e.minute}:C,A=e.onSelectDate,h=void 0===A?null:A,m=e.disabled,p=void 0!==m&&m;return console.log(g),(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormDT",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:2,children:"\uc77c\uc2dc"}),(0,_e.jsx)(gt,{sm:10,children:(0,_e.jsxs)(ka,{children:[null===h||null===g?(0,_e.jsx)(ka.Text,{children:g}):(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:Js()(g,"YYYY-MM-DD").toDate(),onChange:h,customInput:(0,_e.jsx)(Fs,{})}),(0,_e.jsx)(ka.Text,{children:"::"}),(0,_e.jsx)(Ks,{title:l?l.format("HH:mm"):void 0,start_time:n,end_time:s||a,onSelect:u,disabled:p}),(0,_e.jsx)(ka.Text,{children:"-"}),(0,_e.jsx)(Ks,{title:s?s.format("HH:mm"):void 0,start_time:l||n,end_time:a,onSelect:d,disabled:p})]})})]})};function Es(e){var t=e.date,n=e.start_time,r=void 0===n?void 0:n,a=e.end_time,o=void 0===a?void 0:a,g="object"===typeof t&&t||new Date;"string"!==typeof t&&(t="".concat(g.getFullYear(),"-").concat(g.getMonth()>8?"":"0").concat(g.getMonth()+1,"-").concat(g.getDate()>9?"":"0").concat(g.getDate()));var i={params:{date:t}};return r&&o&&(i.params.start_time="object"===typeof r?r.format("HH:mm:ssZ"):r,i.params.end_time="object"===typeof o?o.format("HH:mm:ssZ"):o),sg.get("/api/rooms",i).then((function(e){return e.data})).then((function(e){return e.rooms}))}var Ds=function(e){var n=e.room,r=e.setRoom,a=e.date,o=e.start_time,g=e.end_time,l=e.disabled,c=void 0!==l&&l,s=i((0,t.useState)([]),2),I=s[0],u=s[1];return(0,t.useEffect)((function(){Es({date:a,start_time:o,end_time:g}).then((function(e){u(e)}))}),[a,o,g]),(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormRoomDropdown",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc2a4\ud130\ub514\ub8f8"}),(0,_e.jsx)(gt,{sm:"3",children:(0,_e.jsx)(va,{variant:"outline-secondary",title:n?n.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"input-group-dropdown-RoomDropdown",disabled:c,children:I.filter((function(e){return 1===e.type})).filter((function(e){return e.available})).map((function(e){return(0,_e.jsx)(ma.Item,{disabled:!e.available,onClick:function(){return r(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc138\ubbf8\ub098/\uc2a4\ud130\ub514"}),(0,_e.jsx)(gt,{sm:"3",children:(0,_e.jsx)(va,{variant:"outline-secondary",title:n?n.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"input-group-dropdown-RoomDropdown",disabled:c,children:I.filter((function(e){return 2===e.type||3===e.type})).filter((function(e){return e.available})).map((function(e){return(0,_e.jsx)(ma.Item,{disabled:!e.available,onClick:function(){return r(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})]})};function zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe,r=[];return Object.entries(e).forEach((function(e){var a=i(e,2),o=a[0],g=a[1];null!=g&&("object"===typeof g?t.forEach((function(e){var t=g[e];if(null!=t){var a=e!==n?"-".concat(e):"";r.push("".concat(o).concat(a,"-").concat(t))}})):r.push("".concat(o,"-").concat(g)))})),r}var js=["as","bsPrefix","className","direction","gap"],Ts=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.bsPrefix,o=e.className,g=e.direction,i=e.gap,c=Le(e,js);a=$e(a,"horizontal"===g?"hstack":"vstack");var s=et(),I=tt();return(0,_e.jsx)(r,je(je({},c),{},{ref:t,className:Qe().apply(void 0,[o,a].concat(l(zs({gap:i,breakpoints:s,minBreakpoint:I}))))}))}));Ts.displayName="Stack";var Ls=Ts;var Us="\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694",Qs={etc:{key:"etc",name:"\uae30\ud0c0",variation:[""],regex:/.+/}},_s=function(e){var n=e.region,r=void 0===n?Us:n,a=e.setRegion,o=e.regionTypePreset,g=void 0===o?"\uc9c0\uc5ed \ubd84\ub958":o,l=e.disabled,c=void 0!==l&&l,s=i((0,t.useState)([]),2),I=s[0],u=s[1],C=i((0,t.useState)([]),2),d=C[0],A=C[1],h=i((0,t.useState)(g),2),m=h[0],p=h[1];return(0,t.useEffect)((function(){sg.get("/api/departments").then((function(e){return e.data})).then((function(e){return e.departments})).then((function(e){u(e),A(e.map((function(e){return(0,_e.jsx)(ma.Item,{onClick:function(){return a(e.key)},children:e.name},e.key)})))}))}),[]),(0,_e.jsxs)(Ls,{direction:"horizontal",gap:3,children:[(0,_e.jsx)(va,{variant:"outline-primary",title:Qs[m]?Qs[m].name:m,id:"input-group-dropdown-regionType",disabled:c,children:(0,_e.jsx)(ma.Item,{onClick:function(){return e=Qs.etc.key,void p(e);var e},children:Qs.etc.name},Qs.etc.name)}),(0,_e.jsx)(va,{variant:"outline-secondary",title:function(e){if(e===Us)return e;if(null===e)return Us;if(I.length<=0)return e;var t=I.filter((function(t){return t.key===e}));return t&&t.length>0||(t=I.filter((function(t){return t.variation.includes(e)})))&&t.length>0?t[0].name:e}(r),id:"input-group-dropdown-PayTypeComponent",disabled:c||!Qs[m],children:m===Qs.etc.key?d:null})]})},Os=function(e){var t=e.department,n=e.setDepartment,r=e.disabled,a=void 0!==r&&r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputDepartment",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc9c0\uc5ed"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(_s,{region:t,setRegion:n,disabled:a})})]})},Ps={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qs=t.createContext&&t.createContext(Ps),$s=function(){return $s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$s.apply(this,arguments)},eI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function tI(e){return e&&e.map((function(e,n){return t.createElement(e.tag,$s({key:n},e.attr),tI(e.child))}))}function nI(e){return function(n){return t.createElement(rI,$s({attr:$s({},e.attr)},n),tI(e.child))}}function rI(e){var n=function(n){var r,a=e.attr,o=e.size,g=e.title,i=eI(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",$s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,i,{className:r,style:$s($s({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),g&&t.createElement("title",null,g),e.children)};return void 0!==qs?t.createElement(qs.Consumer,null,(function(e){return n(e)})):n(Ps)}function aI(e){return nI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm8.854-9.646a.5.5 0 0 0-.708-.708L7.5 7.793 6.354 6.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"}}]})(e)}function oI(e){return nI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5H0V4zm11.5 1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-2zM0 11v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1H0z"}}]})(e)}function gI(e){return nI({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zm7.173 3.876a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199zm-8.999-.65A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 1 0 .286-.958A7.601 7.601 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962zM5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z"}}]})(e)}var iI=function(e){return/^card.*/.test(e)?"\uce74\ub4dc":/^transfer.*/.test(e)?"\uc774\uccb4":/^saved_money\.d.*/.test(e)?"\uc801\ub9bd\uae08":/^notion.*/.test(e)?"\ub178\uc158":/^etc.*/.test(e)?"\uae30\ud0c0":"\uc9c0\ubd88 \ubc29\ubc95\uc744 \uc120\ud0dd\ud558\uc138\uc694."},lI=function(e){var t=e.pay,n=e.paid,r=e.pay_type,a=e.region,o=e.etc_reason,g=e.setPayType,i=e.setRegion,l=e.setEtcReason,c=e.disabled,s=void 0!==c&&c,I=e.options,u=void 0===I?["card","transfer","saved_money.d","saved_money.p","etc"]:I,C=e.setPaid,d=void 0===C?null:C,A=(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc0ac\uc720",value:o,onChange:function(e){return l(e.target.value)}}),h=function(e){return e?/^saved_money\.d.*/.test(e.pay_type)?{t:"saved_money.d",r:e.pay_type.replace("saved_money.d.","")}:{t:e.pay_type,r:e.comment?"(".concat(e.comment,")"):""}:{t:"",r:""}}(t),m=h.t,p=h.r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormPay",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc9c0\ubd88"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsxs)(ka,{children:[(0,_e.jsxs)(va,{variant:t&&"confirm"===t.status?"outline-success":"outline-secondary",title:t&&"confirm"===t.status?"\uc815\uc0b0\ub428-".concat(iI(m),":").concat(p):iI(r),id:"input-group-dropdown-PayTypeComponent",disabled:s,children:[u.includes("card")&&(0,_e.jsxs)(ma.Item,{onClick:function(){return g("card")},children:[(0,_e.jsx)(oI,{color:"#138d75"}),"\uce74\ub4dc"]},"card"),u.includes("transfer")&&(0,_e.jsx)(ma.Item,{onClick:function(){return g("transfer")},children:"\uc774\uccb4"},"transfer"),u.includes("saved_money.d")&&(0,_e.jsxs)(ma.Item,{onClick:function(){return g("saved_money.d")},children:[(0,_e.jsx)(gI,{color:"#138d75"}),"\uc801\ub9bd\uae08"]},"saved_money.d"),(u.includes("etc")||u.includes("notion"))&&(0,_e.jsx)(ma.Divider,{}),u.includes("notion")&&(0,_e.jsx)(ma.Item,{onClick:function(){return g("notion")},children:"\ub178\uc158"},"notion"),u.includes("etc")&&(0,_e.jsx)(ma.Item,{onClick:function(){return g("etc")},children:"\uae30\ud0c0"},"etc")]}),null,null,"saved_money.d"===r?(0,_e.jsx)(_s,{region:a,setRegion:i,disabled:!0}):null,null,"etc"===r?A:null,d?(0,_e.jsx)(gn.Control,{type:"number",value:"".concat(n),onChange:function(e){return d(Number(e.target.value))}}):(0,_e.jsx)(gn.Control,{value:"".concat(n," \uc6d0"),readOnly:!0})]})})]})},cI="waiting",sI="confirm",II="reject";function uI(e,t,n,r,a,o,g){var i={user_id:e,book_id:t,cashier:n,pay_type:r,paid:a,comment:o,client_name:g};return sg.post("/api/pays",i).then((function(e){return e.data})).then((function(e){return e.pay}))}function CI(e,t,n,r,a,o){var g={user_id:e,cashier:t,pay_type:"donation.".concat(n),paid:r,comment:a,client_name:o};return sg.post("/api/pays",g).then((function(e){return e.data})).then((function(e){return e.pay}))}function dI(e){return sg.get("/api/pays/".concat(e)).then((function(e){return e.data}))}function AI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return sg.get("/api/pays",{params:{date:e,pay_type:t,user_id:n,book_id:r,cashier:a}}).then((function(e){return e.data.pays}))}var hI=function(e){switch(e){case-2:return" \ud300 ";case-4:return"\uac1c\uc778";case null:case void 0:return"\ubaa8\uc784\uc744 \uc120\ud0dd\ud558\uc2dc\uc624.";default:return"".concat(e," \uba85")}},mI=function(e){var t=e.people_no,n=e.setPeopleNo,r=e.disabled,a=void 0!==r&&r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputPeopleNo",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\ubaa8\uc784"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsxs)(va,{title:hI(t),disabled:a,children:[(0,_e.jsx)(ma.Item,{onClick:function(){return n(-2)},children:" \ud300 "},-2),(0,_e.jsx)(ma.Item,{onClick:function(){return n(-4)},children:"\uac1c\uc778"},-4)]})})]})},pI=function(e){switch(e){case"event":return"\ud589\uc0ac";case"seminar":return"\uc138\ubbf8\ub098";case"meeting":return"\ubaa8\uc784";case"personal":return"\uac1c\uc778\ubaa9\uc801";case null:return"\ubaa9\uc801\uc744 \uc120\ud0dd\ud558\uc2dc\uc624.";default:return"".concat(e)}},fI=function(e){var t=e.purpose,n=e.setPurpose,r=e.disabled,a=void 0!==r&&r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputPurpose",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\ubaa9\uc801"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsxs)(va,{title:pI(t),disabled:a,children:[(0,_e.jsx)(ma.Item,{onClick:function(){return n("event")},children:"\ud589\uc0ac"},-1),(0,_e.jsx)(ma.Item,{onClick:function(){return n("seminar")},children:"\uc138\ubbf8\ub098"},-2),(0,_e.jsx)(ma.Item,{onClick:function(){return n("meeting")},children:"\ubaa8\uc784"},-3),(0,_e.jsx)(ma.Item,{onClick:function(){return n("personal")},children:"\uac1c\uc778\ubaa9\uc801"},-4)]})})]})},bI="guest.username.change",yI="guest.book_date.change",ZI="guest.start_time.change",vI="guest.end_time.change",GI="guest.room.change",BI="guest.department.change",SI="guest.purpose.change",kI="guest.people_no.change",WI="guest.pay_type.change",VI="guest.pay_type_etc_reason.change",RI={user:null,username:null,book_date:null,start_time:null,end_time:null,room:null,department:null,purpose:null,people_no:null},wI=function(e,t){return e({type:bI,username:t})},XI=function(e,t){return e({type:yI,book_date:t})},JI=function(e,t){return e({type:GI,room:t})},YI=function(e,t){return e({type:BI,department:t})},xI=function(e,t){return e({type:kI,people_no:t})},HI=function(e,t){return e({type:SI,purpose:t})},NI=function(e,t){return e({type:WI,pay_type:t})},FI=function(e,t){return e({type:VI,pay_type_etc_reason:t})},KI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:RI,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bI:return je(je({},e),{},{username:t.username});case yI:return je(je({},e),{},{book_date:t.book_date});case ZI:return je(je({},e),{},{start_time:t.start_time});case vI:return je(je({},e),{},{end_time:t.end_time});case GI:return je(je({},e),{},{room:t.room});case BI:return je(je({},e),{},{department:t.department});case SI:return je(je({},e),{},{purpose:t.purpose});case kI:return je(je({},e),{},{people_no:t.people_no});case WI:return je(je({},e),{},{pay_type:t.pay_type});case VI:return je(je({},e),{},{pay_type_etc_reason:t.pay_type_etc_reason});default:return e}},MI=function(e){var t=e.title,n=e.rooms,r=e.room,a=e.setRoom,o=e.disabled;return(0,_e.jsx)(gt,{sm:"3",children:(0,_e.jsx)(va,{variant:"outline-secondary",title:r?r.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"InputRoom".concat(t),disabled:o,children:n.filter((function(e){return e.available})).map((function(e){return(0,_e.jsx)(ma.Item,{disabled:!e.available,onClick:function(){return a(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})},EI=function(e){var n=e.room,r=e.setRoom,a=e.date,o=e.start_time,g=e.end_time,l=e.disabled,c=void 0!==l&&l,s=i((0,t.useState)([]),2),I=s[0],u=s[1];return(0,t.useEffect)((function(){Es({date:a,start_time:o,end_time:g}).then((function(e){return u(e)}))}),[a,o,g]),(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormRoomDropdown",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc2a4\ud130\ub514\ub8f8"}),(0,_e.jsx)(MI,{title:"\uc2a4\ud130\ub514\ub8f8",rooms:I.filter((function(e){return 1===e.type})),room:n,setRoom:r,disabled:c}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uadf8 \uc678"}),(0,_e.jsx)(MI,{title:"\uadf8 \uc678",rooms:I.filter((function(e){return 2===e.type||4===e.type})),room:n,setRoom:r,disabled:c})]})},DI=function(e){var n=e.book,r=e.disabled,a=e.pay_options,o=void 0===a?["card","saved_money.d"]:a,g=(Ie(),i((0,t.useState)(!1),2)),l=g[0],c=(g[1],i((0,t.useState)(0),2)),s=c[0],I=c[1],u=i((0,t.useState)(null),2),C=u[0],d=u[1],A=i((0,t.useState)(""),2),h=A[0],m=A[1],p=i((0,t.useState)(null),2),f=p[0],b=p[1];(0,t.useEffect)((function(){n.start_time&&n.end_time&&n.room&&I(Ig(n.room.type,n.start_time,n.end_time))}),[n]);var y=i((0,t.useState)(""),2),Z=y[0],v=y[1],G=function(){var e=Me(Fe().mark((function e(t){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mc(n.book_id,t.type,t.no);case 3:r=e.sent,v("".concat(r.name,"\uc73c\ub85c \ubcc0\uacbd \uc131\uacf5")),console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,_e.jsxs)(ct,{fluid:!0,children:[(0,_e.jsx)(Ns,{value:n.user.username}),(0,_e.jsx)(Ms,{book_date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!0}),(0,_e.jsx)(EI,{room:n.room,setRoom:function(e){return G(e)},date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!1}),Z?(0,_e.jsx)("span",{style:{color:"red"},children:Z}):null,(0,_e.jsx)(Os,{department:n.department,disabled:!0}),(0,_e.jsx)(mI,{people_no:n.people_no,disabled:!0}),(0,_e.jsx)(fI,{purpose:n.purpose,disabled:!0}),(0,_e.jsx)(lI,{pay:n.pay,paid:s,pay_type:C,region:n.department,etc_reason:h,setPayType:d,setEtcReason:m,disabled:r,options:o}),(0,_e.jsx)(ic,{children:(0,_e.jsxs)(gt,{children:[f&&"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."!==f&&"\uc0ad\uc81c \uc131\uacf5"!==f&&(0,_e.jsx)(Hs,{animation:"border",variant:"primary"}),f&&f]})}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{sm:6,children:l&&(0,_e.jsx)(Hs,{animation:"border"})}),f||r?(0,_e.jsx)(gt,{sm:2,children:""}):(0,_e.jsx)(dn,{as:gt,sm:2,onClick:function(){var e=n.user.user_id,t=n.book_id,r=C+(n.department?"."+n.department:"");if(!C)return alert("\uacb0\uc81c \uc218\ub2e8\uc744 \uc120\ud0dd\ud558\uc138\uc694");uI(e,t,"web.guard",r,s,h,"plin.kiosk.book").then((function(e){b("\uacb0\uc81c \ub300\uae30\uc911\uc785\ub2c8\ub2e4(".concat(Math.round(30)," \ucd08)"));setTimeout.apply(void 0,[function e(t,n){b("\uacb0\uc81c \ub300\uae30\uc911\uc785\ub2c8\ub2e4(".concat(Math.round(n/2)," \ucd08)")),n>0?dI(t).then((function(r){r.status.startsWith(sI)?b("\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."):r.status.startsWith(II)?b(r.comment?r.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."):r.status.startsWith(cI)&&setTimeout.apply(void 0,[e,500].concat([t,n-1]))})).catch((function(e){return b(e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")})):b("\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")},500].concat([e.pay_id,60]))})).catch((function(e){return b(e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.")}))},children:"\uacb0\uc81c"}),(0,_e.jsx)(gt,{sm:2,children:""}),(0,_e.jsx)(dn,{variant:"danger",as:gt,sm:2,onClick:function(){(function(e,t){return sg.delete("/api/books/".concat(e,"/admin"),{headers:{Authorization:t}}).then((function(e){return e.data}))})(n.book_id,sessionStorage.getItem("Authorization")).then((function(e){return b(e.message)}))},children:"\uc0ad\uc81c"})]})]})},zI=function(){return sg.get("/api/config/book_room_weekdays_open").then((function(e){return e.data.book_room_weekdays_open}))},jI=function(){return sg.get("/api/config/book_room_weekdays_close").then((function(e){return e.data.book_room_weekdays_close}))},TI=function(){return sg.get("/api/config/book_room_weekend_open").then((function(e){return e.data.book_room_weekend_open}))},LI=function(){return sg.get("/api/config/book_room_weekend_close").then((function(e){return e.data.book_room_weekend_close}))},UI=function(e){switch(e){case"r_01":return"\uc2a4\ud130\ub514\ub8f8 1\ubc88";case"r_02":return"2\ubc88";case"r_03":return"3\ubc88";case"r_04":return"4\ubc88";case"r_05":return"5\ubc88";case"r_06":return"6\ubc88";case"r_07":return"7\ubc88";case"r_08":return"8\ubc88";case"r_09":return"9\ubc88";case"r_10":return"10\ubc88";case"seminar":return"\uc138\ubbf8\ub098\ub8f8";case"studio":return"\uc2a4\ud29c\ub514\uc624";case"hall":return"\ud640";default:return e}},QI=function(e){return Number(e.split(":")[0])+Number(Number(e.split(":")[1])/60)},_I=function(e,t,n){if(Js()(e.book_date).isSame(Js()(t),"day")){var r=new Date("".concat(e.book_date,"T").concat(e.start_time)),a=new Date("".concat(e.book_date,"T").concat(e.end_time)),o=Js()(r,"hh:mm:ss"),g=Js()(a,"hh:mm:ss"),i=o.format("HH:mm"),l=g.format("HH:mm");return{id:e.book_id,name:"[".concat(e.department,"] ").concat(e.user.username," \ud3ec\ud568 ").concat(e.people_no,"\uba85\n").concat(i," - ").concat(l),type:"book",startTime:r,endTime:a,data:e,onClick:function(){return n(je(je({},e),{},{start_time:o,end_time:g}))}}}},OI=function(e,t,n){if(3===t.room.type)e.studio.push(n);else if(2===t.room.type)e.seminar.push(n);else if(4===t.room.type)e.hall.push(n);else if(1===t.room.type){var r=t.room.no;1===r?e.r_01.push(n):2===r?e.r_02.push(n):3===r?e.r_03.push(n):4===r?e.r_04.push(n):5===r?e.r_05.push(n):6===r?e.r_06.push(n):7===r?e.r_07.push(n):8===r?e.r_08.push(n):9===r?e.r_09.push(n):10===r&&e.r_10.push(n)}},PI=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},qI=function(e){var t=e.hour,n=e.style,r=e.className;return(0,_e.jsx)("div",{className:r,style:je(je({},n),{},{fontSize:"1.2rem"}),children:t},t)},$I=function(e){var t=e.day,n=e.rowHeight,r=e.className;return(0,_e.jsx)("div",{className:r,style:{height:n,fontSize:"1.4rem"},children:UI(t)})},eu=function(e){var n=e.event,r=e.defaultAttributes,a=e.classNames,o=n.data.department?"[".concat(n.data.department,"]"):"",g="".concat(n.data.user.username," \ud3ec\ud568 ").concat(n.data.people_no,"\uba85"),i=Js()(n.startTime).format("HH:mm")+" - "+Js()(n.endTime).format("HH:mm");return(0,t.createElement)("div",je(je({},r),{},{style:je(je({},r.style),{},{background:"#2b463c",color:n.data.pay&&"confirm"===n.data.pay.status?"#9ba9b4":"#cbe541",border:"solid",fontSize:"1.2rem"}),title:n.name,key:n.id,onClick:n.onClick}),(0,_e.jsx)("span",{className:a.event_info,children:o}),(0,_e.jsx)("span",{className:a.event_info,children:g}),(0,_e.jsx)("span",{className:a.event_info,children:i}))},tu=function(e){var n=Ce(),r=i((0,t.useState)({}),2),a=r[0],o=r[1],g=i((0,t.useState)(Date.now()),2),l=g[0],c=g[1],s=i((0,t.useState)({from:9,to:22}),2),I=s[0],u=s[1],C=i((0,t.useState)(!1),2),d=C[0],A=C[1],h=i((0,t.useState)({}),2),m=h[0],p=h[1],f=i((0,t.useState)([]),2),b=f[0],y=f[1],Z=i((0,t.useState)(!1),2),v=Z[0],G=Z[1],B=i((0,t.useState)(""),2),S=B[0],k=B[1],W=i((0,t.useState)(),2),V=W[0],R=W[1];(0,t.useEffect)((function(){dc(sessionStorage.getItem("Authorization")).then((function(e){return y(e)}))}),[]),(0,t.useEffect)((function(){try{R(b.find((function(e){return S===e.username})))}catch(zv){console.log(zv)}}),[S,b]),(0,t.useEffect)((function(){Me(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(Js()(l).isoWeekday()>=6)){e.next=14;break}return e.t0=QI,e.next=5,TI();case 5:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.t2=QI,e.next=10,LI();case 10:e.t3=e.sent,n=(0,e.t2)(e.t3),e.next=24;break;case 14:return e.t4=QI,e.next=17,zI();case 17:return e.t5=e.sent,t=(0,e.t4)(e.t5),e.t6=QI,e.next=22,jI();case 22:e.t7=e.sent,n=(0,e.t6)(e.t7);case 24:u({from:t,to:n}),e.next=30;break;case 27:e.prev=27,e.t8=e.catch(0),console.log(e.t8);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))()}),[l]);var w=function(){var e=Me(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};e.forEach((function(e,n){var r=_I(e,l,(function(e){p(e),A(!0)}));if(3===e.room.type)t.studio.push(r);else if(2===e.room.type)t.seminar.push(r);else if(4===e.room.type)t.hall.push(r);else if(1===e.room.type){var a=e.room.no;1===a?t.r_01.push(r):2===a?t.r_02.push(r):3===a?t.r_03.push(r):4===a?t.r_04.push(r):5===a?t.r_05.push(r):6===a?t.r_06.push(r):7===a?t.r_07.push(r):8===a?t.r_08.push(r):9===a?t.r_09.push(r):10===a&&t.r_10.push(r)}})),0===t.studio.length&&delete t.studio,o(t)},e.next=3,Kc(Js()(l).format("YYYY-MM-DD"));case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){d||w()}),[l,d]);return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(ct,{children:(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{sm:9,children:(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:l,onChange:function(e){return c(e)},customInput:(0,_e.jsx)(PI,{})})}),(0,_e.jsx)(gt,{sm:1,style:{marginTop:"8px"},children:(0,_e.jsx)(dn,{onClick:function(){n("/staff/book",{replace:!0,state:{user:{age:null,birthday:null,chat_id:-0xe9330753f5,created:"2022-01-31T23:54:44",delete_que:null,department:null,gender:null,grade:20,modified:"2022-01-31T23:54:44",num:null,sms:1,status:null,tg_name:null,user_id:1,username:"\uc6f9\uc0ac\uc774\ud2b8",valid:!0},qr_code:"100001xJemApdrPDbgLOy5t0IgdpzkU6xX7iDzBpmc8VRtAty7MhjTwEXy-xIp1C2gyPCeeFcXZSJIqeTkTJ3FqWPMRQ"}})},children:"\uc608\uc57d"})}),(0,_e.jsx)(gt,{sm:1,style:{marginTop:"8px"},children:(0,_e.jsx)(dn,{disabled:0===b.length,onClick:function(){return G(!0)},children:"\ud6c4\uc6d0"})}),(0,_e.jsx)(gt,{sm:1,style:{marginTop:"8px"},children:(0,_e.jsx)(dn,{onClick:function(){return w()},children:"\uac31\uc2e0"})})]})}),(0,_e.jsx)(Vs,{events:a,style:{height:"80vh"},hoursInterval:I,renderDayHeader:$I,renderHour:qI,renderEvent:eu}),d&&(0,_e.jsxs)(ac,{show:!0,children:[(0,_e.jsx)(ac.Header,{children:"\uc815\ubcf4"}),(0,_e.jsx)(ac.Body,{children:(0,_e.jsx)(DI,{book:m,disabled:m.pay&&"confirm"===m.pay.status,pay_options:["card","transfer","saved_money.d","etc"]})}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:function(){return A(!1)},variant:"secondary",children:"\ub2eb\uae30"})})]}),(0,_e.jsxs)(ac,{show:v,onClose:function(){return G(!1)},children:[(0,_e.jsx)(ac.Header,{children:"\ud6c4\uc6d0\uc790 \uc120\ud0dd"}),(0,_e.jsxs)(ac.Body,{children:["\ud6c4\uc6d0\uc790 \uc774\ub984",(0,_e.jsx)("input",{value:S,onChange:function(e){return k(e.target.value)}}),V&&V.username?"\uc0ac\uc6a9\uc790 tel: ".concat(V.num):"\uc5c6\uc74c"]}),(0,_e.jsxs)(ac.Footer,{children:[(0,_e.jsx)(dn,{onClick:function(){return function(e){n("/donation",{replace:!0,state:{user:e,qr_code:""}})}(V)},variant:"primary",disabled:!(V&&V.username),children:"\ud6c4\uc6d0"}),(0,_e.jsx)(dn,{onClick:function(){return G(!1)},variant:"secondary",children:"\ub2eb\uae30"})]})]})]})},nu=["bsPrefix","className","variant","as"],ru=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.variant,o=e.as,g=void 0===o?"img":o,i=Le(e,nu),l=$e(n,"card-img");return(0,_e.jsx)(g,je({ref:t,className:Qe()(a?"".concat(l,"-").concat(a):l,r)},i))}));ru.displayName="CardImg";var au=ru,ou=["bsPrefix","className","as"],gu=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.as,g=void 0===o?"div":o,i=Le(e,ou),l=$e(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,_e.jsx)(wg.Provider,{value:c,children:(0,_e.jsx)(g,je(je({ref:n},i),{},{className:Qe()(a,l)}))})}));gu.displayName="CardHeader";var iu=gu,lu=["bsPrefix","className","bg","text","border","body","children","as"],cu=dl("h5"),su=dl("h6"),Iu=xt("card-body"),uu=xt("card-title",{Component:cu}),Cu=xt("card-subtitle",{Component:su}),du=xt("card-link",{Component:"a"}),Au=xt("card-text",{Component:"p"}),hu=xt("card-footer"),mu=xt("card-img-overlay"),pu=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.bg,o=e.text,g=e.border,i=e.body,l=e.children,c=e.as,s=void 0===c?"div":c,I=Le(e,lu),u=$e(n,"card");return(0,_e.jsx)(s,je(je({ref:t},I),{},{className:Qe()(r,u,a&&"bg-".concat(a),o&&"text-".concat(o),g&&"border-".concat(g)),children:i?(0,_e.jsx)(Iu,{children:l}):l}))}));pu.displayName="Card",pu.defaultProps={body:!1};var fu=Object.assign(pu,{Img:au,Title:uu,Subtitle:Cu,Body:Iu,Link:du,Text:Au,Header:iu,Footer:hu,ImgOverlay:mu});function bu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zM7 18V6h10v12H7zm9-7V9.14C16 8.51 15.55 8 15 8H9c-.55 0-1 .51-1 1.14v1.96c.55 0 1 .45 1 1s-.45 1-1 1v1.76c0 .63.45 1.14 1 1.14h6c.55 0 1-.51 1-1.14V13c-.55 0-1-.45-1-1s.45-1 1-1zm-3.5 3.5h-1v-1h1v1zm0-2h-1v-1h1v1zm0-2h-1v-1h1v1z"}}]})(e)}function yu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V7l-5-5zM6 20V4h8v4h4v12H6zm10-10v5c0 2.21-1.79 4-4 4s-4-1.79-4-4V8.5a2.5 2.5 0 012.76-2.49c1.3.13 2.24 1.32 2.24 2.63V15h-2V8.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V15c0 1.1.9 2 2 2s2-.9 2-2v-5h2z"}}]})(e)}function Zu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}}]})(e)}function vu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm3.61 6.34c1.07 0 1.93.86 1.93 1.93 0 1.07-.86 1.93-1.93 1.93-1.07 0-1.93-.86-1.93-1.93-.01-1.07.86-1.93 1.93-1.93zm-6-1.58c1.3 0 2.36 1.06 2.36 2.36 0 1.3-1.06 2.36-2.36 2.36s-2.36-1.06-2.36-2.36c0-1.31 1.05-2.36 2.36-2.36zm0 9.13v3.75c-2.4-.75-4.3-2.6-5.14-4.96 1.05-1.12 3.67-1.69 5.14-1.69.53 0 1.2.08 1.9.22-1.64.87-1.9 2.02-1.9 2.68zM11.99 20c-.27 0-.53-.01-.79-.04v-4.07c0-1.42 2.94-2.13 4.4-2.13 1.07 0 2.92.39 3.84 1.15-1.17 2.97-4.06 5.09-7.45 5.09z"}}]})(e)}function Gu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 11h8V3H3v8zm2-6h4v4H5V5zM3 21h8v-8H3v8zm2-6h4v4H5v-4zM13 3v8h8V3h-8zm6 6h-4V5h4v4zM19 19h2v2h-2zM13 13h2v2h-2zM15 15h2v2h-2zM13 17h2v2h-2zM15 19h2v2h-2zM17 17h2v2h-2zM17 13h2v2h-2zM19 15h2v2h-2z"}}]})(e)}function Bu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}}]})(e)}function Su(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20.19 4H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.81-2-1.81-2zm-2.46 9.3l-8.86 2.36-1.66-2.88.93-.25 1.26.99 2.39-.64-2.4-4.16 1.4-.38 4.01 3.74 2.44-.65a.967.967 0 011.18.68.988.988 0 01-.69 1.19z"}}]})(e)}function ku(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 1c0 1.66-1.34 3-3 3-.55 0-1 .45-1 1H4c0-1.66 1.34-3 3-3 .55 0 1-.45 1-1h2zm2 2L6 7.58V6H4v3.11L1 11.4l1.21 1.59L4 11.62V21h16v-9.38l1.79 1.36L23 11.4 12 3zm1.94 4h-3.89L12 5.52 13.94 7zm-6.5 2h9.12L18 10.1v.9H6v-.9L7.44 9zM18 13v2H6v-2h12zM6 19v-2h12v2H6z"}}]})(e)}function Wu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-2.5 4A2.5 2.5 0 0118 9.5c.42 0 .8.11 1.15.29l-3.36 3.36c-.18-.35-.29-.73-.29-1.15zm2.5 2.5c-.42 0-.8-.11-1.15-.29l3.36-3.36c.18.35.29.73.29 1.15a2.5 2.5 0 01-2.5 2.5z"}},{tag:"path",attr:{d:"M17 18H7V6h10v1h2V3c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v1zM7 3h10v1H7V3zm10 18H7v-1h10v1z"}}]})(e)}function Vu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 8l-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"}}]})(e)}function Ru(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6.21 13.97l1.2 2.07c.08.13.23.18.37.13l1.49-.6c.31.24.64.44 1.01.59l.22 1.59c.03.14.15.25.3.25h2.4c.15 0 .27-.11.3-.26l.22-1.59c.36-.15.7-.35 1.01-.59l1.49.6c.14.05.29 0 .37-.13l1.2-2.07c.08-.13.04-.29-.07-.39l-1.27-.99c.03-.19.04-.39.04-.58 0-.2-.02-.39-.04-.59l1.27-.99c.11-.09.15-.26.07-.39l-1.2-2.07a.306.306 0 00-.37-.13l-1.49.6c-.31-.24-.64-.44-1.01-.59l-.22-1.59a.31.31 0 00-.3-.25h-2.4a.31.31 0 00-.3.26l-.22 1.59c-.36.15-.71.34-1.01.58l-1.49-.6c-.14-.05-.29 0-.37.13l-1.2 2.07c-.08.13-.04.29.07.39l1.27.99c-.03.2-.05.39-.05.59 0 .2.02.39.04.59l-1.27.99c-.11.1-.14.26-.06.39zM12 10.29c.94 0 1.71.77 1.71 1.71s-.77 1.71-1.71 1.71-1.71-.77-1.71-1.71.77-1.71 1.71-1.71zM19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm0 16H5V5h14v14z"}}]})(e)}function wu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"}}]})(e)}function Xu(e){return nI({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2 2H5V5h14v14zm0-16H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}}]})(e)}var Ju={container:{height:"100vh",width:"100vw",backgroundColor:"white"},rowAdmin:{display:"flex",alignItems:"center",justifyContent:"center",height:"10vh",backgroundColor:"white"},row:{display:"flex",alignItems:"center",justifyContent:"center",height:"85vh"},col:{display:"flex",alignItems:"center",justifyContent:"center"},image:{width:"20vw",marginTop:25},card:{width:"30vw",height:"65vh",alignItems:"center",justifyContent:"center",border:"none"},text:{fontSize:"3em",fontWeight:"bold"},rowFooter:{display:"flex",alignItems:"center",justifyContent:"center",height:"5vh"},colFooter:{display:"flex",alignItems:"center",justifyContent:"center"}},Yu=function(e){var t=e.onClick,n=e.img_src,r=e.text;return(0,_e.jsxs)(fu,{style:Ju.card,onClick:t,children:[(0,_e.jsx)(fu.Img,{variant:"top",src:n,style:Ju.image}),(0,_e.jsx)(fu.Body,{children:(0,_e.jsx)(fu.Text,{className:"text-center",style:Ju.text,children:r})})]})},xu=function(e){var t=e.show,n=e.onHide,r=e.message;return(0,_e.jsxs)(ac,{show:t,onHide:n,children:[(0,_e.jsx)(ac.Header,{children:(0,_e.jsx)(ac.Title,{children:r})}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{variant:"secondary",onClick:n,children:"\ub2eb\uae30"})})]})},Hu=function(e){console.debug("Main::props::".concat(JSON.stringify(e,null,2)));var n=Ie(),r=Ce(),a=i((0,t.useState)(Boolean(n.state&&n.state.message)),2),o=a[0],g=a[1],l=i((0,t.useState)(""),2),c=l[0],s=l[1],I=i((0,t.useState)(""),2),u=I[0],C=I[1],d=i((0,t.useState)(""),2),A=d[0],h=d[1],m=i((0,t.useState)(!1),2),p=m[0],f=m[1],b=function(e){f(!0),s(e.title),C(e.server_version),h(e.copyright)},y=function(e){return f(!1)};return(0,t.useEffect)((function(){sg.get("/api/info",{timeout:900}).then((function(e){return e.data})).then(b).catch(y);var e=setInterval((function(){sg.get("/api/info",{timeout:900}).then((function(e){return e.data})).then(b).catch(y)}),1e4);return function(){clearInterval(e)}}),[]),(0,_e.jsxs)(ct,{style:Ju.container,fluid:!0,children:[(0,_e.jsx)(ic,{style:Ju.rowAdmin,onClick:function(){return r("/admin/login",{state:{backref:"/books"}})},children:" "}),(0,_e.jsxs)(ic,{style:Ju.row,children:[(0,_e.jsx)(gt,{style:Ju.col,children:(0,_e.jsx)(Yu,{img_src:"img_guest/icon-book.png",text:"\ud604\uc7a5 \uc0ac\uc6a9",onClick:function(){return r("/guest",{state:{backref:"/guest/book"}})}})}),(0,_e.jsx)(gt,{style:Ju.col,children:(0,_e.jsx)(Yu,{img_src:"img_guest/icon-donation.png",text:"\ud6c4\uc6d0",onClick:function(){return r("/guest",{state:{backref:"/guest/donation"}})}})}),(0,_e.jsx)(gt,{style:Ju.col,children:(0,_e.jsx)(Yu,{img_src:"img_guest/icon-find.png",text:"\uc608\uc57d \ud655\uc778",onClick:function(){return r("/guest",{state:{backref:"/guest/book_check"}})}})})]}),(0,_e.jsxs)(ic,{style:Ju.rowFooter,children:[(0,_e.jsxs)(gt,{style:Ju.colFooter,children:[c,"(",u,")",!p&&(0,_e.jsx)(Zu,{style:{color:"#B82647"}})]}),(0,_e.jsx)(gt,{style:Ju.colFooter,children:A}),(0,_e.jsx)(gt,{style:Ju.colFooter,children:document.querySelector('meta[name="description"]').content})]}),(0,_e.jsx)(xu,{show:o,onHide:function(){return g(!1)},message:n.state&&n.state.message})]})},Nu=function(e){return sg.get("/api/config/".concat(e)).then((function(t){return t.data[e]}))},Fu=function(e,t){return sg.post("/api/config/".concat(e),t)},Ku=function(e){return sg.post("/api/config/dummy/upload",e)},Mu=function(e){var t=e.label,n=e.announce,r=e.name,a=e.value,o=e.type,g=void 0===o?"text":o,i=e.onChange,l=void 0===i?void 0:i;return(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"ConfigCustomInput".concat(r),children:[(0,_e.jsx)(gn.Label,{children:t}),(0,_e.jsx)(gn.Control,{name:r,type:g,placeholder:t,value:a,readOnly:!Boolean(l),onChange:l}),(0,_e.jsx)(gn.Text,{className:"text-muted",children:n||"".concat(t,"\uc744(\ub97c) \uc124\uc815\ud569\ub2c8\ub2e4.")})]})},Eu=function(e){var n=i((0,t.useState)({tg:{},cafe_run:{}}),2),r=(n[0],n[1],i((0,t.useState)({tg_developer_id:-1,tg_manager_group_id:[],tg_announce_text:"\ubc18\uac11\uc2b5\ub2c8\ub2e4. \uce74\ud398\ubd07\uc785\ub2c8\ub2e4."}),2)),a=r[0],o=(r[1],i((0,t.useState)({cafe_weekend_close:"",cafe_weekend_open:"",cafe_weekdays_close:"",cafe_close_date:"",cafe_is_close:!1}),2)),g=o[0],l=(o[1],i((0,t.useState)({book_room_weekdays_open:"",book_room_weekdays_close:"",book_room_weekend_open:"",book_room_weekend_close:""}),2)),c=l[0],s=(l[1],i((0,t.useState)({user_membership_normal_file:[],user_membership_normal_qr_box:[],user_membership_normal_text_box:[],user_membership_vip_file:[],user_membership_vip_qr_box:[],user_membership_vip_text_box:[]}),2)),I=s[0],u=s[1],C=i((0,t.useState)({cafe_open_time_text:"",cafe_close_time_text:""}),2),d=C[0],A=C[1];(0,t.useEffect)((function(){Me(Fe().mark((function e(){var t,n,r,a,o,g;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu("user_membership_normal_file");case 2:return t=e.sent,e.next=5,Nu("user_membership_normal_qr_box");case 5:return n=e.sent,e.next=8,Nu("user_membership_normal_text_box");case 8:return r=e.sent,e.next=11,Nu("user_membership_vip_file");case 11:return a=e.sent,e.next=14,Nu("user_membership_vip_qr_box");case 14:return o=e.sent,e.next=17,Nu("user_membership_vip_text_box");case 17:g=e.sent,u({user_membership_normal_file:t,user_membership_normal_qr_box:n,user_membership_normal_text_box:r,user_membership_vip_file:a,user_membership_vip_qr_box:o,user_membership_vip_text_box:g}),y(n.join()),G(r.join()),R(o.join()),J(g.join());case 23:case"end":return e.stop()}}),e)})))(),Me(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu("cafe_open_time_text");case 2:return t=e.sent,e.next=5,Nu("cafe_close_time_text");case 5:n=e.sent,A({cafe_open_time_text:t,cafe_close_time_text:n});case 7:case"end":return e.stop()}}),e)})))()}),[]);var h=i((0,t.useState)(""),2),m=h[0],p=h[1],f=i((0,t.useState)(I.user_membership_normal_qr_box.join()),2),b=f[0],y=f[1],Z=i((0,t.useState)(I.user_membership_normal_text_box.join()),2),v=Z[0],G=Z[1],B=i((0,t.useState)(""),2),S=B[0],k=B[1],W=i((0,t.useState)(I.user_membership_vip_qr_box.join()),2),V=W[0],R=W[1],w=i((0,t.useState)(I.user_membership_vip_text_box.join()),2),X=w[0],J=w[1],Y="/api/config/dummy/sample.png?"+(m?"file_name=".concat(m,"&"):"")+(b?"qr_box=".concat(b,"&"):"")+(v?"text_location=".concat(v):""),x="/api/config/dummy/sample.vip.png?"+(S?"file_name=".concat(S,"&"):"")+(V?"qr_box=".concat(V,"&"):"")+(X?"text_location=".concat(X):"");return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(ct,{children:(0,_e.jsxs)(gn,{children:[(0,_e.jsx)("div",{style:{background:"#0088cc",borderRadius:"10px",padding:"10px",color:"ghostwhite"},children:(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:"\uac1c\ubc1c\uc790 \uc124\uc815"}),(0,_e.jsx)(Mu,{label:"\uac1c\ubc1c\uc790 ID \ubaa9\ub85d",announce:"\uac1c\ubc1c\uc790 ID\ub97c \uc801\uc5b4\uc8fc\uc138\uc694.",name:"tg_developer_id",value:"".concat(a.tg_developer_id)}),(0,_e.jsx)(Mu,{label:"\ub300\uad00\ubc29 ID",announce:"/getid \uc758 chat_id\ub97c \uc785\ub825\ubc14\ub78d\ub2c8\ub2e4.",name:"tg_manager_group_id",value:"".concat(a.tg_manager_group_id)}),(0,_e.jsx)(Mu,{label:"\uae30\ubcf8\uc54c\ub9bc",announce:"\uc544\ubb34 \uba54\uc138\uc9c0 \uc804\uc1a1\uc2dc \ub728\ub294 \uae30\ubcf8 \uba54\uc138\uc9c0\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.",name:"tg_announce_text",value:"".concat(a.tg_announce_text)})]})}),(0,_e.jsx)("hr",{}),(0,_e.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:"\uce74\ud398 \uc6b4\uc601 \uc124\uc815"}),(0,_e.jsxs)("div",{className:"mb-3 form-check form-switch",children:[(0,_e.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inputCafeIsClose",name:"cafe_is_close",checked:g.cafe_is_close}),(0,_e.jsxs)("label",{className:"form-check-label text-danger",htmlFor:"inputCafeIsClose",children:["\ud604\uc7ac \uce74\ud398\uac00 \uc6b4\uc601\uc911\uc774 ",(0,_e.jsx)("b",{children:"\uc544\ub2d0\ub54c"})," \uccb4\ud06c\ud569\ub2c8\ub2e4!!"]})]}),(0,_e.jsx)(Mu,{label:"\uce74\ud398 \ud734\uc77c",name:"cafe_close_date",value:"".concat(g.cafe_close_date)}),(0,_e.jsx)(Mu,{label:"\uc8fc\uc911 \uce74\ud398 \uac1c\uc810 \uc2dc\uac04",name:"cafe_weekdays_open",value:"".concat(g.cafe_close_date)}),(0,_e.jsx)(Mu,{label:"\uc8fc\uc911 \uce74\ud398 \ud3d0\uc810 \uc2dc\uac04",name:"cafe_weekdays_close",value:g.cafe_weekdays_close}),(0,_e.jsx)(Mu,{label:"\uc8fc\ub9d0 \uce74\ud398 \uac1c\uc810 \uc2dc\uac04",name:"cafe_weekend_open",value:g.cafe_weekend_open}),(0,_e.jsx)(Mu,{label:"\uc8fc\ub9d0 \uce74\ud398 \ud3d0\uc810 \uc2dc\uac04",name:"cafe_weekend_close",value:g.cafe_weekend_close})]})}),(0,_e.jsx)("hr",{}),(0,_e.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:"\uce74\ud398 \uc6b4\uc601 \uc124\uc815"}),(0,_e.jsx)(Mu,{label:"\uc8fc\uc911 \uc608\uc57d \uc2dc\uc791 \uc2dc\uac04",name:"book_room_weekdays_open",value:c.book_room_weekdays_open}),(0,_e.jsx)(Mu,{label:"\uc8fc\uc911 \uc608\uc57d \ub9c8\uac10 \uc2dc\uac04",name:"book_room_weekdays_close",value:c.book_room_weekdays_close}),(0,_e.jsx)(Mu,{label:"\uc8fc\ub9d0 \uc608\uc57d \uc2dc\uc791 \uc2dc\uac04",name:"book_room_weekend_open",value:c.book_room_weekend_open}),(0,_e.jsx)(Mu,{label:"\uc8fc\ub9d0 \uc608\uc57d \ub9c8\uac10 \uc2dc\uac04",name:"book_room_weekend_close",value:c.book_room_weekend_close})]})}),(0,_e.jsx)("hr",{}),(0,_e.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:"\ud68c\uc6d0\uad8c \uc124\uc815"}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("img",{src:Y,alt:"\uc77c\ubc18 \ud68c\uc6d0\uad8c \ud569\uc131 \uc774\ubbf8\uc9c0",width:"50%"}),(0,_e.jsx)("img",{src:x,alt:"\uc6d0\uc7a5 \ud68c\uc6d0\uad8c \ud569\uc131 \uc774\ubbf8\uc9c0",width:"50%"})]}),(0,_e.jsx)(Mu,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c(".concat(I.user_membership_normal_file,")"),type:"file",name:"user_membership_normal_file",value:void 0,onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("type","file/image");var r=new FileReader;r.onload=function(){n.append("data",r.result),Ku(n).then((function(e){return p(e.data.file_name)}))},r.onerror=function(e){console.error(e)},r.readAsDataURL(t)}}),(0,_e.jsx)(Mu,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c qr \uc704\uce58",name:"user_membership_normal_qr_box",value:b,onChange:function(e){return y(e.target.value)}}),(0,_e.jsx)(Mu,{label:"\uc77c\ubc18 \ud68c\uc6d0\uad8c \uae00\uc790 \uc704\uce58",name:"user_membership_normal_text_box",value:v,onChange:function(e){return G(e.target.value)}}),(0,_e.jsx)(Mu,{label:"\uc6d0\uc7a5 \ud68c\uc6d0\uad8c(".concat(I.user_membership_vip_file,")"),type:"file",name:"user_membership_vip_file",value:void 0,onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("type","file/image");var r=new FileReader;r.onload=function(){n.append("data",r.result),console.log(I),Ku(n).then((function(e){return k(e.data.file_name)}))},r.onerror=function(e){console.error(e)},r.readAsDataURL(t)}}),(0,_e.jsx)(Mu,{label:"\uc6d0\uc7a5 \ud68c\uc6d0\uad8c qr \uc704\uce58",name:"user_membership_vip_qr_box",value:V,onChange:function(e){return R(e.target.value)}}),(0,_e.jsx)(Mu,{label:"\uc6d0\uc7a5 \ud68c\uc6d0\uad8c \uae00\uc790 \uc704\uce58",name:"user_membership_normal_text_box",value:X,onChange:function(e){return J(e.target.value)}})]})}),(0,_e.jsx)("hr",{}),(0,_e.jsx)("div",{style:{background:"whitesmoke",borderRadius:"10px",padding:"10px"},children:(0,_e.jsxs)("fieldset",{children:[(0,_e.jsx)("legend",{children:"QR \uc778\uc99d \ud45c\uc2dc \ub0b4\uc6a9"}),(0,_e.jsx)(Mu,{label:"\uac1c\uc810 \uc2dc\uac04",name:"cafe_open_time_text",value:d.cafe_open_time_text,onChange:function(e){return A(je(je({},d),{},{cafe_open_time_text:e.target.value}))}}),(0,_e.jsx)(Mu,{label:"\ud3d0\uc810 \uc2dc\uac04",name:"cafe_close_time_text",value:d.cafe_close_time_text,onChange:function(e){return A(je(je({},d),{},{cafe_close_time_text:e.target.value}))}})]})}),(0,_e.jsx)(dn,{onClick:function(e){e.preventDefault();var t=new FormData;m&&(t.append("data",m),Fu("user_membership_normal_file",t)),b&&((t=new FormData).append("type","tuple/int"),t.append("data",b),Fu("user_membership_normal_qr_box",t)),v&&((t=new FormData).append("type","tuple/int"),t.append("data",v),Fu("user_membership_normal_text_box",t)),S&&((t=new FormData).append("data",S),Fu("user_membership_vip_file",t)),V&&((t=new FormData).append("type","tuple/int"),t.append("data",V),Fu("user_membership_vip_qr_box",t)),X&&((t=new FormData).append("type","tuple/int"),t.append("data",X),Fu("user_membership_vip_text_box",t)),d.cafe_open_time_text&&((t=new FormData).append("type","str"),t.append("data",d.cafe_open_time_text),Fu("cafe_open_time_text",t)),d.cafe_close_time_text&&((t=new FormData).append("type","str"),t.append("data",d.cafe_close_time_text),Fu("cafe_close_time_text",t))},children:"\uc804\uccb4 \uc800\uc7a5"})]})})]})},Du=n(9008),zu=n.n(Du),ju=function(e){var t=e.handleUser;return(0,_e.jsx)(zu(),{delay:300,onError:function(e){return console.log(e)},onScan:function(e){return e&&hc(e.text).then((function(n){return t(je(je({},n),{},{qr:e.text}))}))},style:{width:"50%"}})},Tu=[{name:"\uc804\uccb4",id:"all",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uac00\uc785\uc77c",id:"user.created",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\ub9c8\uc9c0\ub9c9 QR \uc778\uc99d",id:"log.qr.latest",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\ubbf8\uc778\uc99d \uc0ac\uc6a9\uc790",id:"user.invalid",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"QR \uc778\uc99d",id:"log.auth",grade:15,available:!0,tag:{variant:"success",text:"\ub9e4\ub2c8\uc800"}},{name:"\uba54\uc2dc\uc9c0 \uae30\ub85d",id:"log.message",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uc5d0\ub7ec \uae30\ub85d",id:"log.error",grade:20,available:!1,tag:{variant:"secondary",text:"\uc0ac\uc6a9\ubd88\uac00"}},{name:"\uc2a4\ud130\ub514\ub8f8 \ub300\uad00 \uae30\ub85d",id:"log.study.usage",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\uc2a4\ud130\ub514\ub8f8 \ub300\uad00 \uae30\ub85d(\uc131\uacf5\ub9cc)",id:"log.study.usage.only_success",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\ud6c4\uc6d0 \uae30\ub85d",id:"log.donation",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\ud6c4\uc6d0 \uae30\ub85d(\uc131\uacf5\ub9cc)",id:"log.donation.only_success",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}},{name:"\uc6d0\uc7a5 \ubaa9\ub85d",id:"user.grade.vip",grade:20,available:!0,tag:{variant:"danger",text:"\uad00\ub9ac\uc790"}}],Lu=function(){var e=i((0,t.useState)(!1),2),n=e[0],r=e[1],a=i((0,t.useState)(null),2),o=a[0],g=a[1],l=i((0,t.useState)(""),2),c=l[0],s=l[1],I=i((0,t.useState)(!1),2),u=I[0],C=I[1],d=i((0,t.useState)(!1),2),A=d[0],h=d[1],m=i((0,t.useState)(Js()()),2),p=m[0],f=m[1],b=i((0,t.useState)(Js()()),2),y=b[0],Z=b[1],v=i((0,t.useState)(!1),2),G=v[0],B=v[1],S=i((0,t.useState)(""),2),k=S[0],W=S[1],V=Tu.map((function(e){return u&&e.grade<=15||A&&e.grade<=20?(0,_e.jsxs)(ma.Item,{disabled:!e.available,onClick:function(){return s(e.id)},children:[(0,_e.jsx)(Nc,{bg:e.tag.variant,children:e.tag.text}),e.name]}):null})).filter((function(e){return null!==e}));(0,t.useEffect)((function(){o?(C(o.grade>=15),h(o.grade>=20)):(C(!1),h(!1))}),[o]);var R=function(e){var t=e.headers["content-disposition"].split("filename=")[1].replace(/"/g,""),n=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",t),r.style.cssText="display:none",document.body.appendChild(r),r.click(),r.remove(),B(!1)},w=function(e){B(!1),e.response&&e.response.status?W("[".concat(e.response.status,"] ").concat(e.response.statusText)):W("\uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec \ubc1c\uc0dd")};return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)(ct,{children:[(0,_e.jsx)("p",{children:"\uad8c\ud55c \uc778\uc99d"}),n&&(0,_e.jsx)(ju,{handleUser:function(e){g(e),r(!1),console.log(e)}}),!n&&!o&&(0,_e.jsx)(dn,{variant:o?"success":"secondary",onClick:function(e){return r(!0)},children:"QR \uc778\uc99d"}),o&&(0,_e.jsxs)("p",{children:[o&&o.grade&&o.grade>=20?(0,_e.jsx)(Nc,{bg:"danger",pill:!0,children:"\uad00\ub9ac\uc790"}):o&&o.grade&&o.grade>=15&&(0,_e.jsx)("span",{children:"\ud50c\ub9b0\uc774"}),o.username," \ub2d8"]}),(0,_e.jsxs)(gn.Group,{children:[(0,_e.jsx)(gn.Label,{children:"\uc885\ub958"}),(0,_e.jsx)(ka,{children:(0,_e.jsx)(va,{title:c?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Nc,{bg:Tu.find((function(e){return e.id===c})).tag.variant,children:Tu.find((function(e){return e.id===c})).tag.text}),Tu.find((function(e){return e.id===c})).name]}):"\uc120\ud0dd\ud558\uc138\uc694",children:V})})]}),(0,_e.jsxs)(gn.Group,{children:[(0,_e.jsx)(gn.Label,{children:"\uae30\uac04"}),(0,_e.jsxs)(ka,{children:[(0,_e.jsx)(gn.Control,{type:"date",onChange:function(e){return f(Js()(e.target.value))},value:p.format("YYYY-MM-DD"),placeholder:"\uc2dc\uc791"}),(0,_e.jsx)(ka.Text,{children:" - "}),(0,_e.jsx)(gn.Control,{type:"date",onChange:function(e){return Z(Js()(e.target.value))},value:y.format("YYYY-MM-DD"),placeholder:"\ub05d"})]})]}),(0,_e.jsxs)(dn,{onClick:function(){B(!0);var e={start_date:p.format("YYYY-MM-DD"),end_date:y.format("YYYY-MM-DD"),category:c};(function(e,t){return sg.get("/api/exports",{params:t,responseType:"blob",headers:{Authorization:e}})})("QR ".concat(o.qr),e).then(R).catch(w)},disabled:!o||!Tu.find((function(e){return e.id===c}))||G,children:[G&&(0,_e.jsx)(Hs,{animation:"border"}),"\ub2e4\uc6b4\ub85c\ub4dc"]}),k&&(0,_e.jsx)("span",{className:"text-danger",children:k})]})]})},Uu=[{name:"ID",selector:function(e){return e.id}},{name:"\ub85c\uadf8 \uc885\ub958",selector:function(e){return e.log_type},sortable:!0},{name:"chat_id",selector:function(e){return e.chat_id}},{name:"\ub2c9\ub124\uc784",selector:function(e){return e.tg_name}},{name:"\uc774\ub984",selector:function(e){return e.username}},{name:"\uae30\ub85d\uc77c\uc2dc",selector:function(e){return e.created.replace("T"," ")},hide:"md"}],Qu=[{when:function(e){return"tg"===e.log_type},style:{backgroundColor:"#0088cc",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"auth"===e.log_type},style:{backgroundColor:"rgba(22, 160, 133, 0.9)",color:"white","&:hover":{cursor:"pointer"}}},{when:function(e){return"book.cancel"===e.log_type},style:{backgroundColor:"rgba(212, 172, 13, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}},{when:function(e){return"error"===e.log_type},style:{backgroundColor:"rgba(146, 43, 33, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}},{when:function(e){return"restart"===e.log_type},style:{backgroundColor:"rgba(86, 114, 93, 0.9)",color:"white","&:hover":{cursor:"not-allowed"}}}],_u=function(e){var t=e.name,n=e.value,r=e.extra;return(0,_e.jsx)(ic,{children:(0,_e.jsxs)(gt,{children:[(0,_e.jsxs)("span",{children:[t,": "]}),(0,_e.jsx)("span",{children:n}),r]})})},Ou=function(e){var t=e.request,n=e.result,r=e.is_success;return(0,_e.jsxs)(ic,{style:{backgroundColor:r?"#2980b9":"#c0392b",color:"whitesmoke"},children:[(0,_e.jsxs)(gt,{children:[(0,_e.jsx)("span",{children:"\uc694\uccad: "}),(0,_e.jsx)("span",{children:t})]}),(0,_e.jsxs)(gt,{children:[(0,_e.jsx)("span",{children:"\uc751\ub2f5: "}),(0,_e.jsx)("span",{children:n})]})]})},Pu=function(e){var n=e.data,r=i((0,t.useState)(n),2),a=r[0],o=r[1],g=i((0,t.useState)({}),2),l=g[0],c=g[1];return(0,t.useEffect)((function(){o(n),c(JSON.parse(n.extra_data_str))}),[n]),(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(_u,{name:"chat ID",value:n.chat_id}),(0,_e.jsx)(_u,{name:"\ub2c9\ub124\uc784",value:n.tg_name}),(0,_e.jsx)(_u,{name:"\uc774\ub984",value:n.username,extra:1===n.sms?(0,_e.jsx)(aI,{style:{color:"#23ab34"}}):null}),(0,_e.jsx)(_u,{name:"\uc0dd\uc77c",value:n.birthday}),(0,_e.jsx)(_u,{name:"\ub098\uc774",value:n.age}),(0,_e.jsx)(_u,{name:"\uc131\ubcc4",value:n.gender}),(0,_e.jsx)(_u,{name:"\ub4f1\uae09",value:n.grade}),(0,_e.jsx)(_u,{name:"\uc9c0\uc5ed",value:n.department}),(0,_e.jsx)(_u,{name:"\uae30\ub85d\uc77c\uc2dc",value:n.created.replace("T"," ")}),"tg"===a.log_type&&(0,_e.jsx)(Ou,{request:l.update_text,result:l.result_text,is_success:l.success}),"error"===a.log_type&&(0,_e.jsx)(ic,{children:(0,_e.jsx)(gt,{children:(0,_e.jsx)(gn.Control,{as:"textarea",style:{height:150},value:JSON.stringify(l,null,2),readOnly:!0})})})]})},qu=function(){var e=i((0,t.useState)([]),2),n=e[0],r=e[1],a=i((0,t.useState)(0),2),o=a[0],g=a[1],l=i((0,t.useState)(!0),2),c=l[0],s=l[1],I=i((0,t.useState)(1),2),u=(I[0],I[1],i((0,t.useState)(10),2)),C=u[0],d=(u[1],function(){var e=Me(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,mg(t,C);case 3:n=e.sent,r(n.data),g(n.total),s(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,t.useEffect)((function(){d(1)}),[]),(0,_e.jsx)(Ag.ZP,{columns:Uu,title:"\ub85c\uadf8 \ud604\ud669",expandableRows:!0,expandableRowsComponent:Pu,progressPending:c,conditionalRowStyles:Qu,pagination:!0,data:n,paginationServer:!0,paginationTotalRows:o})},$u=function(){return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(ct,{children:(0,_e.jsx)(qu,{})})]})},eC=function(e){var t=e.value;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputName",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:"2",children:"\uc774\ub984"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc774\ub984",value:t,readOnly:!0})})]})},tC={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"}},nC=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,_e.jsxs)(ac,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,_e.jsx)(ac.Header,{children:(0,_e.jsx)(ac.Title,{children:r})}),(0,_e.jsx)(ac.Body,{children:a}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:n,children:"\ud655\uc778"})})]})},rC=function(e){console.log("GuestDonationPage::props::".concat(JSON.stringify(e,null,2)));var n=Ie(),r=Ce(),a=i((0,t.useState)(0),2),o=a[0],g=a[1],l=i((0,t.useReducer)(KI,RI,void 0),2),c=l[0],s=l[1],I=i((0,t.useState)(null),2),u=I[0],C=I[1];(0,t.useEffect)((function(){n.state?wI(s,n.state.user.username):r("/")}),[n.state,r]);return(0,_e.jsxs)(ct,{style:tC.container,children:[(0,_e.jsx)(eC,{value:c.username}),(0,_e.jsx)(Os,{department:c.department,setDepartment:function(e){return YI(s,e)}}),(0,_e.jsx)(lI,{paid:o,setPaid:g,pay_type:c.pay_type,region:c.department,etc_reason:c.pay_type_etc_reason,setPayType:function(e){return NI(s,e)},setEtcReason:function(e){return FI(s,e)},options:["card"]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(dn,{as:gt,onClick:function(){return r("/")},variant:"secondary",children:"\ucde8\uc18c"}),(0,_e.jsx)(dn,{as:gt,variant:"primary",onClick:function(){Number(o)<1e3?C((0,_e.jsx)(nC,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"1000 \uc6d0 \ubd80\ud130 \ud6c4\uc6d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.",handleClose:function(){return C(null)}})):c.department?CI(n.state.user.user_id,"web.guard",c.pay_type+(c.department?"."+c.department:""),o,c.pay_type_etc_reason,"plin.kiosk.book").then((function(e){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::pay::".concat(JSON.stringify(e,null,2))),C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694"})),setTimeout.apply(void 0,[function e(t,n){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::timer::".concat(JSON.stringify(n,null,2))),C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694(".concat(Math.round(n/2)," \ucd08)")})),n>0?dI(t).then((function(a){a.status.startsWith(sI)?(console.log("GuestBookPage::handleOnClickBook::postBook::postPay::pay_result::".concat(JSON.stringify(a,null,2))),C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \uc644\ub8cc",message:"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))):a.status.startsWith(II)?C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:a.comment?a.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}})):a.status.startsWith(cI)&&setTimeout.apply(void 0,[e,500].concat([t,n-1]))})).catch((function(e){console.error(e),C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))})):C((0,_e.jsx)(nC,{show:!0,title:"\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))},500].concat([e.pay_id,60]))})).catch((function(e){console.error(e),C((0,_e.jsx)(nC,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))})):C((0,_e.jsx)(nC,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694.",handleClose:function(){return C(null)}}))},children:"\uc2e0\uccad"})]}),u]})},aC=[1,2,3,4],oC=function(e){var t=e.people_no,n=e.setPeopleNo,r=e.disabled,a=void 0!==r&&r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputPeopleNo",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc778\uc6d0"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(va,{title:t?"".concat(t," \uba85"):"\uc778\uc6d0\uc744 \uc120\ud0dd\ud558\uc138\uc694.",disabled:a,children:aC.map((function(e){return(0,_e.jsxs)(ma.Item,{onClick:function(){return n(e)},children:[e," \uba85"]},e)}))})})]})},gC=function(e){return e&&e.status===sI},iC=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;r({status:cI,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694(".concat(Math.round(n/2)," \ucd08)")}),n>0?dI(t).then((function(g){g.status.startsWith(sI)?r({status:sI,title:"\uacb0\uc81c \uc644\ub8cc",message:"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}):g.status.startsWith(II)?(a&&o&&Dc(a,o,"Pay.".concat(II)).then((function(e){return console.log(e)})),r({status:II,title:"\uacb0\uc81c \uc2e4\ud328",message:g.comment?g.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."})):g.status.startsWith(cI)&&setTimeout.apply(void 0,[e,500].concat([t,n-1,r,a,o]))})).catch((function(e){a&&o&&Dc(a,o,"Pay.Error").then((function(e){return console.log(e)})),r({status:II,title:"\uc624\ub958 \ubc1c\uc0dd",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",error:e})})):(a&&o&&Dc(a,o,"Pay.".concat(II)).then((function(e){return console.log(e)})),r({status:II,title:"\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4."}))};function lC(e,t,n){dI(e).then((function(r){"confirm"===r.status?n(r.comment,!1):"reject"===r.status?n("\uacb0\uc81c\ub97c \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4(".concat(r.comment,")"),!1):"waiting"===r.status?(n("".concat(r.comment,"(").concat(Math.round(t/2)," \ucd08 \ub0a8\uc74c})"),!0),t>0?setTimeout.apply(void 0,[lC,500].concat([e,t-1,n])):n("\uc2dc\uac04 \ucd08\uacfc\ub85c \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",!1)):n(r.comment,!1)})).catch((function(e){return n("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4(".concat(e,")"),!1)}))}function cC(e,t,n,r,a){(function(e,t,n){return sg.put("/api/books/".concat(e),{action:"cancel",cashier:n},{headers:{Authorization:"QR ".concat(t)}})})(e,t,n).then((function(e){return e.data})).then((function(e){"confirm"===e.status?r(e.message,!1):"reject"===e.status?r("\uc608\uc57d\uc744 \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4(".concat(e.message,")"),!1):"waiting"===e.status?(r(e.message,!0),lC(e.refund_pay.pay_id,60,r)):r(e.message,!1)})).catch((function(e){403===e.response.status?r("[".concat(e.response.status,"]").concat(e.response.data.message),!1):r("[".concat(e.response.status,"]\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4(").concat(e.response.data.message,")"),!1)}))}var sC={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"},containerInfo:{marginTop:25},rowBooks:{border:"solid #32a1ce"},colBooks:{margin:"2px",padding:"4px",transition:"0.5s",backgroundColor:"#D7EDFD"},colBooksActive:{margin:"2px",padding:"4px",border:"1px solid #34495e",transition:"0.5s",backgroundColor:"#A9DFBF"},colBooksPaid:{margin:"2px",padding:"4px",border:"1px solid #34495e",transition:"0.5s",backgroundColor:"#85C1E9"}},IC=function(e){return"[".concat(e.department,"] ").concat(e.user.username," ").concat(e.people_no," \uba85  ").concat(e.start_time.format("HH:mm"),"~").concat(e.end_time.format("HH:mm"))},uC=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,_e.jsxs)(ac,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,_e.jsx)(ac.Header,{children:(0,_e.jsx)(ac.Title,{children:r})}),(0,_e.jsx)(ac.Body,{children:a}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:n,children:"\ud655\uc778"})})]})},CC=function(e){var n=e.book,r=e.pay_type,a=e.setPayType,o=e.etc_reason,g=e.setEtcReason,l=e.disabled,c=i((0,t.useState)(0),2),s=c[0],I=c[1];return(0,t.useEffect)((function(){n.start_time&&n.end_time&&n.room&&I(Ig(n.room.type,n.start_time,n.end_time))}),[n]),(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(eC,{value:n.user.username}),(0,_e.jsx)(Ms,{book_date:n.book_date,start_time:n.start_time,end_time:n.end_time,disabled:!0}),(0,_e.jsx)(Ds,{room:n.room,disabled:!0}),(0,_e.jsx)(Os,{department:n.department,disabled:!0}),(0,_e.jsx)(oC,{people_no:n.people_no,disabled:!0}),(0,_e.jsx)(lI,{pay:l?n.pay:null,paid:s,pay_type:r,region:n.department,etc_reason:o,setPayType:a,setEtcReason:g,disabled:l,options:["card","saved_money.d"]})]})},dC=function(e){var t=e.book,n=e.handleSelectBook,r=e.selected_book,a=t&&r&&r.book_id===t.book_id,o=t&&t.pay&&t.pay.status===sI,g=je({},a?sC.colBooksActive:o?sC.colBooksPaid:sC.colBooks);return(0,_e.jsx)(gt,{sm:!0,style:g,onClick:t?function(){return n(t)}:null,children:t?IC(t):null})},AC=function(e){var n=Ie(),r=Ce(),a=i((0,t.useState)([]),2),o=a[0],g=a[1],l=i((0,t.useState)(null),2),c=l[0],s=l[1],I=i((0,t.useState)("\uc608\uc57d\uc744 \uc120\ud0dd\ud558\uc138\uc694."),2),u=I[0],C=I[1],d=i((0,t.useState)(null),2),A=d[0],h=d[1],m=i((0,t.useState)(""),2),p=m[0],f=m[1],b=i((0,t.useState)(null),2),y=b[0],Z=b[1],v=i((0,t.useState)(0),2),G=v[0],B=v[1],S=i((0,t.useState)(!1),2),k=S[0],W=S[1],V=i((0,t.useState)(null),2),R=V[0],w=V[1],X=i((0,t.useState)(!1),2),J=X[0],Y=X[1];(0,t.useEffect)((function(){c&&c.start_time&&c.end_time&&c.room&&B(Ig(c.room.type,c.start_time,c.end_time))}),[c]),(0,t.useEffect)((function(){n.state&&n.state.user&&n.state.user.user_id||r("/");var e=Js()();Fc(n.state.user.user_id).then((function(t){g(t.map((function(e){return je(je({},e),{},{start_time:Js()(e.start_time,"hh:mm:ss"),end_time:Js()(e.end_time,"hh:mm:ss")})})).filter((function(t){return Js()(t.book_date).isSame(e,"day")})))}))}),[n.state,r]);var x=function(e){C(IC(e)),e.pay&&"confirm"===e.pay.status?(h(e.pay.pay_type),f(e.pay.comment)):(h(null),f(null)),s(e)},H=function(e){Z((0,_e.jsx)(uC,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return Z(null)}})),W(!1)};return(0,_e.jsxs)(ct,{style:sC.container,children:[(0,_e.jsx)("h1",{children:o.length>0?u:"\uc608\uc57d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,_e.jsx)(ct,{children:o.map((function(e,t){return 3*t>=o.length?null:(0,_e.jsxs)(ic,{style:sC.rowBooks,children:[(0,_e.jsx)(dC,{book:o[3*t],handleSelectBook:x,selected_book:c}),(0,_e.jsx)(dC,{book:o[3*t+1],handleSelectBook:x,selected_book:c}),(0,_e.jsx)(dC,{book:o[3*t+2],handleSelectBook:x,selected_book:c})]})}))}),(0,_e.jsx)(ct,{style:sC.containerInfo,fluid:!0,children:c&&(0,_e.jsx)(CC,{book:c,pay_type:A,setPayType:h,etc_reason:p,setEtcReason:f,disabled:gC(c.pay)})}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(dn,{as:gt,onClick:function(){return r("/")},variant:"secondary",children:"\ud648\uc73c\ub85c"}),c&&(0,_e.jsx)(dn,{as:gt,variant:"danger",onClick:function(){cC(c.book_id,n.state.qr_code,"plin.kiosk.book",(function(e,t){w(e),Y(t)}))},children:"\uc608\uc57d\ucde8\uc18c"}),c?gC(c.pay)?(0,_e.jsx)(dn,{as:gt,variant:"primary",onClick:function(){return s(null)},children:"\ud655\uc778"}):(0,_e.jsx)(dn,{as:gt,variant:"primary",onClick:function(){var e=n.state.user.user_id,t=c.book_id,a=A+(c.department?"."+c.department:"");if(!A)return alert("\uacb0\uc81c \uc218\ub2e8\uc744 \uc120\ud0dd\ud558\uc138\uc694");k||(W(!0),uI(e,t,"web.guard",a,G,p,"plin.kiosk.book").then((function(e){var t=e.pay_id;setTimeout.apply(void 0,[iC,500].concat([t,60,function(e){e.status===cI?Z((0,_e.jsx)(uC,{show:!0,title:e.title,message:e.message})):e.status===sI?(Z((0,_e.jsx)(uC,{show:!0,title:e.title,message:e.message,handleClose:function(){return r("/")}})),W(!1)):e.status===II&&(Z((0,_e.jsx)(uC,{show:!0,title:e.title,message:e.message,handleClose:function(){return Z(null)}})),W(!1))}]))})).catch(H))},children:"\uacb0\uc81c"}):null]}),y,R&&(0,_e.jsxs)(ac,{show:!0,children:[(0,_e.jsxs)(ac.Body,{children:[J&&(0,_e.jsx)(Hs,{animation:"border"}),R]}),(0,_e.jsx)(ac.Footer,{children:!J&&(0,_e.jsx)(dn,{onClick:function(){return w(null)},children:"\ud655\uc778"})})]})]})},hC=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)(ka.Text,{onClick:n,children:t})},mC=function(e){var t=e.value,n=void 0===t?Js()().format("YYYY-MM-DD"):t,r=e.setValue,a=void 0===r?null:r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputDate",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:"2",children:"\ub0a0\uc9dc"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(ka,{children:null===a?(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\ub0a0\uc9dc",value:n,readOnly:!0}):(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:Js()(n,"YYYY-MM-DD").toDate(),onChange:a,customInput:(0,_e.jsx)(hC,{})})})})]})},pC=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)(ka.Text,{onClick:n,children:t})},fC=function(e){var t=e.value,n=void 0===t?Js()().format("YYYY-MM-DD"):t,r=e.setValue,a=void 0===r?null:r;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"InputDate",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:"2",children:"\ub0a0\uc9dc"}),(0,_e.jsx)(gt,{sm:"10",children:(0,_e.jsx)(ka,{children:(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:Js()(n,"YYYY-MM-DD").toDate(),onChange:a,customInput:(0,_e.jsx)(pC,{}),popperPlacement:"top-end"})})})]})},bC=function(e){var t,n=e.title,r=void 0===n?"\uc2dc\uac04 \uc120\ud0dd":n,a=e.min,o=e.max,g=e.onSelect,i=e.disabled,l=[],c=Math.floor((60*a.hour()+a.minute())/30),s=Math.floor((60*o.hour()+o.minute())/30),I=function(){var e=(t-t%2)/2,n=t%2*30;l.push((0,_e.jsxs)(ma.Item,{onClick:function(){return g(e,n)},children:[e,":",0===n?"00":"30"]}))};for(t=c;t<=s;t++)I();return(0,_e.jsx)(va,{variant:"outline-secondary",drop:"end",title:r,id:"InputDate".concat(r),disabled:i,children:l})},yC=function(e){var t=e.min_time,n=void 0===t?Js()("12:00","hh:mm"):t,r=e.max_time,a=void 0===r?Js()("22:00","hh:mm"):r,o=e.start_time,g=void 0===o?Js()("12:00","hh:mm"):o,i=e.end_time,l=void 0===i?Js()("12:00","hh:mm"):i,c=e.onSelectStartTime,s=void 0===c?function(e){e.hour,e.minute}:c,I=e.onSelectEndTime,u=void 0===I?function(e){e.hour,e.minute}:I,C=e.disabled,d=void 0!==C&&C;return(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormDT",children:[(0,_e.jsx)(gn.Label,{as:gt,sm:2,children:"\uc785\uc2e4/\ud1f4\uc2e4 \uc2dc\uac04"}),(0,_e.jsx)(gt,{sm:10,children:(0,_e.jsxs)(ka,{children:[(0,_e.jsx)(bC,{title:g?g.format("HH:mm"):void 0,min:n,max:l||a,onSelect:s,disabled:d}),(0,_e.jsx)(ka.Text,{children:"-"}),(0,_e.jsx)(bC,{title:l?l.format("HH:mm"):void 0,min:g||n,max:a,onSelect:u,disabled:d})]})})]})},ZC=function(e){var t=e.title,n=e.rooms,r=e.room,a=e.setRoom,o=e.disabled;return(0,_e.jsx)(gt,{sm:"3",children:(0,_e.jsx)(va,{variant:"outline-secondary",title:r?r.name:"\uc7a5\uc18c\ub97c \uc120\ud0dd\ud558\uc138\uc694.",id:"InputRoom".concat(t),disabled:o,children:n.filter((function(e){return e.available})).map((function(e){return(0,_e.jsx)(ma.Item,{disabled:!e.available,onClick:function(){return a(e)},children:e.name},"".concat(e.type,"-").concat(e.no))}))})})},vC=function(e){var n=e.room,r=e.setRoom,a=e.date,o=e.start_time,g=e.end_time,l=e.disabled,c=void 0!==l&&l,s=i((0,t.useState)([]),2),I=s[0],u=s[1];return(0,t.useEffect)((function(){Es({date:a,start_time:o,end_time:g}).then((function(e){return u(e)}))}),[a,o,g]),(0,_e.jsxs)(gn.Group,{as:ic,controlId:"modalFormRoomDropdown",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc7a5\uc18c"}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uc2a4\ud130\ub514\ub8f8"}),(0,_e.jsx)(ZC,{title:"\uc2a4\ud130\ub514\ub8f8",rooms:I.filter((function(e){return 1===e.type})),room:n,setRoom:r,disabled:c}),(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\uadf8 \uc678"}),(0,_e.jsx)(ZC,{title:"\uadf8 \uc678",rooms:I.filter((function(e){return 2===e.type})),room:n,setRoom:r,disabled:c})]})},GC=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],BC=(It().string,It().bool,It().bool,It().bool,It().bool,t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.fluid,o=e.rounded,g=e.roundedCircle,i=e.thumbnail,l=Le(e,GC);return n=$e(n,"img"),(0,_e.jsx)("img",je(je({ref:t},l),{},{className:Qe()(r,a&&"".concat(n,"-fluid"),o&&"rounded",g&&"rounded-circle",i&&"".concat(n,"-thumbnail"))}))})));BC.displayName="Image",BC.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var SC=BC,kC=function(e){var n=i((0,t.useState)(null),2),r=n[0],a=n[1];return(0,t.useEffect)((function(){if(a(null),e.src){var t=function(){a(e.src)},n=new Image;return n.addEventListener("load",t),n.src=e.src,function(){n.removeEventListener("load",t)}}}),[e.src]),r===e.src?(0,_e.jsx)(SC,je({},e)):(0,_e.jsx)("div",je(je({className:"place-holding-box"},e),{},{children:(0,_e.jsxs)("div",{className:"place-holding-container",children:[(0,_e.jsx)("span",{className:"place-holding-circle"}),(0,_e.jsx)("span",{className:"place-holding-circle"}),(0,_e.jsx)("span",{className:"place-holding-circle"}),(0,_e.jsx)("span",{className:"place-holding-circle"})]})}))},WC={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"},image:{height:"50vh",width:"80wh"}},VC=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,_e.jsxs)(ac,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,_e.jsx)(ac.Header,{children:(0,_e.jsx)(ac.Title,{children:r})}),(0,_e.jsx)(ac.Body,{children:a||(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Hs,{animation:"border",variant:"primary"}),"\uc608\uc57d\uc911\uc785\ub2c8\ub2e4..."]})}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:n,children:"\ud655\uc778"})})]})},RC=function(e){var t=e.show,n=e.title,r=e.message,a=e.handleClose;return(0,_e.jsxs)(ac,{show:t,onClose:a,children:[(0,_e.jsx)(ac.Header,{children:n}),(0,_e.jsx)(ac.Body,{children:r}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:a,children:"\ud655\uc778"})})]})},wC=function(e){console.debug("GuestBookPage::props::".concat(JSON.stringify(e,null,2)));var n=Ie(),r=Ce();console.debug("GuestBookPage::location::".concat(JSON.stringify(n,null,2)));var a=i((0,t.useState)(0),2),o=a[0],g=a[1],l=i((0,t.useReducer)(KI,RI,void 0),2),c=l[0],s=l[1],I=i((0,t.useState)(null),2),u=I[0],C=I[1],d=i((0,t.useState)(!1),2),A=d[0],h=d[1],m=i((0,t.useState)(Js()()),2),p=m[0],f=m[1],b=i((0,t.useState)(Js()("22:00","hh:mm")),2),y=b[0],Z=b[1],v="/staff/book"===window.location.pathname,G=v?["card","saved_money.d","transfer","notion","etc"]:["card","saved_money.d"],B=i((0,t.useState)(Date.now()),2),S=B[0],k=B[1];(0,t.useEffect)((function(){Js()(c.book_date,"YYYY:MM:DD").isoWeekday()>=6?(TI().then((function(e){var t=Js()(e,"hh:mm:ss");Js()().isAfter(t)?f(Js()()):f(t)})),LI().then((function(e){return Z(Js()(e,"hh:mm:ss"))}))):(zI().then((function(e){var t=Js()(e,"hh:mm:ss");Js()().isAfter(t)?f(Js()()):f(t)})),jI().then((function(e){return Z(Js()(e,"hh:mm:ss"))}))),k(Date.now())}),[c.book_date]),(0,t.useEffect)((function(){c.start_time&&c.end_time&&c.room&&g(Ig(c.room.type,c.start_time,c.end_time))}),[c]),(0,t.useEffect)((function(){n.state?wI(s,n.state.user.username):r("/")}),[n.state,r]),(0,t.useEffect)((function(){XI(s,Js()().format("YYYY-MM-DD"))}),[]),(0,t.useEffect)((function(){v&&(xI(s,-5),HI(s,"immediately"))}),[v]);return(0,_e.jsxs)(ct,{style:WC.container,children:[(0,_e.jsx)(kC,{style:WC.image,src:"/api/books/".concat(c.book_date,".png?_=").concat(S.valueOf())}),(0,_e.jsx)(eC,{value:c.username}),v?c.book_date?(0,_e.jsx)(fC,{value:c.book_date,setValue:function(e){return function(e,t,n){var r=Js()("".concat(e,":").concat(t,":").concat(n),"YYYY:MM:DD");r.isBefore(Js()(),"date")?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ub0a0\uc9dc\uc785\ub2c8\ub2e4."):XI(s,r.format("YYYY-MM-DD"))}(e.getFullYear(),e.getMonth()+1,e.getDate())}}):"loading":(0,_e.jsx)(mC,{value:c.book_date}),(0,_e.jsx)(yC,{min_time:v?Js()("07:00","hh:mm"):p,max_time:v?Js()("23:00","hh:mm"):y,book_date:c.book_date,start_time:c.start_time,end_time:c.end_time,onSelectStartTime:function(e,t){var n=Js()("".concat(e,":").concat(t),"HH:mm");c.end_time&&n.isSameOrAfter(c.end_time)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):function(e,t){e({type:ZI,start_time:t})}(s,n)},onSelectEndTime:function(e,t){var n=Js()("".concat(e,":").concat(t),"HH:mm");c.start_time&&n.isSameOrBefore(c.start_time)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):function(e,t){e({type:vI,end_time:t})}(s,n)}}),v?(0,_e.jsx)(EI,{room:c.room,setRoom:function(e){return JI(s,e)},date:c.book_date,start_time:c.start_time,end_time:c.end_time,disabled:!(c.start_time&&c.end_time)}):(0,_e.jsx)(vC,{room:c.room,setRoom:function(e){return JI(s,e)},date:c.book_date,start_time:c.start_time,end_time:c.end_time,disabled:!(c.start_time&&c.end_time)}),(0,_e.jsx)(Os,{department:c.department,setDepartment:function(e){return YI(s,e)},disabled:!c.room}),v?null:(0,_e.jsx)(mI,{people_no:c.people_no,setPeopleNo:function(e){return xI(s,e)},disabled:!c.department}),v?null:(0,_e.jsx)(fI,{purpose:c.purpose,setPurpose:function(e){return HI(s,e)},disabled:!c.people_no}),(0,_e.jsx)(lI,{paid:o,pay_type:c.pay_type,region:c.department,etc_reason:c.pay_type_etc_reason,setPayType:function(e){return NI(s,e)},setEtcReason:function(e){return FI(s,e)},disabled:!c.purpose,options:G}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(dn,{as:gt,onClick:function(){return r("/staff/book"===window.location.pathname?"/books":"/")},variant:"secondary",children:"\ucde8\uc18c"}),(0,_e.jsx)(dn,{as:gt,onClick:function(){c?c.username?c.start_time&&c.end_time?c.room?c.department?c.people_no?c.pay_type?(C((0,_e.jsx)(VC,{show:!0,title:"\uc608\uc57d \uc2dc\ub3c4\uc911"})),Ec(null,n.state.user.user_id,c.book_date,c.start_time.format("HH:mm:ss"),c.end_time.format("HH:mm:ss"),c.room.type,c.room.no,c.people_no,c.department,c.pay_type,c.etc_reason,c.purpose).then((function(e){console.debug("GuestBookPage::handleOnClickBook::postBook::result::".concat(JSON.stringify(e,null,2))),A||(h(!0),uI(n.state.user.user_id,e.book_id,"web.guard",c.pay_type+(c.department?"."+c.department:""),o,c.pay_type_etc_reason,"plin.kiosk.book").then((function(t){console.log("GuestBookPage::handleOnClickBook::postBook::postPay::pay::".concat(JSON.stringify(t,null,2)));var a=n.state.user.user_id,o=e.book_id,g=t.pay_id;setTimeout.apply(void 0,[iC,500].concat([g,60,function(e){e.status===cI?C((0,_e.jsx)(VC,{show:!0,title:e.title,message:e.message})):e.status===sI?(C((0,_e.jsx)(VC,{show:!0,title:e.title,message:e.message,handleClose:function(){return r(v?"/books":"/")}})),h(!1)):e.status===II&&(C((0,_e.jsx)(VC,{show:!0,title:e.title,message:e.message,handleClose:function(){return C(null)}})),h(!1))},a,o]))})).catch((function(t){console.error(t),Dc(n.state.user.user_id,e.book_id,"Pay.Error").then((function(e){return console.log(e)})),C((0,_e.jsx)(RC,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:t?t.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return C(null)}}))})))})).catch((function(e){console.log(e.response.data),C((0,_e.jsx)(RC,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.data.message:"\ub2e4\uc2dc \uc2e0\uccad\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return C(null)}}))}))):alert("\uacb0\uc81c \uc815\ubcf4 \uc124\uc815 \ud544\uc694"):alert("\uc778\uc6d0 \uc124\uc815 \ud544\uc694"):alert("\uc9c0\uc5ed \uc124\uc815 \ud544\uc694"):alert("\ubc29 \uc124\uc815 \ud544\uc694"):alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694"):alert("QR \ube44\uc778\uc99d \uc811\uadfc"):alert("\ube44\uc815\uc0c1 \uc811\uadfc")},variant:"primary",children:"\uc2e0\uccad"})]}),u]})},XC="".concat("user","/").concat("update","/all"),JC={user:{user_id:1}},YC=(0,t.createContext)({}),xC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JC,t=arguments.length>1?arguments[1]:void 0;return t.type===XC?je(je({},e),{},{user:t.user}):e},HC=function(e){var n=e.children,r=i((0,t.useReducer)(xC,JC,void 0),2),a={state:r[0],dispatch:r[1]};return(0,_e.jsx)(YC.Provider,{value:a,children:n})},NC={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},FC=function(){var e=Ie(),n=Ce(),r=(0,t.useContext)(YC).dispatch,a=i((0,t.useState)(15),2),o=a[0],g=a[1],l=i((0,t.useState)(null),2),c=l[0],s=l[1];(0,t.useEffect)((function(){c&&"string"===typeof c&&hc(c).then((function(t){t?(r(function(e){return{type:XC,user:e}}(t)),n(e.state.backref,{replace:!0,state:{user:t,qr_code:c}})):n("/",{replace:!0,state:{message:"\uc62c\ubc14\ub978 QR\uc774 \uc544\ub2d9\ub2c8\ub2e4."}})})).catch((function(e){n("/",{replace:!0,state:{message:"\uc62c\ubc14\ub978 QR\uc774 \uc544\ub2d9\ub2c8\ub2e4."}})}))}),[c]);return(0,t.useEffect)((function(){var e=window.location.pathname;setTimeout((function t(r){e===window.location.pathname&&(r>0?(g(r),setTimeout(t,1e3,r-1)):n("/"))}),1e3,o-1)}),[]),(0,_e.jsxs)(ct,{style:NC.container,fluid:!0,children:[!c&&(0,_e.jsx)(zu(),{delay:300,onError:function(e){},onScan:s,style:{width:"50%"}}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("h1",{children:[o,"\ucd08 \ud6c4 \uba54\uc778\ud654\uba74\uc73c\ub85c \ubcf5\uadc0\ud569\ub2c8\ub2e4."]}),(0,_e.jsx)(dn,{onClick:function(){return n("/")},children:"\ud648\uc73c\ub85c"})]})]})},KC=n.p+"static/media/qr-success.fe95e484c435a6154d9c.wav",MC=n.p+"static/media/qr-fail.20395adbf7ed96ccaed4.wav",EC={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},DC=function(){var e=new Audio(KC),n=new Audio(MC),r=i((0,t.useState)(null),2),a=r[0],o=r[1],g=i((0,t.useState)(null),2),l=g[0],c=g[1],s=i((0,t.useState)(!1),2),I=s[0],u=s[1],C=i((0,t.useState)(5),2),d=C[0],A=C[1],h=function(){var t=Me(Fe().mark((function t(r){var a;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,g=r.text,sg.post("/api/auth/qr/enter",{},{headers:{Authorization:"QR ".concat(g)}}).then((function(e){return e.data}));case 5:(a=t.sent)&&(o(a),u(!0),e.play().catch((function(e){return console.error(e)}))),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),c(l.response.data),u(!0),n.play().catch((function(e){return console.error(e)}));case 14:case"end":return t.stop()}var g}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){u(!1),o(null),c(null),window.location.reload()};return(0,t.useEffect)((function(){var e=window.location.pathname,t=null;return t=setTimeout((function n(r){e!==window.location.pathname||I&&(r>0?(A(r),t=setTimeout(n,1e3,r-1)):m())}),1e3,3),function(){return clearTimeout(t)}}),[I]),(0,_e.jsxs)(ct,{style:EC.container,fluid:!0,children:[(0,_e.jsx)(zu(),{delay:300,onError:function(e){return console.error(e)},onScan:h,style:{width:"50%"}}),(0,_e.jsxs)(ac,{show:I,children:[(0,_e.jsxs)(ac.Header,{children:[a?(0,_e.jsx)(ac.Title,{children:"\uacb0\uacfc: \uc131\uacf5"}):null,l?(0,_e.jsx)(ac.Title,{children:"\uacb0\uacfc: \uc2e4\ud328"}):null]}),a?(0,_e.jsxs)(ac.Body,{children:[(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:"\uc774\ub984:"}),(0,_e.jsx)(gt,{children:a.username})]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:"\uc131\ubcc4:"}),(0,_e.jsx)(gt,{children:a.gender%2?"\ub0a8\uc131":"\uc5ec\uc131"})]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:"\uae30\ud0c0:"}),(0,_e.jsx)(gt,{children:""})]})]}):null,l?(0,_e.jsx)(ac.Body,{children:(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:"\uc548\ub0b4:"}),(0,_e.jsx)(gt,{children:l.message})]})}):null,(0,_e.jsx)(ac.Footer,{children:(0,_e.jsxs)(dn,{variant:"secondary",onClick:m,children:["\ub2eb\uae30(",d,")"]})})]})]})},zC=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],jC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.striped,o=e.bordered,g=e.borderless,i=e.hover,l=e.size,c=e.variant,s=e.responsive,I=Le(e,zC),u=$e(n,"table"),C=Qe()(r,u,c&&"".concat(u,"-").concat(c),l&&"".concat(u,"-").concat(l),a&&"".concat(u,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),o&&"".concat(u,"-bordered"),g&&"".concat(u,"-borderless"),i&&"".concat(u,"-hover")),d=(0,_e.jsx)("table",je(je({},I),{},{className:C,ref:t}));if(s){var A="".concat(u,"-responsive");return"string"===typeof s&&(A="".concat(A,"-").concat(s)),(0,_e.jsx)("div",{className:A,children:d})}return d})),TC=jC;function LC(e){return sg.get("https://cafe2.kkyubr.com/api/pay",{params:{date:e}}).then((function(e){return e.data}))}function UC(){return sg.get("https://cafe2.kkyubr.com/api/product").then((function(e){return e.data}))}function QC(e){return sg.get("https://cafe2.kkyubr.com/api/stock",{params:{barcode:e}}).then((function(e){return e.data}))}var _C=["min","now","max","label","visuallyHidden","striped","animated","className","style","variant","bsPrefix"],OC=["isChild"],PC=["min","now","max","label","visuallyHidden","striped","animated","bsPrefix","variant","className","children"];function qC(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function $C(e,t){var n,r=e.min,a=e.now,o=e.max,g=e.label,i=e.visuallyHidden,l=e.striped,c=e.animated,s=e.className,I=e.style,u=e.variant,C=e.bsPrefix,d=Le(e,_C);return(0,_e.jsx)("div",je(je({ref:t},d),{},{role:"progressbar",className:Qe()(s,"".concat(C,"-bar"),(n={},De(n,"bg-".concat(u),u),De(n,"".concat(C,"-bar-animated"),c),De(n,"".concat(C,"-bar-striped"),c||l),n)),style:je({width:"".concat(qC(a,r,o),"%")},I),"aria-valuenow":a,"aria-valuemin":r,"aria-valuemax":o,children:i?(0,_e.jsx)("span",{className:"visually-hidden",children:g}):g}))}var ed=t.forwardRef((function(e,n){var r=e.isChild,a=Le(e,OC);if(a.bsPrefix=$e(a.bsPrefix,"progress"),r)return $C(a,n);var o=a.min,g=a.now,i=a.max,l=a.label,c=a.visuallyHidden,s=a.striped,I=a.animated,u=a.bsPrefix,C=a.variant,d=a.className,A=a.children,h=Le(a,PC);return(0,_e.jsx)("div",je(je({ref:n},h),{},{className:Qe()(d,u),children:A?vt(A,(function(e){return(0,t.cloneElement)(e,{isChild:!0})})):$C({min:o,now:g,max:i,label:l,visuallyHidden:c,striped:s,animated:I,bsPrefix:u,variant:C},n)}))}));ed.displayName="ProgressBar",ed.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1};var td=ed,nd=[{department:"\uc815\ud1b5",card:1e4,donation_card:1e4,donation_etc:1e4,saved_money:5e3,transfer:1e3,etc:5e3}],rd={maximumFractionDigits:4},ad=function(e){var t=e.value,n=e.onClick;return(0,_e.jsxs)("h1",{style:{width:"100%",textAlign:"center"},className:"button bg-primary text-white",onClick:n,children:[t,"\u25c0 \ud074\ub9ad\uc2dc \ubcc0\uacbd \uac00\ub2a5"]})},od=function(e){var t=e.department,n=e.card,r=void 0===n?0:n,a=e.donation_card,o=void 0===a?0:a,g=e.donation_etc,i=void 0===g?0:g,l=e.saved_money,c=void 0===l?0:l,s=e.transfer,I=void 0===s?0:s,u=e.etc,C=void 0===u?0:u;e.variant;return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:t}),(0,_e.jsx)("td",{children:r.toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{children:o.toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{children:i.toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{children:c.toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{children:I.toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{children:C.toLocaleString("ko-KR",rd)})]})},gd=function(e){var n=i((0,t.useState)(Date.now()),2),r=n[0],a=n[1],o=i((0,t.useState)(nd),2),g=o[0],c=o[1],s=i((0,t.useState)(!1),2),I=s[0],u=s[1],C=i((0,t.useState)(new Array(31).fill({date:Js()(),value:0})),2),d=C[0],A=C[1],h=i((0,t.useState)(new Array(31).fill({date:Js()(),values:[]})),2),m=h[0],p=h[1],f=i((0,t.useState)([]),2),b=f[0],y=f[1],Z=i((0,t.useState)(10),2),v=Z[0],G=Z[1],B=i((0,t.useState)([]),2),S=B[0],k=B[1],W=i((0,t.useState)(0),2),V=W[0],R=W[1];(0,t.useEffect)((function(){Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,LC(Js()(r).format("YYYY-MM-DD"));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))(),Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,UC();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))(),Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}),[r]);var w=function(){var e=Me(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l(new Array(31)).map((function(e,t){return t+1})).map((function(e){return Js()().set("month",Js()(r).month()).set("date",Number(e))})).map((function(e){return e.format("YYYY-MM-DD")})),e.next=3,Promise.allSettled(t.map((function(e){return LC(e)})));case 3:n=e.sent,p(n.map((function(e,n){return{date:t[n],values:e.value}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){A([]),R(0);var t=Js()(r),n=t.year(),a=t.month(),o=l(new Array(Js()(r).endOf("month").date())).map((function(e,t){return t+1})).map((function(e){return Js()().set("year",n).set("month",a).set("date",Number(e))})),g=function(e){return"confirm"===e.status},i=function(e){var t=ug(e),n=t.t;return{department:t.department,card:"card"===n?e.paid:0,donation_card:"donation.card"===n?e.paid:0,donation_etc:"donation.etc"===n?e.paid:0,saved_money:"saved_money.d"===n?e.paid:0,transfer:"transfer"===n?e.paid:0,etc:"etc"===n?e.paid:0}},c=function(e){return{department:e[0],card:x(e[1],"card"),donation_card:x(e[1],"donation_card"),donation_etc:x(e[1],"donation_etc"),saved_money:x(e[1],"saved_money"),transfer:x(e[1],"transfer"),etc:x(e[1],"etc")}};console.log(n,a,o),Me(Fe().mark((function e(){var t,n,r,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Hn(o),e.prev=2,a=Fe().mark((function e(){var n,a,l,s,I;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.value,e.next=3,AI(n.format("yyyy-MM-DD"));case 3:a=e.sent,l=function(e){return Js()(e.created).add(9,"hour").isSame(n,"day")},s=Object.entries(H(a.filter(g).filter(l).map(i),"department")).sort((function(e,t){return e[0].localeCompare(t[0])})).map(c),I=function(e){return s.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)-2*s.filter((function(e){return/refund.+/.test(e.department)})).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)},t.push({date:n,study:I("card")+I("transfer"),donation:I("donation_card")+I("donation_etc")}),R(Math.round(t.length/o.length*100));case 9:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:A(t),u(!1);case 19:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()};(0,t.useEffect)((function(){u(!0),Me(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Js()(r).format("yyyy-MM-DD"),e.next=3,AI(t);case 3:n=e.sent,a=n,c(Object.entries(H(a.filter((function(e){return"confirm"===e.status})).filter((function(e){return Js()(e.created).add(9,"hour").isSame(Js()(r),"day")})).map((function(e){var t=ug(e),n=t.t;return{department:t.department,card:"card"===n?e.paid:0,donation_card:"donation.card"===n?e.paid:0,donation_etc:"donation.etc"===n?e.paid:0,saved_money:"saved_money.d"===n?e.paid:0,transfer:"transfer"===n?e.paid:0,etc:"etc"===n?e.paid:0}})),"department")).sort((function(e,t){return e[0].localeCompare(t[0])})).map((function(e){return{department:e[0],card:x(e[1],"card"),donation_card:x(e[1],"donation_card"),donation_etc:x(e[1],"donation_etc"),saved_money:x(e[1],"saved_money"),transfer:x(e[1],"transfer"),etc:x(e[1],"etc")}}))),X();case 6:case"end":return e.stop()}var a}),e)})))()}),[r]);var J=function(e){G(v+Number(e.target.value))},Y=function(e){return g.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)-2*g.filter((function(e){return/refund.+/.test(e.department)})).map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0)},x=function(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return e+t}),0)},H=function(e,t){return e.reduce((function(e,n){var r=n[t];return void 0===e[r]&&(e[r]=[]),e[r].push(n),e}),{})};return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(ic,{children:(0,_e.jsx)(gt,{lg:{span:8,offset:1},children:(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:r,onChange:a,customInput:(0,_e.jsx)(ad,{})})})}),(0,_e.jsx)(td,{now:V}),(0,_e.jsxs)(TC,{striped:!0,bordered:!0,hover:!0,children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc774\ub984"}),(0,_e.jsx)("th",{children:"\ucd1d \ub9e4\ucd9c"}),(0,_e.jsx)("th",{children:"\uc21c\uc774\uc775"})]})}),(0,_e.jsxs)("tbody",{children:[(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:1,children:"\uc2a4\ud130\ub514\ub8f8"}),(0,_e.jsx)("td",{colSpan:1,children:(Y("card")+Y("transfer")).toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{colSpan:1,children:"-"})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:1,children:"\ud6c4\uc6d0"}),(0,_e.jsx)("td",{colSpan:1,children:(Y("donation_card")+Y("donation_etc")).toLocaleString("ko-KR",rd)}),(0,_e.jsx)("td",{colSpan:1,children:"-"})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:1,children:"\uc2a4\ub125\ubc14"}),(0,_e.jsx)("td",{children:b.reduce((function(e,t){return e+t.total_price}),0).toLocaleString()}),(0,_e.jsx)("td",{children:b.reduce((function(e,t){return e+t.total_price-(t.total_original_price+Math.floor(t.total_price/10))}),0).toLocaleString()})]}),(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:3,style:{textAlign:"center",fontSize:"large"},children:"\uc2a4\ub0b5\ubc14 \ubb3c\ud488 \uc54c\ub9bc \uc124\uc815"})}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:1,children:"".concat(v,"\uac1c \uc774\ud558 \ud45c\uc2dc")}),(0,_e.jsx)("td",{colSpan:1,children:(0,_e.jsx)(dn,{onClick:J,value:"1",children:"+ 1"})}),(0,_e.jsx)("td",{colSpan:1,children:(0,_e.jsx)(dn,{onClick:J,value:"-1",children:"- 1"})})]}),S.filter((function(e){return e.quantity<=v})).map((function(e){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:1}),(0,_e.jsx)("td",{colSpan:1,children:e.name}),(0,_e.jsx)("td",{colSpan:1,children:e.quantity})]})}))]})]}),(0,_e.jsxs)(TC,{striped:!0,bordered:!0,hover:!0,children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc9c0\uc5ed"}),(0,_e.jsx)("th",{children:"\uce74\ub4dc \uacb0\uc81c"}),(0,_e.jsx)("th",{children:"\ud6c4\uc6d0(\uce74\ub4dc)"}),(0,_e.jsx)("th",{children:"\ud6c4\uc6d0(\uae30\ud0c0)"}),(0,_e.jsx)("th",{children:"\uc801\ub9bd\uae08 \uc0ac\uc6a9"}),(0,_e.jsx)("th",{children:"\uc774\uccb4"}),(0,_e.jsx)("th",{children:"\uae30\ud0c0"})]})}),(0,_e.jsxs)("tbody",{children:[g.map((function(e){return(0,_e.jsx)(od,{department:e.department,card:e.card,donation_card:e.donation_card,donation_etc:e.donation_etc,saved_money:e.saved_money,transfer:e.transfer,etc:e.etc})})),(0,_e.jsx)("tr",{children:(0,_e.jsx)("td",{colSpan:7,children:""})}),(0,_e.jsx)(od,{department:"\uc804\uccb4",card:Y("card"),donation_card:Y("donation_card"),donation_etc:Y("donation_etc"),saved_money:Y("saved_money"),transfer:Y("transfer"),etc:Y("etc")}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{colSpan:4,children:"\uc804\uccb4 \ud569(\uce74\ub4dc + \ud6c4\uc6d0(\uce74\ub4dc + \uae30\ud0c0) + \uc774\uccb4 - \ud6c4\uc6d0 \uae08\uc561 \uc81c\uc678)"}),(0,_e.jsx)("td",{colSpan:3,children:(Y("card")+Y("donation_card")+Y("donation_etc")+Y("transfer")).toLocaleString("ko-KR",rd)})]})]})]}),(0,_e.jsxs)(TC,{children:[(0,_e.jsxs)("thead",{children:[(0,_e.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,_e.jsx)("th",{children:"\ub300\uad00"}),(0,_e.jsx)("th",{children:"\ud6c4\uc6d0"}),(0,_e.jsx)("th",{children:"\uc2a4\ub125\ubc14"}),(0,_e.jsx)("th",{children:"\uc2a4\ub125\ubc14 \uc21c\uc218\uc775"})]}),(0,_e.jsx)("tbody",{children:I?(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsx)(Hs,{animation:"border"})}),(0,_e.jsx)("td",{children:(0,_e.jsx)(Hs,{animation:"border"})}),(0,_e.jsx)("td",{children:(0,_e.jsx)(Hs,{animation:"border"})}),(0,_e.jsx)("td",{children:(0,_e.jsx)(Hs,{animation:"border"})}),(0,_e.jsx)("td",{children:(0,_e.jsx)(Hs,{animation:"border"})})]}):d.map((function(e,t){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.date.format("yyyy-MM-DD")}),(0,_e.jsx)("td",{children:e.study}),(0,_e.jsx)("td",{children:e.donation}),(0,_e.jsx)("td",{children:m[t].values.reduce((function(e,t){return e+t.total_price}),0)}),(0,_e.jsx)("td",{children:m[t].values.reduce((function(e,t){return e+t.total_price-(t.total_original_price+Math.floor(t.total_price/10))}),0)})]})}))})]})]})]})},id=function(e){var n=e.users,r=e.rentals,a=e.lockers,o=e.handleSave,g=e.defaultData,l=void 0===g?void 0:g,c=i((0,t.useState)({user_id:1,locker_id:1,rental_period:1,department:"",deposit:0,id_picture:"REGIST",rental_key:1,payment_required:!0,licenser_id:1}),2),s=c[0],I=c[1],u=i((0,t.useState)("1"),2),C=u[0],d=u[1];(0,t.useEffect)((function(){l?(I(l),d("".concat(l.user_id))):(I({user_id:1,locker_id:1,rental_period:1,department:"",deposit:0,id_picture:"REGIST",rental_key:1,payment_required:!0,licenser_id:1}),d("1"))}),[l]);var A=0===n.filter((function(e){return e.user_id===s.user_id})).length?{}:n.filter((function(e){return e.user_id===s.user_id}))[0],h=function(e){return 0!==r.filter((function(t){return t.locker_id===e})).length},m=a.filter((function(e){return!e.unavailable})).map((function(e){return(0,_e.jsx)("option",{value:"".concat(e.locker_id),selected:e.locker_id===s.locker_id,disabled:h(e.locker_id),children:(t=e,"[\uadf8\ub8f9:".concat(t.location_group," - ").concat(t.location_y,"\ud589 ").concat(t.location_x,"\uc5f4] ").concat(t.locker_num,"\ubc88 \uc0ac\ubb3c\ud568 ").concat(h(t.locker_id)?"(\ub300\uc5ec\ub428)":""))});var t}));return(0,t.useEffect)((function(){var e=Number(C);if(""===C)I(je(je({},s),{},{user_id:1,user:{}}));else if(Number.isInteger(e)){var t=n.filter((function(t){return t.user_id===e}));if(0===t.length)return;I(je(je({},s),{},{user_id:t[0].user_id,user:t[0]}))}else{var r=n.filter((function(e){return e.num===C}));if(0===r.length)return;I(je(je({},s),{},{user_id:r[0].user_id,user:r[0]}))}}),[C]),(0,_e.jsxs)(gn,{children:[(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"formLockerSelect",children:[(0,_e.jsx)(gn.Label,{children:"\uc0ac\ubb3c\ud568\uc744 \uc120\ud0dd\ud558\uc2dc\uc624."}),(0,_e.jsx)(gn.Select,{onChange:function(e){return I(je(je({},s),{},{locker_id:Number(e.target.value)}))},disabled:l,value:s.locker_id,children:m})]}),(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"formUserId",children:[(0,_e.jsxs)(gn.Label,{children:["\uc0ac\uc6a9\uc790 ID\ub97c \uc785\ub825\ud558\uc2dc\uc624",A.username&&"(\uc120\ud0dd: [".concat(A.user_id,"] ").concat(A.username,")")]}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc0ac\uc6a9\uc790 ID \ub610\ub294 \uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud558\uc2dc\uc624.",onChange:function(e){return d(e.target.value)},disabled:l,value:C}),(0,_e.jsx)(gn.Text,{className:"text-muted",children:"\ud574\ub2f9\ud558\ub294 \uc0ac\uc6a9\uc790\ub97c \ucc3e\uc9c0 \ubabb\ud55c\ub2e4\uba74 \uac00\uc7a5 \ub9c8\uc9c0\ub9c9\uc5d0 \ucc3e\uc740 \uc0ac\uc6a9\uc790\uac00 \uc120\ud0dd\ub429\ub2c8\ub2e4."})]}),(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"formDepartment",children:[(0,_e.jsx)(gn.Label,{children:"\uc9c0\uc5ed\uc744 \uc785\ub825\ud558\uc138\uc694."}),(0,_e.jsx)(gn.Control,{type:"text",placeholder:"\uc0ac\uc6a9\uc790 \uc9c0\uc5ed\uc744 \uc785\ub825\ud558\uc2dc\uc624.",value:s.department,onChange:function(e){return I(je(je({},s),{},{department:e.target.value}))}}),(0,_e.jsx)(gn.Text,{className:"text-muted",children:"\uc77c\uad00\ub41c \uc9c0\uc5ed \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"formRentalPeriod",children:[(0,_e.jsx)(gn.Label,{children:"\uc784\ub300 \uac1c\uc6d4"}),(0,_e.jsxs)(gn.Select,{"aria-label":"Locker Select",disabled:l,onChange:function(e){return I(je(je({},s),{},{rental_period:Number(e.target.value)}))},children:[(0,_e.jsx)("option",{value:"1",selected:1===s.rental_period,children:"1\uac1c\uc6d4"}),(0,_e.jsx)("option",{value:"2",selected:2===s.rental_period,children:"2\uac1c\uc6d4"}),(0,_e.jsx)("option",{value:"3",selected:3===s.rental_period,children:"3\uac1c\uc6d4"}),(0,_e.jsx)("option",{value:"4",selected:4===s.rental_period,children:"4\uac1c\uc6d4"}),(0,_e.jsx)("option",{value:"5",selected:5===s.rental_period,children:"5\uac1c\uc6d4"}),(0,_e.jsx)("option",{value:"6",selected:6===s.rental_period,children:"6\uac1c\uc6d4"})]})]}),(0,_e.jsxs)(gn.Group,{className:"mb-3",controlId:"formDeposit",children:[(0,_e.jsx)(gn.Label,{children:"\ubcf4\uc99d\uae08"}),(0,_e.jsx)(gn.Control,{type:"number",placeholder:"\ubcf4\uc99d\uae08 \uc785\ub825",onChange:function(e){return I(je(je({},s),{},{deposit:Number(e.target.value)}))},value:"".concat(s.deposit)}),(0,_e.jsx)(gn.Text,{className:"text-muted",children:"\uc5c6\ub2e4\uba74 0\uc744 \uc785\ub825\ud558\uc2dc\uc624"})]}),(0,_e.jsxs)("div",{className:"mb-3",children:[(0,_e.jsx)(gn.Label,{children:"\uc5f4\uc1e0: "}),(0,_e.jsx)(gn.Check,{label:"\ubcf4\uad00",name:"group-key",type:"radio",id:"inline-radio-1",onChange:function(){return I(je(je({},s),{},{rental_key:0}))},defaultChecked:0===s.rental_key}),(0,_e.jsx)(gn.Check,{label:"\ub300\uc5ec",name:"group-key",type:"radio",id:"inline-radio-2",onChange:function(){return I(je(je({},s),{},{rental_key:1}))},defaultChecked:1===s.rental_key}),(0,_e.jsx)(gn.Check,{label:"\ubd84\uc2e4",name:"group-key",type:"radio",id:"inline-radio-3",onChange:function(){return I(je(je({},s),{},{rental_key:2}))},defaultChecked:2===s.rental_key})]}),(0,_e.jsx)(gn.Group,{className:"mb-3",controlId:"formPaymentRequired",children:(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uae30\ud55c\uc774 \ub05d\ub09c\ud6c4 \ube44\uc6a9\uc744 \ub0b4\uc57c\ud569\ub2c8\ub2e4.",onChange:function(){return I(je(je({},s),{},{payment_required:!s.payment_required}))},checked:s.payment_required})}),(0,_e.jsx)(dn,{variant:"primary",onClick:function(){return o(s)},children:l?"\uc218\uc815":"\ub4f1\ub85d"})]})},ld=function(e){return sg.get("/api/locker",{params:{locker_id:e}})},cd={created:Js()("2022-04-26T07:36:40"),deadline:Js()("2022-05-15T07:36:40"),department:"\ud14c\uc2a4\ud2b8",deposit:0,locker_id:1,locker_rental_id:1,payment_required:!0,user_id:2,user:{age:27,birthday:"960306",chat_id:123412345,created:"2023-01-01T00:00:00",delete_que:"",department:"",gender:1,grade:20,modified:"2023-01-01T00:01:01",num:"010-1234-1234",sms:1,status:0,tg_name:null,user_id:2,username:"\uae40\uaddc\ud615",valid:!0},locker:{location_group:1,location_x:1,location_y:1,locker_id:1,locker_num:1,main_key:1,spare_key:0,unavailable:!1},vitalization:!0},sd={location:[{group_id:1,x:4,y:6},{group_id:2,x:2,y:2}]},Id=function(){var e=i((0,t.useState)(!1),2),n=e[0],r=e[1],a=i((0,t.useState)(""),2),o=a[0],g=a[1],l=i((0,t.useState)([cd]),2),c=l[0],s=l[1],I=i((0,t.useState)(cd),2),u=I[0],C=I[1],d=i((0,t.useState)([]),2),A=d[0],h=d[1],m=i((0,t.useState)([]),2),p=m[0],f=m[1],b=i((0,t.useState)(sd),2),y=b[0],Z=(b[1],i((0,t.useState)(1),2)),v=Z[0],G=Z[1];(0,t.useEffect)((function(){return W()}),[]),(0,t.useEffect)((function(){return k()}),[]),(0,t.useEffect)((function(){return S()}),[]);(0,t.useEffect)((function(){c.length>0&&C(c[0])}),[c]);var B,S=function(){dc(sessionStorage.getItem("Authorization")).then((function(e){return f(e)}))},k=function(){ld(0).then((function(e){return e.data})).then((function(e){return e.data})).then((function(e){return h(e)}))},W=function(){var e;(e=0,sg.get("/api/locker/".concat(e))).then((function(e){return e.data})).then((function(e){return e.data})).then((function(e){return e.filter((function(e){return e.vitalization}))})).then((function(e){e.forEach((function(e){e.created=Js()(e.created).add(9,"h"),e.deadline=Js()(e.deadline).add(9,"h")})),Promise.all(e.map((function(e){return ld(e.locker_id).then((function(e){return e.data}))}))).then((function(t){e.forEach((function(e){e.locker=t.filter((function(t){return t.locker_id===e.locker_id}))[0]}))})).then((function(){Promise.all(e.map((function(e){return function(e,t){return sg.get("/api/users/".concat(t),{headers:{Authorization:e}}).then((function(e){return e.data})).then((function(e){return e.user}))}(sessionStorage.getItem("Authorization"),e.user_id)}))).then((function(t){e.forEach((function(e){e.user=t.filter((function(t){return t.user_id===e.user_id}))[0]})),s(e)}))}))}))},V=function(e){g(e?e.deadline.format("YYYY-MM-DD"):u.deadline.format("YYYY-MM-DD")),r(!0)},R=function(){var e,t;if(window.confirm("".concat(u.user.username,"\ub2d8\uc758 \ub300\uc5ec\ub97c \uc885\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))try{(e=u.locker_rental_id,t=!1,sg.put("/api/locker/".concat(e),{vitalization:t})).then((function(){return W()})).catch((function(){alert("\ubcc0\uacbd \uc2e4\ud328")})),r(!1)}catch(zv){alert("\uc62c\ubc14\ub978 \uc785\ub825\uc774 \uc544\ub2d9\ub2c8\ub2e4.")}},w=function(e){var t,r,a=y.location.filter((function(t){return t.group_id===e}));0===a.length?c.filter((function(t){return t.locker.location_group===e})).map((function(e){(!t||e.locker.location_x>t)&&(t=e.locker.location_x),(!r||e.locker.location_y>r)&&(r=e.locker.location_y)})):(a=a[0],t=a.x,r=a.y);for(var o=[],g=function(a){for(var g=[],i=function(t){var o=c.filter((function(n){return n.locker.location_group===e&&n.locker.location_x===t+1&&n.locker.location_y===a+1})),i=void 0,l=a+1+t*r;if(o.length){var s="success";(o=o[0]).deadline.isBefore(Js()())&&(s="danger"),o.payment_required||(s="secondary");var I=n?"".concat(l).padStart(2,"0"):"[".concat(l,"\ubc88][").concat(o.department,"] ").concat(o.user.username),d=n?{borderInlineWidth:"0.5rem"}:{};i=(0,_e.jsx)(fu,{bg:s,text:"white",onClick:function(){C(o),V(o)},border:u.locker_rental_id===o.locker_rental_id?"info":"",style:d,children:(0,_e.jsx)(fu.Body,{children:(0,_e.jsx)(fu.Title,{children:I})})})}else{var A=n?"".concat(l).padStart(2,"0"):"[".concat(l,"\ubc88]\uc5c6\uc74c");i=(0,_e.jsx)(fu,{bg:"dark",text:"white",children:(0,_e.jsx)(fu.Body,{children:(0,_e.jsx)(fu.Title,{children:A})})})}var h=n?{paddingLeft:"1px",paddingRight:"1px"}:{};g.push((0,_e.jsx)(gt,{style:h,children:i}))},l=0;l<t;l++)i(l);var s=n?{marginTop:"1px",marginBottom:"1px"}:{marginTop:"5px",marginBottom:"5px"};o.push((0,_e.jsx)(ic,{style:s,children:g}))},i=0;i<r;i++)g(i);return o};return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(ic,{style:{textAlign:"center"},children:(0,_e.jsxs)("h1",{children:["\uc0ac\ubb3c\ud568 \uc704\uce58 \uadf8\ub8f9 ",(0,_e.jsxs)(ma,{className:"d-inline-block",onSelect:function(e){return G(Number(e))},children:[(0,_e.jsx)(ma.Toggle,{size:"lg",children:"".concat(v,"\ubc88")}),(0,_e.jsxs)(ma.Menu,{children:[(0,_e.jsx)(ma.Item,{eventKey:"1",children:"1\ubc88"}),(0,_e.jsx)(ma.Item,{eventKey:"2",children:"2\ubc88"})]})]})]})}),n?null:(0,_e.jsx)(ct,{children:w(v)}),(0,_e.jsx)(ic,{children:(0,_e.jsx)(gt,{children:(0,_e.jsx)("div",{style:{width:10,height:10}})})}),(0,_e.jsxs)(ic,{children:[n&&(0,_e.jsx)(gt,{style:{maxWidth:"300px"},children:w(v)}),(0,_e.jsxs)(gt,{children:[(0,_e.jsx)(fu,{children:(0,_e.jsxs)(fu.Body,{children:[(0,_e.jsx)(fu.Title,{children:function(e){return"[\uadf8\ub8f9:".concat(e.location_group," - ").concat(e.location_y,"\ud589 ").concat(e.location_x,"\uc5f4] ").concat(e.locker_num,"\ubc88 \uc0ac\ubb3c\ud568 ").concat((t=e.locker_id,0!==c.filter((function(e){return e.locker_id===t})).length?"(\ub300\uc5ec\ub428)":""));var t}(u.locker)}),(0,_e.jsxs)(fu.Text,{children:["\ub300\uc5ec \uc9c0\uc5ed: ",u.department]}),(0,_e.jsxs)(fu.Text,{children:["\ub300\uc5ec \uc0ac\uc6a9\uc790: ","".concat(u.user.username,"(").concat(u.user.num,")")]}),(0,_e.jsxs)(fu.Text,{children:["\uc5f4\uc1e0: ",(B=u.locker.main_key,0===B?"\ubcf4\uc720":1===B?"\ub300\uc5ec":2===B?"\ubd84\uc2e4":"\uc54c \uc218 \uc5c6\uc74c")]}),(0,_e.jsxs)(fu.Text,{children:["\ub300\uc5ec\uc2dc\uc791\uc77c: ",u.created.format("YYYY-MM-DD")]}),(0,_e.jsxs)(fu.Text,{children:["\ub300\uc5ec\ub9c8\uac10\uc77c: ",u.deadline.format("YYYY-MM-DD")+" \uae4c\uc9c0"]}),n&&(0,_e.jsxs)(ka,{children:[(0,_e.jsx)(gn.Control,{value:o,onChange:function(e){return g(e.target.value)},autoFocus:!0,placeholder:"YYYY-MM-DD"}),(0,_e.jsx)(ka.Text,{children:"\uc73c\ub85c \uc218\uc815"})]}),(0,_e.jsxs)(fu.Text,{children:["\ub300\uc5ec: ",u.vitalization?"\ub300\uc5ec\uc911":"\uc885\ub8cc\ub428"]}),(0,_e.jsxs)(fu.Text,{children:["\ube44\uc6a9: ",u.payment_required?"\uc9c0\ubd88\ud568":"\uc9c0\ubd88\uc548\ud568"]}),(0,_e.jsxs)(fu.Text,{children:["\ubcf4\uc99d\uae08: ",u.deposit," \uc6d0"]})]})}),n?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(dn,{onClick:function(){return r(!1)},variant:"secondary",children:"\ucde8\uc18c"}),(0,_e.jsx)(dn,{onClick:function(){return R()},variant:"danger",children:"\ub300\uc5ec\uc885\ub8cc"})]}):(0,_e.jsx)(dn,{onClick:function(){return V()},children:"\uc218\uc815"})]}),(0,_e.jsx)(gt,{children:n?(0,_e.jsx)(id,{users:p,rentals:c,lockers:A,handleSave:function(e){var t,n,a,g,i,l,c="".concat(o,"T").concat(u.deadline.subtract(9,"h").format("hh:mm:ss"));try{Js()(c),(t=u.locker_rental_id,n=e.locker_id,a=c,g=e.rental_key,i=e.payment_required,l=e.deposit,sg.put("/api/locker/".concat(t),{deadline:a,locker_id:n,rental_key:g,payment_required:i,deposit:l})).then((function(){return W()})).catch((function(){alert("\ubcc0\uacbd \uc2e4\ud328")})),r(!1)}catch(zv){alert("\uc62c\ubc14\ub978 \uc785\ub825\uc774 \uc544\ub2d9\ub2c8\ub2e4.")}},defaultData:{user_id:u.user_id,locker_id:u.locker_id,rental_period:0,department:u.department,deposit:u.deposit,id_picture:"EDIT",rental_key:u.locker.main_key,payment_required:u.payment_required,licenser_id:1}}):(0,_e.jsx)(id,{users:p,rentals:c,lockers:A,handleSave:function(e){var t,n,r,a,o,g,i,l,c;(t=e.user_id,n=e.locker_id,r=e.department,a=e.rental_period,o=e.deposit,g=e.id_picture,i=e.rental_key,l=e.payment_required,c=e.licenser_id,sg.post("/api/locker",{user_id:t,locker_id:n,department:r,rental_period:a,deposit:o,id_picture:g,rental_key:i,payment_required:l,licenser_id:c})).then((function(e){W(),alert("\ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4(id: ".concat(e.data.locker_rental_id,")"))}))}})})]})]})]})};Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};var ud=[{name:"ID",selector:function(e,t){return e.coupon_id}},{name:"\uc804\ud654\ubc88\ud638",selector:function(e,t){return e.tel},sortable:!0},{name:"\uc0c1\ud0dc",selector:function(e,t){return"usable"===e.status?"\uc801\ub9bd":"used"===e.status?"\uc0ac\uc6a9":"expire"===e.status?"\uae30\ud55c \ucd08\uacfc":"\uc54c \uc218 \uc5c6\uc74c"},sortable:!0},{name:"\uac2f\uc218",selector:function(e,t){return e.amount},sortable:!0},{name:"\uc77c\uc2dc",selector:function(e,t){return new Intl.DateTimeFormat("kr").format(new Date(e.created).addHours(9))},hide:"md"}],Cd=function(){var e=i((0,t.useState)(0),2),n=(e[0],e[1],i((0,t.useState)([]),2)),r=(n[0],n[1]),a=i((0,t.useState)({}),2),o=(a[0],a[1],i((0,t.useState)(""),2)),g=o[0],l=o[1],c=i((0,t.useState)([]),2),s=c[0],I=c[1],u=i((0,t.useState)([]),2),C=u[0],d=u[1];(0,t.useEffect)((function(){var e={request_type:"all",device_id:2};Me(Fe().mark((function t(){var n;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sg.get("/api/coupons",{params:e});case 2:n=t.sent,I(n.data.data);case 4:case"end":return t.stop()}}),t)})))()}),[]);(0,t.useEffect)((function(){dc(sessionStorage.getItem("Authorization")).then(r).catch((function(e){e.response&&(4===parseInt("".concat(e.response.status/100))?alert("\uc751\ub2f5 \uc624\ub958: [400] ".concat(e.response.data.message)):5===parseInt("".concat(e.response.status/100))&&alert("\uc11c\ubc84 \uc624\ub958: [500] ".concat(e.response.data))),console.error(e)}))}),[]),(0,t.useEffect)((function(){d([]);var e=A();Me(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled(e.map((function(e){return sg.get("/api/coupons",{params:{request_type:"view",device_id:2,tel:e}})})));case 2:n=t.sent,r=n.map((function(t,n){return{tel:e[n],coupon_count:t.value.data.coupon_count}})),d(r);case 5:case"end":return t.stop()}}),t)})))()}),[g]);var A=function(){if(g.length<4)return[];var e=[];return s.filter((function(e){return e.tel.endsWith(g)})).forEach((function(t){return e.includes(t.tel)?null:e.push(t.tel)})),e};return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)(ct,{children:[(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(ic,{style:{minHeight:"10px"}}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{children:"\uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694: "}),(0,_e.jsx)(gt,{children:(0,_e.jsx)("input",{onChange:function(e){return l(e.target.value)},value:g})})]}),C.length>0&&(0,_e.jsxs)(TC,{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\ubc88\ud638"}),(0,_e.jsx)("th",{children:"\ucfe0\ud3f0 \uac2f\uc218"})]})}),(0,_e.jsx)("tbody",{children:C.map((function(e,t){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.tel}),(0,_e.jsx)("td",{children:"".concat(e.coupon_count)})]},t)}))})]})]}),(0,_e.jsx)(Ag.ZP,{columns:ud,data:g?s.filter((function(e){return e.tel.endsWith(g)})):s,title:"\ucfe0\ud3f0 \uae30\ub85d",progressPending:!Boolean(s),pagination:!0})]})]})};function dd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return sg.get("/api/commute",{params:{action:e,date:t,user_id:n},headers:{Authorization:sessionStorage.getItem("Authorization")}}).then((function(e){return e.data}))}function Ad(e,t,n){return sg.post("/api/commute",{action:e,qr_code:t,record:n},{}).then((function(e){return e.data}))}var hd,md=Math.pow(2,31)-1;function pd(e,t,n){var r=n-Date.now();e.current=r<=md?setTimeout(t,r):setTimeout((function(){return pd(e,t,n)}),md)}function fd(){var e=Mn(),n=(0,t.useRef)();return xi((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,a){void 0===a&&(a=0),e()&&(t(),a<=md?n.current=setTimeout(r,a):pd(n,r,Date.now()+a))},clear:t}}),[])}var bd=(De(hd={},$g,"showing"),De(hd,ti,"showing show"),hd),yd=t.forwardRef((function(e,t){return(0,_e.jsx)(Pi,je(je({},e),{},{ref:t,transitionClasses:bd}))}));yd.displayName="ToastFade";var Zd=yd,vd=t.createContext({onClose:function(){}}),Gd=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],Bd=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.closeLabel,o=e.closeVariant,g=e.closeButton,i=e.className,l=e.children,c=Le(e,Gd);r=$e(r,"toast-header");var s=(0,t.useContext)(vd),I=Jn((function(e){null==s||null==s.onClose||s.onClose(e)}));return(0,_e.jsxs)("div",je(je({ref:n},c),{},{className:Qe()(r,i),children:[l,g&&(0,_e.jsx)(il,{"aria-label":a,variant:o,onClick:I,"data-dismiss":"toast"})]}))}));Bd.displayName="ToastHeader",Bd.defaultProps={closeLabel:"Close",closeButton:!0};var Sd=Bd,kd=xt("toast-body"),Wd=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],Vd=t.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,o=e.transition,g=void 0===o?Zd:o,i=e.show,l=void 0===i||i,c=e.animation,s=void 0===c||c,I=e.delay,u=void 0===I?5e3:I,C=e.autohide,d=void 0!==C&&C,A=e.onClose,h=e.bg,m=Le(e,Wd);r=$e(r,"toast");var p=(0,t.useRef)(u),f=(0,t.useRef)(A);(0,t.useEffect)((function(){p.current=u,f.current=A}),[u,A]);var b=fd(),y=!(!d||!l),Z=(0,t.useCallback)((function(){y&&(null==f.current||f.current())}),[y]);(0,t.useEffect)((function(){b.set(Z,p.current)}),[b,Z]);var v=(0,t.useMemo)((function(){return{onClose:A}}),[A]),G=!(!g||!s),B=(0,_e.jsx)("div",je(je({},m),{},{ref:n,className:Qe()(r,a,h&&"bg-".concat(h),!G&&(l?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,_e.jsx)(vd.Provider,{value:v,children:G&&g?(0,_e.jsx)(g,{in:l,unmountOnExit:!0,children:B}):B})}));Vd.displayName="Toast";var Rd=Object.assign(Vd,{Body:kd,Header:Sd}),wd=["bsPrefix","position","containerPosition","className","as"],Xd={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},Jd=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.position,a=e.containerPosition,o=void 0===a?"absolute":a,g=e.className,i=e.as,l=void 0===i?"div":i,c=Le(e,wd);return n=$e(n,"toast-container"),(0,_e.jsx)(l,je(je({ref:t},c),{},{className:Qe()(n,r&&[o?"position-".concat(o):null,Xd[r]],g)}))}));Jd.displayName="ToastContainer";var Yd=Jd,xd={ERROR:"error",NOT_ENTER:"not_enter",NOT_EXIT:"not_exit",EXITED:"exited",toColor:function(e){switch(e){case"error":return"danger";case"not_enter":return"secondary";case"not_exit":return"primary";case"exited":return"success";default:return null}}};Object.freeze(xd);var Hd=function(e){var n=e.update,r=e.setUpdate,a=i((0,t.useState)(!0),2),o=a[0],g=a[1],l=i((0,t.useState)([]),2),c=l[0],s=l[1],I=Js()().format("YYYY-MM-DD");(0,t.useEffect)((function(){dc(sessionStorage.getItem("Authorization")).then((function(e){return e.filter((function(e){return e.grade>=15}))})).then((function(e){return e.filter((function(e){return 1!==e.user_id}))})).then(u)}),[]);var u=function(e){Promise.allSettled(e.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dd("person",I,t.user_id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){return t.map((function(t,n){var r=e[n];if("fulfilled"!==t.status)r.status=xd.ERROR;else if(0===t.value.data.length)r.status=xd.NOT_ENTER;else{var a=t.value.data.pop();r.status=a.exit_time?xd.EXITED:xd.NOT_EXIT,r.enter_time=a.enter_time?Js()(a.enter_time).subtract(9,"hour"):null,r.exit_time=a.exit_time?Js()(a.exit_time).subtract(9,"hour"):null}return r}))})).then((function(e){return s(e)})).then((function(){return g(!1)}))},C=function(){var t=Me(Fe().mark((function t(a){var o,i,l,s,I,C,d,A;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a.status===xd.NOT_EXIT,i=a.status===xd.NOT_EXIT?"exit":"enter",l="".concat(a.username,"\ub2d8, ").concat(a.status===xd.NOT_EXIT?"\ud1f4\uadfc":"\ucd9c\uadfc","\ud558\uc2dc\ub098\uc694?"),window.confirm(l)){t.next=5;break}return t.abrupt("return");case 5:if(s="\ubaa8\ub984",a.status===xd.NOT_EXIT){t.next=20;break}if(!window.confirm("\uc624\ud508\uc778\uac00\uc694?")){t.next=11;break}s="\uc624\ud508",t.next=20;break;case 11:if(!window.confirm("\ubbf8\ub4e4\uc778\uac00\uc694?")){t.next=15;break}s="\ubbf8\ub4e4",t.next=20;break;case 15:if(!window.confirm("\ub9c8\uac10\uc778\uac00\uc694?")){t.next=19;break}s="\ub9c8\uac10",t.next=20;break;case 19:return t.abrupt("return",window.alert("\uc62c\ubc14\ub978 \uc120\ud0dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."));case 20:return t.next=22,h=a.user_id,sg.get("/api/users/".concat(h,"/qr.txt")).then((function(e){return e.data.message}));case 22:return I=t.sent,t.next=25,Ad(i,I,s);case 25:"okay"===t.sent.message?(C="".concat(o?"\ud1f4\uadfc":"\ucd9c\uadfc","!"),"\ud655\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",e.showToast(C,"\ud655\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):(d="".concat(o?"\ud1f4\uadfc":"\ucd9c\uadfc"," \uc624\ub958!"),A="".concat(o?"\ud1f4\uadfc":"\ucd9c\uadfc","\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),e.showToast(d,A,"danger")),g(!0),u(c),r(n+1);case 30:case"end":return t.stop()}var h}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(e){switch(e.status){case"error":return(0,_e.jsx)(Nc,{bg:"danger",children:"\uc5d0\ub7ec"});case"not_enter":return(0,_e.jsx)(Nc,{bg:"secondary",children:"\ubaa8\ub984"});case"not_exit":return(0,_e.jsx)(Nc,{bg:"primary",children:"\ucd9c\uadfc"});case"exited":return(0,_e.jsx)(Nc,{bg:"success",children:"\ud1f4\uadfc"});default:return null}};return(0,_e.jsxs)(gt,{children:[(0,_e.jsx)(ic,{children:(0,_e.jsx)("h1",{className:"text-center",children:"\uadfc\ud0dc \uad00\ub9ac"})}),(0,_e.jsxs)(TC,{children:[(0,_e.jsxs)("thead",{children:[(0,_e.jsx)("th",{children:"\uc774\ub984"}),(0,_e.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,_e.jsx)("th",{children:"\ucd9c\uadfc \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\ud1f4\uadfc \uc2dc\uac04"})]}),(0,_e.jsx)("tbody",{children:!o&&c?c.map((function(e){var t="";try{t="outline-".concat(xd.toColor(e.status))}catch(zv){console.error(zv)}return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:(0,_e.jsx)(dn,{size:"sm",variant:t,onClick:function(){return C(e)},children:e.username})}),(0,_e.jsx)("td",{children:d(e)}),(0,_e.jsx)("td",{children:e.enter_time?e.enter_time.format("HH:mm"):"-"}),(0,_e.jsx)("td",{children:e.exit_time?e.exit_time.format("HH:mm"):"-"})]})})):(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{}),(0,_e.jsx)("td",{}),(0,_e.jsx)("td",{}),(0,_e.jsx)("td",{})]})})]})]})},Nd=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},Fd=function(e){var n=e.update,r=i((0,t.useState)(!0),2),a=r[0],o=r[1],g=i((0,t.useState)(Js()()),2),l=g[0],c=g[1],s=i((0,t.useState)([]),2),I=s[0],u=s[1],C=i((0,t.useState)(!1),2),d=C[0],A=C[1],h=function(e){return{commute_id:e.commute_id,enter_time:Js()(e.enter_time),exit_time:Js()(e.exit_time),user:e.user,record:e.record}};return(0,t.useEffect)((function(){dd(d?"month":"date",l.format("YYYY-MM-DD")).then((function(e){return u(e.data.map(h))})).then((function(){return o(!1)}))}),[l,d,n]),(0,_e.jsxs)(gt,{children:[(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(gt,{md:8,children:(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:l.toDate(),onChange:function(e){o(!0),c(Js()(e))},customInput:(0,_e.jsx)(Nd,{}),disabled:a})}),(0,_e.jsx)(gt,{md:4,children:(0,_e.jsx)(dn,{onClick:function(){o(!0),A(!d)},disabled:a,children:d?"\uc77c\ubcc4\ub85c \ubcc0\uacbd":"\uc6d4\ubcc4\ub85c \ubcc0\uacbd"})})]}),(0,_e.jsxs)(TC,{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc774\ub984"}),d&&(0,_e.jsx)("th",{children:"\ub0a0\uc9dc"}),(0,_e.jsx)("th",{children:"\ucd9c\uadfc \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\ud1f4\uadfc \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\uae30\ub85d"})]})}),(0,_e.jsx)("tbody",{children:a?(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{}),d&&(0,_e.jsx)("td",{}),(0,_e.jsx)("td",{}),(0,_e.jsx)("td",{})]}):I.map((function(e){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.user.username}),d&&(0,_e.jsx)("td",{children:e.enter_time.subtract(9,"hour").format("YYYY-MM-DD")}),(0,_e.jsx)("td",{children:e.enter_time.subtract(9,"hour").format("HH:mm")}),(0,_e.jsx)("td",{children:e.exit_time.isValid()?e.exit_time.subtract(9,"hour").format("HH:mm"):"-"}),(0,_e.jsx)("td",{children:e.record})]})}))})]})]})},Kd=function(e){var n=i((0,t.useState)(1),2),r=n[0],a=n[1],o=i((0,t.useState)(""),2),g=o[0],l=o[1],c=i((0,t.useState)(""),2),s=c[0],I=c[1],u=i((0,t.useState)("light"),2),C=u[0],d=u[1],A=i((0,t.useState)(!1),2),h=A[0],m=A[1];return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(Yd,{position:"top-start",children:(0,_e.jsxs)(Rd,{onClose:function(){return m(!1)},show:h,delay:1e4,autohide:!0,bg:C,children:[(0,_e.jsxs)(Rd.Header,{children:[(0,_e.jsx)("strong",{className:"me-auto",children:g}),(0,_e.jsx)("small",{})]}),(0,_e.jsx)(Rd.Body,{children:s})]})}),(0,_e.jsx)(ct,{children:(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(Hd,{showToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(e),I(t),d(n||"light"),m(!0)},update:r,setUpdate:a}),(0,_e.jsx)(Fd,{update:r})]})})]})},Md=["bsPrefix","size","vertical","className","as"],Ed=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.size,a=e.vertical,o=e.className,g=e.as,i=void 0===g?"div":g,l=Le(e,Md),c=$e(n,"btn-group"),s=c;return a&&(s="".concat(c,"-vertical")),(0,_e.jsx)(i,je(je({},l),{},{ref:t,className:Qe()(o,s,r&&"".concat(c,"-").concat(r))}))}));Ed.displayName="ButtonGroup",Ed.defaultProps={vertical:!1,role:"group"};var Dd=Ed,zd=function(e,t){return sg.delete("/api/books/".concat(e,"/admin"),{headers:{Authorization:t}}).then((function(e){return e.data}))},jd={container:{height:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},image:{height:"50vh",width:"80wh"}};function Td(e){return new Promise((function(t){return setTimeout(t,1e3*e)}))}var Ld=function(e){var t=i(e.split("_"),2),n=t[0],r=t[1];return"1"===n?"\uc2a4 ".concat(r):"2"===n?"\uc138\ubbf8\ub098\ub8f8":"3"===n?"\uc2a4\ud29c\ub514\uc624":"4"===n?"\ud640":"\uae30\ud0c0"},Ud=1,Qd="\uc6f9\uc0ac\uc774\ud2b8",_d=function(){var e="block",n=i((0,t.useState)(Js()().format("YYYY-MM-DD")),2),r=n[0],a=n[1],o=i((0,t.useState)(Js()("07:00","HH:mm")),2),g=o[0],c=o[1],s=i((0,t.useState)(Js()("23:00","HH:mm")),2),I=s[0],u=s[1],C=i((0,t.useState)(""),2),d=C[0],A=C[1],h=i((0,t.useState)(""),2),m=h[0],p=h[1],f=i((0,t.useState)(0),2),b=f[0],y=f[1],Z=i((0,t.useState)({}),2),v=Z[0],G=Z[1],B=i((0,t.useState)(0),2),S=B[0],k=B[1],W=i((0,t.useState)(""),2),V=W[0],R=W[1],w=i((0,t.useState)(""),2),X=w[0],J=w[1],Y=i((0,t.useState)([]),2),x=Y[0],H=Y[1],N=i((0,t.useState)(!1),2),F=N[0],K=N[1];(0,t.useEffect)((function(){p("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))}),[r]),(0,t.useEffect)((function(){g&&I&&v&&y(Ig(v.type,g,I))}),[I,v,g]);var M=function(e,t,n){var r="".concat(e,"_").concat(t),a=je({},v);a[r]={type:e,no:t,enable:n},G(a)},E=function(){var e=Me(Fe().mark((function e(t){var n,r,a,o,g;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("rejected"!==t.status){e.next=2;break}return e.abrupt("return",{result:!1,message:t.reason.response.data.message});case 2:return n=Ud,r=t.book_id,e.next=6,uI(Ud,t.book_id,"web.guard",V+(d?"."+d:""),b,X,"plin.pos.book");case 6:a=e.sent,g=0;case 8:if(!(g<60)){e.next=27;break}return e.next=11,Td(1);case 11:return e.next=13,dI(a.pay_id);case 13:if(!(o=e.sent).status.startsWith(sI)){e.next=18;break}return e.abrupt("return",{result:!0,message:"\uc131\uacf5"});case 18:if(!o.status.startsWith(II)){e.next=23;break}return n&&r&&Dc(n,r,"Pay.".concat(II)).then((function(e){return console.log(e)})),e.abrupt("return",{result:!1,message:o.comment});case 23:o.status.startsWith(cI);case 24:g++,e.next=8;break;case 27:return e.abrupt("return",{result:!1,message:"\ub300\uae30 \uc2dc\uac04 \ucd08\uacfc"});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var t=Me(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E,t.next=3,Ec(null,Ud,r,g.format("HH:mm:ss"),I.format("HH:mm:ss"),n.type,n.no,-5,d,V,X,e);case 3:return t.t1=t.sent,t.next=6,(0,t.t0)(t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=Me(Fe().mark((function t(n,a,o){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=E,t.next=3,Ec(null,Ud,r,a.format("HH:mm:ss"),o.format("HH:mm:ss"),n.type,n.no,-5,d,V,X,e);case 3:return t.t1=t.sent,t.next=6,(0,t.t0)(t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),j=function(){var e=Me(Fe().mark((function e(t,n){var r,a,o,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="r_01",r=2===t.type?"seminar":3===t.type?"studio":4===t.type?"hall":"r_"+"".concat(t.no).padStart(2,"0"),a=sessionStorage.getItem("Authorization"),o=function(e){var t=function(e){return n=e,(t=Js()(Js()(n).format("HH:mm"),"HH:mm")).hour()+t.minute()/60;var t,n},n=t(e.startTime),r=t(e.endTime),a=t(g),o=t(I);return r>a&&n<o},i=n[r].filter(o).map((function(e){return e.id})),e.next=7,Promise.allSettled(i.map((function(e){return zd(e,a)})));case 7:return e.next=9,D(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=0===S?"\ub9c9\uae30 \uc804\ub7b5\uc744 \uc120\ud0dd\ud558\uc138\uc694.":1===S?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04\uc774 \ube44\uc5b4\uc788\ub2e4\uba74 \ub9c9\uae30':2===S?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \ube44\uc5b4\uc788\ub294 \uacf3 \ub9c9\uae30':3===S?'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \uacb9\uce58\ub294 \uc608\uc57d\uc744 \ucde8\uc18c\uc2dc\ud0a4\uace0 \ub9c9\uae30':"\ub2e4\uc2dc \uc120\ud0dd\ud558\uc138\uc694.";return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)("div",{style:jd.container,children:[(0,_e.jsx)(kC,{style:jd.image,src:m}),(0,_e.jsxs)("div",{style:{maxWidth:"768px"},children:[(0,_e.jsx)(eC,{value:Qd}),(0,_e.jsx)(fC,{value:r,setValue:function(e){return function(e,t,n){var r=Js()("".concat(e,":").concat(t,":").concat(n),"YYYY:MM:DD");r.isBefore(Js()(),"date")?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \ub0a0\uc9dc\uc785\ub2c8\ub2e4."):a(r.format("YYYY-MM-DD"))}(e.getFullYear(),e.getMonth()+1,e.getDate())}}),(0,_e.jsx)(yC,{min_time:Js()("07:00","hh:mm"),max_time:Js()("23:00","hh:mm"),book_date:r,start_time:g,end_time:I,onSelectStartTime:function(e,t){var n=Js()("".concat(e,":").concat(t),"HH:mm");I&&n.isSameOrAfter(I)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):c(n)},onSelectEndTime:function(e,t){var n=Js()("".concat(e,":").concat(t),"HH:mm");g&&n.isSameOrBefore(g)?alert("\uc62c\ubc14\ub974\uc9c0 \uc54a\uc740 \uc2dc\uac04\uc785\ub2c8\ub2e4."):u(n)}}),(0,_e.jsx)(Os,{department:d,setDepartment:A}),(0,_e.jsxs)(gn.Group,{as:ic,controlId:"room",children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\ub300\uc5ec \uc7a5\uc18c"}),(0,_e.jsxs)(gt,{sm:"10",children:[(0,_e.jsxs)(gt,{style:{backgroundColor:"#82e0aa"},children:[(0,_e.jsx)("span",{children:"\uc2a4\ud130\ub514 \ub8f8: "}),l(new Array(10)).map((function(e,t){return(0,_e.jsx)(gn.Check,{inline:!0,label:t+1,name:"group1",type:"checkbox",checked:v["1_".concat(t+1)]&&v["1_".concat(t+1)].enable,onChange:function(e){return M(1,t+1,e.target.checked)}})})),(0,_e.jsx)(gn.Check,{inline:!0,label:"\uc804\uccb4",name:"group1",type:"checkbox",checked:v["1_1"]&&v["1_1"].enable&&v["1_2"]&&v["1_2"].enable&&v["1_3"]&&v["1_3"].enable&&v["1_4"]&&v["1_4"].enable&&v["1_5"]&&v["1_5"].enable&&v["1_6"]&&v["1_6"].enable&&v["1_7"]&&v["1_7"].enable&&v["1_8"]&&v["1_8"].enable&&v["1_9"]&&v["1_9"].enable&&v["1_10"]&&v["1_10"].enable,onChange:function(e){var t=je({},v);l(new Array(10)).forEach((function(n,r){var a=r+1,o=e.target.checked,g="".concat(1,"_").concat(a);t[g]={type:1,no:a,enable:o}})),G(t)}})]}),(0,_e.jsxs)(gt,{style:{backgroundColor:"#DAF7A6"},children:[(0,_e.jsx)("span",{children:"\uae30\ud0c0 \uc7a5\uc18c: "}),(0,_e.jsx)(gn.Check,{inline:!0,label:"\uc138\ubbf8\ub098\uc2e4",name:"group1",type:"checkbox",onChange:function(e){return M(2,1,e.target.checked)}}),(0,_e.jsx)(gn.Check,{inline:!0,label:"\ud640",name:"group1",type:"checkbox",onChange:function(e){return M(4,1,e.target.checked)}})]})]})]}),(0,_e.jsx)(lI,{paid:b,pay_type:V,region:d,etc_reason:X,setPayType:R,setEtcReason:J,options:["card","saved_money.d","transfer","etc"]}),(0,_e.jsxs)(gn.Group,{as:ic,children:[(0,_e.jsx)(gn.Label,{column:!0,sm:"2",children:"\ub9c9\uae30 \uc804\ub7b5"}),(0,_e.jsx)(gt,{children:(0,_e.jsxs)(va,{as:Dd,variant:"outline-secondary",title:T,onSelect:function(e){return k(parseInt(e))},children:[(0,_e.jsx)(ma.Item,{eventKey:1,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc804\uccb4\uac00 \ube44\uc5b4\uc788\ub294 \uac83\ub9cc \ub9c9\uae30'}),(0,_e.jsx)(ma.Item,{eventKey:2,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \ube44\uc5b4\uc788\ub294 \uacf3\ub9cc \ub9c9\uae30'}),(0,_e.jsx)(ma.Item,{eventKey:3,children:'"\uc2dc\uc791 ~ \ub05d" \uc2dc\uac04 \uc911\uc5d0\uc11c \uacb9\uce58\ub294 \uc608\uc57d\uc744 \ucde8\uc18c\uc2dc\ud0a4\uace0 \ub9c9\uae30'})]})})]}),(0,_e.jsx)(dn,{as:gt,onClick:function(e){if(r)if(g)if(I)if(d)if(v)if(0===Object.values(v).length)alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else if(0===Object.values(v).filter((function(e){return e.enable})).length)alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else if(S)if(V){K(!0);var t=Object.values(v).filter((function(e){return e.enable})),n=function(e,n){return"rejected"===e.status?{result:!1,room:"".concat(t[n].type,"_").concat(t[n].no),message:e.reason.response.data.message}:{result:!0,room:"".concat(t[n].type,"_").concat(t[n].no),message:e.value.message}};if(1===S)Promise.allSettled(t.map(D)).then((function(e){return H(e.map(n))})).then((function(){return p("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return K(!1)}));else if(2===S){var a=Number(2*(I.hour()-g.hour())+(I.minute()-g.minute())/30);l(new Array(a)).map((function(e,t){var n=g.clone();n.add(30*t,"minute");var r=n.clone();return r.add(30,"minute"),{start_time:n,end_time:r}})).map((function(e){Promise.allSettled(t.map((function(t){return z(t,e.start_time,e.end_time)}))).then((function(e){return H(e.map(n))})).then((function(){return p("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return K(!1)}))}))}else if(3===S){Kc(Js()(r).format("YYYY-MM-DD")).then((function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};return e.forEach((function(e,n){if(!Js()(e.book_date).isSame(Js()(r).format("YYYY-MM-DD")))return console.log(Js()(r).format("YYYY-MM-DD"));var a=new Date("".concat(e.book_date,"T").concat(e.start_time)),o=new Date("".concat(e.book_date,"T").concat(e.end_time)),g=Js()(a).format("HH:mm"),i=Js()(o).format("HH:mm"),l={id:e.book_id,name:"[".concat(e.department,"] ").concat(e.user.username," \ud3ec\ud568 ").concat(e.people_no,"\uba85\n").concat(g," - ").concat(i),type:"book",startTime:a,endTime:o,data:e};if(3===e.room.type)t.studio.push(l);else if(2===e.room.type)t.seminar.push(l);else if(4===e.room.type)t.hall.push(l);else if(1===e.room.type){var c=e.room.no;1===c?t.r_01.push(l):2===c?t.r_02.push(l):3===c?t.r_03.push(l):4===c?t.r_04.push(l):5===c?t.r_05.push(l):6===c?t.r_06.push(l):7===c?t.r_07.push(l):8===c?t.r_08.push(l):9===c?t.r_09.push(l):10===c&&t.r_10.push(l)}})),t})).then((function(e){Promise.allSettled(t.map((function(t){return j(t,e)}))).then((function(e){return H(e.map(n))})).then((function(){return p("/api/books/".concat(r,".png?_=").concat((new Date).valueOf()))})).then((function(){return K(!1)}))}))}}else alert("\uacb0\uc81c \ubc29\ubc95 \uc124\uc815 \ud544\uc694");else alert("\ub9c9\uae30 \uc804\ub7b5 \uc124\uc815 \ud544\uc694");else alert("\uc7a5\uc18c \uc124\uc815 \ud544\uc694");else alert("\uc9c0\uc5ed \uc124\uc815 \ud544\uc694");else alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694");else alert("\uc2dc\uac04 \uc124\uc815 \ud544\uc694");else alert("\ub0a0\uc9dc \uc124\uc815 \ud544\uc694")},variant:"primary",disabled:F,children:"\uc2e0\uccad"})]}),(0,_e.jsxs)(ac,{show:x.length>0,onHide:function(){return H([])},children:[(0,_e.jsx)(ac.Header,{closeButton:!0,children:(0,_e.jsx)(ac.Title,{children:"Modal heading"})}),(0,_e.jsx)(ac.Body,{children:(0,_e.jsxs)(TC,{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,_e.jsx)("th",{children:"\ub300\uc0c1"}),(0,_e.jsx)("th",{children:"\uc0c1\uc138"})]})}),(0,_e.jsx)("tbody",{children:0===x.length?null:x.map((function(e){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.result?"\uc131\uacf5":"\uc2e4\ud328"}),(0,_e.jsx)("td",{children:Ld(e.room)}),(0,_e.jsx)("td",{children:e.message})]})}))})]})}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{variant:"secondary",onClick:function(){return H([])},children:"Close"})})]})]})]})},Od={container:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"inherit",justifyContent:"center"}},Pd=function(e){var t=e.show,n=e.handleClose,r=e.title,a=e.message;return(0,_e.jsxs)(ac,{show:t,onHide:n,backdrop:"static",keyboard:!1,children:[(0,_e.jsx)(ac.Header,{children:(0,_e.jsx)(ac.Title,{children:r})}),(0,_e.jsx)(ac.Body,{children:a}),(0,_e.jsx)(ac.Footer,{children:(0,_e.jsx)(dn,{onClick:n,children:"\ud655\uc778"})})]})},qd=function(e){console.log("DonationPage::props::".concat(JSON.stringify(e,null,2)));var n=Ie(),r=Ce(),a=i((0,t.useState)(0),2),o=a[0],g=a[1],l=i((0,t.useReducer)(KI,RI,void 0),2),c=l[0],s=l[1],I=i((0,t.useState)(null),2),u=I[0],C=I[1];(0,t.useEffect)((function(){n.state?wI(s,n.state.user.username):r("/")}),[n.state,r]);return(0,_e.jsxs)(ct,{style:Od.container,children:[(0,_e.jsx)(eC,{value:c.username}),(0,_e.jsx)(Os,{department:c.department,setDepartment:function(e){return YI(s,e)}}),(0,_e.jsx)(lI,{paid:o,setPaid:g,pay_type:c.pay_type,region:c.department,etc_reason:c.pay_type_etc_reason,setPayType:function(e){return NI(s,e)},setEtcReason:function(e){return FI(s,e)},options:["card"]}),(0,_e.jsxs)(ic,{children:[(0,_e.jsx)(dn,{as:gt,onClick:function(){return r("/books")},variant:"secondary",children:"\ucde8\uc18c"}),(0,_e.jsx)(dn,{as:gt,variant:"primary",onClick:function(){Number(o)<1e3?C((0,_e.jsx)(Pd,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"1000 \uc6d0 \ubd80\ud130 \ud6c4\uc6d0 \uac00\ub2a5\ud569\ub2c8\ub2e4.",handleClose:function(){return C(null)}})):c.department?CI(n.state.user.user_id,"web.guard",c.pay_type+(c.department?"."+c.department:""),o,c.pay_type_etc_reason,"plin.kiosk.book").then((function(e){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::pay::".concat(JSON.stringify(e,null,2))),C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694"})),setTimeout.apply(void 0,[function e(t,n){console.log("GuestDonationPage::handleOnClickDonation::postPayDonation::timer::".concat(JSON.stringify(n,null,2))),C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \ub300\uae30\uc911",message:"\uacb0\uc81c\ud574\uc8fc\uc138\uc694(".concat(Math.round(n/2)," \ucd08)")})),n>0?dI(t).then((function(a){a.status.startsWith(sI)?(console.log("GuestBookPage::handleOnClickBook::postBook::postPay::pay_result::".concat(JSON.stringify(a,null,2))),C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \uc644\ub8cc",message:"\uacb0\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))):a.status.startsWith(II)?C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:a.comment?a.comment:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}})):a.status.startsWith(cI)&&setTimeout.apply(void 0,[e,500].concat([t,n-1]))})).catch((function(e){console.error(e),C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \uc2e4\ud328",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))})):C((0,_e.jsx)(Pd,{show:!0,title:"\uacb0\uc81c \ub300\uae30 \uc2dc\uac04 \ucd08\uacfc",message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/books")}}))},500].concat([e.pay_id,60]))})).catch((function(e){console.error(e),C((0,_e.jsx)(Pd,{show:!0,title:"\uc624\ub958 \ubc1c\uc0dd",message:e?e.response.message:"\ub2e4\uc2dc \uacb0\uc81c\ubc14\ub78d\ub2c8\ub2e4.",handleClose:function(){return r("/")}}))})):C((0,_e.jsx)(Pd,{show:!0,title:"\uc694\uccad \uc2e4\ud328",message:"\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694.",handleClose:function(){return C(null)}}))},children:"\uc2e0\uccad"})]}),u]})},$d=function(e){var n=Ce(),r=i((0,t.useState)(""),2),a=r[0],o=r[1];(0,t.useEffect)((function(){sg.get("/api/info",{timeout:1e3}).then((function(e){return e.data})).then((function(e){o(e.server_version),e.login||alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4!!!")}))}),[]);var g={minHeight:"10vw",fontSize:"2rem",textAlign:"center"},l={cursor:"pointer"};return(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsx)(ic,{style:g,children:(0,_e.jsxs)("h1",{children:["\uc11c\ubc84 \ubc84\uc804: ",a," / \ud074\ub77c \ubc84\uc804: ",document.querySelector('meta[name="description"]').content]})}),(0,_e.jsxs)(ct,{className:"admin-main-page-container",children:[(0,_e.jsxs)(ic,{style:g,children:[(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#5499c7"}),onClick:function(){return n("/qr")},children:[(0,_e.jsx)(Gu,{}),"QR \uc778\uc99d"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#a9cce3"}),onClick:function(){return n("/users")},children:[(0,_e.jsx)(vu,{}),"\ud68c\uc6d0"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#a3e4d7"}),onClick:function(){return n("/books")},children:[(0,_e.jsx)(bu,{}),"\uc608\uc57d"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#a2d9ce"}),onClick:function(){return n("/lockers")},children:[(0,_e.jsx)(ku,{}),"\uc0ac\ubb3c\ud568"]})]}),(0,_e.jsxs)(ic,{style:g,children:[(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#a2d9ce"}),onClick:function(){return n("/configs")},children:[(0,_e.jsx)(Ru,{}),"\uc124\uc815"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#a9dfbf"}),onClick:function(){return n("/exports")},children:[(0,_e.jsx)(yu,{}),"\ucd94\ucd9c"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#d5dbdb"}),onClick:function(){return n("/commute")},children:[(0,_e.jsx)(Bu,{}),"\ucd9c\ud1f4\uadfc \uad00\ub9ac"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#e59866"}),onClick:function(){return n("/coupon")},children:[(0,_e.jsx)(Su,{}),"\ucfe0\ud3f0"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#f5b7b1"}),onClick:function(){return n("/accounts")},children:[(0,_e.jsx)(Bu,{}),"\ub9c8\uac10 \uc815\uc0b0"]})]}),(0,_e.jsxs)(ic,{style:g,children:[(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#f9e79f"}),onClick:function(){return n("/statusBook")},children:[(0,_e.jsx)(wu,{}),"\ub300\uad00 \uc815\ubcf4"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#58d68d"}),onClick:function(){return n("/chart")},children:[(0,_e.jsx)(Xu,{}),"\ud1b5\uacc4"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#e6b0aa"}),onClick:function(){return n("/blocker")},children:[(0,_e.jsx)(Wu,{}),"\ub9c9\uae30"]}),(0,_e.jsxs)(gt,{style:je(je({},l),{},{backgroundColor:"#cd6155"}),onClick:function(){sg.get("/api/logout",{timeout:1e3}).then((function(e){window.location.href="/logout"}))},children:[(0,_e.jsx)(Vu,{}),"\ub85c\uadf8\uc544\uc6c3"]})]}),!1]})]})};function eA(){}var tA=function(){var e=0;return function(){return e++}}();function nA(e){return null===e||"undefined"===typeof e}function rA(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function aA(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}var oA=function(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)};function gA(e,t){return oA(e)?e:t}function iA(e,t){return"undefined"===typeof e?t:e}var lA=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function cA(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function sA(e,t,n,r){var a,o,g;if(rA(e))if(o=e.length,r)for(a=o-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<o;a++)t.call(n,e[a],a);else if(aA(e))for(o=(g=Object.keys(e)).length,a=0;a<o;a++)t.call(n,e[g[a]],g[a])}function IA(e,t){var n,r,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],o=t[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function uA(e){if(rA(e))return e.map(uA);if(aA(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,a=0;a<r;++a)t[n[a]]=uA(e[n[a]]);return t}return e}function CA(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function dA(e,t,n,r){if(CA(e)){var a=t[e],o=n[e];aA(a)&&aA(o)?AA(a,o,r):t[e]=uA(o)}}function AA(e,t,n){var r=rA(t)?t:[t],a=r.length;if(!aA(e))return e;for(var o=(n=n||{}).merger||dA,g=0;g<a;++g)if(aA(t=r[g]))for(var i=Object.keys(t),l=0,c=i.length;l<c;++l)o(i[l],e,t,n);return e}function hA(e,t){return AA(e,t,{merger:mA})}function mA(e,t,n){if(CA(e)){var r=t[e],a=n[e];aA(r)&&aA(a)?hA(r,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=uA(a))}}var pA={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function fA(e,t){var n=pA[t]||(pA[t]=function(e){var t=function(e){var t,n=e.split("."),r=[],a="",o=Hn(n);try{for(o.s();!(t=o.n()).done;){(a+=t.value).endsWith("\\")?a=a.slice(0,-1)+".":(r.push(a),a="")}}catch(g){o.e(g)}finally{o.f()}return r}(e);return function(e){var n,r=Hn(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(""===a)break;e=e&&e[a]}}catch(o){r.e(o)}finally{r.f()}return e}}(t));return n(e)}function bA(e){return e.charAt(0).toUpperCase()+e.slice(1)}var yA=function(e){return"undefined"!==typeof e},ZA=function(e){return"function"===typeof e},vA=function(e,t){if(e.size!==t.size)return!1;var n,r=Hn(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!t.has(a))return!1}}catch(o){r.e(o)}finally{r.f()}return!0};var GA=Math.PI,BA=2*GA,SA=BA+GA,kA=Number.POSITIVE_INFINITY,WA=GA/180,VA=GA/2,RA=GA/4,wA=2*GA/3,XA=Math.log10,JA=Math.sign;function YA(e){var t=Math.round(e);e=HA(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(XA(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function xA(e){return!isNaN(parseFloat(e))&&isFinite(e)}function HA(e,t,n){return Math.abs(e-t)<n}function NA(e,t,n){var r,a,o;for(r=0,a=e.length;r<a;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function FA(e){return e*(GA/180)}function KA(e){return e*(180/GA)}function MA(e){if(oA(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function EA(e,t){var n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*GA&&(o+=BA),{angle:o,distance:a}}function DA(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zA(e,t){return(e-t+SA)%BA-GA}function jA(e){return(e%BA+BA)%BA}function TA(e,t,n,r){var a=jA(e),o=jA(t),g=jA(n),i=jA(o-a),l=jA(g-a),c=jA(a-o),s=jA(a-g);return a===o||a===g||r&&o===g||i>l&&c<s}function LA(e,t,n){return Math.max(t,Math.min(n,e))}function UA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function QA(e,t,n){n=n||function(n){return e[n]<t};for(var r,a=e.length-1,o=0;a-o>1;)n(r=o+a>>1)?o=r:a=r;return{lo:o,hi:a}}var _A=function(e,t,n,r){return QA(e,n,r?function(r){return e[r][t]<=n}:function(r){return e[r][t]<n})},OA=function(e,t,n){return QA(e,n,(function(r){return e[r][t]>=n}))};var PA=["push","pop","shift","splice","unshift"];function qA(e,t){var n=e._chartjs;if(n){var r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),r.length>0||(PA.forEach((function(t){delete e[t]})),delete e._chartjs)}}function $A(e){var t,n,r=new Set;for(t=0,n=e.length;t<n;++t)r.add(e[t]);return r.size===n?e:Array.from(r)}var eh="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function th(e,t,n){var r=n||function(e){return Array.prototype.slice.call(e)},a=!1,o=[];return function(){for(var n=arguments.length,g=new Array(n),i=0;i<n;i++)g[i]=arguments[i];o=r(g),a||(a=!0,eh.call(window,(function(){a=!1,e.apply(t,o)})))}}var nh=function(e){return"start"===e?"left":"end"===e?"right":"center"},rh=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function ah(e,t,n){var r=t.length,a=0,o=r;if(e._sorted){var g=e.iScale,i=e._parsed,l=g.axis,c=g.getUserBounds(),s=c.min,I=c.max,u=c.minDefined,C=c.maxDefined;u&&(a=LA(Math.min(_A(i,g.axis,s).lo,n?r:_A(t,l,g.getPixelForValue(s)).lo),0,r-1)),o=C?LA(Math.max(_A(i,g.axis,I,!0).hi+1,n?0:_A(t,l,g.getPixelForValue(I),!0).hi+1),a,r)-a:r-a}return{start:a,count:o}}function oh(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=a,!0;var o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,a),o}var gh=function(e){return 0===e||1===e},ih=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*BA/n)},lh=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*BA/n)+1},ch={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*VA)},easeOutSine:function(e){return Math.sin(e*VA)},easeInOutSine:function(e){return-.5*(Math.cos(GA*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return gh(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return gh(e)?e:ih(e,.075,.3)},easeOutElastic:function(e){return gh(e)?e:lh(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return gh(e)?e:e<.5?.5*ih(2*e,t,.45):.5+.5*lh(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-ch.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*ch.easeInBounce(2*e):.5*ch.easeOutBounce(2*e-1)+.5}};function sh(e){return e+.5|0}var Ih=function(e,t,n){return Math.max(Math.min(e,n),t)};function uh(e){return Ih(sh(2.55*e),0,255)}function Ch(e){return Ih(sh(255*e),0,255)}function dh(e){return Ih(sh(e/2.55)/100,0,1)}function Ah(e){return Ih(sh(100*e),0,100)}var hh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mh=l("0123456789ABCDEF"),ph=function(e){return mh[15&e]},fh=function(e){return mh[(240&e)>>4]+mh[15&e]},bh=function(e){return(240&e)>>4===(15&e)};function yh(e){var t=function(e){return bh(e.r)&&bh(e.g)&&bh(e.b)&&bh(e.a)}(e)?ph:fh;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var Zh=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vh(e,t,n){var r=t*Math.min(n,1-n),a=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function Gh(e,t,n){var r=function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(a,4-a,1),0)};return[r(5),r(3),r(1)]}function Bh(e,t,n){var r,a=vh(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)a[r]*=1-t-n,a[r]+=t;return a}function Sh(e){var t,n,r,a=e.r/255,o=e.g/255,g=e.b/255,i=Math.max(a,o,g),l=Math.min(a,o,g),c=(i+l)/2;return i!==l&&(r=i-l,n=c>.5?r/(2-i-l):r/(i+l),t=function(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}(a,o,g,r,i),t=60*t+.5),[0|t,n||0,c]}function kh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ch)}function Wh(e,t,n){return kh(vh,e,t,n)}function Vh(e){return(e%360+360)%360}function Rh(e){var t,n=Zh.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?uh(+n[5]):Ch(+n[5]));var a=Vh(+n[2]),o=+n[3]/100,g=+n[4]/100;return{r:(t="hwb"===n[1]?function(e,t,n){return kh(Bh,e,t,n)}(a,o,g):"hsv"===n[1]?function(e,t,n){return kh(Gh,e,t,n)}(a,o,g):Wh(a,o,g))[0],g:t[1],b:t[2],a:r}}}var wh,Xh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Jh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Yh(e){wh||((wh=function(){var e,t,n,r,a,o={},g=Object.keys(Jh),i=Object.keys(Xh);for(e=0;e<g.length;e++){for(r=a=g[e],t=0;t<i.length;t++)n=i[t],a=a.replace(n,Xh[n]);n=parseInt(Jh[r],16),o[a]=[n>>16&255,n>>8&255,255&n]}return o}()).transparent=[0,0,0,0]);var t=wh[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var xh=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var Hh=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},Nh=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function Fh(e,t,n){if(e){var r=Sh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Wh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Kh(e,t){return e?Object.assign(t||{},e):e}function Mh(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ch(e[3]))):(t=Kh(e,{r:0,g:0,b:0,a:1})).a=Ch(t.a),t}function Eh(e){return"r"===e.charAt(0)?function(e){var t,n,r,a=xh.exec(e),o=255;if(a){if(a[7]!==t){var g=+a[7];o=a[8]?uh(g):Ih(255*g,0,255)}return t=+a[1],n=+a[3],r=+a[5],{r:t=255&(a[2]?uh(t):Ih(t,0,255)),g:n=255&(a[4]?uh(n):Ih(n,0,255)),b:r=255&(a[6]?uh(r):Ih(r,0,255)),a:o}}}(e):Rh(e)}var Dh=function(){function e(t){if(c(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=Mh(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*hh[e[1]],g:255&17*hh[e[2]],b:255&17*hh[e[3]],a:5===n?17*hh[e[4]]:255}:7!==n&&9!==n||(t={r:hh[e[1]]<<4|hh[e[2]],g:hh[e[3]]<<4|hh[e[4]],b:hh[e[5]]<<4|hh[e[6]],a:9===n?hh[e[7]]<<4|hh[e[8]]:255})),t}(t)||Yh(t)||Eh(t)),this._rgb=n,this._valid=!!n}return I(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=Kh(this._rgb);return e&&(e.a=dh(e.a)),e},set:function(e){this._rgb=Mh(e)}},{key:"rgbString",value:function(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(dh(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}},{key:"hexString",value:function(){return this._valid?yh(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=Sh(e),n=t[0],r=Ah(t[1]),a=Ah(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(dh(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,a=e.rgb,o=t===n?.5:t,g=2*o-1,i=r.a-a.a,l=((g*i===-1?g:(g+i)/(1+g*i))+1)/2;n=1-l,r.r=255&l*r.r+n*a.r+.5,r.g=255&l*r.g+n*a.g+.5,r.b=255&l*r.b+n*a.b+.5,r.a=o*r.a+(1-o)*a.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=Nh(dh(e.r)),a=Nh(dh(e.g)),o=Nh(dh(e.b));return{r:Ch(Hh(r+n*(Nh(dh(t.r))-r))),g:Ch(Hh(a+n*(Nh(dh(t.g))-a))),b:Ch(Hh(o+n*(Nh(dh(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=Ch(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=sh(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return Fh(this._rgb,2,e),this}},{key:"darken",value:function(e){return Fh(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return Fh(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return Fh(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=Sh(e);n[0]=Vh(n[0]+t),n=Wh(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function zh(e){return new Dh(e)}function jh(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Th(e){return jh(e)?e:zh(e)}function Lh(e){return jh(e)?e:zh(e).saturate(.5).darken(.1).hexString()}var Uh=Object.create(null),Qh=Object.create(null);function _h(e,t){if(!t)return e;for(var n=t.split("."),r=0,a=n.length;r<a;++r){var o=n[r];e=e[o]||(e[o]=Object.create(null))}return e}function Oh(e,t,n){return"string"===typeof t?AA(_h(e,t),n):AA(_h(e,""),t)}var Ph=function(){function e(t){c(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return Lh(t.backgroundColor)},this.hoverBorderColor=function(e,t){return Lh(t.borderColor)},this.hoverColor=function(e,t){return Lh(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}return I(e,[{key:"set",value:function(e,t){return Oh(this,e,t)}},{key:"get",value:function(e){return _h(this,e)}},{key:"describe",value:function(e,t){return Oh(Qh,e,t)}},{key:"override",value:function(e,t){return Oh(Uh,e,t)}},{key:"route",value:function(e,t,n,r){var a,o=_h(this,e),g=_h(this,n),i="_"+t;Object.defineProperties(o,(De(a={},i,{value:o[t],writable:!0}),De(a,t,{enumerable:!0,get:function(){var e=this[i],t=g[r];return aA(e)?Object.assign({},t,e):iA(e,t)},set:function(e){this[i]=e}}),a))}}]),e}(),qh=new Ph({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function $h(e,t,n,r,a){var o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>r&&(r=o),r}function em(e,t,n,r){var a=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var g,i,l,c,s,I=0,u=n.length;for(g=0;g<u;g++)if(void 0!==(c=n[g])&&null!==c&&!0!==rA(c))I=$h(e,a,o,I,c);else if(rA(c))for(i=0,l=c.length;i<l;i++)void 0===(s=c[i])||null===s||rA(s)||(I=$h(e,a,o,I,s));e.restore();var C=o.length/2;if(C>n.length){for(g=0;g<C;g++)delete a[o[g]];o.splice(0,C)}return I}function tm(e,t,n){var r=e.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((t-a)*r)/r+a}function nm(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function rm(e,t,n,r){am(e,t,n,r,null)}function am(e,t,n,r,a){var o,g,i,l,c,s,I=t.pointStyle,u=t.rotation,C=t.radius,d=(u||0)*WA;if(I&&"object"===typeof I&&("[object HTMLImageElement]"===(o=I.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(d),e.drawImage(I,-I.width/2,-I.height/2,I.width,I.height),void e.restore();if(!(isNaN(C)||C<=0)){switch(e.beginPath(),I){default:a?e.ellipse(n,r,a/2,C,0,0,BA):e.arc(n,r,C,0,BA),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(d)*C,r-Math.cos(d)*C),d+=wA,e.lineTo(n+Math.sin(d)*C,r-Math.cos(d)*C),d+=wA,e.lineTo(n+Math.sin(d)*C,r-Math.cos(d)*C),e.closePath();break;case"rectRounded":l=C-(c=.516*C),g=Math.cos(d+RA)*l,i=Math.sin(d+RA)*l,e.arc(n-g,r-i,c,d-GA,d-VA),e.arc(n+i,r-g,c,d-VA,d),e.arc(n+g,r+i,c,d,d+VA),e.arc(n-i,r+g,c,d+VA,d+GA),e.closePath();break;case"rect":if(!u){l=Math.SQRT1_2*C,s=a?a/2:l,e.rect(n-s,r-l,2*s,2*l);break}d+=RA;case"rectRot":g=Math.cos(d)*C,i=Math.sin(d)*C,e.moveTo(n-g,r-i),e.lineTo(n+i,r-g),e.lineTo(n+g,r+i),e.lineTo(n-i,r+g),e.closePath();break;case"crossRot":d+=RA;case"cross":g=Math.cos(d)*C,i=Math.sin(d)*C,e.moveTo(n-g,r-i),e.lineTo(n+g,r+i),e.moveTo(n+i,r-g),e.lineTo(n-i,r+g);break;case"star":g=Math.cos(d)*C,i=Math.sin(d)*C,e.moveTo(n-g,r-i),e.lineTo(n+g,r+i),e.moveTo(n+i,r-g),e.lineTo(n-i,r+g),d+=RA,g=Math.cos(d)*C,i=Math.sin(d)*C,e.moveTo(n-g,r-i),e.lineTo(n+g,r+i),e.moveTo(n+i,r-g),e.lineTo(n-i,r+g);break;case"line":g=a?a/2:Math.cos(d)*C,i=Math.sin(d)*C,e.moveTo(n-g,r-i),e.lineTo(n+g,r+i);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(d)*C,r+Math.sin(d)*C)}e.fill(),t.borderWidth>0&&e.stroke()}}function om(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function gm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function im(e){e.restore()}function lm(e,t,n,r,a){if(!t)return e.lineTo(n.x,n.y);if("middle"===a){var o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else"after"===a!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function cm(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function sm(e,t,n,r,a){var o,g,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=rA(t)?t:[t],c=i.strokeWidth>0&&""!==i.strokeColor;for(e.save(),e.font=a.string,Im(e,i),o=0;o<l.length;++o)g=l[o],c&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),nA(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(g,n,r,i.maxWidth)),e.fillText(g,n,r,i.maxWidth),um(e,n,r,g,i),r+=a.lineHeight;e.restore()}function Im(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),nA(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function um(e,t,n,r,a){if(a.strikethrough||a.underline){var o=e.measureText(r),g=t-o.actualBoundingBoxLeft,i=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,s=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(g,s),e.lineTo(i,s),e.stroke()}}function Cm(e,t){var n=t.x,r=t.y,a=t.w,o=t.h,g=t.radius;e.arc(n+g.topLeft,r+g.topLeft,g.topLeft,-VA,GA,!0),e.lineTo(n,r+o-g.bottomLeft),e.arc(n+g.bottomLeft,r+o-g.bottomLeft,g.bottomLeft,GA,VA,!0),e.lineTo(n+a-g.bottomRight,r+o),e.arc(n+a-g.bottomRight,r+o-g.bottomRight,g.bottomRight,VA,0,!0),e.lineTo(n+a,r+g.topRight),e.arc(n+a-g.topRight,r+g.topRight,g.topRight,0,-VA,!0),e.lineTo(n+g.topLeft,r)}var dm=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Am=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function hm(e,t){var n=(""+e).match(dm);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function mm(e,t){var n,r={},a=aA(t),o=a?Object.keys(t):t,g=aA(e)?a?function(n){return iA(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},i=Hn(o);try{for(i.s();!(n=i.n()).done;){var l=n.value;r[l]=+g(l)||0}}catch(c){i.e(c)}finally{i.f()}return r}function pm(e){return mm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function fm(e){return mm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function bm(e){var t=pm(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ym(e,t){e=e||{},t=t||qh.font;var n=iA(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=iA(e.style,t.style);r&&!(""+r).match(Am)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var a={family:iA(e.family,t.family),lineHeight:hm(iA(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:iA(e.weight,t.weight),string:""};return a.string=function(e){return!e||nA(e.size)||nA(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Zm(e,t,n,r){var a,o,g,i=!0;for(a=0,o=e.length;a<o;++a)if(void 0!==(g=e[a])&&(void 0!==t&&"function"===typeof g&&(g=g(t),i=!1),void 0!==n&&rA(g)&&(g=g[n%g.length],i=!1),void 0!==g))return r&&!i&&(r.cacheable=!1),g}function vm(e,t){return Object.assign(Object.create(e),t)}function Gm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]};yA(a)||(a=Hm("_fallback",e));var g=(De(t={},Symbol.toStringTag,"Object"),De(t,"_cacheable",!0),De(t,"_scopes",e),De(t,"_rootScopes",r),De(t,"_fallback",a),De(t,"_getTarget",o),De(t,"override",(function(t){return Gm([t].concat(l(e)),n,r,a)})),t);return new Proxy(g,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return Vm(t,r,(function(){return xm(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return Nm(e).includes(t)},ownKeys:function(e){return Nm(e)},set:function(e,t,n){var r=e._storage||(e._storage=o());return e[t]=r[t]=n,delete e._keys,!0}})}function Bm(e,t,n,r){var a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Sm(e,r),setContext:function(t){return Bm(e,t,n,r)},override:function(a){return Bm(e.override(a),t,n,r)}};return new Proxy(a,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return Vm(e,t,(function(){return function(e,t,n){var r=e._proxy,a=e._context,o=e._subProxy,g=e._descriptors,i=r[t];ZA(i)&&g.isScriptable(t)&&(i=function(e,t,n,r){var a=n._proxy,o=n._context,g=n._subProxy,i=n._stack;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e),t=t(o,g||r),i.delete(e),Wm(e,t)&&(t=Jm(a._scopes,a,e,t));return t}(t,i,e,n));rA(i)&&i.length&&(i=function(e,t,n,r){var a=n._proxy,o=n._context,g=n._subProxy,i=n._descriptors;if(yA(o.index)&&r(e))t=t[o.index%t.length];else if(aA(t[0])){var l=t,c=a._scopes.filter((function(e){return e!==l}));t=[];var s,I=Hn(l);try{for(I.s();!(s=I.n()).done;){var u=Jm(c,a,e,s.value);t.push(Bm(u,o,g&&g[e],i))}}catch(C){I.e(C)}finally{I.f()}}return t}(t,i,e,g.isIndexable));Wm(t,i)&&(i=Bm(i,a,o&&o[t],g));return i}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function Sm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,a=e._indexable,o=void 0===a?t.indexable:a,g=e._allKeys,i=void 0===g?t.allKeys:g;return{allKeys:i,scriptable:r,indexable:o,isScriptable:ZA(r)?r:function(){return r},isIndexable:ZA(o)?o:function(){return o}}}var km=function(e,t){return e?e+bA(t):t},Wm=function(e,t){return aA(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function Vm(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function Rm(e,t,n){return ZA(e)?e(t,n):e}var wm=function(e,t){return!0===e?t:"string"===typeof e?fA(t,e):void 0};function Xm(e,t,n,r,a){var o,g=Hn(t);try{for(g.s();!(o=g.n()).done;){var i=o.value,l=wm(n,i);if(l){e.add(l);var c=Rm(l._fallback,n,a);if(yA(c)&&c!==n&&c!==r)return c}else if(!1===l&&yA(r)&&n!==r)return null}}catch(s){g.e(s)}finally{g.f()}return!1}function Jm(e,t,n,r){var a=t._rootScopes,o=Rm(t._fallback,n,r),g=[].concat(l(e),l(a)),i=new Set;i.add(r);var c=Ym(i,g,n,o||n,r);return null!==c&&((!yA(o)||o===n||null!==(c=Ym(i,g,o,c,r)))&&Gm(Array.from(i),[""],a,o,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var a=r[t];if(rA(a)&&aA(n))return n;return a}(t,n,r)})))}function Ym(e,t,n,r,a){for(;n;)n=Xm(e,t,n,r,a);return n}function xm(e,t,n,r){var a,o,g=Hn(t);try{for(g.s();!(o=g.n()).done;){var i=o.value;if(a=Hm(km(i,e),n),yA(a))return Wm(e,a)?Jm(n,r,e,a):a}}catch(l){g.e(l)}finally{g.f()}}function Hm(e,t){var n,r=Hn(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a){var o=a[e];if(yA(o))return o}}}catch(g){r.e(g)}finally{r.f()}}function Nm(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=Hn(e);try{for(r.s();!(t=r.n()).done;){var a,o=t.value,g=Hn(Object.keys(o).filter((function(e){return!e.startsWith("_")})));try{for(g.s();!(a=g.n()).done;){var i=a.value;n.add(i)}}catch(l){g.e(l)}finally{g.f()}}}catch(l){r.e(l)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function Fm(e,t,n,r){var a,o,g,i,l=e.iScale,c=this._parsing.key,s=void 0===c?"r":c,I=new Array(r);for(a=0,o=r;a<o;++a)i=t[g=a+n],I[a]={r:l.parse(fA(i,s),g)};return I}var Km=Number.EPSILON||1e-14,Mm=function(e,t){return t<e.length&&!e[t].skip&&e[t]},Em=function(e){return"x"===e?"y":"x"};function Dm(e,t,n,r){var a=e.skip?t:e,o=t,g=n.skip?t:n,i=DA(o,a),l=DA(g,o),c=i/(i+l),s=l/(i+l),I=r*(c=isNaN(c)?0:c),u=r*(s=isNaN(s)?0:s);return{previous:{x:o.x-I*(g.x-a.x),y:o.y-I*(g.y-a.y)},next:{x:o.x+u*(g.x-a.x),y:o.y+u*(g.y-a.y)}}}function zm(e,t,n){for(var r,a,o,g,i,l=e.length,c=Mm(e,0),s=0;s<l-1;++s)i=c,c=Mm(e,s+1),i&&c&&(HA(t[s],0,Km)?n[s]=n[s+1]=0:(r=n[s]/t[s],a=n[s+1]/t[s],(g=Math.pow(r,2)+Math.pow(a,2))<=9||(o=3/Math.sqrt(g),n[s]=r*o*t[s],n[s+1]=a*o*t[s])))}function jm(e,t){for(var n,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",g=Em(o),i=e.length,l=Mm(e,0),c=0;c<i;++c)if(r=a,a=l,l=Mm(e,c+1),a){var s=a[o],I=a[g];r&&(n=(s-r[o])/3,a["cp1".concat(o)]=s-n,a["cp1".concat(g)]=I-n*t[c]),l&&(n=(l[o]-s)/3,a["cp2".concat(o)]=s+n,a["cp2".concat(g)]=I+n*t[c])}}function Tm(e,t,n){return Math.max(Math.min(e,n),t)}function Lm(e,t,n,r,a){var o,g,i,l;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)!function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=Em(a),g=e.length,i=Array(g).fill(0),l=Array(g),c=Mm(e,0);for(t=0;t<g;++t)if(n=r,r=c,c=Mm(e,t+1),r){if(c){var s=c[a]-r[a];i[t]=0!==s?(c[o]-r[o])/s:0}l[t]=n?c?JA(i[t-1])!==JA(i[t])?0:(i[t-1]+i[t])/2:i[t-1]:i[t]}zm(e,i,l),jm(e,l,a)}(e,a);else{var c=r?e[e.length-1]:e[0];for(o=0,g=e.length;o<g;++o)l=Dm(c,i=e[o],e[Math.min(o+1,g-(r?0:1))%g],t.tension),i.cp1x=l.previous.x,i.cp1y=l.previous.y,i.cp2x=l.next.x,i.cp2y=l.next.y,c=i}t.capBezierPoints&&function(e,t){var n,r,a,o,g,i=om(e[0],t);for(n=0,r=e.length;n<r;++n)g=o,o=i,i=n<r-1&&om(e[n+1],t),o&&(a=e[n],g&&(a.cp1x=Tm(a.cp1x,t.left,t.right),a.cp1y=Tm(a.cp1y,t.top,t.bottom)),i&&(a.cp2x=Tm(a.cp2x,t.left,t.right),a.cp2y=Tm(a.cp2y,t.top,t.bottom)))}(e,n)}function Um(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Qm(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function _m(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var Om=function(e){return window.getComputedStyle(e,null)};var Pm=["top","right","bottom","left"];function qm(e,t,n){var r={};n=n?"-"+n:"";for(var a=0;a<4;a++){var o=Pm[a];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function $m(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,a=Om(n),o="border-box"===a.boxSizing,g=qm(a,"padding"),i=qm(a,"border","width"),l=function(e,t){var n,r,a=e.touches,o=a&&a.length?a[0]:e,g=o.offsetX,i=o.offsetY,l=!1;if(function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)}(g,i,e.target))n=g,r=i;else{var c=t.getBoundingClientRect();n=o.clientX-c.left,r=o.clientY-c.top,l=!0}return{x:n,y:r,box:l}}(e,n),c=l.x,s=l.y,I=l.box,u=g.left+(I&&i.left),C=g.top+(I&&i.top),d=t.width,A=t.height;return o&&(d-=g.width+i.width,A-=g.height+i.height),{x:Math.round((c-u)/d*n.width/r),y:Math.round((s-C)/A*n.height/r)}}var ep=function(e){return Math.round(10*e)/10};function tp(e,t,n,r){var a=Om(e),o=qm(a,"margin"),g=_m(a.maxWidth,e,"clientWidth")||kA,i=_m(a.maxHeight,e,"clientHeight")||kA,l=function(e,t,n){var r,a;if(void 0===t||void 0===n){var o=Qm(e);if(o){var g=o.getBoundingClientRect(),i=Om(o),l=qm(i,"border","width"),c=qm(i,"padding");t=g.width-c.width-l.width,n=g.height-c.height-l.height,r=_m(i.maxWidth,o,"clientWidth"),a=_m(i.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||kA,maxHeight:a||kA}}(e,t,n),c=l.width,s=l.height;if("content-box"===a.boxSizing){var I=qm(a,"border","width"),u=qm(a,"padding");c-=u.width+I.width,s-=u.height+I.height}return c=Math.max(0,c-o.width),s=Math.max(0,r?Math.floor(c/r):s-o.height),c=ep(Math.min(c,g,l.maxWidth)),s=ep(Math.min(s,i,l.maxHeight)),c&&!s&&(s=ep(c/2)),{width:c,height:s}}function np(e,t,n){var r=t||1,a=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=a/r,e.width=o/r;var g=e.canvas;return g.style&&(n||!g.style.height&&!g.style.width)&&(g.style.height="".concat(e.height,"px"),g.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||g.height!==a||g.width!==o)&&(e.currentDevicePixelRatio=r,g.height=a,g.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}var rp=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(zv){}return e}();function ap(e,t){var n=function(e,t){return Om(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function op(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function gp(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function ip(e,t,n,r){var a={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},g=op(e,a,n),i=op(a,o,n),l=op(o,t,n),c=op(g,i,n),s=op(i,l,n);return op(c,s,n)}var lp=new Map;function cp(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=lp.get(n);return r||(r=new Intl.NumberFormat(e,t),lp.set(n,r)),r}(t,n).format(e)}function sp(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function Ip(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function up(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Cp(e){return"angle"===e?{between:TA,compare:zA,normalize:jA}:{between:UA,compare:function(e,t){return e-t},normalize:function(e){return e}}}function dp(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function Ap(e,t,n){if(!n)return[e];for(var r,a,o,g=n.property,i=n.start,l=n.end,c=t.length,s=Cp(g),I=s.compare,u=s.between,C=s.normalize,d=function(e,t,n){var r,a,o=n.property,g=n.start,i=n.end,l=Cp(o),c=l.between,s=l.normalize,I=t.length,u=e.start,C=e.end,d=e.loop;if(d){for(u+=I,C+=I,r=0,a=I;r<a&&c(s(t[u%I][o]),g,i);++r)u--,C--;u%=I,C%=I}return C<u&&(C+=I),{start:u,end:C,loop:d,style:e.style}}(e,t,n),A=d.start,h=d.end,m=d.loop,p=d.style,f=[],b=!1,y=null,Z=function(){return b||u(i,o,r)&&0!==I(i,o)},v=function(){return!b||0===I(l,r)||u(l,o,r)},G=A,B=A;G<=h;++G)(a=t[G%c]).skip||(r=C(a[g]))!==o&&(b=u(r,i,l),null===y&&Z()&&(y=0===I(r,i)?G:B),null!==y&&v()&&(f.push(dp({start:y,end:G,loop:m,count:c,style:p})),y=null),B=G,o=r);return null!==y&&f.push(dp({start:y,end:h,loop:m,count:c,style:p})),f}function hp(e,t){for(var n=[],r=e.segments,a=0;a<r.length;a++){var o=Ap(r[a],e.points,t);o.length&&n.push.apply(n,l(o))}return n}function mp(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var a=e._chart.getContext(),o=pp(e.options),g=e._datasetIndex,i=e.options.spanGaps,l=n.length,c=[],s=o,I=t[0].start,u=I;function C(e,t,r,a){var o=i?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:a}),s=a,I=t%l)}}var d,A=Hn(t);try{for(A.s();!(d=A.n()).done;){var h=d.value;I=i?I:h.start;var m=n[I%l],p=void 0;for(u=I+1;u<=h.end;u++){var f=n[u%l];fp(p=pp(r.setContext(vm(a,{type:"segment",p0:m,p1:f,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:g}))),s)&&C(I,u-1,h.loop,s),m=f,s=p}I<u-1&&C(I,u-1,h.loop,s)}}catch(b){A.e(b)}finally{A.f()}return c}(e,t,n,r):t}function pp(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function fp(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var bp=function(){function e(){c(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return I(e,[{key:"_notify",value:function(e,t,n,r){var a=t.listeners[r],o=t.duration;a.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=eh.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,a){if(r.running&&r.items.length){for(var o,g=r.items,i=g.length-1,l=!1;i>=0;--i)(o=g[i])._active?(o._total>r.duration&&(r.duration=o._total),o.tick(t),l=!0):(g[i]=g[g.length-1],g.pop());l&&(a.draw(),e._notify(a,r,t,"progress")),g.length||(r.running=!1,e._notify(a,r,t,"complete"),r.initial=!1),n+=g.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,l(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),yp=new bp,Zp="transparent",vp={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=Th(e||Zp),a=r.valid&&Th(t||Zp);return a&&a.valid?a.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},Gp=function(){function e(t,n,r,a){c(this,e);var o=n[r];a=Zm([t.to,a,o,t.from]);var g=Zm([t.from,o,a]);this._active=!0,this._fn=t.fn||vp[t.type||typeof g],this._easing=ch[t.easing]||ch.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=g,this._to=a,this._promises=void 0}return I(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Zm([e.to,t,r,e.from]),this._from=Zm([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,a=this._prop,o=this._from,g=this._loop,i=this._to;if(this._active=o!==i&&(g||n<r),!this._active)return this._target[a]=i,void this._notify(!0);n<0?this._target[a]=o:(t=n/r%2,t=g&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[a]=this._fn(o,i,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}();qh.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var Bp=Object.keys(qh.animation);qh.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),qh.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),qh.describe("animations",{_fallback:"animation"}),qh.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}});var Sp=function(){function e(t,n){c(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return I(e,[{key:"configure",value:function(e){if(aA(e)){var t=this._properties;Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];if(aA(r)){var a,o={},g=Hn(Bp);try{for(g.s();!(a=g.n()).done;){var i=a.value;o[i]=r[i]}}catch(l){g.e(l)}finally{g.f()}(rA(r.properties)&&r.properties||[n]).forEach((function(e){e!==n&&t.has(e)||t.set(e,o)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var a=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),a=0;a<r.length;a++){var o=e[r[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),a}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,a=[],o=e.$animations||(e.$animations={}),g=Object.keys(t),i=Date.now();for(n=g.length-1;n>=0;--n){var c=g[n];if("$"!==c.charAt(0))if("options"!==c){var s=t[c],I=o[c],u=r.get(c);if(I){if(u&&I.active()){I.update(u,s,i);continue}I.cancel()}u&&u.duration?(o[c]=I=new Gp(u,e,c,s),a.push(I)):e[c]=s}else a.push.apply(a,l(this._animateOptions(e,t)))}return a}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(yp.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function kp(e,t){var n=e&&e.options||{},r=n.reverse,a=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:a,end:r?a:o}}function Wp(e,t){var n,r,a=[],o=e._getSortedDatasetMetas(t);for(n=0,r=o.length;n<r;++n)a.push(o[n].index);return a}function Vp(e,t,n){var r,a,o,g,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e.keys,c="single"===i.mode;if(null!==t){for(r=0,a=l.length;r<a;++r){if((o=+l[r])===n){if(i.all)continue;break}g=e.values[o],oA(g)&&(c||0===t||JA(t)===JA(g))&&(t+=g)}return t}}function Rp(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function wp(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Xp(e,t,n,r){var a,o=Hn(t.getMatchingVisibleMetas(r).reverse());try{for(o.s();!(a=o.n()).done;){var g=a.value,i=e[g.index];if(n&&i>0||!n&&i<0)return g.index}}catch(l){o.e(l)}finally{o.f()}return null}function Jp(e,t){for(var n,r=e.chart,a=e._cachedMeta,o=r._stacks||(r._stacks={}),g=a.iScale,i=a.vScale,l=a.index,c=g.axis,s=i.axis,I=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(g,i,a),u=t.length,C=0;C<u;++C){var d=t[C],A=d[c],h=d[s];(n=(d._stacks||(d._stacks={}))[s]=wp(o,I,A))[l]=h,n._top=Xp(n,i,!0,a.type),n._bottom=Xp(n,i,!1,a.type)}}function Yp(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function xp(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){var a,o=Hn(t=t||e._parsed);try{for(o.s();!(a=o.n()).done;){var g=a.value._stacks;if(!g||void 0===g[r]||void 0===g[r][n])return;delete g[r][n]}}catch(i){o.e(i)}finally{o.f()}}}var Hp=function(e){return"reset"===e||"none"===e},Np=function(e,t){return t?e:Object.assign({},e)},Fp=function(){function e(t,n){c(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}return I(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Rp(e.vScale,e),this.addElements()}},{key:"updateIndex",value:function(e){this.index!==e&&xp(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},a=t.xAxisID=iA(n.xAxisID,Yp(e,"x")),o=t.yAxisID=iA(n.yAxisID,Yp(e,"y")),g=t.rAxisID=iA(n.rAxisID,Yp(e,"r")),i=t.indexAxis,l=t.iAxisID=r(i,a,o,g),c=t.vAxisID=r(i,o,a,g);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(g),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&qA(this._data,this),e._stacked&&xp(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),r=n.data||(n.data=[]),a=this._data;if(aA(r))this._data=function(e){var t,n,r,a=Object.keys(e),o=new Array(a.length);for(t=0,n=a.length;t<n;++t)r=a[t],o[t]={x:r,y:e[r]};return o}(r);else if(a!==r){if(a){qA(a,this);var o=this._cachedMeta;xp(o),o._parsed=[]}r&&Object.isExtensible(r)&&(t=this,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PA.forEach((function(t){var n="_onData"+bA(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var g=r.apply(this,a);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,a)})),g}})})))),this._syncList=[],this._data=r}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var a=t._stacked;t._stacked=Rp(t.vScale,t),t.stack!==n.stack&&(r=!0,xp(t),t.stack=n.stack),this._resyncElements(e),(r||a!==t._stacked)&&Jp(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,a,o=this._cachedMeta,g=this._data,i=o.iScale,l=o._stacked,c=i.axis,s=0===e&&t===g.length||o._sorted,I=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=g,o._sorted=!0,a=g;else{a=rA(g[e])?this.parseArrayData(o,g,e,t):aA(g[e])?this.parseObjectData(o,g,e,t):this.parsePrimitiveData(o,g,e,t);for(n=0;n<t;++n)o._parsed[n+e]=r=a[n],s&&((null===r[c]||I&&r[c]<I[c])&&(s=!1),I=r);o._sorted=s}l&&Jp(this,a)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var a,o,g,i=e.iScale,l=e.vScale,c=i.axis,s=l.axis,I=i.getLabels(),u=i===l,C=new Array(r);for(a=0,o=r;a<o;++a){var d;g=a+n,C[a]=(De(d={},c,u||i.parse(I[g],g)),De(d,s,l.parse(t[g],g)),d)}return C}},{key:"parseArrayData",value:function(e,t,n,r){var a,o,g,i,l=e.xScale,c=e.yScale,s=new Array(r);for(a=0,o=r;a<o;++a)i=t[g=a+n],s[a]={x:l.parse(i[0],g),y:c.parse(i[1],g)};return s}},{key:"parseObjectData",value:function(e,t,n,r){var a,o,g,i,l=e.xScale,c=e.yScale,s=this._parsing,I=s.xAxisKey,u=void 0===I?"x":I,C=s.yAxisKey,d=void 0===C?"y":C,A=new Array(r);for(a=0,o=r;a<o;++a)i=t[g=a+n],A[a]={x:l.parse(fA(i,u),g),y:c.parse(fA(i,d),g)};return A}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,a=this._cachedMeta,o=t[e.axis];return Vp({keys:Wp(r,!0),values:t._stacks[e.axis]},o,a.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var a=n[t.axis],o=null===a?NaN:a,g=r&&n._stacks[t.axis];r&&g&&(r.values=g,o=Vp(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}},{key:"getMinMax",value:function(e,t){var n,r,a=this._cachedMeta,o=a._parsed,g=a._sorted&&e===a.iScale,i=o.length,l=this._getOtherScale(e),c=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:Wp(n,!0),values:null}}(t,a,this.chart),s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},I=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,a=t.minDefined,o=t.maxDefined;return{min:a?n:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}(l),u=I.min,C=I.max;function d(){var t=(r=o[n])[l.axis];return!oA(r[e.axis])||u>t||C<t}for(n=0;n<i&&(d()||(this.updateRangeFromParsed(s,e,r,c),!g));++n);if(g)for(n=i-1;n>=0;--n)if(!d()){this.updateRangeFromParsed(s,e,r,c);break}return s}},{key:"getAllParsedValues",value:function(e){var t,n,r,a=this._cachedMeta._parsed,o=[];for(t=0,n=a.length;t<n;++t)r=a[t][e.axis],oA(r)&&o.push(r);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,a;return aA(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a,disabled:!1===e}}(iA(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=kp(e,n),a=kp(t,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],o=n.chartArea,g=[],i=this._drawStart||0,l=this._drawCount||a.length-i,c=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,o,i,l),e=i;e<i+l;++e){var s=a[e];s.hidden||(s.active&&c?g.push(s):s.draw(t,o))}for(e=0;e<g.length;++e)g[e].draw(t,o)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var o=this._cachedMeta.data[e];r=o.$context||(o.$context=function(e,t,n){return vm(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=a.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return vm(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,a="active"===n,o=this._cachedDataOpts,g=e+"-"+n,i=o[g],l=this.enableOptionSharing&&yA(r);if(i)return Np(i,l);var c=this.chart.config,s=c.datasetElementScopeKeys(this._type,e),I=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=c.getOptionScopes(this.getDataset(),s),C=Object.keys(qh.elements[e]),d=function(){return t.getContext(r,a)},A=c.resolveNamedOptions(u,C,d,I);return A.$shared&&(A.$shared=l,o[g]=Object.freeze(Np(A,l))),A}},{key:"_resolveAnimations",value:function(e,t,n){var r,a=this.chart,o=this._cachedDataOpts,g="animation-".concat(t),i=o[g];if(i)return i;if(!1!==a.options.animation){var l=this.chart.config,c=l.datasetAnimationScopeKeys(this._type,t),s=l.getOptionScopes(this.getDataset(),c);r=l.createResolver(s,this.getContext(e,n,t))}var I=new Sp(a,r&&r.animations);return r&&r._cacheable&&(o[g]=Object.freeze(I)),I}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||Hp(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:o}}},{key:"updateElement",value:function(e,t,n,r){Hp(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!Hp(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var a=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,a=Hn(this._syncList);try{for(a.s();!(t=a.n()).done;){var o=i(t.value,3),g=o[0],l=o[1],c=o[2];this[g](l,c)}}catch(C){a.e(C)}finally{a.f()}this._syncList=[];var s=r.length,I=n.length,u=Math.min(I,s);u&&this.parse(0,u),I>s?this._insertElements(s,I-s,e):I<s&&this._removeElements(I,s-I)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this._cachedMeta,o=a.data,g=e+t,i=function(e){for(e.length+=t,n=e.length-1;n>=g;n--)e[n]=e[n-t]};for(i(o),n=e;n<g;++n)o[n]=new this.dataElementType;this._parsing&&i(a._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&xp(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=i(e,3),n=t[0],r=t[1],a=t[2];this[n](r,a)}this.chart._dataChanges.push([this.index].concat(l(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function Kp(e){var t,n,r,a,o=e.iScale,g=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],a=0,o=n.length;a<o;a++)r=r.concat(n[a].controller.getAllParsedValues(e));e._cache.$bar=$A(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(o,e.type),i=o._length,l=function(){32767!==r&&-32768!==r&&(yA(a)&&(i=Math.min(i,Math.abs(r-a)||i)),a=r)};for(t=0,n=g.length;t<n;++t)r=o.getPixelForValue(g[t]),l();for(a=void 0,t=0,n=o.ticks.length;t<n;++t)r=o.getPixelForTick(t),l();return i}function Mp(e,t,n,r){return rA(e)?function(e,t,n,r){var a=n.parse(e[0],r),o=n.parse(e[1],r),g=Math.min(a,o),i=Math.max(a,o),l=g,c=i;Math.abs(g)>Math.abs(i)&&(l=i,c=g),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:o,min:g,max:i}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Ep(e,t,n,r){var a,o,g,i,l=e.iScale,c=e.vScale,s=l.getLabels(),I=l===c,u=[];for(a=n,o=n+r;a<o;++a)i=t[a],(g={})[l.axis]=I||l.parse(s[a],a),u.push(Mp(i,g,c,a));return u}function Dp(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function zp(e,t,n,r){var a=t.borderSkipped,o={};if(a)if(!0!==a){var g=function(e){var t,n,r,a,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(a="end",o="start"):(a="start",o="end"),{start:n,end:r,reverse:t,top:a,bottom:o}}(e),i=g.start,l=g.end,c=g.reverse,s=g.top,I=g.bottom;"middle"===a&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?a=s:(n._bottom||0)===r?a=I:(o[jp(I,i,l,c)]=!0,a=s)),o[jp(a,i,l,c)]=!0,e.borderSkipped=o}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=o}function jp(e,t,n,r){var a,o,g;return r?(g=n,e=Tp(e=(a=e)===(o=t)?g:a===g?o:a,n,t)):e=Tp(e,t,n),e}function Tp(e,t,n){return"start"===e?t:"end"===e?n:e}function Lp(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}Fp.defaults={},Fp.prototype.datasetElementType=null,Fp.prototype.dataElementType=null;var Up=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return Ep(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return Ep(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var a,o,g,i,l=e.iScale,c=e.vScale,s=this._parsing,I=s.xAxisKey,u=void 0===I?"x":I,C=s.yAxisKey,d=void 0===C?"y":C,A="x"===l.axis?u:d,h="x"===c.axis?u:d,m=[];for(a=n,o=n+r;a<o;++a)i=t[a],(g={})[l.axis]=l.parse(fA(i,A),a),m.push(Mp(fA(i,h),g,c,a));return m}},{key:"updateRangeFromParsed",value:function(e,t,r,a){ml(d(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,a);var o=r._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e),o=a._custom,g=Dp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:g}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,ml(d(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,o=this.index,g=this._cachedMeta.vScale,i=g.getBasePixel(),l=g.isHorizontal(),c=this._getRuler(),s=this._getSharedOptions(t,r),I=s.sharedOptions,u=s.includeOptions,C=t;C<t+n;C++){var d=this.getParsed(C),A=a||nA(d[g.axis])?{base:i,head:i}:this._calculateBarValuePixels(C),h=this._calculateBarIndexPixels(C,c),m=(d._stacks||{})[g.axis],p={horizontal:l,base:A.base,enableBorderRadius:!m||Dp(d._custom)||o===m._top||o===m._bottom,x:l?A.head:h.center,y:l?h.center:A.head,height:l?h.size:Math.abs(A.size),width:l?Math.abs(A.size):h.size};u&&(p.options=I||this.resolveDataElementOptions(C,e[C].active?"active":r));var f=p.options||e[C].options;zp(p,f,m,o),Lp(p,f,c.ratio),this.updateElement(e[C],C,p,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,a=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),o=r.options.stacked,g=[],i=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(nA(r)||isNaN(r))return!0},l=Hn(a);try{for(l.s();!(n=l.n()).done;){var c=n.value;if((void 0===t||!i(c))&&((!1===o||-1===g.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&g.push(c.stack),c.index===e))break}}catch(s){l.e(s)}finally{l.f()}return g.length||g.push(void 0),g}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),a=void 0!==t?r.indexOf(t):-1;return-1===a?r.length-1:a}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,a=r.iScale,o=[];for(e=0,t=r.data.length;e<t;++e)o.push(a.getPixelForValue(this.getParsed(e)[a.axis],e));var g=n.barThickness;return{min:g||Kp(r),pixels:o,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:n.grouped,ratio:g?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,a=r.vScale,o=r._stacked,g=this.options,i=g.base,l=g.minBarLength,c=i||0,s=this.getParsed(e),I=s._custom,u=Dp(I),C=s[a.axis],d=0,A=o?this.applyStack(a,s,o):C;A!==C&&(d=A-C,A=C),u&&(C=I.barStart,A=I.barEnd-I.barStart,0!==C&&JA(C)!==JA(I.barEnd)&&(d=0),d+=C);var h=nA(i)||u?d:i,m=a.getPixelForValue(h);if(n=(t=this.chart.getDataVisibility(e)?a.getPixelForValue(d+A):m)-m,Math.abs(n)<l){n=function(e,t,n){return 0!==e?JA(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,a,c)*l,C===c&&(m-=n/2);var p=a.getPixelForDecimal(0),f=a.getPixelForDecimal(1),b=Math.min(p,f),y=Math.max(p,f);t=(m=Math.max(Math.min(m,y),b))+n}if(m===a.getPixelForValue(c)){var Z=JA(n)*a.getLineWidthForValue(c)/2;m+=Z,n-=Z}return{size:n,base:m,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,a=t.scale,o=this.options,g=o.skipNull,i=iA(o.maxBarThickness,1/0);if(t.grouped){var l=g?this._getStackCount(e):t.stackCount,c="flex"===o.barThickness?function(e,t,n,r){var a=t.pixels,o=a[e],g=e>0?a[e-1]:null,i=e<a.length-1?a[e+1]:null,l=n.categoryPercentage;null===g&&(g=o-(null===i?t.end-t.start:i-o)),null===i&&(i=o+o-g);var c=o-(o-Math.min(g,i))/2*l;return{chunk:Math.abs(i-g)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,o,l):function(e,t,n,r){var a,o,g=n.barThickness;return nA(g)?(a=t.min*n.categoryPercentage,o=n.barPercentage):(a=g*r,o=1),{chunk:a/r,ratio:o,start:t.pixels[e]-a/2}}(e,t,o,l),s=this._getStackIndex(this.index,this._cachedMeta.stack,g?e:void 0);n=c.start+c.chunk*s+c.chunk/2,r=Math.min(i,c.chunk*c.ratio)}else n=a.getPixelForValue(this.getParsed(e)[a.axis],e),r=Math.min(i,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,a=0;a<r;++a)null!==this.getParsed(a)[t.axis]&&n[a].draw(this._ctx)}}]),n}(Fp);Up.id="bar",Up.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Up.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Qp=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,ml(d(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,a){for(var o=ml(d(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,a),g=0;g<o.length;g++)o[g]._custom=this.resolveDataElementOptions(g+r).radius;return o}},{key:"parseArrayData",value:function(e,t,r,a){for(var o=ml(d(n.prototype),"parseArrayData",this).call(this,e,t,r,a),g=0;g<o.length;g++){var i=t[r+g];o[g]._custom=iA(i[2],this.resolveDataElementOptions(g+r).radius)}return o}},{key:"parseObjectData",value:function(e,t,r,a){for(var o=ml(d(n.prototype),"parseObjectData",this).call(this,e,t,r,a),g=0;g<o.length;g++){var i=t[r+g];o[g]._custom=iA(i&&i.r&&+i.r,this.resolveDataElementOptions(g+r).radius)}return o}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.xScale,r=t.yScale,a=this.getParsed(e),o=n.getLabelForValue(a.x),g=r.getLabelForValue(a.y),i=a._custom;return{label:t.label,value:"("+o+", "+g+(i?", "+i:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,o=this._cachedMeta,g=o.iScale,i=o.vScale,l=this._getSharedOptions(t,r),c=l.sharedOptions,s=l.includeOptions,I=g.axis,u=i.axis,C=t;C<t+n;C++){var d=e[C],A=!a&&this.getParsed(C),h={},m=h[I]=a?g.getPixelForDecimal(.5):g.getPixelForValue(A[I]),p=h[u]=a?i.getBasePixel():i.getPixelForValue(A[u]);h.skip=isNaN(m)||isNaN(p),s&&(h.options=c||this.resolveDataElementOptions(C,d.active?"active":r),a&&(h.options.radius=0)),this.updateElement(d,C,h,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),a=ml(d(n.prototype),"resolveDataElementOptions",this).call(this,e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));var o=a.radius;return"active"!==t&&(a.radius=0),a.radius+=iA(r&&r._custom,o),a}}]),n}(Fp);Qp.id="bubble",Qp.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Qp.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var _p=function(e){C(n,e);var t=f(n);function n(e,r){var a;return c(this,n),(a=t.call(this,e,r)).enableOptionSharing=!0,a.innerRadius=void 0,a.outerRadius=void 0,a.offsetX=void 0,a.offsetY=void 0,a}return I(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var a,o,g=function(e){return+n[e]};if(aA(n[e])){var i=this._parsing.key,l=void 0===i?"value":i;g=function(e){return+fA(n[e],l)}}for(a=e,o=e+t;a<o;++a)r._parsed[a]=g(a)}}},{key:"_getRotation",value:function(){return FA(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return FA(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=BA,t=-BA,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),o=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,a=this._cachedMeta,o=a.data,g=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-g)/2,0),l=Math.min((t=this.options.cutout,n=i,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:t/n),1),c=this._getRingWeight(this.index),s=this._getRotationExtents(),I=s.circumference,u=function(e,t,n){var r=1,a=1,o=0,g=0;if(t<BA){var i=e,l=i+t,c=Math.cos(i),s=Math.sin(i),I=Math.cos(l),u=Math.sin(l),C=function(e,t,r){return TA(e,i,l,!0)?1:Math.max(t,t*n,r,r*n)},d=function(e,t,r){return TA(e,i,l,!0)?-1:Math.min(t,t*n,r,r*n)},A=C(0,c,I),h=C(VA,s,u),m=d(GA,c,I),p=d(GA+VA,s,u);r=(A-m)/2,a=(h-p)/2,o=-(A+m)/2,g=-(h+p)/2}return{ratioX:r,ratioY:a,offsetX:o,offsetY:g}}(s.rotation,I,l),C=u.ratioX,d=u.ratioY,A=u.offsetX,h=u.offsetY,m=(r.width-g)/C,p=(r.height-g)/d,f=Math.max(Math.min(m,p)/2,0),b=lA(this.options.radius,f),y=(b-Math.max(b*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=A*b,this.offsetY=h*b,a.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(o,0,o.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/BA)}},{key:"updateElements",value:function(e,t,n,r){var a,o="reset"===r,g=this.chart,i=g.chartArea,l=g.options.animation,c=(i.left+i.right)/2,s=(i.top+i.bottom)/2,I=o&&l.animateScale,u=I?0:this.innerRadius,C=I?0:this.outerRadius,d=this._getSharedOptions(t,r),A=d.sharedOptions,h=d.includeOptions,m=this._getRotation();for(a=0;a<t;++a)m+=this._circumference(a,o);for(a=t;a<t+n;++a){var p=this._circumference(a,o),f=e[a],b={x:c+this.offsetX,y:s+this.offsetY,startAngle:m,endAngle:m+p,circumference:p,outerRadius:C,innerRadius:u};h&&(b.options=A||this.resolveDataElementOptions(a,f.active?"active":r)),m+=p,this.updateElement(f,a,b,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var a=t._parsed[e];null===a||isNaN(a)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(a))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?BA*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=cp(t._parsed[e],n.options.locale);return{label:r[e]||"",value:a}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,a,o,g=0,i=this.chart;if(!e)for(t=0,n=i.data.datasets.length;t<n;++t)if(i.isDatasetVisible(t)){e=(r=i.getDatasetMeta(t)).data,a=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(o=a.resolveDataElementOptions(t)).borderAlign&&(g=Math.max(g,o.borderWidth||0,o.hoverBorderWidth||0));return g}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(iA(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(Fp);_p.id="doughnut",_p.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},_p.descriptors={_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e}},_p.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,r){var a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){var t=e.label,n=": "+e.formattedValue;return rA(t)?(t=t.slice())[0]+=n:t+=n,t}}}}};var Op=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,ml(d(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,a=void 0===r?[]:r,o=t._dataset,g=this.chart._animationsDisabled,i=ah(t,a,g),l=i.start,c=i.count;this._drawStart=l,this._drawCount=c,oh(t)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=a;var s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0),s.segment=this.options.segment,this.updateElement(n,void 0,{animated:!g,options:s},e),this.updateElements(a,l,c,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,o=this._cachedMeta,g=o.iScale,i=o.vScale,l=o._stacked,c=o._dataset,s=this._getSharedOptions(t,r),I=s.sharedOptions,u=s.includeOptions,C=g.axis,d=i.axis,A=this.options,h=A.spanGaps,m=A.segment,p=xA(h)?h:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||a||"none"===r,b=t>0&&this.getParsed(t-1),y=t;y<t+n;++y){var Z=e[y],v=this.getParsed(y),G=f?Z:{},B=nA(v[d]),S=G[C]=g.getPixelForValue(v[C],y),k=G[d]=a||B?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,v,l):v[d],y);G.skip=isNaN(S)||isNaN(k)||B,G.stop=y>0&&Math.abs(v[C]-b[C])>p,m&&(G.parsed=v,G.raw=c.data[y]),u&&(G.options=I||this.resolveDataElementOptions(y,Z.active?"active":r)),f||this.updateElement(Z,y,G,r),b=v}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var a=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,o)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),ml(d(n.prototype),"draw",this).call(this)}}]),n}(Fp);Op.id="line",Op.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Op.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Pp=function(e){C(n,e);var t=f(n);function n(e,r){var a;return c(this,n),(a=t.call(this,e,r)).innerRadius=void 0,a.outerRadius=void 0,a}return I(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=cp(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:a}}},{key:"parseObjectData",value:function(e,t,n,r){return Fm.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var a=e.getParsed(r).r;!isNaN(a)&&e.chart.getDataVisibility(r)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(r/2,0),o=(a-Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}},{key:"updateElements",value:function(e,t,n,r){var a,o="reset"===r,g=this.chart,i=g.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,s=l.yCenter,I=l.getIndexAngle(0)-.5*GA,u=I,C=360/this.countVisibleElements();for(a=0;a<t;++a)u+=this._computeAngle(a,r,C);for(a=t;a<t+n;a++){var d=e[a],A=u,h=u+this._computeAngle(a,r,C),m=g.getDataVisibility(a)?l.getDistanceFromCenterForValue(this.getParsed(a).r):0;u=h,o&&(i.animateScale&&(m=0),i.animateRotate&&(A=h=I));var p={x:c,y:s,innerRadius:0,outerRadius:m,startAngle:A,endAngle:h,options:this.resolveDataElementOptions(a,d.active?"active":r)};this.updateElement(d,a,p,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?FA(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(Fp);Pp.id="polarArea",Pp.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Pp.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,r){var a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var qp=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n)}(_p);qp.id="pie",qp.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var $p=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return Fm.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],a=t.iScale.getLabels();if(n.points=r,"resize"!==e){var o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);var g={_loop:!0,_fullLoop:a.length===r.length,options:o};this.updateElement(n,void 0,g,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var a=this._cachedMeta.rScale,o="reset"===r,g=t;g<t+n;g++){var i=e[g],l=this.resolveDataElementOptions(g,i.active?"active":r),c=a.getPointPositionForValue(g,this.getParsed(g).r),s=o?a.xCenter:c.x,I=o?a.yCenter:c.y,u={x:s,y:I,angle:c.angle,skip:isNaN(s)||isNaN(I),options:l};this.updateElement(i,g,u,r)}}}]),n}(Fp);$p.id="radar",$p.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},$p.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var ef=function(){function e(){c(this,e),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return I(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return xA(this.x)&&xA(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var a={};return e.forEach((function(e){a[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),a}}]),e}();ef.defaults={},ef.defaultRoutes=void 0;var tf={values:function(e){return rA(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,a=this.chart.options.locale,o=e;if(n.length>1){var g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var i=XA(Math.abs(o)),l=Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),cp(e,a,c)},logarithmic:function(e,t,n){if(0===e)return"0";var r=e/Math.pow(10,Math.floor(XA(e)));return 1===r||2===r||5===r?tf.numeric.call(this,e,t,n):""}};var nf={formatters:tf};function rf(e,t){var n=e.options.ticks,r=n.maxTicksLimit||function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(r,a))}(e),a=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],o=a.length,g=a[0],i=a[o-1],l=[];if(o>r)return function(e,t,n,r){var a,o=0,g=n[0];for(r=Math.ceil(r),a=0;a<e.length;a++)a===g&&(t.push(e[a]),g=n[++o*r])}(t,l,a,o/r),l;var c=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),a=t.length/n;if(!r)return Math.max(a,1);for(var o=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),g=0,i=o.length-1;g<i;g++){var l=o[g];if(l>a)return l}return Math.max(a,1)}(a,t,r);if(o>0){var s,I,u=o>1?Math.round((i-g)/(o-1)):null;for(af(t,l,c,nA(u)?0:g-u,g),s=0,I=o-1;s<I;s++)af(t,l,c,a[s],a[s+1]);return af(t,l,c,i,nA(u)?t.length:i+u),l}return af(t,l,c),l}function af(e,t,n,r,a){var o,g,i,l=iA(r,0),c=Math.min(iA(a,e.length),e.length),s=0;for(n=Math.ceil(n),a&&(n=(o=a-r)/Math.floor(o/n)),i=l;i<0;)s++,i=Math.round(l+s*n);for(g=Math.max(l,0);g<c;g++)g===i&&(t.push(e[g]),s++,i=Math.round(l+s*n))}qh.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),qh.route("scale.ticks","color","","color"),qh.route("scale.grid","color","","borderColor"),qh.route("scale.grid","borderColor","","borderColor"),qh.route("scale.title","color","","color"),qh.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e}}),qh.describe("scales",{_fallback:"scale"}),qh.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}});var of=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n};function gf(e,t){for(var n=[],r=e.length/t,a=e.length,o=0;o<a;o+=r)n.push(e[Math.floor(o)]);return n}function lf(e,t,n){var r,a=e.ticks.length,o=Math.min(t,a-1),g=e._startPixel,i=e._endPixel,l=1e-6,c=e.getPixelForTick(o);if(!(n&&(r=1===a?Math.max(c-g,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(o-1))/2,(c+=o<t?r:-r)<g-l||c>i+l)))return c}function cf(e){return e.drawTicks?e.tickLength:0}function sf(e,t){if(!e.display)return 0;var n=ym(e.font,t),r=bm(e.padding);return(rA(e.text)?e.text.length:1)*n.lineHeight+r.height}function If(e,t,n){var r=nh(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var uf=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return I(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=gA(e,Number.POSITIVE_INFINITY),t=gA(t,Number.NEGATIVE_INFINITY),n=gA(n,Number.POSITIVE_INFINITY),r=gA(r,Number.NEGATIVE_INFINITY),{min:gA(e,n),max:gA(t,r),minDefined:oA(e),maxDefined:oA(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,a=n.max,o=n.minDefined,g=n.maxDefined;if(o&&g)return{min:r,max:a};for(var i=this.getMatchingVisibleMetas(),l=0,c=i.length;l<c;++l)t=i[l].controller.getMinMax(this,e),o||(r=Math.min(r,t.min)),g||(a=Math.max(a,t.max));return{min:gA(r=g&&r>a?a:r,gA(a=o&&r>a?r:a,r)),max:gA(a,gA(r,a))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){cA(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,a=r.beginAtZero,o=r.grace,g=r.ticks,i=g.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,a=e.max,o=lA(t,(a-r)/2),g=function(e,t){return n&&0===e?0:e+t};return{min:g(r,-Math.abs(o)),max:g(a,o)}}(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=i<this.ticks.length;this._convertTicksToLabels(l?gf(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),g.display&&(g.autoSkip||"auto"===g.source)&&(this.ticks=rf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){cA(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){cA(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){cA(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),cA(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){cA(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,a=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=cA(a.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){cA(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){cA(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,a=r.ticks,o=this.ticks.length,g=a.minRotation||0,i=a.maxRotation,l=g;if(!this._isVisible()||!a.display||g>=i||o<=1||!this.isHorizontal())this.labelRotation=g;else{var c=this._getLabelSizes(),s=c.widest.width,I=c.highest.height,u=LA(this.chart.width-s,0,this.maxWidth);s+6>(e=r.offset?this.maxWidth/o:u/(o-1))&&(e=u/(o-(r.offset?.5:1)),t=this.maxHeight-cf(r.grid)-a.padding-sf(r.title,this.chart.options.font),n=Math.sqrt(s*s+I*I),l=KA(Math.min(Math.asin(LA((c.highest.height+6)/e,-1,1)),Math.asin(LA(t/n,-1,1))-Math.asin(LA(I/n,-1,1)))),l=Math.max(g,Math.min(i,l))),this.labelRotation=l}}},{key:"afterCalculateLabelRotation",value:function(){cA(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){cA(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,a=n.title,o=n.grid,g=this._isVisible(),i=this.isHorizontal();if(g){var l=sf(a,t.options.font);if(i?(e.width=this.maxWidth,e.height=cf(o)+l):(e.height=this.maxHeight,e.width=cf(o)+l),r.display&&this.ticks.length){var c=this._getLabelSizes(),s=c.first,I=c.last,u=c.widest,C=c.highest,d=2*r.padding,A=FA(this.labelRotation),h=Math.cos(A),m=Math.sin(A);if(i){var p=r.mirror?0:m*u.width+h*C.height;e.height=Math.min(this.maxHeight,e.height+p+d)}else{var f=r.mirror?0:h*u.width+m*C.height;e.width=Math.min(this.maxWidth,e.width+f+d)}this._calculatePadding(s,I,m,h)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var a=this.options,o=a.ticks,g=o.align,i=o.padding,l=a.position,c=0!==this.labelRotation,s="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var I=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),C=0,d=0;c?s?(C=r*e.width,d=n*t.height):(C=n*e.height,d=r*t.width):"start"===g?d=t.width:"end"===g?C=e.width:"inner"!==g&&(C=e.width/2,d=t.width/2),this.paddingLeft=Math.max((C-I+i)*this.width/(this.width-I),0),this.paddingRight=Math.max((d-u+i)*this.width/(this.width-u),0)}else{var A=t.height/2,h=e.height/2;"start"===g?(A=0,h=e.height):"end"===g&&(A=t.height,h=0),this.paddingTop=A+i,this.paddingBottom=h+i}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){cA(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)nA(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=gf(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}},{key:"_computeLabelSizes",value:function(e,t){var n,r,a,o,g,i,l,c,s,I,u,C=this.ctx,d=this._longestTextCache,A=[],h=[],m=0,p=0;for(n=0;n<t;++n){if(o=e[n].label,g=this._resolveTickFontOptions(n),C.font=i=g.string,l=d[i]=d[i]||{data:{},gc:[]},c=g.lineHeight,s=I=0,nA(o)||rA(o)){if(rA(o))for(r=0,a=o.length;r<a;++r)nA(u=o[r])||rA(u)||(s=$h(C,l.data,l.gc,s,u),I+=c)}else s=$h(C,l.data,l.gc,s,o),I=c;A.push(s),h.push(I),m=Math.max(s,m),p=Math.max(I,p)}!function(e,t){sA(e,(function(e){var n,r=e.gc,a=r.length/2;if(a>t){for(n=0;n<a;++n)delete e.data[r[n]];r.splice(0,a)}}))}(d,t);var f=A.indexOf(m),b=h.indexOf(p),y=function(e){return{width:A[e]||0,height:h[e]||0}};return{first:y(0),last:y(t-1),widest:y(f),highest:y(b),widths:A,heights:h}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return LA(this._alignToPixels?tm(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return vm(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=vm(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=FA(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,g=a?a.widest.width+o:0,i=a?a.highest.height+o:0;return this.isHorizontal()?i*n>g*r?g/n:i/r:i*r<g*n?i/n:g/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,a,o,g,i,l,c,s,I,u,C=this.axis,d=this.chart,A=this.options,h=A.grid,m=A.position,p=h.offset,f=this.isHorizontal(),b=this.ticks.length+(p?1:0),y=cf(h),Z=[],v=h.setContext(this.getContext()),G=v.drawBorder?v.borderWidth:0,B=G/2,S=function(e){return tm(d,e,G)};if("top"===m)t=S(this.bottom),g=this.bottom-y,l=t-B,s=S(e.top)+B,u=e.bottom;else if("bottom"===m)t=S(this.top),s=e.top,u=S(e.bottom)-B,g=t+B,l=this.top+y;else if("left"===m)t=S(this.right),o=this.right-y,i=t-B,c=S(e.left)+B,I=e.right;else if("right"===m)t=S(this.left),c=e.left,I=S(e.right)-B,o=t+B,i=this.left+y;else if("x"===C){if("center"===m)t=S((e.top+e.bottom)/2+.5);else if(aA(m)){var k=Object.keys(m)[0],W=m[k];t=S(this.chart.scales[k].getPixelForValue(W))}s=e.top,u=e.bottom,l=(g=t+B)+y}else if("y"===C){if("center"===m)t=S((e.left+e.right)/2);else if(aA(m)){var V=Object.keys(m)[0],R=m[V];t=S(this.chart.scales[V].getPixelForValue(R))}i=(o=t-B)-y,c=e.left,I=e.right}var w=iA(A.ticks.maxTicksLimit,b),X=Math.max(1,Math.ceil(b/w));for(n=0;n<b;n+=X){var J=h.setContext(this.getContext(n)),Y=J.lineWidth,x=J.color,H=J.borderDash||[],N=J.borderDashOffset,F=J.tickWidth,K=J.tickColor,M=J.tickBorderDash||[],E=J.tickBorderDashOffset;void 0!==(r=lf(this,n,p))&&(a=tm(d,r,Y),f?o=i=c=I=a:g=l=s=u=a,Z.push({tx1:o,ty1:g,tx2:i,ty2:l,x1:c,y1:s,x2:I,y2:u,width:Y,color:x,borderDash:H,borderDashOffset:N,tickWidth:F,tickColor:K,tickBorderDash:M,tickBorderDashOffset:E}))}return this._ticksLength=b,this._borderValue=t,Z}},{key:"_computeLabelItems",value:function(e){var t,n,r,a,o,g,i,l,c,s,I,u=this.axis,C=this.options,d=C.position,A=C.ticks,h=this.isHorizontal(),m=this.ticks,p=A.align,f=A.crossAlign,b=A.padding,y=A.mirror,Z=cf(C.grid),v=Z+b,G=y?-b:v,B=-FA(this.labelRotation),S=[],k="middle";if("top"===d)o=this.bottom-G,g=this._getXAxisLabelAlignment();else if("bottom"===d)o=this.top+G,g=this._getXAxisLabelAlignment();else if("left"===d){var W=this._getYAxisLabelAlignment(Z);g=W.textAlign,a=W.x}else if("right"===d){var V=this._getYAxisLabelAlignment(Z);g=V.textAlign,a=V.x}else if("x"===u){if("center"===d)o=(e.top+e.bottom)/2+v;else if(aA(d)){var R=Object.keys(d)[0],w=d[R];o=this.chart.scales[R].getPixelForValue(w)+v}g=this._getXAxisLabelAlignment()}else if("y"===u){if("center"===d)a=(e.left+e.right)/2-v;else if(aA(d)){var X=Object.keys(d)[0],J=d[X];a=this.chart.scales[X].getPixelForValue(J)}g=this._getYAxisLabelAlignment(Z).textAlign}"y"===u&&("start"===p?k="top":"end"===p&&(k="bottom"));var Y=this._getLabelSizes();for(t=0,n=m.length;t<n;++t){r=m[t].label;var x=A.setContext(this.getContext(t));i=this.getPixelForTick(t)+A.labelOffset,c=(l=this._resolveTickFontOptions(t)).lineHeight;var H=(s=rA(r)?r.length:1)/2,N=x.color,F=x.textStrokeColor,K=x.textStrokeWidth,M=g;h?(a=i,"inner"===g&&(M=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),I="top"===d?"near"===f||0!==B?-s*c+c/2:"center"===f?-Y.highest.height/2-H*c+c:-Y.highest.height+c/2:"near"===f||0!==B?c/2:"center"===f?Y.highest.height/2-H*c:Y.highest.height-s*c,y&&(I*=-1)):(o=i,I=(1-s)*c/2);var E=void 0;if(x.showLabelBackdrop){var D=bm(x.backdropPadding),z=Y.heights[t],j=Y.widths[t],T=o+I-D.top,L=a-D.left;switch(k){case"middle":T-=z/2;break;case"bottom":T-=z}switch(g){case"center":L-=j/2;break;case"right":L-=j}E={left:L,top:T,width:j+D.width,height:z+D.height,color:x.backdropColor}}S.push({rotation:B,label:r,font:l,color:N,strokeColor:F,strokeWidth:K,textOffset:I,textAlign:M,textBaseline:k,translation:[a,o],backdrop:E})}return S}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-FA(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,a=r.position,o=r.ticks,g=o.crossAlign,i=o.mirror,l=o.padding,c=e+l,s=this._getLabelSizes().widest.width;return"left"===a?i?(n=this.right+l,"near"===g?t="left":"center"===g?(t="center",n+=s/2):(t="right",n+=s)):(n=this.right-c,"near"===g?t="right":"center"===g?(t="center",n-=s/2):(t="left",n=this.left)):"right"===a?i?(n=this.left+l,"near"===g?t="right":"center"===g?(t="center",n-=s/2):(t="left",n-=s)):(n=this.left+c,"near"===g?t="left":"center"===g?(t="center",n+=s/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,a=this.width,o=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,a,o),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,a=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),g=function(e,t,n){n.width&&n.color&&(a.save(),a.lineWidth=n.width,a.strokeStyle=n.color,a.setLineDash(n.borderDash||[]),a.lineDashOffset=n.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(r.display)for(t=0,n=o.length;t<n;++t){var i=o[t];r.drawOnChartArea&&g({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),r.drawTicks&&g({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options.grid,r=n.setContext(this.getContext()),a=n.drawBorder?r.borderWidth:0;if(a){var o,g,i,l,c=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;this.isHorizontal()?(o=tm(e,this.left,a)-a/2,g=tm(e,this.right,c)+c/2,i=l=s):(i=tm(e,this.top,a)-a/2,l=tm(e,this.bottom,c)+c/2,o=g=s),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(o,i),t.lineTo(g,l),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&gm(t,n);var r,a,o=this._labelItems||(this._labelItems=this._computeLabelItems(e));for(r=0,a=o.length;r<a;++r){var g=o[r],i=g.font,l=g.label;g.backdrop&&(t.fillStyle=g.backdrop.color,t.fillRect(g.backdrop.left,g.backdrop.top,g.backdrop.width,g.backdrop.height)),sm(t,l,0,g.textOffset,i,g)}n&&im(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,a=t.reverse;if(r.display){var o=ym(r.font),g=bm(r.padding),i=r.align,l=o.lineHeight/2;"bottom"===n||"center"===n||aA(n)?(l+=g.bottom,rA(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=g.top;var c=function(e,t,n,r){var a,o,g,i=e.top,l=e.left,c=e.bottom,s=e.right,I=e.chart,u=I.chartArea,C=I.scales,d=0,A=c-i,h=s-l;if(e.isHorizontal()){if(o=rh(r,l,s),aA(n)){var m=Object.keys(n)[0],p=n[m];g=C[m].getPixelForValue(p)+A-t}else g="center"===n?(u.bottom+u.top)/2+A-t:of(e,n,t);a=s-l}else{if(aA(n)){var f=Object.keys(n)[0],b=n[f];o=C[f].getPixelForValue(b)-h+t}else o="center"===n?(u.left+u.right)/2-h+t:of(e,n,t);g=rh(r,c,i),d="left"===n?-VA:VA}return{titleX:o,titleY:g,maxWidth:a,rotation:d}}(this,l,n,i),s=c.titleX,I=c.titleY,u=c.maxWidth,C=c.rotation;sm(e,r.text,0,0,o,{color:r.color,maxWidth:u,rotation:C,textAlign:If(i,n,a),textBaseline:"middle",translation:[s,I]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,a=iA(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===n.prototype.draw?[{z:a,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:a+1,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",o=[];for(t=0,n=r.length;t<n;++t){var g=r[t];g[a]!==this.id||e&&g.type!==e||o.push(g)}return o}},{key:"_resolveTickFontOptions",value:function(e){return ym(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(ef),Cf=function(){function e(t,n,r){c(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return I(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,function(e,t,n){var r=AA(Object.create(null),[n?qh.get(n):{},qh.get(t),e.defaults]);qh.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),a=r.pop(),o=[e].concat(r).join("."),g=t[n].split("."),i=g.pop(),l=g.join(".");qh.route(o,a,l,i)}))}(t,e.defaultRoutes);e.descriptors&&qh.describe(t,e.descriptors)}(e,o,t),this.override&&qh.override(e.id,e.overrides)),o}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in qh[r]&&(delete qh[r][n],this.override&&delete Uh[n])}}]),e}();var df=function(){function e(){c(this,e),this.controllers=new Cf(Fp,"datasets",!0),this.elements=new Cf(ef,"elements"),this.plugins=new Cf(Object,"plugins"),this.scales=new Cf(uf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return I(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;l(t).forEach((function(t){var a=n||r._getRegistryForType(t);n||a.isForType(t)||a===r.plugins&&t.id?r._exec(e,a,t):sA(t,(function(t){var a=n||r._getRegistryForType(t);r._exec(e,a,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=bA(e);cA(n["before"+r],[],n),t[e](n),cA(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),Af=new df,hf=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,a=this.chart._animationsDisabled,o=ah(t,r,a),g=o.start,i=o.count;if(this._drawStart=g,this._drawCount=i,oh(t)&&(g=0,i=r.length),this.options.showLine){var l=t.dataset,c=t._dataset;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;var s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:s},e)}this.updateElements(r,g,i,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=Af.getElement("line")),ml(d(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var a="reset"===r,o=this._cachedMeta,g=o.iScale,i=o.vScale,l=o._stacked,c=o._dataset,s=this.resolveDataElementOptions(t,r),I=this.getSharedOptions(s),u=this.includeOptions(r,I),C=g.axis,d=i.axis,A=this.options,h=A.spanGaps,m=A.segment,p=xA(h)?h:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||a||"none"===r,b=t>0&&this.getParsed(t-1),y=t;y<t+n;++y){var Z=e[y],v=this.getParsed(y),G=f?Z:{},B=nA(v[d]),S=G[C]=g.getPixelForValue(v[C],y),k=G[d]=a||B?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,v,l):v[d],y);G.skip=isNaN(S)||isNaN(k)||B,G.stop=y>0&&Math.abs(v[C]-b[C])>p,m&&(G.parsed=v,G.raw=c.data[y]),u&&(G.options=I||this.resolveDataElementOptions(y,Z.active?"active":r)),f||this.updateElement(Z,y,G,r),b=v}this.updateSharedOptions(I,r,s)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var a=e.dataset,o=a.options&&a.options.borderWidth||0;if(!t.length)return o;var g=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,g,i)/2}}]),n}(Fp);hf.id="scatter",hf.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},hf.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var mf=Object.freeze({__proto__:null,BarController:Up,BubbleController:Qp,DoughnutController:_p,LineController:Op,PolarAreaController:Pp,PieController:qp,RadarController:$p,ScatterController:hf});function pf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ff=function(){function e(t){c(this,e),this.options=t||{}}return I(e,[{key:"init",value:function(e){}},{key:"formats",value:function(){return pf()}},{key:"parse",value:function(e,t){return pf()}},{key:"format",value:function(e,t){return pf()}},{key:"add",value:function(e,t,n){return pf()}},{key:"diff",value:function(e,t,n){return pf()}},{key:"startOf",value:function(e,t,n){return pf()}},{key:"endOf",value:function(e,t){return pf()}}]),e}();ff.override=function(e){Object.assign(ff.prototype,e)};var bf={_date:ff};function yf(e,t,n,r){var a=e.controller,o=e.data,g=e._sorted,i=a._cachedMeta.iScale;if(i&&t===i.axis&&"r"!==t&&g&&o.length){var l=i._reversePixels?OA:_A;if(!r)return l(o,t,n);if(a._sharedOptions){var c=o[0],s="function"===typeof c.getRange&&c.getRange(t);if(s){var I=l(o,t,n-s),u=l(o,t,n+s);return{lo:I.lo,hi:u.hi}}}}return{lo:0,hi:o.length-1}}function Zf(e,t,n,r,a){for(var o=e.getSortedVisibleDatasetMetas(),g=n[t],i=0,l=o.length;i<l;++i)for(var c=o[i],s=c.index,I=c.data,u=yf(o[i],t,g,a),C=u.lo,d=u.hi,A=C;A<=d;++A){var h=I[A];h.skip||r(h,s,A)}}function vf(e,t,n,r,a){var o=[];if(!a&&!e.isPointInArea(t))return o;return Zf(e,n,t,(function(n,g,i){(a||om(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&o.push({element:n,datasetIndex:g,index:i})}),!0),o}function Gf(e,t,n,r,a,o){var g=[],i=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var a=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}(n),l=Number.POSITIVE_INFINITY;return Zf(e,n,t,(function(n,c,s){var I=n.inRange(t.x,t.y,a);if(!r||I){var u=n.getCenterPoint(a);if(!!o||e.isPointInArea(u)||I){var C=i(t,u);C<l?(g=[{element:n,datasetIndex:c,index:s}],l=C):C===l&&g.push({element:n,datasetIndex:c,index:s})}}})),g}function Bf(e,t,n,r,a,o){return o||e.isPointInArea(t)?"r"!==n||r?Gf(e,t,n,r,a,o):function(e,t,n,r){var a=[];return Zf(e,n,t,(function(e,n,o){var g=e.getProps(["startAngle","endAngle"],r),i=g.startAngle,l=g.endAngle;TA(EA(e,{x:t.x,y:t.y}).angle,i,l)&&a.push({element:e,datasetIndex:n,index:o})})),a}(e,t,n,a):[]}function Sf(e,t,n,r,a){var o=[],g="x"===n?"inXRange":"inYRange",i=!1;return Zf(e,n,t,(function(e,r,l){e[g](t[n],a)&&(o.push({element:e,datasetIndex:r,index:l}),i=i||e.inRange(t.x,t.y,a))})),r&&!i?[]:o}var kf={evaluateInteractionItems:Zf,modes:{index:function(e,t,n,r){var a=$m(t,e),o=n.axis||"x",g=n.includeInvisible||!1,i=n.intersect?vf(e,a,o,r,g):Bf(e,a,o,!1,r,g),l=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=i[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset:function(e,t,n,r){var a=$m(t,e),o=n.axis||"xy",g=n.includeInvisible||!1,i=n.intersect?vf(e,a,o,r,g):Bf(e,a,o,!1,r,g);if(i.length>0){var l=i[0].datasetIndex,c=e.getDatasetMeta(l).data;i=[];for(var s=0;s<c.length;++s)i.push({element:c[s],datasetIndex:l,index:s})}return i},point:function(e,t,n,r){return vf(e,$m(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var a=$m(t,e),o=n.axis||"xy",g=n.includeInvisible||!1;return Bf(e,a,o,n.intersect,r,g)},x:function(e,t,n,r){return Sf(e,$m(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return Sf(e,$m(t,e),"y",n.intersect,r)}}},Wf=["left","top","right","bottom"];function Vf(e,t){return e.filter((function(e){return e.pos===t}))}function Rf(e,t){return e.filter((function(e){return-1===Wf.indexOf(e.pos)&&e.box.axis===t}))}function wf(e,t){return e.sort((function(e,n){var r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight}))}function Xf(e,t){var n,r,a,o=function(e){var t,n={},r=Hn(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=a.stack,g=a.pos,i=a.stackWeight;if(o&&Wf.includes(g)){var l=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}}}catch(c){r.e(c)}finally{r.f()}return n}(e),g=t.vBoxMaxWidth,i=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var l=(a=e[n]).box.fullSize,c=o[a.stack],s=c&&a.stackWeight/c.weight;a.horizontal?(a.width=s?s*g:l&&t.availableWidth,a.height=i):(a.width=g,a.height=s?s*i:l&&t.availableHeight)}return o}function Jf(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Yf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xf(e,t,n,r){var a=n.pos,o=n.box,g=e.maxPadding;if(!aA(a)){n.size&&(e[a]-=n.size);var i=r[n.stack]||{size:0,count:1};i.size=Math.max(i.size,n.horizontal?o.height:o.width),n.size=i.size/i.count,e[a]+=n.size}o.getPadding&&Yf(g,o.getPadding());var l=Math.max(0,t.outerWidth-Jf(g,e,"left","right")),c=Math.max(0,t.outerHeight-Jf(g,e,"top","bottom")),s=l!==e.w,I=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:s,other:I}:{same:I,other:s}}function Hf(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Nf(e,t,n,r){var a,o,g,i,l,c,s=[];for(a=0,o=e.length,l=0;a<o;++a){(i=(g=e[a]).box).update(g.width||t.w,g.height||t.h,Hf(g.horizontal,t));var I=xf(t,n,g,r),u=I.same,C=I.other;l|=u&&s.length,c=c||C,i.fullSize||s.push(g)}return l&&Nf(s,t,n,r)||c}function Ff(e,t,n,r,a){e.top=n,e.left=t,e.right=t+r,e.bottom=n+a,e.width=r,e.height=a}function Kf(e,t,n,r){var a,o=n.padding,g=t.x,i=t.y,l=Hn(e);try{for(l.s();!(a=l.n()).done;){var c=a.value,s=c.box,I=r[c.stack]||{count:1,placed:0,weight:1},u=c.stackWeight/I.weight||1;if(c.horizontal){var C=t.w*u,d=I.size||s.height;yA(I.start)&&(i=I.start),s.fullSize?Ff(s,o.left,i,n.outerWidth-o.right-o.left,d):Ff(s,t.left+I.placed,i,C,d),I.start=i,I.placed+=C,i=s.bottom}else{var A=t.h*u,h=I.size||s.width;yA(I.start)&&(g=I.start),s.fullSize?Ff(s,g,o.top,h,n.outerHeight-o.bottom-o.top):Ff(s,g,t.top+I.placed,h,A),I.start=g,I.placed+=A,g=s.right}}}catch(m){l.e(m)}finally{l.f()}t.x=g,t.y=i}qh.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Mf=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},Ef=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},Df=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},zf=function(e,t,n,r){if(e){var a=bm(e.options.layout.padding),o=Math.max(t-a.width,0),g=Math.max(n-a.height,0),i=function(e){var t=function(e){var t,n,r,a,o,g,i=[];for(t=0,n=(e||[]).length;t<n;++t){var l=r=e[t];a=l.position;var c=l.options;o=c.stack;var s=c.stackWeight;g=void 0===s?1:s,i.push({index:t,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:g})}return i}(e),n=wf(t.filter((function(e){return e.box.fullSize})),!0),r=wf(Vf(t,"left"),!0),a=wf(Vf(t,"right")),o=wf(Vf(t,"top"),!0),g=wf(Vf(t,"bottom")),i=Rf(t,"x"),l=Rf(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:a.concat(l).concat(g).concat(i),chartArea:Vf(t,"chartArea"),vertical:r.concat(a).concat(l),horizontal:o.concat(g).concat(i)}}(e.boxes),l=i.vertical,c=i.horizontal;sA(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var s=l.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,I=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,availableHeight:g,vBoxMaxWidth:o/2/s,hBoxMaxHeight:g/2}),u=Object.assign({},a);Yf(u,bm(r));var C=Object.assign({maxPadding:u,w:o,h:g,x:a.left,y:a.top},a),d=Xf(l.concat(c),I);Nf(i.fullSize,C,I,d),Nf(l,C,I,d),Nf(c,C,I,d)&&Nf(l,C,I,d),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(C),Kf(i.leftAndTop,C,I,d),C.x+=C.w,C.y+=C.h,Kf(i.rightAndBottom,C,I,d),e.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},sA(i.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})}))}},jf=function(){function e(){c(this,e)}return I(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),Tf=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(jf),Lf={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Uf=function(e){return null===e||""===e};var Qf=!!rp&&{passive:!0};function _f(e,t,n){e.canvas.removeEventListener(t,n,Qf)}function Of(e,t){var n,r=Hn(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a===t||a.contains(t))return!0}}catch(o){r.e(o)}finally{r.f()}}function Pf(e,t,n){var r=e.canvas,a=new MutationObserver((function(e){var t,a=!1,o=Hn(e);try{for(o.s();!(t=o.n()).done;){var g=t.value;a=(a=a||Of(g.addedNodes,r))&&!Of(g.removedNodes,r)}}catch(i){o.e(i)}finally{o.f()}a&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}function qf(e,t,n){var r=e.canvas,a=new MutationObserver((function(e){var t,a=!1,o=Hn(e);try{for(o.s();!(t=o.n()).done;){var g=t.value;a=(a=a||Of(g.removedNodes,r))&&!Of(g.addedNodes,r)}}catch(i){o.e(i)}finally{o.f()}a&&n()}));return a.observe(document,{childList:!0,subtree:!0}),a}var $f=new Map,eb=0;function tb(){var e=window.devicePixelRatio;e!==eb&&(eb=e,$f.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function nb(e,t,n){var r=e.canvas,a=r&&Qm(r);if(a){var o=th((function(e,t){var r=a.clientWidth;n(e,t),r<a.clientWidth&&n()}),window),g=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||o(n,r)}));return g.observe(a),function(e,t){$f.size||window.addEventListener("resize",tb),$f.set(e,t)}(e,o),g}}function rb(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){$f.delete(e),$f.size||window.removeEventListener("resize",tb)}(e)}function ab(e,t,n){var r=e.canvas,a=th((function(t){null!==e.ctx&&n(function(e,t){var n=Lf[e.type]||e.type,r=$m(e,t),a=r.x,o=r.y;return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==o?o:null}}(t,e))}),e,(function(e){var t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,Qf)}(r,t,a),a}var ob=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e.$chartjs={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Uf(a)){var o=ap(e,"width");void 0!==o&&(e.width=o)}if(Uf(r))if(""===e.style.height)e.height=e.width/(t||2);else{var g=ap(e,"height");void 0!==g&&(e.height=g)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t.$chartjs)return!1;var n=t.$chartjs.initial;["height","width"].forEach((function(e){var r=n[e];nA(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t.$chartjs,!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),a={attach:Pf,detach:qf,resize:nb}[t]||ab;r[t]=a(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:rb,detach:rb,resize:rb}[t]||_f)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return tp(e,t,n,r)}},{key:"isAttached",value:function(e){var t=Qm(e);return!(!t||!t.isConnected)}}]),n}(jf);var gb=function(){function e(){c(this,e),this._init=[]}return I(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var a=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(a,e,t,n);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}},{key:"_notify",value:function(e,t,n,r){r=r||{};var a,o=Hn(e);try{for(o.s();!(a=o.n()).done;){var g=a.value,i=g.plugin;if(!1===cA(i[n],[t,r,g.options],i)&&r.cancelable)return!1}}catch(l){o.e(l)}finally{o.f()}return!0}},{key:"invalidate",value:function(){nA(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=iA(n.options&&n.options.plugins,{}),a=function(e){for(var t={},n=[],r=Object.keys(Af.plugins.items),a=0;a<r.length;a++)n.push(Af.getPlugin(r[a]));for(var o=e.plugins||[],g=0;g<o.length;g++){var i=o[g];-1===n.indexOf(i)&&(n.push(i),t[i.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var a,o=t.plugins,g=t.localIds,i=[],l=e.getContext(),c=Hn(o);try{for(c.s();!(a=c.n()).done;){var s=a.value,I=s.id,u=ib(n[I],r);null!==u&&i.push({plugin:s,options:lb(e.config,{plugin:s,local:g[I]},u,l)})}}catch(C){c.e(C)}finally{c.f()}return i}(e,a,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function ib(e,t){return t||!1!==e?!0===e?{}:e:null}function lb(e,t,n,r){var a=t.plugin,o=t.local,g=e.pluginScopeKeys(a),i=e.getOptionScopes(n,g);return o&&a.defaults&&i.push(a.defaults),e.createResolver(i,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cb(e,t){var n=qh.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function sb(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Ib(e){var t=e.options||(e.options={});t.plugins=iA(t.plugins,{}),t.scales=function(e,t){var n=Uh[e.type]||{scales:{}},r=t.scales||{},a=cb(e.type,t),o=Object.create(null),g=Object.create(null);return Object.keys(r).forEach((function(e){var t=r[e];if(!aA(t))return console.error("Invalid scale configuration for scale: ".concat(e));if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));var i=sb(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(i,a),c=n.scales||{};o[i]=o[i]||e,g[e]=hA(Object.create(null),[{axis:i},t,c[i],c[l]])})),e.data.datasets.forEach((function(n){var a=n.type||e.type,i=n.indexAxis||cb(a,t),l=(Uh[a]||{}).scales||{};Object.keys(l).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),a=n[t+"AxisID"]||o[t]||t;g[a]=g[a]||Object.create(null),hA(g[a],[{axis:t},r[a],l[e]])}))})),Object.keys(g).forEach((function(e){var t=g[e];hA(t,[qh.scales[t.type],qh.scale])})),g}(e,t)}function ub(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var Cb=new Map,db=new Set;function Ab(e,t){var n=Cb.get(e);return n||(n=t(),Cb.set(e,n),db.add(n)),n}var hb=function(e,t,n){var r=fA(t,n);void 0!==r&&e.add(r)},mb=function(){function e(t){c(this,e),this._config=function(e){return(e=e||{}).data=ub(e.data),Ib(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return I(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=ub(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),Ib(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return Ab(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return Ab("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return Ab("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return Ab("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(l(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,a=this.type,o=this._cachedScopes(e,n),g=o.get(t);if(g)return g;var i=new Set;t.forEach((function(t){e&&(i.add(e),t.forEach((function(t){return hb(i,e,t)}))),t.forEach((function(e){return hb(i,r,e)})),t.forEach((function(e){return hb(i,Uh[a]||{},e)})),t.forEach((function(e){return hb(i,qh,e)})),t.forEach((function(e){return hb(i,Qh,e)}))}));var l=Array.from(i);return 0===l.length&&l.push(Object.create(null)),db.has(t)&&o.set(t,l),l}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,Uh[t]||{},qh.datasets[t]||{},{type:t},qh,Qh]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],a={$shared:!0},o=pb(this._resolverCache,e,r),g=o.resolver,i=o.subPrefixes,l=g;if(bb(g,t)){a.$shared=!1,n=ZA(n)?n():n;var c=this.createResolver(e,n,i);l=Bm(g,n,c)}var s,I=Hn(t);try{for(I.s();!(s=I.n()).done;){var u=s.value;a[u]=l[u]}}catch(C){I.e(C)}finally{I.f()}return a}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,a=pb(this._resolverCache,e,n),o=a.resolver;return aA(t)?Bm(o,t,void 0,r):o}}]),e}();function pb(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var a=n.join(),o=r.get(a);o||(o={resolver:Gm(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(a,o));return o}var fb=function(e){return aA(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||ZA(e[n])}),!1)};function bb(e,t){var n,r=Sm(e),a=r.isScriptable,o=r.isIndexable,g=Hn(t);try{for(g.s();!(n=g.n()).done;){var i=n.value,l=a(i),c=o(i),s=(c||l)&&e[i];if(l&&(ZA(s)||fb(s))||c&&rA(s))return!0}}catch(I){g.e(I)}finally{g.f()}return!1}var yb=["top","bottom","left","right","chartArea"];function Zb(e,t){return"top"===e||"bottom"===e||-1===yb.indexOf(e)&&"x"===t}function vb(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Gb(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),cA(n&&n.onComplete,[e],t)}function Bb(e){var t=e.chart,n=t.options.animation;cA(n&&n.onProgress,[e],t)}function Sb(e){return Um()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var kb={},Wb=function(e){var t=Sb(e);return Object.values(kb).filter((function(e){return e.canvas===t})).pop()};function Vb(e,t,n){for(var r=0,a=Object.keys(e);r<a.length;r++){var o=a[r],g=+o;if(g>=t){var i=e[o];delete e[o],(n>0||g>t)&&(e[g+n]=i)}}}var Rb=function(){function e(t,n){var r=this;c(this,e);var a=this.config=new mb(n),o=Sb(t),g=Wb(o);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas with ID '"+g.canvas.id+"' can be reused.");var i=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!Um()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Tf:ob}(o)),this.platform.updateConfig(a);var l=this.platform.acquireContext(o,i.aspectRatio),s=l&&l.canvas,I=s&&s.height,u=s&&s.width;this.id=tA(),this.ctx=l,this.canvas=s,this.width=u,this.height=I,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t?(clearTimeout(n),n=setTimeout(e,t,a)):e.apply(this,a),t}}((function(e){return r.update(e)}),i.resizeDelay||0),this._dataChanges=[],kb[this.id]=this,l&&s?(yp.listen(this,"complete",Gb),yp.listen(this,"progress",Bb),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return I(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,a=this.height,o=this._aspectRatio;return nA(t)?n&&o?o:a?r/a:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():np(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return nm(this.canvas,this.ctx),this}},{key:"stop",value:function(){return yp.stop(this),this}},{key:"resize",value:function(e,t){yp.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,a),g=n.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,np(this,g,!0)&&(this.notifyPlugins("resize",{size:o}),cA(n.onResize,[this,o],this),this.attached&&this._doResize(i)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){sA(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,a=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),o=[];n&&(o=o.concat(Object.keys(n).map((function(e){var t=n[e],r=sb(e,t),a="r"===r,o="x"===r;return{options:t,dposition:a?"chartArea":o?"bottom":"left",dtype:a?"radialLinear":o?"category":"linear"}})))),sA(o,(function(n){var o=n.options,g=o.id,i=sb(g,o),l=iA(o.type,n.dtype);void 0!==o.position&&Zb(o.position,i)===Zb(n.dposition)||(o.position=n.dposition),a[g]=!0;var c=null;g in r&&r[g].type===l?c=r[g]:(c=new(Af.getScale(l))({id:g,type:l,ctx:e.ctx,chart:e}),r[c.id]=c);c.init(o,t)})),sA(a,(function(e,t){e||delete r[t]})),sA(r,(function(t){Df(e,t,t.options),Mf(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(vb("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var a=r[e],o=this.getDatasetMeta(e),g=a.type||this.config.type;if(o.type&&o.type!==g&&(this._destroyDatasetMeta(e),o=this.getDatasetMeta(e)),o.type=g,o.indexAxis=a.indexAxis||cb(g,this.options),o.order=a.order||0,o.index=e,o.label=""+a.label,o.visible=this.isDatasetVisible(e),o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var i=Af.getController(g),l=qh.datasets[g],c=l.datasetElementType,s=l.dataElementType;Object.assign(i.prototype,{dataElementType:Af.getElement(s),datasetElementType:c&&Af.getElement(c)}),o.controller=new i(this,e),n.push(o.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;sA(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var o=0,g=0,i=this.data.datasets.length;g<i;g++){var l=this.getDatasetMeta(g).controller,c=!r&&-1===a.indexOf(l);l.buildOrUpdateElements(c),o=Math.max(+l.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||sA(a,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vb("z","_idx"));var s=this._active,I=this._lastEvent;I?this._eventHandler(I,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;sA(this.scales,(function(t){Ef(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);vA(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=Hn(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.method,o=r.start,g=r.count;Vb(t,o,"_removeElements"===a?-g:g)}}catch(i){n.e(i)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),a=1;a<t;a++)if(!vA(r,n(a)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){zf(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],sA(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,l(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,a=this.data.datasets.length;r<a;++r)this._updateDataset(r,ZA(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(yp.has(this)?this.attached&&!yp.running(this)&&yp.start(this):(this.draw(),Gb({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,a=[];for(t=0,n=r.length;t<n;++t){var o=r[t];e&&!o.visible||a.push(o)}return a}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,a=this.chartArea,o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&gm(t,{left:!1===n.left?0:a.left-n.left,right:!1===n.right?this.width:a.right+n.right,top:!1===n.top?0:a.top-n.top,bottom:!1===n.bottom?this.height:a.bottom+n.bottom}),e.controller.draw(),r&&im(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}},{key:"isPointInArea",value:function(e){return om(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var a=kf.modes[t];return"function"===typeof a?a(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=vm(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,r);yA(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),yp.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete kb[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};sA(this.options.events,(function(a){return function(r,a){n.addEventListener(e,r,a),t[r]=a}(a,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,a=function(t,a){r.addEventListener(e,t,a),n[t]=a},o=function(t,a){n[t]&&(r.removeEventListener(e,t,a),delete n[t])},g=function(t,n){e.canvas&&e.resize(t,n)},i=function n(){o("attach",n),e.attached=!0,e.resize(),a("resize",g),a("detach",t)};t=function(){e.attached=!1,o("resize",g),e._stop(),e._resize(0,0),a("attach",i)},r.isAttached(this.canvas)?i():t()}},{key:"unbindEvents",value:function(){var e=this;sA(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},sA(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,a,o,g=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+g+"DatasetHoverStyle"](),a=0,o=e.length;a<o;++a){var i=(r=e[a])&&this.getDatasetMeta(r.datasetIndex).controller;i&&i[g+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,a=t.getDatasetMeta(n);if(!a)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:a.data[r],index:r}}));!IA(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,a=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},o=a(t,e),g=n?e:a(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),g.length&&r.mode&&this.updateHoverStyle(g,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,a)){var o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(o||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,a=void 0===r?[]:r,o=this.options,g=t,i=this._getActiveElements(e,a,n,g),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,cA(o.onHover,[e,i,this],this),l&&cA(o.onClick,[e,i,this],this));var s=!IA(i,a);return(s||t)&&(this._active=i,this._updateHoverStyles(i,a,t)),this._lastEvent=c,s}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}]),e}(),wb=function(){return sA(Rb.instances,(function(e){return e._plugins.invalidate()}))},Xb=!0;function Jb(e,t,n){var r=t.startAngle,a=t.pixelMargin,o=t.x,g=t.y,i=t.outerRadius,l=t.innerRadius,c=a/i;e.beginPath(),e.arc(o,g,i,r-c,n+c),l>a?(c=a/l,e.arc(o,g,l,n+c,r-c,!0)):e.arc(o,g,a,n+VA,r-VA),e.closePath(),e.clip()}function Yb(e,t,n,r){var a=mm(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(n-t)/2,g=Math.min(o,r*t/2),i=function(e){var t=(n-Math.min(o,e))*r/2;return LA(e,0,Math.min(o,t))};return{outerStart:i(a.outerStart),outerEnd:i(a.outerEnd),innerStart:LA(a.innerStart,0,g),innerEnd:LA(a.innerEnd,0,g)}}function xb(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Hb(e,t,n,r,a,o){var g=t.x,i=t.y,l=t.startAngle,c=t.pixelMargin,s=t.innerRadius,I=Math.max(t.outerRadius+r+n-c,0),u=s>0?s+r+n+c:0,C=0,d=a-l;if(r){var A=((s>0?s-r:0)+(I>0?I-r:0))/2;C=(d-(0!==A?d*A/(A+r):d))/2}var h=(d-Math.max(.001,d*I-n/GA)/I)/2,m=l+h+C,p=a-h-C,f=Yb(t,u,I,p-m),b=f.outerStart,y=f.outerEnd,Z=f.innerStart,v=f.innerEnd,G=I-b,B=I-y,S=m+b/G,k=p-y/B,W=u+Z,V=u+v,R=m+Z/W,w=p-v/V;if(e.beginPath(),o){if(e.arc(g,i,I,S,k),y>0){var X=xb(B,k,g,i);e.arc(X.x,X.y,y,k,p+VA)}var J=xb(V,p,g,i);if(e.lineTo(J.x,J.y),v>0){var Y=xb(V,w,g,i);e.arc(Y.x,Y.y,v,p+VA,w+Math.PI)}if(e.arc(g,i,u,p-v/u,m+Z/u,!0),Z>0){var x=xb(W,R,g,i);e.arc(x.x,x.y,Z,R+Math.PI,m-VA)}var H=xb(G,m,g,i);if(e.lineTo(H.x,H.y),b>0){var N=xb(G,S,g,i);e.arc(N.x,N.y,b,m-VA,S)}}else{e.moveTo(g,i);var F=Math.cos(S)*I+g,K=Math.sin(S)*I+i;e.lineTo(F,K);var M=Math.cos(k)*I+g,E=Math.sin(k)*I+i;e.lineTo(M,E)}e.closePath()}function Nb(e,t,n,r,a,o){var g=t.options,i=g.borderWidth,l=g.borderJoinStyle,c="inner"===g.borderAlign;i&&(c?(e.lineWidth=2*i,e.lineJoin=l||"round"):(e.lineWidth=i,e.lineJoin=l||"bevel"),t.fullCircles&&function(e,t,n){var r,a=t.x,o=t.y,g=t.startAngle,i=t.pixelMargin,l=t.fullCircles,c=Math.max(t.outerRadius-i,0),s=t.innerRadius+i;for(n&&Jb(e,t,g+BA),e.beginPath(),e.arc(a,o,s,g+BA,g,!0),r=0;r<l;++r)e.stroke();for(e.beginPath(),e.arc(a,o,c,g,g+BA),r=0;r<l;++r)e.stroke()}(e,t,c),c&&Jb(e,t,a),Hb(e,t,n,r,a,o),e.stroke())}Object.defineProperties(Rb,{defaults:{enumerable:Xb,value:qh},instances:{enumerable:Xb,value:kb},overrides:{enumerable:Xb,value:Uh},registry:{enumerable:Xb,value:Af},version:{enumerable:Xb,value:"3.9.1"},getChart:{enumerable:Xb,value:Wb},register:{enumerable:Xb,value:function(){Af.add.apply(Af,arguments),wb()}},unregister:{enumerable:Xb,value:function(){Af.remove.apply(Af,arguments),wb()}}});var Fb=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign(m(r),e),r}return I(n,[{key:"inRange",value:function(e,t,n){var r=EA(this.getProps(["x","y"],n),{x:e,y:t}),a=r.angle,o=r.distance,g=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),i=g.startAngle,l=g.endAngle,c=g.innerRadius,s=g.outerRadius,I=g.circumference,u=this.options.spacing/2,C=iA(I,l-i)>=BA||TA(a,i,l),d=UA(o,c+u,s+u);return C&&d}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),n=t.x,r=t.y,a=t.startAngle,o=t.endAngle,g=t.innerRadius,i=t.outerRadius,l=this.options,c=l.offset,s=(a+o)/2,I=(g+i+l.spacing+c)/2;return{x:n+Math.cos(s)*I,y:r+Math.sin(s)*I}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/2,a=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>BA?Math.floor(n/BA):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var g=0;if(r){g=r/2;var i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*g,Math.sin(i)*g),this.circumference>=GA&&(g=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;var l=function(e,t,n,r,a){var o=t.fullCircles,g=t.startAngle,i=t.circumference,l=t.endAngle;if(o){Hb(e,t,n,r,g+BA,a);for(var c=0;c<o;++c)e.fill();isNaN(i)||(l=g+i%BA,i%BA===0&&(l+=BA))}return Hb(e,t,n,r,l,a),e.fill(),l}(e,this,g,a,o);Nb(e,this,g,a,l,o),e.restore()}}}]),n}(ef);function Kb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=iA(n.borderCapStyle,t.borderCapStyle),e.setLineDash(iA(n.borderDash,t.borderDash)),e.lineDashOffset=iA(n.borderDashOffset,t.borderDashOffset),e.lineJoin=iA(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=iA(n.borderWidth,t.borderWidth),e.strokeStyle=iA(n.borderColor,t.borderColor)}function Mb(e,t,n){e.lineTo(n.x,n.y)}function Eb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,a=n.start,o=void 0===a?0:a,g=n.end,i=void 0===g?r-1:g,l=t.start,c=t.end,s=Math.max(o,l),I=Math.min(i,c),u=o<l&&i<l||o>c&&i>c;return{count:r,start:s,loop:t.loop,ilen:I<s&&!u?r+I-s:I-s}}function Db(e,t,n,r){var a,o,g,i=t.points,l=t.options,c=Eb(i,n,r),s=c.count,I=c.start,u=c.loop,C=c.ilen,d=function(e){return e.stepped?lm:e.tension||"monotone"===e.cubicInterpolationMode?cm:Mb}(l),A=r||{},h=A.move,m=void 0===h||h,p=A.reverse;for(a=0;a<=C;++a)(o=i[(I+(p?C-a:a))%s]).skip||(m?(e.moveTo(o.x,o.y),m=!1):d(e,g,o,p,l.stepped),g=o);return u&&d(e,g,o=i[(I+(p?C:0))%s],p,l.stepped),!!u}function zb(e,t,n,r){var a,o,g,i,l,c,s=t.points,I=Eb(s,n,r),u=I.count,C=I.start,d=I.ilen,A=r||{},h=A.move,m=void 0===h||h,p=A.reverse,f=0,b=0,y=function(e){return(C+(p?d-e:e))%u},Z=function(){i!==l&&(e.lineTo(f,l),e.lineTo(f,i),e.lineTo(f,c))};for(m&&(o=s[y(0)],e.moveTo(o.x,o.y)),a=0;a<=d;++a)if(!(o=s[y(a)]).skip){var v=o.x,G=o.y,B=0|v;B===g?(G<i?i=G:G>l&&(l=G),f=(b*f+v)/++b):(Z(),e.lineTo(v,G),g=B,b=0,i=l=G),c=G}Z()}function jb(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?zb:Db}Fb.id="arc",Fb.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Fb.defaultRoutes={backgroundColor:"backgroundColor"};var Tb="function"===typeof Path2D;function Lb(e,t,n,r){Tb&&!t.options.segment?function(e,t,n,r){var a=t._path;a||(a=t._path=new Path2D,t.path(a,n,r)&&a.closePath()),Kb(e,t.options),e.stroke(a)}(e,t,n,r):function(e,t,n,r){var a,o=t.segments,g=t.options,i=jb(t),l=Hn(o);try{for(l.s();!(a=l.n()).done;){var c=a.value;Kb(e,g,c.style),e.beginPath(),i(e,t,c,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(s){l.e(s)}finally{l.f()}}(e,t,n,r)}var Ub=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign(m(r),e),r}return I(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;Lm(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,a=n.length;if(!a)return[];var o=!!e._loop,g=function(e,t,n,r){var a=0,o=t-1;if(n&&!r)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(o+=a);o>a&&e[o%t].skip;)o--;return{start:a,end:o%=t}}(n,a,o,r),i=g.start,l=g.end;return mp(e,!0===r?[{start:i,end:l,loop:o}]:function(e,t,n,r){var a,o=e.length,g=[],i=t,l=e[t];for(a=t+1;a<=n;++a){var c=e[a%o];c.skip||c.stop?l.skip||(r=!1,g.push({start:t%o,end:(a-1)%o,loop:r}),t=i=c.stop?a:null):(i=a,l.skip&&(t=a)),l=c}return null!==i&&g.push({start:t%o,end:i%o,loop:r}),g}(n,i,l<i?l+a:l,!!e._fullLoop&&0===i&&l===a-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],a=this.points,o=hp(this,{property:t,start:r,end:r});if(o.length){var g,i,l=[],c=function(e){return e.stepped?gp:e.tension||"monotone"===e.cubicInterpolationMode?ip:op}(n);for(g=0,i=o.length;g<i;++g){var s=o[g],I=s.start,u=s.end,C=a[I],d=a[u];if(C!==d){var A=c(C,d,Math.abs((r-C[t])/(d[t]-C[t])),n.stepped);A[t]=e[t],l.push(A)}else l.push(C)}return 1===l.length?l[0]:l}}},{key:"pathSegment",value:function(e,t,n){return jb(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,a=jb(this),o=this._loop;t=t||0,n=n||this.points.length-t;var g,i=Hn(r);try{for(i.s();!(g=i.n()).done;){o&=a(e,this,g.value,{start:t,end:t+n-1})}}catch(l){i.e(l)}finally{i.f()}return!!o}},{key:"draw",value:function(e,t,n,r){var a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Lb(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(ef);function Qb(e,t,n,r){var a=e.options,o=e.getProps([n],r)[n];return Math.abs(t-o)<a.radius+a.hitRadius}Ub.id="line",Ub.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Ub.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Ub.descriptors={_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}};var _b=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign(m(r),e),r}return I(n,[{key:"inRange",value:function(e,t,n){var r=this.options,a=this.getProps(["x","y"],n),o=a.x,g=a.y;return Math.pow(e-o,2)+Math.pow(t-g,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return Qb(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return Qb(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!om(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,rm(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(ef);function Ob(e,t){var n,r,a,o,g,i=e.getProps(["x","y","base","width","height"],t),l=i.x,c=i.y,s=i.base,I=i.width,u=i.height;return e.horizontal?(g=u/2,n=Math.min(l,s),r=Math.max(l,s),a=c-g,o=c+g):(n=l-(g=I/2),r=l+g,a=Math.min(c,s),o=Math.max(c,s)),{left:n,top:a,right:r,bottom:o}}function Pb(e,t,n,r){return e?0:LA(t,n,r)}function qb(e){var t=Ob(e),n=t.right-t.left,r=t.bottom-t.top,a=function(e,t,n){var r=e.options.borderWidth,a=e.borderSkipped,o=pm(r);return{t:Pb(a.top,o.top,0,n),r:Pb(a.right,o.right,0,t),b:Pb(a.bottom,o.bottom,0,n),l:Pb(a.left,o.left,0,t)}}(e,n/2,r/2),o=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,a=e.options.borderRadius,o=fm(a),g=Math.min(t,n),i=e.borderSkipped,l=r||aA(a);return{topLeft:Pb(!l||i.top||i.left,o.topLeft,0,g),topRight:Pb(!l||i.top||i.right,o.topRight,0,g),bottomLeft:Pb(!l||i.bottom||i.left,o.bottomLeft,0,g),bottomRight:Pb(!l||i.bottom||i.right,o.bottomRight,0,g)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function $b(e,t,n,r){var a=null===t,o=null===n,g=e&&!(a&&o)&&Ob(e,r);return g&&(a||UA(t,g.left,g.right))&&(o||UA(n,g.top,g.bottom))}function ey(e,t){e.rect(t.x,t.y,t.w,t.h)}function ty(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,g=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+r,y:e.y+a,w:e.w+o,h:e.h+g,radius:e.radius}}_b.id="point",_b.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},_b.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ny=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign(m(r),e),r}return I(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,a=r.borderColor,o=r.backgroundColor,g=qb(this),i=g.inner,l=g.outer,c=(t=l.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?Cm:ey;e.save(),l.w===i.w&&l.h===i.h||(e.beginPath(),c(e,ty(l,n,i)),e.clip(),c(e,ty(i,-n,l)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),c(e,ty(i,n)),e.fillStyle=o,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return $b(this,e,t,n)}},{key:"inXRange",value:function(e,t){return $b(this,e,null,t)}},{key:"inYRange",value:function(e,t){return $b(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,a=t.base,o=t.horizontal;return{x:o?(n+a)/2:n,y:o?r:(r+a)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(ef);ny.id="bar",ny.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ny.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ry=Object.freeze({__proto__:null,ArcElement:Fb,LineElement:Ub,PointElement:_b,BarElement:ny});function ay(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function oy(e){e.data.datasets.forEach((function(e){ay(e)}))}var gy={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,a){var o=t._data,g=t.indexAxis,i=e.getDatasetMeta(a),l=o||t.data;if("y"!==Zm([g,e.options.indexAxis])&&i.controller.supportsDecimation){var c=e.scales[i.xAxisID];if(("linear"===c.type||"time"===c.type)&&!e.options.parsing){var s=function(e,t){var n=t.length,r=0,a=e.iScale,o=a.getUserBounds(),g=o.min,i=o.max,l=o.minDefined,c=o.maxDefined;return l&&(r=LA(_A(t,a.axis,g).lo,0,n-1)),{start:r,count:c?LA(_A(t,a.axis,i).hi+1,r,n)-r:n-r}}(i,l),I=s.start,u=s.count;if(u<=(n.threshold||4*r))ay(t);else{var C;switch(nA(o)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":C=function(e,t,n,r,a){var o=a.samples||r;if(o>=n)return e.slice(t,t+n);var g,i,l,c,s,I=[],u=(n-2)/(o-2),C=0,d=t+n-1,A=t;for(I[C++]=e[A],g=0;g<o-2;g++){var h=0,m=0,p=void 0,f=Math.floor((g+1)*u)+1+t,b=Math.min(Math.floor((g+2)*u)+1,n)+t,y=b-f;for(p=f;p<b;p++)h+=e[p].x,m+=e[p].y;h/=y,m/=y;var Z=Math.floor(g*u)+1+t,v=Math.min(Math.floor((g+1)*u)+1,n)+t,G=e[A],B=G.x,S=G.y;for(l=c=-1,p=Z;p<v;p++)(c=.5*Math.abs((B-h)*(e[p].y-S)-(B-e[p].x)*(m-S)))>l&&(l=c,i=e[p],s=p);I[C++]=i,A=s}return I[C++]=e[d],I}(l,I,u,r,n);break;case"min-max":C=function(e,t,n,r){var a,o,g,i,l,c,s,I,u,C,d=0,A=0,h=[],m=t+n-1,p=e[t].x,f=e[m].x-p;for(a=t;a<t+n;++a){g=((o=e[a]).x-p)/f*r,i=o.y;var b=0|g;if(b===l)i<u?(u=i,c=a):i>C&&(C=i,s=a),d=(A*d+o.x)/++A;else{var y=a-1;if(!nA(c)&&!nA(s)){var Z=Math.min(c,s),v=Math.max(c,s);Z!==I&&Z!==y&&h.push(je(je({},e[Z]),{},{x:d})),v!==I&&v!==y&&h.push(je(je({},e[v]),{},{x:d}))}a>0&&y!==I&&h.push(e[y]),h.push(o),l=b,A=0,u=C=i,c=s=I=a}}return h}(l,I,u,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=C}}}}))}else oy(e)},destroy:function(e){oy(e)}};function iy(e,t,n,r){if(!r){var a=t[e],o=n[e];return"angle"===e&&(a=jA(a),o=jA(o)),{property:e,start:a,end:o}}}function ly(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function cy(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function sy(e,t){var n=[],r=!1;return rA(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,a=void 0===r?null:r,o=n.y,g=void 0===o?null:o,i=t.points,l=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=ly(t,n,i);var r=i[t],o=i[n];null!==g?(l.push({x:r.x,y:g}),l.push({x:o.x,y:g})):null!==a&&(l.push({x:a,y:r.y}),l.push({x:a,y:o.y}))})),l}(e,t),n.length?new Ub({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Iy(e){return e&&!1!==e.fill}function uy(e,t,n){var r,a=e[t].fill,o=[t];if(!n)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!oA(a))return a;if(!(r=e[a]))return!1;if(r.visible)return a;o.push(a),a=r.fill}return!1}function Cy(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=iA(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(aA(r))return!isNaN(r.value)&&r;var a=parseFloat(r);return oA(a)&&Math.floor(a)===a?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function dy(e,t,n){for(var r=[],a=0;a<n.length;a++){var o=Ay(n[a],t,"x"),g=o.first,i=o.last,l=o.point;if(!(!l||g&&i))if(g)r.unshift(l);else if(e.push(l),!i)break}e.push.apply(e,r)}function Ay(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var a=r[n],o=e.segments,g=e.points,i=!1,l=!1,c=0;c<o.length;c++){var s=o[c],I=g[s.start][n],u=g[s.end][n];if(UA(a,I,u)){i=a===I,l=a===u;break}}return{first:i,last:l,point:r}}var hy=function(){function e(t){c(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return I(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,a=this.y,o=this.radius;return t=t||{start:0,end:BA},e.arc(r,a,o,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,a=e.angle;return{x:t+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}]),e}();function my(e){var t=e.chart,n=e.fill,r=e.line;if(oA(n))return function(e,t){var n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,a=[],o=r.segments,g=r.points,i=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),a=0;a<r.length;a++){var o=r[a];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}(t,n);i.push(sy({x:null,y:t.bottom},r));for(var l=0;l<o.length;l++)for(var c=o[l],s=c.start;s<=c.end;s++)dy(a,g[s],i);return new Ub({points:a,options:{}})}(e);if("shape"===n)return!0;var a=function(e){if((e.scale||{}).getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,a=t.getLabels().length,o=r.reverse?t.max:t.min,g=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:aA(e)?e.value:t.getBaseValue()}(n,t,o),i=[];if(r.grid.circular){var l=t.getPointPositionForValue(0,o);return new hy({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(g)})}for(var c=0;c<a;++c)i.push(t.getPointPositionForValue(c,g));return i}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:aA(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(e.fill,n);if(oA(r)){var a=n.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}(e)}(e);return a instanceof hy?a:sy(a,r)}function py(e,t,n){var r=my(t),a=t.line,o=t.scale,g=t.axis,i=a.options,l=i.fill,c=i.backgroundColor,s=l||{},I=s.above,u=void 0===I?c:I,C=s.below,d=void 0===C?c:C;r&&a.points.length&&(gm(e,n),function(e,t){var n=t.line,r=t.target,a=t.above,o=t.below,g=t.area,i=t.scale,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==a&&(fy(e,r,g.top),by(e,{line:n,target:r,color:a,scale:i,property:l}),e.restore(),e.save(),fy(e,r,g.bottom));by(e,{line:n,target:r,color:o,scale:i,property:l}),e.restore()}(e,{line:a,target:r,above:u,below:d,area:n,scale:o,axis:g}),im(e))}function fy(e,t,n){var r=t.segments,a=t.points,o=!0,g=!1;e.beginPath();var i,l=Hn(r);try{for(l.s();!(i=l.n()).done;){var c=i.value,s=c.start,I=c.end,u=a[s],C=a[ly(s,I,a)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),(g=!!t.pathSegment(e,c,{move:g}))?e.closePath():e.lineTo(C.x,n)}}catch(d){l.e(d)}finally{l.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function by(e,t){var n,r=t.line,a=t.target,o=t.property,g=t.color,i=t.scale,l=function(e,t,n){var r,a=e.segments,o=e.points,g=t.points,i=[],l=Hn(a);try{for(l.s();!(r=l.n()).done;){var c=r.value,s=c.start,I=c.end;I=ly(s,I,o);var u=iy(n,o[s],o[I],c.loop);if(t.segments){var C,d=Hn(hp(t,u));try{for(d.s();!(C=d.n()).done;){var A,h=C.value,m=iy(n,g[h.start],g[h.end],h.loop),p=Hn(Ap(c,o,m));try{for(p.s();!(A=p.n()).done;){var f=A.value;i.push({source:f,target:h,start:De({},n,cy(u,m,"start",Math.max)),end:De({},n,cy(u,m,"end",Math.min))})}}catch(b){p.e(b)}finally{p.f()}}}catch(b){d.e(b)}finally{d.f()}}else i.push({source:c,target:u,start:o[s],end:o[I]})}}catch(b){l.e(b)}finally{l.f()}return i}(r,a,o),c=Hn(l);try{for(c.s();!(n=c.n()).done;){var s=n.value,I=s.source,u=s.target,C=s.start,d=s.end,A=I.style,h=(A=void 0===A?{}:A).backgroundColor,m=void 0===h?g:h,p=!0!==a;e.save(),e.fillStyle=m,yy(e,i,p&&iy(o,C,d)),e.beginPath();var f=!!r.pathSegment(e,I),b=void 0;if(p){f?e.closePath():Zy(e,a,d,o);var y=!!a.pathSegment(e,u,{move:f,reverse:!0});(b=f&&y)||Zy(e,a,C,o)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}catch(Z){c.e(Z)}finally{c.f()}}function yy(e,t,n){var r=t.chart.chartArea,a=r.top,o=r.bottom,g=n||{},i=g.property,l=g.start,c=g.end;"x"===i&&(e.beginPath(),e.rect(l,a,c-l,o-a),e.clip())}function Zy(e,t,n,r){var a=t.interpolate(n,r);a&&e.lineTo(a.x,a.y)}var vy={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,a,o,g,i=(e.data.datasets||[]).length,l=[];for(a=0;a<i;++a)g=null,(o=(r=e.getDatasetMeta(a)).dataset)&&o.options&&o instanceof Ub&&(g={visible:e.isDatasetVisible(a),index:a,fill:Cy(o,a,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=g,l.push(g);for(a=0;a<i;++a)(g=l[a])&&!1!==g.fill&&(g.fill=uy(l,a,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,a=e.getSortedVisibleDatasetMetas(),o=e.chartArea,g=a.length-1;g>=0;--g){var i=a[g].$filler;i&&(i.line.updateControlPoints(o,i.axis),r&&i.fill&&py(e.ctx,i,o))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),a=r.length-1;a>=0;--a){var o=r[a].$filler;Iy(o)&&py(e.ctx,o,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;Iy(r)&&"beforeDatasetDraw"===n.drawTime&&py(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Gy=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,a=e.boxWidth,o=void 0===a?t:a;return e.usePointStyle&&(r=Math.min(r,t),o=e.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(t,r)}},By=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return I(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=cA(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,a=e.labels,o=ym(a.font),g=o.size,i=this._computeTitleHeight(),l=Gy(a,g),c=l.boxWidth,s=l.itemHeight;t.font=o.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(i,g,c,s)+10):(r=this.maxHeight,n=this._fitCols(i,g,c,s)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var a=this.ctx,o=this.maxWidth,g=this.options.labels.padding,i=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+g,s=e;a.textAlign="left",a.textBaseline="middle";var I=-1,u=-c;return this.legendItems.forEach((function(e,C){var d=n+t/2+a.measureText(e.text).width;(0===C||l[l.length-1]+d+2*g>o)&&(s+=c,l[l.length-(C>0?0:1)]=0,u+=c,I++),i[C]={left:0,top:u,row:I,width:d,height:r},l[l.length-1]+=d+g})),s}},{key:"_fitCols",value:function(e,t,n,r){var a=this.ctx,o=this.maxHeight,g=this.options.labels.padding,i=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e,s=g,I=0,u=0,C=0,d=0;return this.legendItems.forEach((function(e,o){var A=n+t/2+a.measureText(e.text).width;o>0&&u+r+2*g>c&&(s+=I+g,l.push({width:I,height:u}),C+=I+g,d++,I=u=0),i[o]={left:C,top:u,col:d,width:A,height:r},I=Math.max(I,A),u+=r+g})),s+=I,l.push({width:I,height:u}),s}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,a=n.labels.padding,o=sp(n.rtl,this.left,this.width);if(this.isHorizontal()){var g,i=0,l=rh(r,this.left+a,this.right-this.lineWidths[i]),c=Hn(t);try{for(c.s();!(g=c.n()).done;){var s=g.value;i!==s.row&&(i=s.row,l=rh(r,this.left+a,this.right-this.lineWidths[i])),s.top+=this.top+e+a,s.left=o.leftForLtr(o.x(l),s.width),l+=s.width+a}}catch(h){c.e(h)}finally{c.f()}}else{var I,u=0,C=rh(r,this.top+e+a,this.bottom-this.columnSizes[u].height),d=Hn(t);try{for(d.s();!(I=d.n()).done;){var A=I.value;A.col!==u&&(u=A.col,C=rh(r,this.top+e+a,this.bottom-this.columnSizes[u].height)),A.top=C,A.left+=this.left+a,A.left=o.leftForLtr(o.x(A.left),A.width),C+=A.height+a}}catch(h){d.e(h)}finally{d.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;gm(e,this),this._draw(),im(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,a=this.lineWidths,o=this.ctx,g=n.align,i=n.labels,l=qh.color,c=sp(n.rtl,this.left,this.width),s=ym(i.font),I=i.color,u=i.padding,C=s.size,d=C/2;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=s.string;var A=Gy(i,C),h=A.boxWidth,m=A.boxHeight,p=A.itemHeight,f=this.isHorizontal(),b=this._computeTitleHeight();e=f?{x:rh(g,this.left+u,this.right-a[0]),y:this.top+u+b,line:0}:{x:this.left+u,y:rh(g,this.top+b+u,this.bottom-r[0].height),line:0},Ip(this.ctx,n.textDirection);var y=p+u;this.legendItems.forEach((function(A,Z){o.strokeStyle=A.fontColor||I,o.fillStyle=A.fontColor||I;var v=o.measureText(A.text).width,G=c.textAlign(A.textAlign||(A.textAlign=i.textAlign)),B=h+d+v,S=e.x,k=e.y;c.setWidth(t.width),f?Z>0&&S+B+u>t.right&&(k=e.y+=y,e.line++,S=e.x=rh(g,t.left+u,t.right-a[e.line])):Z>0&&k+y>t.bottom&&(S=e.x=S+r[e.line].width+u,e.line++,k=e.y=rh(g,t.top+b+u,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(h)||h<=0||isNaN(m)||m<0)){o.save();var r=iA(n.lineWidth,1);if(o.fillStyle=iA(n.fillStyle,l),o.lineCap=iA(n.lineCap,"butt"),o.lineDashOffset=iA(n.lineDashOffset,0),o.lineJoin=iA(n.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=iA(n.strokeStyle,l),o.setLineDash(iA(n.lineDash,[])),i.usePointStyle){var a={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},g=c.xPlus(e,h/2);am(o,a,g,t+d,i.pointStyleWidth&&h)}else{var s=t+Math.max((C-m)/2,0),I=c.leftForLtr(e,h),u=fm(n.borderRadius);o.beginPath(),Object.values(u).some((function(e){return 0!==e}))?Cm(o,{x:I,y:s,w:h,h:m,radius:u}):o.rect(I,s,h,m),o.fill(),0!==r&&o.stroke()}o.restore()}}(c.x(S),k,A),S=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(G,S+h+d,f?S+B:t.right,n.rtl),function(e,t,n){sm(o,n.text,e,t+p/2,s,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(S),k,A),f?e.x+=B+u:e.y+=y})),up(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=ym(t.font),r=bm(t.padding);if(t.display){var a,o=sp(e.rtl,this.left,this.width),g=this.ctx,i=t.position,c=n.size/2,s=r.top+c,I=this.left,u=this.width;if(this.isHorizontal())u=Math.max.apply(Math,l(this.lineWidths)),a=this.top+s,I=rh(e.align,I,this.right-u);else{var C=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);a=s+rh(e.align,this.top,this.bottom-C-e.labels.padding-this._computeTitleHeight())}var d=rh(i,I,I+u);g.textAlign=o.textAlign(nh(i)),g.textBaseline="middle",g.strokeStyle=t.color,g.fillStyle=t.color,g.font=n.string,sm(g,t.text,d,a,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=ym(e.font),n=bm(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,a;if(UA(e,this.left,this.right)&&UA(t,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(UA(e,(r=a[n]).left,r.left+r.width)&&UA(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n,r,a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var o=this._hoveredItem,g=(r=a,null!==(n=o)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);o&&!g&&cA(t.onLeave,[e,o,this],this),this._hoveredItem=a,a&&!g&&cA(t.onHover,[e,a,this],this)}else a&&cA(t.onClick,[e,a,this],this)}}}]),n}(ef);var Sy={id:"legend",_element:By,start:function(e,t,n){var r=e.legend=new By({ctx:e.ctx,options:n,chart:e});Df(e,r,n),Mf(e,r)},stop:function(e){Ef(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;Df(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),t.hidden=!0):(a.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,a=n.pointStyle,o=n.textAlign,g=n.color;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),i=bm(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:g,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:n.borderColor,pointStyle:a||n.pointStyle,rotation:n.rotation,textAlign:o||n.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},ky=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return I(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=rA(n.text)?n.text.length:1;this._padding=bm(n.padding);var a=r*ym(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,a=this.top,o=this.left,g=this.bottom,i=this.right,l=this.options,c=l.align,s=0;return this.isHorizontal()?(n=rh(c,o,i),r=a+e,t=i-o):("left"===l.position?(n=o+e,r=rh(c,g,a),s=-.5*GA):(n=i-e,r=rh(c,a,g),s=.5*GA),t=g-a),{titleX:n,titleY:r,maxWidth:t,rotation:s}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=ym(t.font),r=n.lineHeight/2+this._padding.top,a=this._drawArgs(r),o=a.titleX,g=a.titleY,i=a.maxWidth,l=a.rotation;sm(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:l,textAlign:nh(t.align),textBaseline:"middle",translation:[o,g]})}}}]),n}(ef);var Wy={id:"title",_element:ky,start:function(e,t,n){!function(e,t){var n=new ky({ctx:e.ctx,options:t,chart:e});Df(e,n,t),Mf(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;Ef(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;Df(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vy=new WeakMap,Ry={id:"subtitle",start:function(e,t,n){var r=new ky({ctx:e.ctx,options:n,chart:e});Df(e,r,n),Mf(e,r),Vy.set(e,r)},stop:function(e){Ef(e,Vy.get(e)),Vy.delete(e)},beforeUpdate:function(e,t,n){var r=Vy.get(e);Df(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},wy={average:function(e){if(!e.length)return!1;var t,n,r=0,a=0,o=0;for(t=0,n=e.length;t<n;++t){var g=e[t].element;if(g&&g.hasValue()){var i=g.tooltipPosition();r+=i.x,a+=i.y,++o}}return{x:r/o,y:a/o}},nearest:function(e,t){if(!e.length)return!1;var n,r,a,o=t.x,g=t.y,i=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var l=e[n].element;if(l&&l.hasValue()){var c=DA(t,l.getCenterPoint());c<i&&(i=c,a=l)}}if(a){var s=a.tooltipPosition();o=s.x,g=s.y}return{x:o,y:g}}};function Xy(e,t){return t&&(rA(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Jy(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Yy(e,t){var n=t.element,r=t.datasetIndex,a=t.index,o=e.getDatasetMeta(r).controller,g=o.getLabelAndValue(a),i=g.label,l=g.value;return{chart:e,label:i,parsed:o.getParsed(a),raw:e.data.datasets[r].data[a],formattedValue:l,dataset:o.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function xy(e,t){var n=e.chart.ctx,r=e.body,a=e.footer,o=e.title,g=t.boxWidth,i=t.boxHeight,l=ym(t.bodyFont),c=ym(t.titleFont),s=ym(t.footerFont),I=o.length,u=a.length,C=r.length,d=bm(t.padding),A=d.height,h=0,m=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(m+=e.beforeBody.length+e.afterBody.length,I&&(A+=I*c.lineHeight+(I-1)*t.titleSpacing+t.titleMarginBottom),m)&&(A+=C*(t.displayColors?Math.max(i,l.lineHeight):l.lineHeight)+(m-C)*l.lineHeight+(m-1)*t.bodySpacing);u&&(A+=t.footerMarginTop+u*s.lineHeight+(u-1)*t.footerSpacing);var p=0,f=function(e){h=Math.max(h,n.measureText(e).width+p)};return n.save(),n.font=c.string,sA(e.title,f),n.font=l.string,sA(e.beforeBody.concat(e.afterBody),f),p=t.displayColors?g+2+t.boxPadding:0,sA(r,(function(e){sA(e.before,f),sA(e.lines,f),sA(e.after,f)})),p=0,n.font=s.string,sA(e.footer,f),n.restore(),{width:h+=d.width,height:A}}function Hy(e,t,n,r){var a=n.x,o=n.width,g=e.width,i=e.chartArea,l=i.left,c=i.right,s="center";return"center"===r?s=a<=(l+c)/2?"left":"right":a<=o/2?s="left":a>=g-o/2&&(s="right"),function(e,t,n,r){var a=r.x,o=r.width,g=n.caretSize+n.caretPadding;return"left"===e&&a+o+g>t.width||"right"===e&&a-o-g<0||void 0}(s,e,t,n)&&(s="center"),s}function Ny(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Hy(e,t,n,r),yAlign:r}}function Fy(e,t,n,r){var a=e.caretSize,o=e.caretPadding,g=e.cornerRadius,i=n.xAlign,l=n.yAlign,c=a+o,s=fm(g),I=s.topLeft,u=s.topRight,C=s.bottomLeft,d=s.bottomRight,A=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,i),h=function(e,t,n){var r=e.y,a=e.height;return"top"===t?r+=n:r-="bottom"===t?a+n:a/2,r}(t,l,c);return"center"===l?"left"===i?A+=c:"right"===i&&(A-=c):"left"===i?A-=Math.max(I,C)+a:"right"===i&&(A+=Math.max(u,d)+a),{x:LA(A,0,r.width-t.width),y:LA(h,0,r.height-t.height)}}function Ky(e,t,n){var r=bm(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function My(e){return Xy([],Jy(e))}function Ey(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var Dy=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart||e._chart,r._chart=r.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return I(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,a=new Sp(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,vm(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=n.beforeTitle.apply(this,[e]),a=n.title.apply(this,[e]),o=n.afterTitle.apply(this,[e]),g=[];return g=Xy(g,Jy(r)),g=Xy(g,Jy(a)),g=Xy(g,Jy(o))}},{key:"getBeforeBody",value:function(e,t){return My(t.callbacks.beforeBody.apply(this,[e]))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,a=[];return sA(e,(function(e){var t={before:[],lines:[],after:[]},o=Ey(r,e);Xy(t.before,Jy(o.beforeLabel.call(n,e))),Xy(t.lines,o.label.call(n,e)),Xy(t.after,Jy(o.afterLabel.call(n,e))),a.push(t)})),a}},{key:"getAfterBody",value:function(e,t){return My(t.callbacks.afterBody.apply(this,[e]))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=n.beforeFooter.apply(this,[e]),a=n.footer.apply(this,[e]),o=n.afterFooter.apply(this,[e]),g=[];return g=Xy(g,Jy(r)),g=Xy(g,Jy(a)),g=Xy(g,Jy(o))}},{key:"_createItems",value:function(e){var t,n,r=this,a=this._active,o=this.chart.data,g=[],i=[],l=[],c=[];for(t=0,n=a.length;t<n;++t)c.push(Yy(this.chart,a[t]));return e.filter&&(c=c.filter((function(t,n,r){return e.filter(t,n,r,o)}))),e.itemSort&&(c=c.sort((function(t,n){return e.itemSort(t,n,o)}))),sA(c,(function(t){var n=Ey(e.callbacks,t);g.push(n.labelColor.call(r,t)),i.push(n.labelPointStyle.call(r,t)),l.push(n.labelTextColor.call(r,t))})),this.labelColors=g,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=c,c}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),a=this._active,o=[];if(a.length){var g=wy[r.position].call(this,a,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);var i=this._size=xy(this,r),l=Object.assign({},g,i),c=Ny(this.chart,r,l),s=Fy(r,l,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:s.x,y:s.y,width:i.width,height:i.height,caretX:g.x,caretY:g.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var a=this.getCaretPosition(e,n,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,a,o,g,i,l,c=this.xAlign,s=this.yAlign,I=n.caretSize,u=fm(n.cornerRadius),C=u.topLeft,d=u.topRight,A=u.bottomLeft,h=u.bottomRight,m=e.x,p=e.y,f=t.width,b=t.height;return"center"===s?(i=p+b/2,"left"===c?(a=(r=m)-I,g=i+I,l=i-I):(a=(r=m+f)+I,g=i-I,l=i+I),o=r):(a="left"===c?m+Math.max(C,A)+I:"right"===c?m+f-Math.max(d,h)-I:this.caretX,"top"===s?(i=(g=p)-I,r=a-I,o=a+I):(i=(g=p+b)+I,r=a+I,o=a-I),l=g),{x1:r,x2:a,x3:o,y1:g,y2:i,y3:l}}},{key:"drawTitle",value:function(e,t,n){var r,a,o,g=this.title,i=g.length;if(i){var l=sp(n.rtl,this.x,this.width);for(e.x=Ky(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=ym(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,o=0;o<i;++o)t.fillText(g[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}},{key:"_drawColorBox",value:function(e,t,n,r,a){var o=this.labelColors[n],g=this.labelPointStyles[n],i=a.boxHeight,c=a.boxWidth,s=a.boxPadding,I=ym(a.bodyFont),u=Ky(this,"left",a),C=r.x(u),d=i<I.lineHeight?(I.lineHeight-i)/2:0,A=t.y+d;if(a.usePointStyle){var h={radius:Math.min(c,i)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},m=r.leftForLtr(C,c)+c/2,p=A+i/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,rm(e,h,m,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,rm(e,h,m,p)}else{e.lineWidth=aA(o.borderWidth)?Math.max.apply(Math,l(Object.values(o.borderWidth))):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;var f=r.leftForLtr(C,c-s),b=r.leftForLtr(r.xPlus(C,1),c-s-2),y=fm(o.borderRadius);Object.values(y).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Cm(e,{x:f,y:A,w:c,h:i,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cm(e,{x:b,y:A+1,w:c-2,h:i-2,radius:y}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(f,A,c,i),e.strokeRect(f,A,c,i),e.fillStyle=o.backgroundColor,e.fillRect(b,A+1,c-2,i-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,a,o,g,i,l,c,s=this.body,I=n.bodySpacing,u=n.bodyAlign,C=n.displayColors,d=n.boxHeight,A=n.boxWidth,h=n.boxPadding,m=ym(n.bodyFont),p=m.lineHeight,f=0,b=sp(n.rtl,this.x,this.width),y=function(n){t.fillText(n,b.x(e.x+f),e.y+p/2),e.y+=p+I},Z=b.textAlign(u);for(t.textAlign=u,t.textBaseline="middle",t.font=m.string,e.x=Ky(this,Z,n),t.fillStyle=n.bodyColor,sA(this.beforeBody,y),f=C&&"right"!==Z?"center"===u?A/2+h:A+2+h:0,g=0,l=s.length;g<l;++g){for(r=s[g],a=this.labelTextColors[g],t.fillStyle=a,sA(r.before,y),o=r.lines,C&&o.length&&(this._drawColorBox(t,e,g,b,n),p=Math.max(m.lineHeight,d)),i=0,c=o.length;i<c;++i)y(o[i]),p=m.lineHeight;sA(r.after,y)}f=0,p=m.lineHeight,sA(this.afterBody,y),e.y-=I}},{key:"drawFooter",value:function(e,t,n){var r,a,o=this.footer,g=o.length;if(g){var i=sp(n.rtl,this.x,this.width);for(e.x=Ky(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=i.textAlign(n.footerAlign),t.textBaseline="middle",r=ym(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,a=0;a<g;++a)t.fillText(o[a],i.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var a=this.xAlign,o=this.yAlign,g=e.x,i=e.y,l=n.width,c=n.height,s=fm(r.cornerRadius),I=s.topLeft,u=s.topRight,C=s.bottomLeft,d=s.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(g+I,i),"top"===o&&this.drawCaret(e,t,n,r),t.lineTo(g+l-u,i),t.quadraticCurveTo(g+l,i,g+l,i+u),"center"===o&&"right"===a&&this.drawCaret(e,t,n,r),t.lineTo(g+l,i+c-d),t.quadraticCurveTo(g+l,i+c,g+l-d,i+c),"bottom"===o&&this.drawCaret(e,t,n,r),t.lineTo(g+C,i+c),t.quadraticCurveTo(g,i+c,g,i+c-C),"center"===o&&"left"===a&&this.drawCaret(e,t,n,r),t.lineTo(g,i+I),t.quadraticCurveTo(g,i,g+I,i),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){var o=wy[e.position].call(this,this._active,this._eventPosition);if(!o)return;var g=this._size=xy(this,e),i=Object.assign({},o,this._size),l=Ny(t,e,i),c=Fy(e,i,l,t);r._to===c.x&&a._to===c.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=g.width,this.height=g.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var o=bm(t.padding),g=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&g&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,r,t),Ip(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),up(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,a=e.map((function(e){var t=e.datasetIndex,r=e.index,a=n.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[r],index:r}})),o=!IA(r,a),g=this._positionChanged(a,t);(o||g)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,n),g=this._positionChanged(o,e),i=t||!IA(o,a)||g;return i&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}},{key:"_getActiveElements",value:function(e,t,n,r){var a=this.options;if("mouseout"===e.type)return[];if(!r)return t;var o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,a=this.options,o=wy[a.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}]),n}(ef);Dy.positioners=wy;var zy={id:"tooltip",_element:Dy,positioners:wy,afterInit:function(e,t,n){n&&(e.tooltip=new Dy({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:eA,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:eA,beforeBody:eA,beforeLabel:eA,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return nA(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:eA,afterBody:eA,beforeFooter:eA,footer:eA,afterFooter:eA}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jy=Object.freeze({__proto__:null,Decimation:gy,Filler:vy,Legend:Sy,SubTitle:Ry,Title:Wy,Tooltip:zy});function Ty(e,t,n,r){var a=e.indexOf(t);return-1===a?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):a!==e.lastIndexOf(t)?n:a}var Ly=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return I(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,a=this.getLabels(),o=Hn(t);try{for(o.s();!(r=o.n()).done;){var g=r.value,i=g.index,l=g.label;a[i]===l&&a.splice(i,1)}}catch(c){o.e(c)}finally{o.f()}this._addedLabels=[]}ml(d(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(nA(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:LA(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:Ty(n,e,iA(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),a=r.min,o=r.max;"ticks"===this.options.bounds&&(t||(a=0),n||(o=this.getLabels().length-1)),this.min=a,this.max=o}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var o=e;o<=t;o++)r.push({value:o});return r}},{key:"getLabelForValue",value:function(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}},{key:"configure",value:function(){ml(d(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(uf);function Uy(e,t){var n,r,a,o,g=[],i=e.bounds,l=e.step,c=e.min,s=e.max,I=e.precision,u=e.count,C=e.maxTicks,d=e.maxDigits,A=e.includeBounds,h=l||1,m=C-1,p=t.min,f=t.max,b=!nA(c),y=!nA(s),Z=!nA(u),v=(f-p)/(d+1),G=YA((f-p)/m/h)*h;if(G<1e-14&&!b&&!y)return[{value:p},{value:f}];(o=Math.ceil(f/G)-Math.floor(p/G))>m&&(G=YA(o*G/m/h)*h),nA(I)||(n=Math.pow(10,I),G=Math.ceil(G*n)/n),"ticks"===i?(r=Math.floor(p/G)*G,a=Math.ceil(f/G)*G):(r=p,a=f),b&&y&&l&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((s-c)/l,G/1e3)?(G=(s-c)/(o=Math.round(Math.min((s-c)/G,C))),r=c,a=s):Z?G=((a=y?s:a)-(r=b?c:r))/(o=u-1):o=HA(o=(a-r)/G,Math.round(o),G/1e3)?Math.round(o):Math.ceil(o);var B=Math.max(MA(G),MA(r));n=Math.pow(10,nA(I)?B:I),r=Math.round(r*n)/n,a=Math.round(a*n)/n;var S=0;for(b&&(A&&r!==c?(g.push({value:c}),r<c&&S++,HA(Math.round((r+S*G)*n)/n,c,Qy(c,v,e))&&S++):r<c&&S++);S<o;++S)g.push({value:Math.round((r+S*G)*n)/n});return y&&A&&a!==s?g.length&&HA(g[g.length-1].value,s,Qy(s,v,e))?g[g.length-1].value=s:g.push({value:s}):y&&a!==s||g.push({value:a}),g}function Qy(e,t,n){var r=n.horizontal,a=FA(n.minRotation),o=(r?Math.sin(a):Math.cos(a))||.001,g=.75*t*(""+e).length;return Math.min(t/o,g)}Ly.id="category",Ly.defaults={ticks:{callback:Ly.prototype.getLabelForValue}};var _y=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return I(n,[{key:"parse",value:function(e,t){return nA(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,a=this.min,o=this.max,g=function(e){return a=n?a:e},i=function(e){return o=r?o:e};if(e){var l=JA(a),c=JA(o);l<0&&c<0?i(0):l>0&&c>0&&g(0)}if(a===o){var s=1;(o>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(s=Math.abs(.05*o)),i(o+s),e||g(a-s)}this.min=a,this.max=o}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=Uy({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&NA(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(ml(d(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var a=(r-t)/Math.max(e.length-1,1)/2;t-=a,r+=a}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return cp(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(uf),Oy=function(e){C(n,e);var t=f(n);function n(){return c(this,n),t.apply(this,arguments)}return I(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=oA(t)?t:0,this.max=oA(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=FA(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(_y);function Py(e){return 1===e/Math.pow(10,Math.floor(XA(e)))}Oy.id="linear",Oy.defaults={ticks:{callback:nf.formatters.numeric}};var qy=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return I(n,[{key:"parse",value:function(e,t){var n=_y.prototype.parse.apply(this,[e,t]);if(0!==n)return oA(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=oA(t)?Math.max(0,t):null,this.max=oA(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,a=this.max,o=function(e){return r=t?r:e},g=function(e){return a=n?a:e},i=function(e,t){return Math.pow(10,Math.floor(XA(e))+t)};r===a&&(r<=0?(o(1),g(10)):(o(i(r,-1)),g(i(a,1)))),r<=0&&o(i(a,-1)),a<=0&&g(i(r,1)),this._zero&&this.min!==this._suggestedMin&&r===i(this.min,0)&&o(i(r,-1)),this.min=r,this.max=a}},{key:"buildTicks",value:function(){var e=this.options,t=function(e,t){var n=Math.floor(XA(t.max)),r=Math.ceil(t.max/Math.pow(10,n)),a=[],o=gA(e.min,Math.pow(10,Math.floor(XA(t.min)))),g=Math.floor(XA(o)),i=Math.floor(o/Math.pow(10,g)),l=g<0?Math.pow(10,Math.abs(g)):1;do{a.push({value:o,major:Py(o)}),10===++i&&(i=1,l=++g>=0?1:l),o=Math.round(i*Math.pow(10,g)*l)/l}while(g<n||g===n&&i<r);var c=gA(e.max,o);return a.push({value:c,major:Py(o)}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&NA(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":cp(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;ml(d(n.prototype),"configure",this).call(this),this._startValue=XA(e),this._valueRange=XA(this.max)-XA(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(XA(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(uf);function $y(e){var t=e.ticks;if(t.display&&e.display){var n=bm(t.backdropPadding);return iA(t.font&&t.font.size,qh.font.size)+n.height}return 0}function eZ(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function tZ(e){for(var t,n,r,a={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},o=Object.assign({},a),g=[],i=[],l=e._pointLabels.length,c=e.options.pointLabels,s=c.centerPointLabels?GA/l:0,I=0;I<l;I++){var u=c.setContext(e.getPointLabelContext(I));i[I]=u.padding;var C=e.getPointPosition(I,e.drawingArea+i[I],s),d=ym(u.font),A=(t=e.ctx,n=d,r=rA(r=e._pointLabels[I])?r:[r],{w:em(t,n.string,r),h:r.length*n.lineHeight});g[I]=A;var h=jA(e.getIndexAngle(I)+s),m=Math.round(KA(h));nZ(o,a,h,eZ(m,C.x,A.w,0,180),eZ(m,C.y,A.h,90,270))}e.setCenterPoint(a.l-o.l,o.r-a.r,a.t-o.t,o.b-a.b),e._pointLabelItems=function(e,t,n){for(var r=[],a=e._pointLabels.length,o=e.options,g=$y(o)/2,i=e.drawingArea,l=o.pointLabels.centerPointLabels?GA/a:0,c=0;c<a;c++){var s=e.getPointPosition(c,i+g+n[c],l),I=Math.round(KA(jA(s.angle+VA))),u=t[c],C=oZ(s.y,u.h,I),d=rZ(I),A=aZ(s.x,u.w,d);r.push({x:s.x,y:C,textAlign:d,left:A,top:C,right:A+u.w,bottom:C+u.h})}return r}(e,g,i)}function nZ(e,t,n,r,a){var o=Math.abs(Math.sin(n)),g=Math.abs(Math.cos(n)),i=0,l=0;r.start<t.l?(i=(t.l-r.start)/o,e.l=Math.min(e.l,t.l-i)):r.end>t.r&&(i=(r.end-t.r)/o,e.r=Math.max(e.r,t.r+i)),a.start<t.t?(l=(t.t-a.start)/g,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/g,e.b=Math.max(e.b,t.b+l))}function rZ(e){return 0===e||180===e?"center":e<180?"left":"right"}function aZ(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function oZ(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function gZ(e,t,n,r){var a=e.ctx;if(n)a.arc(e.xCenter,e.yCenter,t,0,BA);else{var o=e.getPointPosition(0,t);a.moveTo(o.x,o.y);for(var g=1;g<r;g++)o=e.getPointPosition(g,t),a.lineTo(o.x,o.y)}}qy.id="logarithmic",qy.defaults={ticks:{callback:nf.formatters.logarithmic,major:{enabled:!0}}};var iZ=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return I(n,[{key:"setDimensions",value:function(){var e=this._padding=bm($y(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=oA(t)&&!isNaN(t)?t:0,this.max=oA(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/$y(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;_y.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=cA(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?tZ(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return jA(e*(BA/(this._pointLabels.length||1))+FA(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(nA(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(nA(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return vm(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-VA+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),gZ(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,a=this.ctx,o=this.options,g=o.angleLines,i=o.grid,l=this._pointLabels.length;if(o.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,a=t-1;a>=0;a--){var o=r.setContext(e.getPointLabelContext(a)),g=ym(o.font),i=e._pointLabelItems[a],l=i.x,c=i.y,s=i.textAlign,I=i.left,u=i.top,C=i.right,d=i.bottom,A=o.backdropColor;if(!nA(A)){var h=fm(o.borderRadius),m=bm(o.backdropPadding);n.fillStyle=A;var p=I-m.left,f=u-m.top,b=C-I+m.width,y=d-u+m.height;Object.values(h).some((function(e){return 0!==e}))?(n.beginPath(),Cm(n,{x:p,y:f,w:b,h:y,radius:h}),n.fill()):n.fillRect(p,f,b,y)}sm(n,e._pointLabels[a],l,c+g.lineHeight/2,g,{color:o.color,textAlign:s,textBaseline:"middle"})}}(this,l),i.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var a=i.setContext(r.getContext(n-1));!function(e,t,n,r){var a=e.ctx,o=t.circular,g=t.color,i=t.lineWidth;!o&&!r||!g||!i||n<0||(a.save(),a.strokeStyle=g,a.lineWidth=i,a.setLineDash(t.borderDash),a.lineDashOffset=t.borderDashOffset,a.beginPath(),gZ(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(r,a,t,l)}})),g.display){for(a.save(),e=l-1;e>=0;e--){var c=g.setContext(this.getPointLabelContext(e)),s=c.color,I=c.lineWidth;I&&s&&(a.lineWidth=I,a.strokeStyle=s,a.setLineDash(c.borderDash),a.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(o.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(n.x,n.y),a.stroke())}a.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var a,o,g=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(g),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(g,i){if(0!==i||n.reverse){var l=r.setContext(e.getContext(i)),c=ym(l.font);if(a=e.getDistanceFromCenterForValue(e.ticks[i].value),l.showLabelBackdrop){t.font=c.string,o=t.measureText(g.label).width,t.fillStyle=l.backdropColor;var s=bm(l.backdropPadding);t.fillRect(-o/2-s.left,-a-c.size/2-s.top,o+s.width,c.size+s.height)}sm(t,g.label,0,-a,c,{color:l.color})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(_y);iZ.id="radialLinear",iZ.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}},iZ.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},iZ.descriptors={angleLines:{_fallback:"grid"}};var lZ={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cZ=Object.keys(lZ);function sZ(e,t){return e-t}function IZ(e,t){if(nA(t))return null;var n=e._adapter,r=e._parseOpts,a=r.parser,o=r.round,g=r.isoWeekday,i=t;return"function"===typeof a&&(i=a(i)),oA(i)||(i="string"===typeof a?n.parse(i,a):n.parse(i)),null===i?null:(o&&(i="week"!==o||!xA(g)&&!0!==g?n.startOf(i,o):n.startOf(i,"isoWeek",g)),+i)}function uZ(e,t,n,r){for(var a=cZ.length,o=cZ.indexOf(e);o<a-1;++o){var g=lZ[cZ[o]],i=g.steps?g.steps:Number.MAX_SAFE_INTEGER;if(g.common&&Math.ceil((n-t)/(i*g.size))<=r)return cZ[o]}return cZ[a-1]}function CZ(e,t,n){if(n){if(n.length){var r=QA(n,t),a=r.lo,o=r.hi;e[n[a]>=t?n[a]:n[o]]=!0}}else e[t]=!0}function dZ(e,t,n){var r,a,o=[],g={},i=t.length;for(r=0;r<i;++r)g[a=t[r]]=r,o.push({value:a,major:!1});return 0!==i&&n?function(e,t,n,r){var a,o,g=e._adapter,i=+g.startOf(t[0].value,r),l=t[t.length-1].value;for(a=i;a<=l;a=+g.add(a,1,r))(o=n[a])>=0&&(t[o].major=!0);return t}(e,o,g,n):o}var AZ=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return I(n,[{key:"init",value:function(e,t){var r=e.time||(e.time={}),a=this._adapter=new bf._date(e.adapters.date);a.init(t),hA(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},ml(d(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:IZ(this,e)}},{key:"beforeLayout",value:function(){ml(d(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),a=r.min,o=r.max,g=r.minDefined,i=r.maxDefined;function l(e){g||isNaN(e.min)||(a=Math.min(a,e.min)),i||isNaN(e.max)||(o=Math.max(o,e.max))}g&&i||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),a=oA(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),o=oA(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var a=this.min,o=function(e,t,n){for(var r=0,a=e.length;r<a&&e[r]<t;)r++;for(;a>r&&e[a-1]>n;)a--;return r>0||a<e.length?e.slice(r,a):e}(r,a,this.max);return this._unit=t.unit||(n.autoSkip?uZ(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,n,r,a){for(var o=cZ.length-1;o>=cZ.indexOf(n);o--){var g=cZ[o];if(lZ[g].common&&e._adapter.diff(a,r,g)>=t-1)return g}return cZ[n?cZ.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=cZ.indexOf(e)+1,n=cZ.length;t<n;++t)if(lZ[cZ[t]].common)return cZ[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&o.reverse(),dZ(this,o,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(e){var t,n,r=0,a=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),r=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),a=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);var o=e.length<3?.5:.25;r=LA(r,0,o),a=LA(a,0,o),this._offsets={start:r,end:a,factor:1/(r+1+a)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,a=this.max,o=this.options,g=o.time,i=g.unit||uZ(g.minUnit,r,a,this._getLabelCapacity(r)),l=iA(g.stepSize,1),c="week"===i&&g.isoWeekday,s=xA(c)||!0===c,I={},u=r;if(s&&(u=+n.startOf(u,"isoWeek",c)),u=+n.startOf(u,s?"day":i),n.diff(a,r,i)>1e5*l)throw new Error(r+" and "+a+" are too far apart with stepSize of "+l+" "+i);var C="data"===o.ticks.source&&this.getDataTimestamps();for(e=u,t=0;e<a;e=+n.add(e,l,i),t++)CZ(I,e,C);return e!==a&&"ticks"!==o.bounds&&1!==t||CZ(I,e,C),Object.keys(I).sort((function(e,t){return e-t})).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var a=this.options,o=a.time.displayFormats,g=this._unit,i=this._majorUnit,l=g&&o[g],c=i&&o[i],s=n[t],I=i&&c&&s&&s.major,u=this._adapter.format(e,r||(I?c:l)),C=a.ticks.callback;return C?cA(C,[u,t,n],this):u}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=FA(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),o=Math.sin(r),g=this._resolveTickFontOptions(0).size;return{w:n*a+g*o,h:n*o+g*a}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,dZ(this,[e],this._majorUnit),r),o=this._getLabelSize(a),g=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return g>0?g:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(IZ(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return $A(e.sort(sZ))}}]),n}(uf);function hZ(e,t,n){var r,a,o,g,i=0,l=e.length-1;if(n){if(t>=e[i].pos&&t<=e[l].pos){var c=_A(e,"pos",t);i=c.lo,l=c.hi}var s=e[i];r=s.pos,o=s.time;var I=e[l];a=I.pos,g=I.time}else{if(t>=e[i].time&&t<=e[l].time){var u=_A(e,"time",t);i=u.lo,l=u.hi}var C=e[i];r=C.time,o=C.pos;var d=e[l];a=d.time,g=d.pos}var A=a-r;return A?o+(g-o)*(t-r)/A:o}AZ.id="time",AZ.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var mZ=function(e){C(n,e);var t=f(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return I(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=hZ(t,this.min),this._tableRange=hZ(t,this.max)-this._minPos,ml(d(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,a,o,g=this.min,i=this.max,l=[],c=[];for(t=0,n=e.length;t<n;++t)(a=e[t])>=g&&a<=i&&l.push(a);if(l.length<2)return[{time:g,pos:0},{time:i,pos:1}];for(t=0,n=l.length;t<n;++t)o=l[t+1],r=l[t-1],a=l[t],Math.round((o+r)/2)!==a&&c.push({time:a,pos:t/(n-1)});return c}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(hZ(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return hZ(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(AZ);mZ.id="timeseries",mZ.defaults=AZ.defaults;var pZ=[mf,ry,jy,Object.freeze({__proto__:null,CategoryScale:Ly,LinearScale:Oy,LogarithmicScale:qy,RadialLinearScale:iZ,TimeScale:AZ,TimeSeriesScale:mZ})];Rb.register.apply(Rb,l(pZ));var fZ=Fe().mark(kZ),bZ=Fe().mark(WZ);function yZ(e){return e+.5|0}var ZZ=function(e,t,n){return Math.max(Math.min(e,n),t)};function vZ(e){return ZZ(yZ(255*e),0,255)}function GZ(e,t,n){var r=function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(a,4-a,1),0)};return[r(5),r(3),r(1)]}function BZ(e,t,n){return r=GZ,a=e,o=t,g=n,(Array.isArray(a)?r(a[0],a[1],a[2]):r(a,o,g)).map(vZ);var r,a,o,g}function SZ(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(function(e){return ZZ(yZ(e/2.55)/100,0,1)}(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}function kZ(){var e,t,n;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,0;case 2:e=1;case 3:if(!(e<10)){r.next=15;break}t=1<<e,n=1;case 6:if(!(n<=t)){r.next=12;break}return r.next=9,n/t;case 9:n+=2,r.next=6;break;case 12:e++,r.next=3;break;case 15:case"end":return r.stop()}}),fZ)}function WZ(){var e,t,n;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=kZ(),t=e.next();case 2:if(t.done){r.next=12;break}return n=BZ(Math.round(360*t.value),.6,.8),r.next=6,{background:SZ({r:n[0],g:n[1],b:n[2],a:192}),border:SZ({r:n[0],g:n[1],b:n[2],a:144})};case 6:return n=BZ(Math.round(360*t.value),.6,.5),r.next=9,{background:SZ({r:n[0],g:n[1],b:n[2],a:192}),border:SZ({r:n[0],g:n[1],b:n[2],a:144})};case 9:t=e.next(),r.next=2;break;case 12:case"end":return r.stop()}}),bZ)}function VZ(e,t,n){e.backgroundColor=e.backgroundColor||t,e.borderColor=e.borderColor||n}function RZ(e,t,n){var r=e.next().value;return"function"===typeof t?t(Object.assign({colors:r},n)):r}var wZ={id:"autocolors",beforeUpdate:function(e,t,n){var r=n.mode,a=void 0===r?"dataset":r,o=n.enabled,g=void 0===o||o,i=n.customize;if(g){if(!e._autocolor&&(e._autocolor=WZ(),n.offset))for(var l=0;l<n.offset;l++)e._autocolor.next();var c,s=Hn(e.data.datasets);try{for(s.s();!(c=s.n()).done;){var I=c.value;if(!I.backgroundColor||!I.borderColor)if("dataset"===a){var u=RZ(e._autocolor,i,{chart:e,datasetIndex:I.index});VZ(I,u.background,u.border)}else{for(var C=[],d=[],A=0;A<I.data.length;A++){var h=RZ(e._autocolor,i,{chart:e,datasetIndex:I.index,dataIndex:A});C.push(h.background),d.push(h.border)}VZ(I,C,d)}}}catch(m){s.e(m)}finally{s.f()}}}},XZ=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],JZ="label";function YZ(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function xZ(e,t){e.labels=t}function HZ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JZ,r=[];e.datasets=t.map((function(t){var a=e.datasets.find((function(e){return e[n]===t[n]}));return a&&t.data&&!r.includes(a)?(r.push(a),Object.assign(a,t),a):je({},t)}))}function NZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JZ,n={labels:[],datasets:[]};return xZ(n,e.labels),HZ(n,e.datasets,t),n}function FZ(e,n){var r=e.height,a=void 0===r?150:r,o=e.width,g=void 0===o?300:o,i=e.redraw,l=void 0!==i&&i,c=e.datasetIdKey,s=e.type,I=e.data,u=e.options,C=e.plugins,d=void 0===C?[]:C,A=e.fallbackContent,h=e.updateMode,m=Le(e,XZ),p=(0,t.useRef)(null),f=(0,t.useRef)(),b=function(){p.current&&(f.current=new Rb(p.current,{type:s,data:NZ(I,c),options:u&&je({},u),plugins:d}),YZ(n,f.current))},y=function(){YZ(n,null),f.current&&(f.current.destroy(),f.current=null)};return(0,t.useEffect)((function(){var e,t;!l&&f.current&&u&&(e=f.current,t=u,Object.assign(e.options,t))}),[l,u]),(0,t.useEffect)((function(){!l&&f.current&&xZ(f.current.config.data,I.labels)}),[l,I.labels]),(0,t.useEffect)((function(){!l&&f.current&&I.datasets&&HZ(f.current.config.data,I.datasets,c)}),[l,I.datasets]),(0,t.useEffect)((function(){f.current&&(l?(y(),setTimeout(b)):f.current.update(h))}),[l,u,I.labels,I.datasets,h]),(0,t.useEffect)((function(){f.current&&(y(),setTimeout(b))}),[s]),(0,t.useEffect)((function(){return b(),function(){return y()}}),[]),t.createElement("canvas",Object.assign({ref:p,role:"img",height:a,width:g},m),A)}var KZ=(0,t.forwardRef)(FZ);function MZ(e,n){return Rb.register(n),(0,t.forwardRef)((function(n,r){return t.createElement(KZ,Object.assign({},n,{ref:r,type:e}))}))}var EZ=MZ("line",Op),DZ=MZ("bar",Up),zZ=n(763),jZ=n.n(zZ);Rb.register(wZ);var TZ=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)("h1",{style:{width:"100%",textAlign:"center"},onClick:n,children:t})},LZ=function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg.get("/api/logs",{params:{date:t,type:"book.del.record",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),UZ=function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg.get("/api/logs",{params:{date:t,type:"user.book.cancel",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),QZ=function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg.get("/api/logs",{params:{date:t,type:"admin.book.delete",need_all:"all"}}).then((function(e){return e.data.logs}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_Z=function(){var e=Me(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(Js()(t).isoWeekday()>=6)){e.next=14;break}return e.t0=QI,e.next=5,TI();case 5:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.t2=QI,e.next=10,LI();case 10:e.t3=e.sent,r=(0,e.t2)(e.t3),e.next=24;break;case 14:return e.t4=QI,e.next=17,zI();case 17:return e.t5=e.sent,n=(0,e.t4)(e.t5),e.t6=QI,e.next=22,jI();case 22:e.t7=e.sent,r=(0,e.t6)(e.t7);case 24:return e.abrupt("return",{open:n,close:r});case 27:e.prev=27,e.t8=e.catch(0),console.log(e.t8);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t){return e.apply(this,arguments)}}(),OZ=function(e){var n=e.selectDateDuration,r=e.selectDate,a=i((0,t.useState)("\uc608\uc57d \uad00\ub828 \uc815\ubcf4"),2),o=a[0],g=a[1],c=i((0,t.useState)([]),2),s=c[0],I=c[1],u=i((0,t.useState)([]),2),C=u[0],d=u[1],A=i((0,t.useState)([]),2),h=A[0],m=A[1],p=i((0,t.useState)([]),2),f=p[0],b=p[1],y=l(new Array(n)).map((function(e,t){return Js()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),Z=function(){var e=Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,Promise.allSettled(y.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uc608\uc57d \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=3,Z();case 3:return g("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\ub178\uc1fc \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=6,v();case 6:return g("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uc0ac\uc6a9\uc790 \ucde8\uc18c \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=9,G();case 9:return g("\uc608\uc57d \uad00\ub828 \uc815\ubcf4(\uad00\ub9ac\uc790 \uc0ad\uc81c \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=12,B();case 12:g("\uc608\uc57d \uad00\ub828 \uc815\ubcf4");case 13:case"end":return e.stop()}}),e)})))()}),[r,n]);var v=function(){var e=Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,Promise.allSettled(y.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LZ(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,Promise.allSettled(y.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",UZ(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,Promise.allSettled(y.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QZ(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=s.map((function(e){return e.filter((function(e){return 400===e.status})).length})),k=s.map((function(e,t){return e.filter((function(e){return e.pay&&"confirm"===e.pay.status})).length-S[t]})),W=s.map((function(e){return e.filter((function(e){return!e.pay||"confirm"!==e.pay.status})).length})),V=C.map((function(e){return e.length})),R=h.map((function(e){return e.length})),w=f.map((function(e){return e.length})),X={labels:y,datasets:[{id:1,label:"\ube44\uc6a9\uc744 \uc9c0\ubd88\ud55c \uc608\uc57d",data:k},{id:2,label:"\ube44\uc6a9\uc774 \uc9c0\ubd88\ub418\uc9c0 \uc54a\uc740 \uc608\uc57d",data:W},{id:3,label:"\uc790\ub3d9\uc0dd\uc131\ub41c \uc608\uc57d",data:S},{id:4,label:"\ub178\uc1fc",data:V},{id:5,label:"\uc0ac\uc6a9\uc790 \ucde8\uc18c",data:R},{id:6,label:"\uad00\ub9ac\uc790 \ucde8\uc18c",data:w}]},J={plugins:{title:{display:!0,text:o}}};return(0,_e.jsx)(EZ,{datasetIdKey:"id",data:X,options:J})},PZ=function(e){var n=e.selectDateDuration,r=e.selectDate,a=i((0,t.useState)("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669"),2),o=a[0],g=a[1],c=i((0,t.useState)([{}]),2),s=c[0],I=c[1],u=l(new Array(n)).map((function(e,t){return Js()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),C=function(){var e=Me(Fe().mark((function e(){var t,n,r,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t){var n={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};return e.forEach((function(e){var r=_I(e,t,(function(){}));OI(n,e,r)})),n},e.next=3,Promise.allSettled(u.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:n=e.sent.map((function(e){return e.value})),r=n.map((function(e,n){return t(e,u[n])})),a={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]},r.forEach((function(e,t){var n={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};Object.entries(e).forEach((function(e){var t=i(e,2),r=t[0];t[1].filter((function(e){return 400!==e.data.status&&e.data.pay&&"confirm"===e.data.pay.status})).forEach((function(e){var t=Number(e.data.end_time.split(":")[0])-Number(e.data.start_time.split(":")[0]),a=Number(e.data.end_time.split(":")[1])-Number(e.data.start_time.split(":")[1]);n[r].push(t+(59===a?60:a)/60)}))})),Object.entries(n).map((function(e){return a[e[0]].push(jZ().sum(e[1]))}))})),I(Object.entries(a).map((function(e,t){return{id:t,label:UI(e[0]),hidden:!0,data:e[1]}})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669(\uc608\uc57d \uc815\ubcf4 \ub85c\ub529\uc911)"),e.next=3,C();case 3:g("\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669");case 4:case"end":return e.stop()}}),e)})))()}),[r,n]);var d={labels:u,datasets:s},A={plugins:{title:{display:!0,text:o}}};return(0,_e.jsx)(EZ,{datasetIdKey:"id",data:d,options:A})},qZ=function(e){e.selectDateDuration;var n=e.selectDate,r=i((0,t.useState)({from:7,to:23}),2),a=r[0],o=r[1],g=i((0,t.useState)({r_01:!0,r_02:!0,r_03:!0,r_04:!0,r_05:!0,r_06:!0,r_07:!0,r_08:!0,r_09:!0,r_10:!0,seminar:!0,studio:!0,hall:!0}),2),c=g[0],s=(g[1],i((0,t.useState)("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9"),2)),I=s[0],u=s[1],C=i((0,t.useState)({r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]}),2),d=C[0],A=C[1],h=l(new Array(2*(a.to-a.from)+1)).map((function(e,t){return t/2+a.from})).map((function(e){return"".concat(Math.floor(e),":").padStart(3,"0")+"".concat(e%1*60).padStart(2,"0")})),m=function(){var e=Me(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t={r_01:[],r_02:[],r_03:[],r_04:[],r_05:[],r_06:[],r_07:[],r_08:[],r_09:[],r_10:[],seminar:[],studio:[],hall:[]};e.forEach((function(e){var r=_I(e,n.valueOf(),(function(){}));OI(t,e,r)})),A(t)},e.next=3,Kc(Js()(n).format("YYYY-MM-DD"));case 3:r=e.sent,t(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Me(Fe().mark((function e(){var t,r,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_Z(n);case 3:t=e.sent,r=t.open,a=t.close,o({from:r,to:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9(\uc124\uc815 \ub370\uc774\ud130 \ub85c\ub529\uc911)"),e.next=3,p();case 3:return u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9(\uc608\uc57d \ub370\uc774\ud130 \ub85c\ub529\uc911)"),e.next=6,m();case 6:u("\uc2a4\ud130\ub514\ub8f8 \uc2dc\uac04\ub300\ubcc4 \uc0ac\uc6a9");case 7:case"end":return e.stop()}}),e)})))()}),[n]);var f=function(e){return h.map((function(t){var r=Js()("".concat(Js()(n).format("YYYY-MM-DD")," ").concat(t));return e.filter((function(e){return Js()(e.startTime).isSameOrBefore(r)&&Js()(e.endTime).isSameOrAfter(r)})).length?1:0}))},b=Object.entries(c).filter((function(e){return e[1]})).map((function(e,t){var n=e[0];if("all"!==n)return{id:t,fill:!0,label:UI(n),data:f(d[n])};for(var r=l(new Array(10)).map((function(e,t){return f(d["r_"+"".concat(t+1).padStart(2,"0")])})),a=[],o=function(e){a.push(r.map((function(t){return t[e]})).reduce((function(e,t){return e+t}),0))},g=0;g<r[0].length;g++)o(g);return{id:t,fill:!1,type:"line",label:"\uc2a4\ud130\ub514\ub8f8 \uc804\uccb4",data:a}})),y={scales:{x:{stacked:!0},y:{stacked:!0}},elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:I}}};return(0,_e.jsx)(DZ,{datasetIdKey:"id",options:y,data:{labels:h,datasets:b}})},$Z=function(e){var n=e.selectDateDuration,r=e.selectDate,a=i((0,t.useState)([]),2),o=a[0],g=a[1],c=l(new Array(n)).map((function(e,t){return Js()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),s=function(){var e=Me(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,Promise.allSettled(c.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LC(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.t1=e.sent.map((function(e){return e.value})),(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){s()}),[r,n]),(0,_e.jsx)(EZ,{datasetIdKey:"id",data:{labels:c,datasets:[{id:1,fill:!0,type:"line",label:"\ucd1d \ub9e4\ucd9c",data:o.map((function(e){return e.reduce((function(e,t){return e+t.total_price}),0)}))},{id:2,fill:!0,type:"line",label:"\uc21c \uc218\uc775",data:o.map((function(e){return e.reduce((function(e,t){return e+t.total_price-(t.total_original_price+Math.floor(t.total_price/10))}),0)}))}]}})},ev=function(e){var n=e.selectDateDuration,r=e.selectDate,a=l(new Array(n)).map((function(e,t){return Js()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),o=i((0,t.useState)([]),2),g=(o[0],o[1]),c=i((0,t.useState)([]),2),s=c[0],I=c[1];(0,t.useEffect)((function(){var e=function(e){return je(je({},e),{},{createdDate:Js()(e.created).add(9,"hour").format("YYYY-MM-DD")})};Me(Fe().mark((function t(){var n,r,o,i;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UC();case 2:return n=t.sent,r=n.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QC(t.barcode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=6,Promise.allSettled(r);case 6:o=t.sent.map((function(e){return e.value})),i=o.map((function(t){var n=t.stocks.map(e),r=jZ().groupBy(n,"createdDate"),o=t.quantity,g=l(a).reverse().map((function(e,t,n){return 0===t||r[n[t-1]]&&(o-=jZ().sum(r[n[t-1]].map((function(e){return e.quantity})))),o})).reverse();return je(je({},t),{},{stocks:n,sortedData:r,quantityData:g})})),g(n),I(i);case 10:case"end":return t.stop()}}),t)})))()}),[n,r]);var u=s.map((function(e,t){return{id:t,label:e.product.name,hidden:!0,data:e.quantityData}}));return(0,_e.jsx)(EZ,{datasetIdKey:"id",data:{labels:a,datasets:u},options:{elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:"\uac01 \uc0c1\ud488\ubcc4 \uc7ac\uace0 \ud604\ud669"}}}})},tv=function(e){var n=e.selectDateDuration,r=e.selectDate,a=l(new Array(n)).map((function(e,t){return Js()(r).subtract(t,"day").format("YYYY-MM-DD")})).reverse(),o=i((0,t.useState)([]),2),g=(o[0],o[1]),c=i((0,t.useState)([]),2),s=c[0],I=c[1];(0,t.useEffect)((function(){var e=function(e){return je(je({},e),{},{createdDate:Js()(e.created).add(9,"hour").format("YYYY-MM-DD")})};Me(Fe().mark((function t(){var n,r,o,i;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UC();case 2:return n=t.sent,r=n.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QC(t.barcode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=6,Promise.allSettled(r);case 6:o=t.sent.map((function(e){return e.value})),i=o.map((function(t){var n=t.stocks.map(e),r=jZ().groupBy(n,"createdDate"),o=l(a).reverse().map((function(e,t,n){if(!r[e])return 0;var a=r[e];return a=a.filter((function(e){return"pay"===e.reason})),-jZ().sum(a.map((function(e){return e.quantity})))})).reverse();return je(je({},t),{},{stocks:n,sortedData:r,quantityData:o})})),g(n),I(i);case 10:case"end":return t.stop()}}),t)})))()}),[n,r]);var u=s.map((function(e,t){return{id:t,label:e.product.name,hidden:!0,data:e.quantityData}}));return(0,_e.jsx)(EZ,{datasetIdKey:"id",data:{labels:a,datasets:u},options:{elements:{line:{tension:0},point:{radius:4,borderWidth:2,pointStyle:"circle"}},plugins:{title:{display:!0,text:"\uac01 \uc0c1\ud488\ubcc4 \ud310\ub9e4 \ud604\ud669"}}}})},nv=function(e){var n=i((0,t.useState)(new Date),2),r=n[0],a=n[1],o=i((0,t.useState)(7),2),g=o[0],l=o[1],c=i((0,t.useState)({room_book:!1,room_book_usage:!1,room_book_daily_usage:!1,snackbar_pay:!1,snackbar_product_stock:!1}),2),s=c[0],I=c[1];return(0,_e.jsxs)("div",{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,_e.jsx)("div",{style:{maxWidth:"40vw"},children:(0,_e.jsx)(ws(),{dateFormat:"yyyy-MM-dd",selected:r,onChange:function(e){return a(e)},customInput:(0,_e.jsx)(TZ,{})})}),(0,_e.jsx)("div",{children:(0,_e.jsxs)(gn.Select,{onChange:function(e){return l(Number(e.target.value))},children:[(0,_e.jsx)("option",{value:"7",children:"\uc77c\uc8fc\uc77c"}),(0,_e.jsx)("option",{value:"14",children:"2\uc8fc\uc77c"}),(0,_e.jsx)("option",{value:"31",children:"\ud55c\ub2ec\uc804"}),(0,_e.jsx)("option",{value:"60",children:"\ub450\ub2ec\uc804"}),(0,_e.jsx)("option",{value:"90",children:"\uc138\ub2ec\uc804"})]})}),(0,_e.jsx)(gn,{children:(0,_e.jsxs)("div",{className:"mb-3",children:[(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uc608\uc57d \uad00\ub828 \uc815\ubcf4",onClick:function(e){return I(je(je({},s),{},{room_book:e.target.checked}))}}),(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uc608\uc57d \uc2dc\uac04\ub300 \ubcc4 \uc0ac\uc6a9 \uc815\ubcf4",onClick:function(e){return I(je(je({},s),{},{room_book_usage:e.target.checked}))}})]})}),(0,_e.jsx)(gn,{children:(0,_e.jsx)("div",{className:"mb-3",children:(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uac01 \ubc29\ubcc4 \uc0ac\uc6a9 \ud604\ud669",onClick:function(e){return I(je(je({},s),{},{room_book_daily_usage:e.target.checked}))}})})}),(0,_e.jsx)(gn,{children:(0,_e.jsxs)("div",{className:"mb-3",children:[(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uc2a4\ub0b5\ubc14 \ub9e4\ucd9c \uc815\ubcf4",onClick:function(e){return I(je(je({},s),{},{snackbar_pay:e.target.checked}))}}),(0,_e.jsx)(gn.Check,{type:"checkbox",label:"\uc2a4\ub0b5\ubc14 \uc0c1\ud488 \uc7ac\uace0 \uc815\ubcf4",onClick:function(e){return I(je(je({},s),{},{snackbar_product_stock:e.target.checked}))}})]})})]}),(0,_e.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:10},children:[s.room_book?(0,_e.jsx)(OZ,{selectDate:r,selectDateDuration:g}):null,s.room_book_usage?(0,_e.jsx)(qZ,{selectDate:r,selectDateDuration:g}):null,s.room_book_daily_usage?(0,_e.jsx)(PZ,{selectDate:r,selectDateDuration:g}):null,s.snackbar_pay?(0,_e.jsx)($Z,{selectDate:r,selectDateDuration:g}):null,s.snackbar_product_stock?(0,_e.jsx)(ev,{selectDate:r,selectDateDuration:g}):null,s.snackbar_product_stock?(0,_e.jsx)(tv,{selectDate:r,selectDateDuration:g}):null]})]})};function rv(e,t){return Array.isArray(e)?e.includes(t):e===t}var av=t.createContext({});av.displayName="AccordionContext";var ov=av,gv=["as","bsPrefix","className","children","eventKey"],iv=t.forwardRef((function(e,n){var r=e.as,a=void 0===r?"div":r,o=e.bsPrefix,g=e.className,i=e.children,l=e.eventKey,c=Le(e,gv),s=(0,t.useContext)(ov).activeEventKey;return o=$e(o,"accordion-collapse"),(0,_e.jsx)(Zi,je(je({ref:n,in:rv(s,l)},c),{},{className:Qe()(g,o),children:(0,_e.jsx)(a,{children:t.Children.only(i)})}))}));iv.displayName="AccordionCollapse";var lv=iv,cv=t.createContext({eventKey:""});cv.displayName="AccordionItemContext";var sv=cv,Iv=["as","bsPrefix","className"],uv=t.forwardRef((function(e,n){var r=e.as,a=void 0===r?"div":r,o=e.bsPrefix,g=e.className,i=Le(e,Iv);o=$e(o,"accordion-body");var l=(0,t.useContext)(sv).eventKey;return(0,_e.jsx)(lv,{eventKey:l,children:(0,_e.jsx)(a,je(je({ref:n},i),{},{className:Qe()(g,o)}))})}));uv.displayName="AccordionBody";var Cv=uv,dv=["as","bsPrefix","className","onClick"];var Av=t.forwardRef((function(e,n){var r=e.as,a=void 0===r?"button":r,o=e.bsPrefix,g=e.className,i=e.onClick,c=Le(e,dv);o=$e(o,"accordion-button");var s=(0,t.useContext)(sv).eventKey,I=function(e,n){var r=(0,t.useContext)(ov),a=r.activeEventKey,o=r.onSelect,g=r.alwaysOpen;return function(t){var r=e===a?null:e;g&&(r=Array.isArray(a)?a.includes(e)?a.filter((function(t){return t!==e})):[].concat(l(a),[e]):[e]),null==o||o(r,t),null==n||n(t)}}(s,i),u=(0,t.useContext)(ov).activeEventKey;return"button"===a&&(c.type="button"),(0,_e.jsx)(a,je(je({ref:n,onClick:I},c),{},{"aria-expanded":s===u,className:Qe()(g,o,!rv(u,s)&&"collapsed")}))}));Av.displayName="AccordionButton";var hv=Av,mv=["as","bsPrefix","className","children","onClick"],pv=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"h2":n,a=e.bsPrefix,o=e.className,g=e.children,i=e.onClick,l=Le(e,mv);return a=$e(a,"accordion-header"),(0,_e.jsx)(r,je(je({ref:t},l),{},{className:Qe()(o,a),children:(0,_e.jsx)(hv,{onClick:i,children:g})}))}));pv.displayName="AccordionHeader";var fv=pv,bv=["as","bsPrefix","className","eventKey"],yv=t.forwardRef((function(e,n){var r=e.as,a=void 0===r?"div":r,o=e.bsPrefix,g=e.className,i=e.eventKey,l=Le(e,bv);o=$e(o,"accordion-item");var c=(0,t.useMemo)((function(){return{eventKey:i}}),[i]);return(0,_e.jsx)(sv.Provider,{value:c,children:(0,_e.jsx)(a,je(je({ref:n},l),{},{className:Qe()(g,o)}))})}));yv.displayName="AccordionItem";var Zv=yv,vv=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],Gv=t.forwardRef((function(e,n){var r=Sn(e,{activeKey:"onSelect"}),a=r.as,o=void 0===a?"div":a,g=r.activeKey,i=r.bsPrefix,l=r.className,c=r.onSelect,s=r.flush,I=r.alwaysOpen,u=Le(r,vv),C=$e(i,"accordion"),d=(0,t.useMemo)((function(){return{activeEventKey:g,onSelect:c,alwaysOpen:I}}),[g,c,I]);return(0,_e.jsx)(ov.Provider,{value:d,children:(0,_e.jsx)(o,je(je({ref:n},u),{},{className:Qe()(l,C,s&&"".concat(C,"-flush"))}))})}));Gv.displayName="Accordion";var Bv=Object.assign(Gv,{Button:hv,Collapse:lv,Item:Zv,Header:fv,Body:Cv}),Sv={lessThanXSeconds:{one:"1\ucd08 \ubbf8\ub9cc",other:"{{count}}\ucd08 \ubbf8\ub9cc"},xSeconds:{one:"1\ucd08",other:"{{count}}\ucd08"},halfAMinute:"30\ucd08",lessThanXMinutes:{one:"1\ubd84 \ubbf8\ub9cc",other:"{{count}}\ubd84 \ubbf8\ub9cc"},xMinutes:{one:"1\ubd84",other:"{{count}}\ubd84"},aboutXHours:{one:"\uc57d 1\uc2dc\uac04",other:"\uc57d {{count}}\uc2dc\uac04"},xHours:{one:"1\uc2dc\uac04",other:"{{count}}\uc2dc\uac04"},xDays:{one:"1\uc77c",other:"{{count}}\uc77c"},aboutXWeeks:{one:"\uc57d 1\uc8fc",other:"\uc57d {{count}}\uc8fc"},xWeeks:{one:"1\uc8fc",other:"{{count}}\uc8fc"},aboutXMonths:{one:"\uc57d 1\uac1c\uc6d4",other:"\uc57d {{count}}\uac1c\uc6d4"},xMonths:{one:"1\uac1c\uc6d4",other:"{{count}}\uac1c\uc6d4"},aboutXYears:{one:"\uc57d 1\ub144",other:"\uc57d {{count}}\ub144"},xYears:{one:"1\ub144",other:"{{count}}\ub144"},overXYears:{one:"1\ub144 \uc774\uc0c1",other:"{{count}}\ub144 \uc774\uc0c1"},almostXYears:{one:"\uac70\uc758 1\ub144",other:"\uac70\uc758 {{count}}\ub144"}},kv=function(e,t,n){var r,a=Sv[e];return r="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?r+" \ud6c4":r+" \uc804":r},Wv=n(6840),Vv={date:(0,Wv.Z)({formats:{full:"y\ub144 M\uc6d4 d\uc77c EEEE",long:"y\ub144 M\uc6d4 d\uc77c",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,Wv.Z)({formats:{full:"a H\uc2dc mm\ubd84 ss\ucd08 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,Wv.Z)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},Rv={lastWeek:"'\uc9c0\ub09c' eeee p",yesterday:"'\uc5b4\uc81c' p",today:"'\uc624\ub298' p",tomorrow:"'\ub0b4\uc77c' p",nextWeek:"'\ub2e4\uc74c' eeee p",other:"P"},wv=function(e,t,n,r){return Rv[e]},Xv=n(7325),Jv={ordinalNumber:function(e,t){var n=Number(e);switch(String(null===t||void 0===t?void 0:t.unit)){case"minute":case"second":return String(n);case"date":return n+"\uc77c";default:return n+"\ubc88\uc9f8"}},era:(0,Xv.Z)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["\uae30\uc6d0\uc804","\uc11c\uae30"]},defaultWidth:"wide"}),quarter:(0,Xv.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1\ubd84\uae30","2\ubd84\uae30","3\ubd84\uae30","4\ubd84\uae30"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,Xv.Z)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],wide:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},defaultWidth:"wide"}),day:(0,Xv.Z)({values:{narrow:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],abbreviated:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],wide:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},defaultWidth:"wide"}),dayPeriod:(0,Xv.Z)({values:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},abbreviated:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"},wide:{am:"\uc624\uc804",pm:"\uc624\ud6c4",midnight:"\uc790\uc815",noon:"\uc815\uc624",morning:"\uc544\uce68",afternoon:"\uc624\ud6c4",evening:"\uc800\ub141",night:"\ubc24"}},defaultFormattingWidth:"wide"})},Yv=Jv,xv=n(6884),Hv={ordinalNumber:(0,n(586).Z)({matchPattern:/^(\d+)(\uc77c|\ubc88\uc9f8)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,xv.Z)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(\uae30\uc6d0\uc804|\uc11c\uae30)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|\uae30\uc6d0\uc804)/i,/^(ad|\uc11c\uae30)/i]},defaultParseWidth:"any"}),quarter:(0,xv.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]\uc0ac?\ubd84\uae30/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,xv.Z)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])\uc6d4/i,wide:/^(1[012]|[123456789])\uc6d4/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\uc6d4?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,xv.Z)({matchPatterns:{narrow:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,short:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,abbreviated:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]/,wide:/^[\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0]\uc694\uc77c/},defaultMatchWidth:"wide",parsePatterns:{any:[/^\uc77c/,/^\uc6d4/,/^\ud654/,/^\uc218/,/^\ubaa9/,/^\uae08/,/^\ud1a0/]},defaultParseWidth:"any"}),dayPeriod:(0,xv.Z)({matchPatterns:{any:/^(am|pm|\uc624\uc804|\uc624\ud6c4|\uc790\uc815|\uc815\uc624|\uc544\uce68|\uc800\ub141|\ubc24)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|\uc624\uc804)/i,pm:/^(pm|\uc624\ud6c4)/i,midnight:/^\uc790\uc815/i,noon:/^\uc815\uc624/i,morning:/^\uc544\uce68/i,afternoon:/^\uc624\ud6c4/i,evening:/^\uc800\ub141/i,night:/^\ubc24/i}},defaultParseWidth:"any"})},Nv={code:"ko",formatDistance:kv,formatLong:Vv,formatRelative:wv,localize:Yv,match:Hv,options:{weekStartsOn:0,firstWeekContainsDate:1}},Fv=function(e){var t=e.value,n=e.onClick;return(0,_e.jsx)("span",{className:"h1 d-inline-block bg-primary rounded text-white",onClick:n,children:t})};Object.freeze({ERROR:"error",NOT_ENTER:"not_enter",NOT_EXIT:"not_exit",EXITED:"exited",toColor:function(e){switch(e){case"error":return"danger";case"not_enter":return"secondary";case"not_exit":return"primary";case"exited":return"success";default:return null}}});var Kv={WEEK:1,MONTH:2};Object.freeze(Kv);var Mv=function(e){var n=i((0,t.useState)(Date.now()),2),r=n[0],a=n[1],o=i((0,t.useState)(Date.now()+6048e5),2),g=o[0],c=o[1],s=i((0,t.useState)([]),2),I=s[0],u=s[1],C=i((0,t.useState)([]),2),d=C[0],A=C[1],h=i((0,t.useState)(Kv.WEEK),2),m=h[0],p=h[1],f=i((0,t.useState)(0),2),b=f[0],y=f[1],Z=function(e){return 400!==e.status&&(!e.pay||!e.pay.pay_type.startsWith("etc."))},v=function(){var e=Me(Fe().mark((function e(t,n){var r,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l(new Array(n)).map((function(e,n){return Js()(t).add(n,"day").format("YYYY-MM-DD")})),e.next=3,Promise.allSettled(r.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent.map((function(e){return e.value})),o={start_date:r[0],end_date:r[n-1],seminar_total_count:0,hall_total_count:0,study_total_count:0,study_total_sec:0},a.forEach((function(e){e.filter(Z).forEach((function(e){if(e.room)if(1===e.room.type){o.study_total_count++;var t=60*Number(e.start_time.split(":")[0])+Number(e.start_time.split(":")[1]),n=60*Number(e.end_time.split(":")[0])+Number(e.end_time.split(":")[1]);1339===n&&(n=1440),o.study_total_sec+=n-t}else 2===e.room.type?o.seminar_total_count++:4===e.room.type&&o.hall_total_count++;else;}))})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){Me(Fe().mark((function e(){var t,n,a,o,i,l,c,s,I,C,d,A;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(y(0),t=0,n=Js()(r),a=Js()(g),o=a.diff(n,"day")+1,i=[],l=0;l<=o;l++)c=Js()(r).add(l,"day"),((m===Kv.MONTH?c.date()===Js()(c.format("yyyy-MM-DD")).endOf("month").date():6===c.day())||c.isSame(a,"day"))&&(s={start_date:n.format("YYYY-MM-DD"),end_date:c.format("YYYY-MM-DD"),due:c.diff(n,"day")+1},i.push(s),n.add(s.due,"day"));I=[],C=0,d=i;case 9:if(!(C<d.length)){e.next=22;break}return A=d[C],t++,y(Math.round(t/i.length*100)),e.t0=I,e.next=16,v(A.start_date,A.due);case 16:e.t1=e.sent,e.t2={status:"fulfilled",value:e.t1},e.t0.push.call(e.t0,e.t2);case 19:C++,e.next=9;break;case 22:u(I.map((function(e,t){return"fulfilled"!==e.status?{start_date:i[t].start_date,end_date:i[t].end_date,due:i[t].due,seminar_total_count:-1,hall_total_count:-1,study_total_count:-1,study_total_sec:-1}:je(je({},e.value),{},{due:i[t].due})})));case 23:case"end":return e.stop()}}),e)})))()}),[r,g,m]);var G=function(){var e=Me(Fe().mark((function e(t,n){var r,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l(new Array(n)).map((function(e,n){return Js()(t).add(n,"day").format("YYYY-MM-DD")})),e.next=3,Promise.allSettled(r.map(function(){var e=Me(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent.map((function(e){return e.value})),e.abrupt("return",a.map((function(e,t){var n=e.filter(Z).map((function(e){var t={date:e.book_date.slice(5).replace("-","/"),start_time:e.start_time.slice(0,5),end_time:e.end_time.slice(0,5),due_hour:"0",department:e.department?e.department:"-",place:"-"};if(e.room){var n=60*Number(e.start_time.split(":")[0])+Number(e.start_time.split(":")[1]),r=60*Number(e.end_time.split(":")[0])+Number(e.end_time.split(":")[1]);1339===r&&(r=1440),t.due_hour=((r-n)/60).toFixed(1),1===e.room.type?t.place="\uc2a4\ud130\ub514\ub8f8 ".concat(e.room.no):2===e.room.type?t.place="\uc138\ubbf8\ub098":3===e.room.type?t.place="\ucee8\ud37c\ub7f0\uc2a4":4===e.room.type&&(t.place="\ud640")}else t.due_hour="0";return t}));return{date:r[t],detail:n}})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,_e.jsxs)(ct,{children:[(0,_e.jsx)(Dl,{}),(0,_e.jsxs)("div",{className:"text-center d-flex flex-row",children:[(0,_e.jsxs)("span",{className:"h3",style:{minWidth:"8rem"},children:[(0,_e.jsxs)("div",{className:"form-check form-check-inline",children:[(0,_e.jsx)("input",{className:"form-check-input",type:"radio",name:"sumDuration",id:"sumDurationWeek",value:"week",checked:m===Kv.WEEK,onChange:function(){return p(Kv.WEEK)}}),(0,_e.jsx)("label",{className:"form-check-label",htmlFor:"sumDurationWeek",children:"\uc8fc\uac04"})]}),(0,_e.jsxs)("div",{className:"form-check form-check-inline",children:[(0,_e.jsx)("input",{className:"form-check-input",type:"radio",name:"sumDuration",id:"sumDurationMonth",value:"month",checked:m===Kv.MONTH,onChange:function(){return p(Kv.MONTH)}}),(0,_e.jsx)("label",{className:"form-check-label",htmlFor:"sumDurationMonth",children:"\uc6d4\uac04"})]})]}),(0,_e.jsx)(ws(),{dateFormat:m===Kv.MONTH?"yyyy-MM":"yyyy-MM-dd",selected:r,onChange:a,customInput:(0,_e.jsx)(Fv,{}),locale:Nv,showMonthYearPicker:m===Kv.MONTH}),(0,_e.jsx)("span",{className:"h1",children:"~"}),(0,_e.jsx)(ws(),{dateFormat:m===Kv.MONTH?"yyyy-MM":"yyyy-MM-dd",selected:g,onChange:m===Kv.MONTH?function(e){return c(Js()(e).endOf("month").toDate())}:c,customInput:(0,_e.jsx)(Fv,{}),locale:Nv,showMonthYearPicker:m===Kv.MONTH})]}),(0,_e.jsx)(td,{now:b}),(0,_e.jsxs)(TC,{bordered:!0,children:[(0,_e.jsxs)("thead",{className:"text-center",children:[(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{colSpan:2,children:"\uae30\uac04"}),(0,_e.jsx)("th",{children:"\ud640"}),(0,_e.jsx)("th",{children:"\uc138\ubbf8\ub098\uc2e4"}),(0,_e.jsx)("th",{colSpan:4,children:"\uc2a4\ud130\ub514\ub8f8"})]}),(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc2dc\uc791\uc77c"}),(0,_e.jsx)("th",{children:"\ub9c8\uac10\uc77c"}),(0,_e.jsx)("th",{children:"\ub300\uc5ec\ud69f\uc218"}),(0,_e.jsx)("th",{children:"\ub300\uc5ec\ud69f\uc218"}),(0,_e.jsx)("th",{children:"\ucd1d \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\ud3c9\uade0 \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\ucd1d \ud69f\uc218"}),(0,_e.jsx)("th",{children:"\ud3c9\uade0 \ud69f\uc218"})]})]}),(0,_e.jsx)("tbody",{className:"text-center",style:{fontSize:"20px"},children:I.map((function(e){return(0,_e.jsxs)("tr",{onClick:function(){return t=e.start_date,n=e.due,G(t,n).then(A);var t,n},children:[(0,_e.jsx)("td",{children:e.start_date.replaceAll("-","/")}),(0,_e.jsx)("td",{children:e.end_date.replaceAll("-","/")}),(0,_e.jsx)("td",{children:e.hall_total_count}),(0,_e.jsx)("td",{children:e.seminar_total_count}),(0,_e.jsx)("td",{children:e.study_total_sec/60}),(0,_e.jsx)("td",{children:(e.study_total_sec/(60*e.due)).toFixed(2)}),(0,_e.jsx)("td",{children:e.study_total_count}),(0,_e.jsx)("td",{children:(e.study_total_count/7).toFixed(2)})]})}))})]}),d.map((function(e,t){return(0,_e.jsx)(Bv,{children:(0,_e.jsxs)(Bv.Item,{eventKey:"".concat(t),children:[(0,_e.jsxs)(Bv.Header,{children:[e.date," (",e.detail.length,"\uac74)"]}),(0,_e.jsx)(Bv.Body,{children:(0,_e.jsxs)(TC,{children:[(0,_e.jsx)("thead",{children:(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("th",{children:"\uc77c\uc790"}),(0,_e.jsx)("th",{children:"\uc785\uc2e4 \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"~"}),(0,_e.jsx)("th",{children:"\ud1f4\uc2e4 \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\uc0ac\uc6a9 \uc2dc\uac04"}),(0,_e.jsx)("th",{children:"\uc9c0\uc5ed"}),(0,_e.jsx)("th",{children:"\uc7a5\uc18c"})]})}),(0,_e.jsx)("tbody",{style:{fontSize:"20px"},children:e.detail.map((function(e){return(0,_e.jsxs)("tr",{children:[(0,_e.jsx)("td",{children:e.date}),(0,_e.jsx)("td",{children:e.start_time}),(0,_e.jsx)("td",{children:"~"}),(0,_e.jsx)("td",{children:e.end_time}),(0,_e.jsx)("td",{children:e.due_hour}),(0,_e.jsx)("td",{children:e.department}),(0,_e.jsx)("td",{children:e.place})]})}))})]})})]})})}))]})};var Ev=function(){return document.addEventListener("contextmenu",(function(e){e.preventDefault()})),(0,_e.jsxs)(Se,{children:[(0,_e.jsx)(Ge,{path:"/",exact:!0,element:(0,_e.jsx)(Hu,{})}),(0,_e.jsx)(Ge,{path:"/admin/login",element:(0,_e.jsx)(dg,{})}),(0,_e.jsx)(Ge,{path:"/login",element:(0,_e.jsx)(dg,{})}),(0,_e.jsx)(Ge,{path:"/users",element:(0,_e.jsx)($c,{})}),(0,_e.jsx)(Ge,{path:"/books",element:(0,_e.jsx)(tu,{})}),(0,_e.jsx)(Ge,{path:"/log/qr",element:(0,_e.jsx)(fg,{})}),(0,_e.jsx)(Ge,{path:"/configs",element:(0,_e.jsx)(Eu,{})}),(0,_e.jsx)(Ge,{path:"/exports",element:(0,_e.jsx)(Lu,{})}),(0,_e.jsx)(Ge,{path:"/logs",exact:!0,element:(0,_e.jsx)($u,{})}),(0,_e.jsx)(Ge,{path:"/guest/book",element:(0,_e.jsx)(wC,{})}),(0,_e.jsx)(Ge,{path:"/guest/donation",element:(0,_e.jsx)(rC,{})}),(0,_e.jsx)(Ge,{path:"/guest/book_check",element:(0,_e.jsx)(AC,{})}),(0,_e.jsx)(Ge,{path:"/guest",element:(0,_e.jsx)(FC,{})}),(0,_e.jsx)(Ge,{path:"/qr",element:(0,_e.jsx)(DC,{})}),(0,_e.jsx)(Ge,{path:"/accounts",element:(0,_e.jsx)(gd,{})}),(0,_e.jsx)(Ge,{path:"/staff/book",element:(0,_e.jsx)(wC,{})}),(0,_e.jsx)(Ge,{path:"/lockers",element:(0,_e.jsx)(Id,{})}),(0,_e.jsx)(Ge,{path:"/commute",element:(0,_e.jsx)(Kd,{})}),(0,_e.jsx)(Ge,{path:"/blocker",element:(0,_e.jsx)(_d,{})}),(0,_e.jsx)(Ge,{path:"/donation",element:(0,_e.jsx)(qd,{})}),(0,_e.jsx)(Ge,{path:"/admin",element:(0,_e.jsx)($d,{})}),(0,_e.jsx)(Ge,{path:"/coupon",element:(0,_e.jsx)(Cd,{})}),(0,_e.jsx)(Ge,{path:"/chart",element:(0,_e.jsx)(nv,{})}),(0,_e.jsx)(Ge,{path:"/statusBook",element:(0,_e.jsx)(Mv,{})}),(0,_e.jsx)(Ge,{path:"/logout",element:(0,_e.jsx)(ve,{to:"/"})})]})},Dv=document.getElementById("root");(0,a.s)(Dv).render((0,_e.jsx)(t.StrictMode,{children:(0,_e.jsx)(HC,{children:(0,_e.jsx)(Je,{children:(0,_e.jsx)(Ev,{})})})}))}()}();
//# sourceMappingURL=main.c15f2191.js.map